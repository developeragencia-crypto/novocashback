var SP=e=>{throw TypeError(e)};var u2=(e,t,r)=>t.has(e)||SP("Cannot "+r);var le=(e,t,r)=>(u2(e,t,"read from private field"),r?r.call(e):t.get(e)),Mt=(e,t,r)=>t.has(e)?SP("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),dt=(e,t,r,a)=>(u2(e,t,"write to private field"),a?a.call(e,r):t.set(e,r),r),sr=(e,t,r)=>(u2(e,t,"access private method"),r);var cv=(e,t,r,a)=>({set _(s){dt(e,t,s,r)},get _(){return le(e,t,a)}});function j6(e,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const s in a)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(a,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>a[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Vl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var N6={exports:{}},Gb={},C6={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0=Symbol.for("react.element"),VY=Symbol.for("react.portal"),zY=Symbol.for("react.fragment"),UY=Symbol.for("react.strict_mode"),WY=Symbol.for("react.profiler"),HY=Symbol.for("react.provider"),qY=Symbol.for("react.context"),GY=Symbol.for("react.forward_ref"),KY=Symbol.for("react.suspense"),YY=Symbol.for("react.memo"),XY=Symbol.for("react.lazy"),AP=Symbol.iterator;function QY(e){return e===null||typeof e!="object"?null:(e=AP&&e[AP]||e["@@iterator"],typeof e=="function"?e:null)}var S6={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A6=Object.assign,E6={};function Wm(e,t,r){this.props=e,this.context=t,this.refs=E6,this.updater=r||S6}Wm.prototype.isReactComponent={};Wm.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wm.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function T6(){}T6.prototype=Wm.prototype;function zE(e,t,r){this.props=e,this.context=t,this.refs=E6,this.updater=r||S6}var UE=zE.prototype=new T6;UE.constructor=zE;A6(UE,Wm.prototype);UE.isPureReactComponent=!0;var EP=Array.isArray,_6=Object.prototype.hasOwnProperty,WE={current:null},P6={key:!0,ref:!0,__self:!0,__source:!0};function O6(e,t,r){var a,s={},i=null,o=null;if(t!=null)for(a in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_6.call(t,a)&&!P6.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var d=Array(l),u=0;u<l;u++)d[u]=arguments[u+2];s.children=d}if(e&&e.defaultProps)for(a in l=e.defaultProps,l)s[a]===void 0&&(s[a]=l[a]);return{$$typeof:m0,type:e,key:i,ref:o,props:s,_owner:WE.current}}function ZY(e,t){return{$$typeof:m0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function HE(e){return typeof e=="object"&&e!==null&&e.$$typeof===m0}function JY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TP=/\/+/g;function h2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?JY(""+e.key):t.toString(36)}function sy(e,t,r,a,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case m0:case VY:o=!0}}if(o)return o=e,s=s(o),e=a===""?"."+h2(o,0):a,EP(s)?(r="",e!=null&&(r=e.replace(TP,"$&/")+"/"),sy(s,t,r,"",function(u){return u})):s!=null&&(HE(s)&&(s=ZY(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(TP,"$&/")+"/")+e)),t.push(s)),1;if(o=0,a=a===""?".":a+":",EP(e))for(var l=0;l<e.length;l++){i=e[l];var d=a+h2(i,l);o+=sy(i,t,r,d,s)}else if(d=QY(e),typeof d=="function")for(e=d.call(e),l=0;!(i=e.next()).done;)i=i.value,d=a+h2(i,l++),o+=sy(i,t,r,d,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function dv(e,t,r){if(e==null)return e;var a=[],s=0;return sy(e,a,"","",function(i){return t.call(r,i,s++)}),a}function eX(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var vs={current:null},iy={transition:null},tX={ReactCurrentDispatcher:vs,ReactCurrentBatchConfig:iy,ReactCurrentOwner:WE};function k6(){throw Error("act(...) is not supported in production builds of React.")}mr.Children={map:dv,forEach:function(e,t,r){dv(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return dv(e,function(){t++}),t},toArray:function(e){return dv(e,function(t){return t})||[]},only:function(e){if(!HE(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};mr.Component=Wm;mr.Fragment=zY;mr.Profiler=WY;mr.PureComponent=zE;mr.StrictMode=UY;mr.Suspense=KY;mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tX;mr.act=k6;mr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=A6({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=WE.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(d in t)_6.call(t,d)&&!P6.hasOwnProperty(d)&&(a[d]=t[d]===void 0&&l!==void 0?l[d]:t[d])}var d=arguments.length-2;if(d===1)a.children=r;else if(1<d){l=Array(d);for(var u=0;u<d;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:m0,type:e.type,key:s,ref:i,props:a,_owner:o}};mr.createContext=function(e){return e={$$typeof:qY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:HY,_context:e},e.Consumer=e};mr.createElement=O6;mr.createFactory=function(e){var t=O6.bind(null,e);return t.type=e,t};mr.createRef=function(){return{current:null}};mr.forwardRef=function(e){return{$$typeof:GY,render:e}};mr.isValidElement=HE;mr.lazy=function(e){return{$$typeof:XY,_payload:{_status:-1,_result:e},_init:eX}};mr.memo=function(e,t){return{$$typeof:YY,type:e,compare:t===void 0?null:t}};mr.startTransition=function(e){var t=iy.transition;iy.transition={};try{e()}finally{iy.transition=t}};mr.unstable_act=k6;mr.useCallback=function(e,t){return vs.current.useCallback(e,t)};mr.useContext=function(e){return vs.current.useContext(e)};mr.useDebugValue=function(){};mr.useDeferredValue=function(e){return vs.current.useDeferredValue(e)};mr.useEffect=function(e,t){return vs.current.useEffect(e,t)};mr.useId=function(){return vs.current.useId()};mr.useImperativeHandle=function(e,t,r){return vs.current.useImperativeHandle(e,t,r)};mr.useInsertionEffect=function(e,t){return vs.current.useInsertionEffect(e,t)};mr.useLayoutEffect=function(e,t){return vs.current.useLayoutEffect(e,t)};mr.useMemo=function(e,t){return vs.current.useMemo(e,t)};mr.useReducer=function(e,t,r){return vs.current.useReducer(e,t,r)};mr.useRef=function(e){return vs.current.useRef(e)};mr.useState=function(e){return vs.current.useState(e)};mr.useSyncExternalStore=function(e,t,r){return vs.current.useSyncExternalStore(e,t,r)};mr.useTransition=function(){return vs.current.useTransition()};mr.version="18.3.1";C6.exports=mr;var E=C6.exports;const Q=br(E),I6=j6({__proto__:null,default:Q},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rX=E,nX=Symbol.for("react.element"),aX=Symbol.for("react.fragment"),sX=Object.prototype.hasOwnProperty,iX=rX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oX={key:!0,ref:!0,__self:!0,__source:!0};function M6(e,t,r){var a,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(a in t)sX.call(t,a)&&!oX.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)s[a]===void 0&&(s[a]=t[a]);return{$$typeof:nX,type:e,key:i,ref:o,props:s,_owner:iX.current}}Gb.Fragment=aX;Gb.jsx=M6;Gb.jsxs=M6;N6.exports=Gb;var n=N6.exports,R6={exports:{}},xi={},D6={exports:{}},L6={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,te){var X=Y.length;Y.push(te);e:for(;0<X;){var fe=X-1>>>1,re=Y[fe];if(0<s(re,te))Y[fe]=te,Y[X]=re,X=fe;else break e}}function r(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var te=Y[0],X=Y.pop();if(X!==te){Y[0]=X;e:for(var fe=0,re=Y.length,se=re>>>1;fe<se;){var Te=2*(fe+1)-1,vt=Y[Te],Me=Te+1,he=Y[Me];if(0>s(vt,X))Me<re&&0>s(he,vt)?(Y[fe]=he,Y[Me]=X,fe=Me):(Y[fe]=vt,Y[Te]=X,fe=Te);else if(Me<re&&0>s(he,X))Y[fe]=he,Y[Me]=X,fe=Me;else break e}}return te}function s(Y,te){var X=Y.sortIndex-te.sortIndex;return X!==0?X:Y.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var d=[],u=[],f=1,p=null,x=3,y=!1,j=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Y){for(var te=r(u);te!==null;){if(te.callback===null)a(u);else if(te.startTime<=Y)a(u),te.sortIndex=te.expirationTime,t(d,te);else break;te=r(u)}}function I(Y){if(w=!1,_(Y),!j)if(r(d)!==null)j=!0,H(T);else{var te=r(u);te!==null&&G(I,te.startTime-Y)}}function T(Y,te){j=!1,w&&(w=!1,N(D),D=-1),y=!0;var X=x;try{for(_(te),p=r(d);p!==null&&(!(p.expirationTime>te)||Y&&!z());){var fe=p.callback;if(typeof fe=="function"){p.callback=null,x=p.priorityLevel;var re=fe(p.expirationTime<=te);te=e.unstable_now(),typeof re=="function"?p.callback=re:p===r(d)&&a(d),_(te)}else a(d);p=r(d)}if(p!==null)var se=!0;else{var Te=r(u);Te!==null&&G(I,Te.startTime-te),se=!1}return se}finally{p=null,x=X,y=!1}}var M=!1,O=null,D=-1,R=5,V=-1;function z(){return!(e.unstable_now()-V<R)}function B(){if(O!==null){var Y=e.unstable_now();V=Y;var te=!0;try{te=O(!0,Y)}finally{te?q():(M=!1,O=null)}}else M=!1}var q;if(typeof S=="function")q=function(){S(B)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,L=$.port2;$.port1.onmessage=B,q=function(){L.postMessage(null)}}else q=function(){C(B,0)};function H(Y){O=Y,M||(M=!0,q())}function G(Y,te){D=C(function(){Y(e.unstable_now())},te)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){j||y||(j=!0,H(T))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Y){switch(x){case 1:case 2:case 3:var te=3;break;default:te=x}var X=x;x=te;try{return Y()}finally{x=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,te){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var X=x;x=Y;try{return te()}finally{x=X}},e.unstable_scheduleCallback=function(Y,te,X){var fe=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?fe+X:fe):X=fe,Y){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=X+re,Y={id:f++,callback:te,priorityLevel:Y,startTime:X,expirationTime:re,sortIndex:-1},X>fe?(Y.sortIndex=X,t(u,Y),r(d)===null&&Y===r(u)&&(w?(N(D),D=-1):w=!0,G(I,X-fe))):(Y.sortIndex=re,t(d,Y),j||y||(j=!0,H(T))),Y},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(Y){var te=x;return function(){var X=x;x=te;try{return Y.apply(this,arguments)}finally{x=X}}}})(L6);D6.exports=L6;var lX=D6.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cX=E,fi=lX;function We(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F6=new Set,$x={};function uh(e,t){Yf(e,t),Yf(e+"Capture",t)}function Yf(e,t){for($x[e]=t,e=0;e<t.length;e++)F6.add(t[e])}var nc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nC=Object.prototype.hasOwnProperty,dX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_P={},PP={};function uX(e){return nC.call(PP,e)?!0:nC.call(_P,e)?!1:dX.test(e)?PP[e]=!0:(_P[e]=!0,!1)}function hX(e,t,r,a){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function fX(e,t,r,a){if(t===null||typeof t>"u"||hX(e,t,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ys(e,t,r,a,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ua={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ua[e]=new ys(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ua[t]=new ys(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ua[e]=new ys(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ua[e]=new ys(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ua[e]=new ys(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ua[e]=new ys(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ua[e]=new ys(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ua[e]=new ys(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ua[e]=new ys(e,5,!1,e.toLowerCase(),null,!1,!1)});var qE=/[\-:]([a-z])/g;function GE(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qE,GE);Ua[t]=new ys(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qE,GE);Ua[t]=new ys(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qE,GE);Ua[t]=new ys(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ua[e]=new ys(e,1,!1,e.toLowerCase(),null,!1,!1)});Ua.xlinkHref=new ys("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ua[e]=new ys(e,1,!1,e.toLowerCase(),null,!0,!0)});function KE(e,t,r,a){var s=Ua.hasOwnProperty(t)?Ua[t]:null;(s!==null?s.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(fX(t,r,s,a)&&(r=null),a||s===null?uX(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,a=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,a?e.setAttributeNS(a,t,r):e.setAttribute(t,r))))}var gc=cX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,uv=Symbol.for("react.element"),Gh=Symbol.for("react.portal"),Kh=Symbol.for("react.fragment"),YE=Symbol.for("react.strict_mode"),aC=Symbol.for("react.profiler"),B6=Symbol.for("react.provider"),$6=Symbol.for("react.context"),XE=Symbol.for("react.forward_ref"),sC=Symbol.for("react.suspense"),iC=Symbol.for("react.suspense_list"),QE=Symbol.for("react.memo"),Bc=Symbol.for("react.lazy"),V6=Symbol.for("react.offscreen"),OP=Symbol.iterator;function Ep(e){return e===null||typeof e!="object"?null:(e=OP&&e[OP]||e["@@iterator"],typeof e=="function"?e:null)}var kn=Object.assign,f2;function Zp(e){if(f2===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);f2=t&&t[1]||""}return`
`+f2+e}var m2=!1;function p2(e,t){if(!e||m2)return"";m2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var a=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){a=u}e.call(t.prototype)}else{try{throw Error()}catch(u){a=u}e()}}catch(u){if(u&&a&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=a.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var d=`
`+s[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=l);break}}}finally{m2=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Zp(e):""}function mX(e){switch(e.tag){case 5:return Zp(e.type);case 16:return Zp("Lazy");case 13:return Zp("Suspense");case 19:return Zp("SuspenseList");case 0:case 2:case 15:return e=p2(e.type,!1),e;case 11:return e=p2(e.type.render,!1),e;case 1:return e=p2(e.type,!0),e;default:return""}}function oC(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kh:return"Fragment";case Gh:return"Portal";case aC:return"Profiler";case YE:return"StrictMode";case sC:return"Suspense";case iC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $6:return(e.displayName||"Context")+".Consumer";case B6:return(e._context.displayName||"Context")+".Provider";case XE:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case QE:return t=e.displayName||null,t!==null?t:oC(e.type)||"Memo";case Bc:t=e._payload,e=e._init;try{return oC(e(t))}catch{}}return null}function pX(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oC(t);case 8:return t===YE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function z6(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xX(e){var t=z6(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){a=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(o){a=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hv(e){e._valueTracker||(e._valueTracker=xX(e))}function U6(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),a="";return e&&(a=z6(e)?e.checked?"true":"false":e.value),e=a,e!==r?(t.setValue(e),!0):!1}function Ry(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function lC(e,t){var r=t.checked;return kn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function kP(e,t){var r=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;r=bd(t.value!=null?t.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function W6(e,t){t=t.checked,t!=null&&KE(e,"checked",t,!1)}function cC(e,t){W6(e,t);var r=bd(t.value),a=t.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dC(e,t.type,r):t.hasOwnProperty("defaultValue")&&dC(e,t.type,bd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function IP(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dC(e,t,r){(t!=="number"||Ry(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jp=Array.isArray;function yf(e,t,r,a){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&a&&(e[r].defaultSelected=!0)}else{for(r=""+bd(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uC(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(We(91));return kn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function MP(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(We(92));if(Jp(r)){if(1<r.length)throw Error(We(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:bd(r)}}function H6(e,t){var r=bd(t.value),a=bd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function RP(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q6(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hC(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q6(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fv,G6=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,a,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,a,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fv=fv||document.createElement("div"),fv.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vx(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gX=["Webkit","ms","Moz","O"];Object.keys(mx).forEach(function(e){gX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mx[t]=mx[e]})});function K6(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mx.hasOwnProperty(e)&&mx[e]?(""+t).trim():t+"px"}function Y6(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=r.indexOf("--")===0,s=K6(r,t[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,s):e[r]=s}}var vX=kn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fC(e,t){if(t){if(vX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(We(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(We(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(We(61))}if(t.style!=null&&typeof t.style!="object")throw Error(We(62))}}function mC(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pC=null;function ZE(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xC=null,bf=null,wf=null;function DP(e){if(e=g0(e)){if(typeof xC!="function")throw Error(We(280));var t=e.stateNode;t&&(t=Zb(t),xC(e.stateNode,e.type,t))}}function X6(e){bf?wf?wf.push(e):wf=[e]:bf=e}function Q6(){if(bf){var e=bf,t=wf;if(wf=bf=null,DP(e),t)for(e=0;e<t.length;e++)DP(t[e])}}function Z6(e,t){return e(t)}function J6(){}var x2=!1;function eL(e,t,r){if(x2)return e(t,r);x2=!0;try{return Z6(e,t,r)}finally{x2=!1,(bf!==null||wf!==null)&&(J6(),Q6())}}function zx(e,t){var r=e.stateNode;if(r===null)return null;var a=Zb(r);if(a===null)return null;r=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(We(231,t,typeof r));return r}var gC=!1;if(nc)try{var Tp={};Object.defineProperty(Tp,"passive",{get:function(){gC=!0}}),window.addEventListener("test",Tp,Tp),window.removeEventListener("test",Tp,Tp)}catch{gC=!1}function yX(e,t,r,a,s,i,o,l,d){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var px=!1,Dy=null,Ly=!1,vC=null,bX={onError:function(e){px=!0,Dy=e}};function wX(e,t,r,a,s,i,o,l,d){px=!1,Dy=null,yX.apply(bX,arguments)}function jX(e,t,r,a,s,i,o,l,d){if(wX.apply(this,arguments),px){if(px){var u=Dy;px=!1,Dy=null}else throw Error(We(198));Ly||(Ly=!0,vC=u)}}function hh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function tL(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function LP(e){if(hh(e)!==e)throw Error(We(188))}function NX(e){var t=e.alternate;if(!t){if(t=hh(e),t===null)throw Error(We(188));return t!==e?null:e}for(var r=e,a=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){r=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return LP(s),e;if(i===a)return LP(s),t;i=i.sibling}throw Error(We(188))}if(r.return!==a.return)r=s,a=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,a=i;break}if(l===a){o=!0,a=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,a=s;break}if(l===a){o=!0,a=i,r=s;break}l=l.sibling}if(!o)throw Error(We(189))}}if(r.alternate!==a)throw Error(We(190))}if(r.tag!==3)throw Error(We(188));return r.stateNode.current===r?e:t}function rL(e){return e=NX(e),e!==null?nL(e):null}function nL(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nL(e);if(t!==null)return t;e=e.sibling}return null}var aL=fi.unstable_scheduleCallback,FP=fi.unstable_cancelCallback,CX=fi.unstable_shouldYield,SX=fi.unstable_requestPaint,Kn=fi.unstable_now,AX=fi.unstable_getCurrentPriorityLevel,JE=fi.unstable_ImmediatePriority,sL=fi.unstable_UserBlockingPriority,Fy=fi.unstable_NormalPriority,EX=fi.unstable_LowPriority,iL=fi.unstable_IdlePriority,Kb=null,rl=null;function TX(e){if(rl&&typeof rl.onCommitFiberRoot=="function")try{rl.onCommitFiberRoot(Kb,e,void 0,(e.current.flags&128)===128)}catch{}}var No=Math.clz32?Math.clz32:OX,_X=Math.log,PX=Math.LN2;function OX(e){return e>>>=0,e===0?32:31-(_X(e)/PX|0)|0}var mv=64,pv=4194304;function ex(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function By(e,t){var r=e.pendingLanes;if(r===0)return 0;var a=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?a=ex(l):(i&=o,i!==0&&(a=ex(i)))}else o=r&~s,o!==0?a=ex(o):i!==0&&(a=ex(i));if(a===0)return 0;if(t!==0&&t!==a&&!(t&s)&&(s=a&-a,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(a&4&&(a|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)r=31-No(t),s=1<<r,a|=e[r],t&=~s;return a}function kX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IX(e,t){for(var r=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-No(i),l=1<<o,d=s[o];d===-1?(!(l&r)||l&a)&&(s[o]=kX(l,t)):d<=t&&(e.expiredLanes|=l),i&=~l}}function yC(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function oL(){var e=mv;return mv<<=1,!(mv&4194240)&&(mv=64),e}function g2(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function p0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-No(t),e[t]=r}function MX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-No(r),i=1<<s;t[s]=0,a[s]=-1,e[s]=-1,r&=~i}}function eT(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var a=31-No(r),s=1<<a;s&t|e[a]&t&&(e[a]|=t),r&=~s}}var $r=0;function lL(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var cL,tT,dL,uL,hL,bC=!1,xv=[],od=null,ld=null,cd=null,Ux=new Map,Wx=new Map,zc=[],RX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function BP(e,t){switch(e){case"focusin":case"focusout":od=null;break;case"dragenter":case"dragleave":ld=null;break;case"mouseover":case"mouseout":cd=null;break;case"pointerover":case"pointerout":Ux.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wx.delete(t.pointerId)}}function _p(e,t,r,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=g0(t),t!==null&&tT(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function DX(e,t,r,a,s){switch(t){case"focusin":return od=_p(od,e,t,r,a,s),!0;case"dragenter":return ld=_p(ld,e,t,r,a,s),!0;case"mouseover":return cd=_p(cd,e,t,r,a,s),!0;case"pointerover":var i=s.pointerId;return Ux.set(i,_p(Ux.get(i)||null,e,t,r,a,s)),!0;case"gotpointercapture":return i=s.pointerId,Wx.set(i,_p(Wx.get(i)||null,e,t,r,a,s)),!0}return!1}function fL(e){var t=xu(e.target);if(t!==null){var r=hh(t);if(r!==null){if(t=r.tag,t===13){if(t=tL(r),t!==null){e.blockedOn=t,hL(e.priority,function(){dL(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oy(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wC(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);pC=a,r.target.dispatchEvent(a),pC=null}else return t=g0(r),t!==null&&tT(t),e.blockedOn=r,!1;t.shift()}return!0}function $P(e,t,r){oy(e)&&r.delete(t)}function LX(){bC=!1,od!==null&&oy(od)&&(od=null),ld!==null&&oy(ld)&&(ld=null),cd!==null&&oy(cd)&&(cd=null),Ux.forEach($P),Wx.forEach($P)}function Pp(e,t){e.blockedOn===t&&(e.blockedOn=null,bC||(bC=!0,fi.unstable_scheduleCallback(fi.unstable_NormalPriority,LX)))}function Hx(e){function t(s){return Pp(s,e)}if(0<xv.length){Pp(xv[0],e);for(var r=1;r<xv.length;r++){var a=xv[r];a.blockedOn===e&&(a.blockedOn=null)}}for(od!==null&&Pp(od,e),ld!==null&&Pp(ld,e),cd!==null&&Pp(cd,e),Ux.forEach(t),Wx.forEach(t),r=0;r<zc.length;r++)a=zc[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<zc.length&&(r=zc[0],r.blockedOn===null);)fL(r),r.blockedOn===null&&zc.shift()}var jf=gc.ReactCurrentBatchConfig,$y=!0;function FX(e,t,r,a){var s=$r,i=jf.transition;jf.transition=null;try{$r=1,rT(e,t,r,a)}finally{$r=s,jf.transition=i}}function BX(e,t,r,a){var s=$r,i=jf.transition;jf.transition=null;try{$r=4,rT(e,t,r,a)}finally{$r=s,jf.transition=i}}function rT(e,t,r,a){if($y){var s=wC(e,t,r,a);if(s===null)E2(e,t,a,Vy,r),BP(e,a);else if(DX(s,e,t,r,a))a.stopPropagation();else if(BP(e,a),t&4&&-1<RX.indexOf(e)){for(;s!==null;){var i=g0(s);if(i!==null&&cL(i),i=wC(e,t,r,a),i===null&&E2(e,t,a,Vy,r),i===s)break;s=i}s!==null&&a.stopPropagation()}else E2(e,t,a,null,r)}}var Vy=null;function wC(e,t,r,a){if(Vy=null,e=ZE(a),e=xu(e),e!==null)if(t=hh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=tL(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vy=e,null}function mL(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AX()){case JE:return 1;case sL:return 4;case Fy:case EX:return 16;case iL:return 536870912;default:return 16}default:return 16}}var rd=null,nT=null,ly=null;function pL(){if(ly)return ly;var e,t=nT,r=t.length,a,s="value"in rd?rd.value:rd.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(a=1;a<=o&&t[r-a]===s[i-a];a++);return ly=s.slice(e,1<a?1-a:void 0)}function cy(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function gv(){return!0}function VP(){return!1}function gi(e){function t(r,a,s,i,o){this._reactName=r,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?gv:VP,this.isPropagationStopped=VP,this}return kn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=gv)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=gv)},persist:function(){},isPersistent:gv}),t}var Hm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aT=gi(Hm),x0=kn({},Hm,{view:0,detail:0}),$X=gi(x0),v2,y2,Op,Yb=kn({},x0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sT,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Op&&(Op&&e.type==="mousemove"?(v2=e.screenX-Op.screenX,y2=e.screenY-Op.screenY):y2=v2=0,Op=e),v2)},movementY:function(e){return"movementY"in e?e.movementY:y2}}),zP=gi(Yb),VX=kn({},Yb,{dataTransfer:0}),zX=gi(VX),UX=kn({},x0,{relatedTarget:0}),b2=gi(UX),WX=kn({},Hm,{animationName:0,elapsedTime:0,pseudoElement:0}),HX=gi(WX),qX=kn({},Hm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),GX=gi(qX),KX=kn({},Hm,{data:0}),UP=gi(KX),YX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QX[e])?!!t[e]:!1}function sT(){return ZX}var JX=kn({},x0,{key:function(e){if(e.key){var t=YX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cy(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sT,charCode:function(e){return e.type==="keypress"?cy(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cy(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eQ=gi(JX),tQ=kn({},Yb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),WP=gi(tQ),rQ=kn({},x0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sT}),nQ=gi(rQ),aQ=kn({},Hm,{propertyName:0,elapsedTime:0,pseudoElement:0}),sQ=gi(aQ),iQ=kn({},Yb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oQ=gi(iQ),lQ=[9,13,27,32],iT=nc&&"CompositionEvent"in window,xx=null;nc&&"documentMode"in document&&(xx=document.documentMode);var cQ=nc&&"TextEvent"in window&&!xx,xL=nc&&(!iT||xx&&8<xx&&11>=xx),HP=" ",qP=!1;function gL(e,t){switch(e){case"keyup":return lQ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vL(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yh=!1;function dQ(e,t){switch(e){case"compositionend":return vL(t);case"keypress":return t.which!==32?null:(qP=!0,HP);case"textInput":return e=t.data,e===HP&&qP?null:e;default:return null}}function uQ(e,t){if(Yh)return e==="compositionend"||!iT&&gL(e,t)?(e=pL(),ly=nT=rd=null,Yh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xL&&t.locale!=="ko"?null:t.data;default:return null}}var hQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function GP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hQ[e.type]:t==="textarea"}function yL(e,t,r,a){X6(a),t=zy(t,"onChange"),0<t.length&&(r=new aT("onChange","change",null,r,a),e.push({event:r,listeners:t}))}var gx=null,qx=null;function fQ(e){PL(e,0)}function Xb(e){var t=Zh(e);if(U6(t))return e}function mQ(e,t){if(e==="change")return t}var bL=!1;if(nc){var w2;if(nc){var j2="oninput"in document;if(!j2){var KP=document.createElement("div");KP.setAttribute("oninput","return;"),j2=typeof KP.oninput=="function"}w2=j2}else w2=!1;bL=w2&&(!document.documentMode||9<document.documentMode)}function YP(){gx&&(gx.detachEvent("onpropertychange",wL),qx=gx=null)}function wL(e){if(e.propertyName==="value"&&Xb(qx)){var t=[];yL(t,qx,e,ZE(e)),eL(fQ,t)}}function pQ(e,t,r){e==="focusin"?(YP(),gx=t,qx=r,gx.attachEvent("onpropertychange",wL)):e==="focusout"&&YP()}function xQ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xb(qx)}function gQ(e,t){if(e==="click")return Xb(t)}function vQ(e,t){if(e==="input"||e==="change")return Xb(t)}function yQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var To=typeof Object.is=="function"?Object.is:yQ;function Gx(e,t){if(To(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var s=r[a];if(!nC.call(t,s)||!To(e[s],t[s]))return!1}return!0}function XP(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function QP(e,t){var r=XP(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=t&&a>=t)return{node:r,offset:t-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=XP(r)}}function jL(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jL(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function NL(){for(var e=window,t=Ry();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ry(e.document)}return t}function oT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bQ(e){var t=NL(),r=e.focusedElem,a=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jL(r.ownerDocument.documentElement,r)){if(a!==null&&oT(r)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(a.start,s);a=a.end===void 0?i:Math.min(a.end,s),!e.extend&&i>a&&(s=a,a=i,i=s),s=QP(r,i);var o=QP(r,a);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wQ=nc&&"documentMode"in document&&11>=document.documentMode,Xh=null,jC=null,vx=null,NC=!1;function ZP(e,t,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;NC||Xh==null||Xh!==Ry(a)||(a=Xh,"selectionStart"in a&&oT(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),vx&&Gx(vx,a)||(vx=a,a=zy(jC,"onSelect"),0<a.length&&(t=new aT("onSelect","select",null,t,r),e.push({event:t,listeners:a}),t.target=Xh)))}function vv(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qh={animationend:vv("Animation","AnimationEnd"),animationiteration:vv("Animation","AnimationIteration"),animationstart:vv("Animation","AnimationStart"),transitionend:vv("Transition","TransitionEnd")},N2={},CL={};nc&&(CL=document.createElement("div").style,"AnimationEvent"in window||(delete Qh.animationend.animation,delete Qh.animationiteration.animation,delete Qh.animationstart.animation),"TransitionEvent"in window||delete Qh.transitionend.transition);function Qb(e){if(N2[e])return N2[e];if(!Qh[e])return e;var t=Qh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CL)return N2[e]=t[r];return e}var SL=Qb("animationend"),AL=Qb("animationiteration"),EL=Qb("animationstart"),TL=Qb("transitionend"),_L=new Map,JP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rd(e,t){_L.set(e,t),uh(t,[e])}for(var C2=0;C2<JP.length;C2++){var S2=JP[C2],jQ=S2.toLowerCase(),NQ=S2[0].toUpperCase()+S2.slice(1);Rd(jQ,"on"+NQ)}Rd(SL,"onAnimationEnd");Rd(AL,"onAnimationIteration");Rd(EL,"onAnimationStart");Rd("dblclick","onDoubleClick");Rd("focusin","onFocus");Rd("focusout","onBlur");Rd(TL,"onTransitionEnd");Yf("onMouseEnter",["mouseout","mouseover"]);Yf("onMouseLeave",["mouseout","mouseover"]);Yf("onPointerEnter",["pointerout","pointerover"]);Yf("onPointerLeave",["pointerout","pointerover"]);uh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uh("onBeforeInput",["compositionend","keypress","textInput","paste"]);uh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(tx));function eO(e,t,r){var a=e.type||"unknown-event";e.currentTarget=r,jX(a,t,void 0,e),e.currentTarget=null}function PL(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var o=a.length-1;0<=o;o--){var l=a[o],d=l.instance,u=l.currentTarget;if(l=l.listener,d!==i&&s.isPropagationStopped())break e;eO(s,l,u),i=d}else for(o=0;o<a.length;o++){if(l=a[o],d=l.instance,u=l.currentTarget,l=l.listener,d!==i&&s.isPropagationStopped())break e;eO(s,l,u),i=d}}}if(Ly)throw e=vC,Ly=!1,vC=null,e}function sn(e,t){var r=t[TC];r===void 0&&(r=t[TC]=new Set);var a=e+"__bubble";r.has(a)||(OL(t,e,2,!1),r.add(a))}function A2(e,t,r){var a=0;t&&(a|=4),OL(r,e,a,t)}var yv="_reactListening"+Math.random().toString(36).slice(2);function Kx(e){if(!e[yv]){e[yv]=!0,F6.forEach(function(r){r!=="selectionchange"&&(CQ.has(r)||A2(r,!1,e),A2(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yv]||(t[yv]=!0,A2("selectionchange",!1,t))}}function OL(e,t,r,a){switch(mL(t)){case 1:var s=FX;break;case 4:s=BX;break;default:s=rT}r=s.bind(null,t,r,e),s=void 0,!gC||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function E2(e,t,r,a,s){var i=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var o=a.tag;if(o===3||o===4){var l=a.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=a.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;o=o.return}for(;l!==null;){if(o=xu(l),o===null)return;if(d=o.tag,d===5||d===6){a=i=o;continue e}l=l.parentNode}}a=a.return}eL(function(){var u=i,f=ZE(r),p=[];e:{var x=_L.get(e);if(x!==void 0){var y=aT,j=e;switch(e){case"keypress":if(cy(r)===0)break e;case"keydown":case"keyup":y=eQ;break;case"focusin":j="focus",y=b2;break;case"focusout":j="blur",y=b2;break;case"beforeblur":case"afterblur":y=b2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=zP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=zX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=nQ;break;case SL:case AL:case EL:y=HX;break;case TL:y=sQ;break;case"scroll":y=$X;break;case"wheel":y=oQ;break;case"copy":case"cut":case"paste":y=GX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=WP}var w=(t&4)!==0,C=!w&&e==="scroll",N=w?x!==null?x+"Capture":null:x;w=[];for(var S=u,_;S!==null;){_=S;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,N!==null&&(I=zx(S,N),I!=null&&w.push(Yx(S,I,_)))),C)break;S=S.return}0<w.length&&(x=new y(x,j,null,r,f),p.push({event:x,listeners:w}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&r!==pC&&(j=r.relatedTarget||r.fromElement)&&(xu(j)||j[ac]))break e;if((y||x)&&(x=f.window===f?f:(x=f.ownerDocument)?x.defaultView||x.parentWindow:window,y?(j=r.relatedTarget||r.toElement,y=u,j=j?xu(j):null,j!==null&&(C=hh(j),j!==C||j.tag!==5&&j.tag!==6)&&(j=null)):(y=null,j=u),y!==j)){if(w=zP,I="onMouseLeave",N="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(w=WP,I="onPointerLeave",N="onPointerEnter",S="pointer"),C=y==null?x:Zh(y),_=j==null?x:Zh(j),x=new w(I,S+"leave",y,r,f),x.target=C,x.relatedTarget=_,I=null,xu(f)===u&&(w=new w(N,S+"enter",j,r,f),w.target=_,w.relatedTarget=C,I=w),C=I,y&&j)t:{for(w=y,N=j,S=0,_=w;_;_=Mh(_))S++;for(_=0,I=N;I;I=Mh(I))_++;for(;0<S-_;)w=Mh(w),S--;for(;0<_-S;)N=Mh(N),_--;for(;S--;){if(w===N||N!==null&&w===N.alternate)break t;w=Mh(w),N=Mh(N)}w=null}else w=null;y!==null&&tO(p,x,y,w,!1),j!==null&&C!==null&&tO(p,C,j,w,!0)}}e:{if(x=u?Zh(u):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var T=mQ;else if(GP(x))if(bL)T=vQ;else{T=xQ;var M=pQ}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(T=gQ);if(T&&(T=T(e,u))){yL(p,T,r,f);break e}M&&M(e,x,u),e==="focusout"&&(M=x._wrapperState)&&M.controlled&&x.type==="number"&&dC(x,"number",x.value)}switch(M=u?Zh(u):window,e){case"focusin":(GP(M)||M.contentEditable==="true")&&(Xh=M,jC=u,vx=null);break;case"focusout":vx=jC=Xh=null;break;case"mousedown":NC=!0;break;case"contextmenu":case"mouseup":case"dragend":NC=!1,ZP(p,r,f);break;case"selectionchange":if(wQ)break;case"keydown":case"keyup":ZP(p,r,f)}var O;if(iT)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Yh?gL(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(xL&&r.locale!=="ko"&&(Yh||D!=="onCompositionStart"?D==="onCompositionEnd"&&Yh&&(O=pL()):(rd=f,nT="value"in rd?rd.value:rd.textContent,Yh=!0)),M=zy(u,D),0<M.length&&(D=new UP(D,e,null,r,f),p.push({event:D,listeners:M}),O?D.data=O:(O=vL(r),O!==null&&(D.data=O)))),(O=cQ?dQ(e,r):uQ(e,r))&&(u=zy(u,"onBeforeInput"),0<u.length&&(f=new UP("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:u}),f.data=O))}PL(p,t)})}function Yx(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zy(e,t){for(var r=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zx(e,r),i!=null&&a.unshift(Yx(e,i,s)),i=zx(e,t),i!=null&&a.push(Yx(e,i,s))),e=e.return}return a}function Mh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tO(e,t,r,a,s){for(var i=t._reactName,o=[];r!==null&&r!==a;){var l=r,d=l.alternate,u=l.stateNode;if(d!==null&&d===a)break;l.tag===5&&u!==null&&(l=u,s?(d=zx(r,i),d!=null&&o.unshift(Yx(r,d,l))):s||(d=zx(r,i),d!=null&&o.push(Yx(r,d,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var SQ=/\r\n?/g,AQ=/\u0000|\uFFFD/g;function rO(e){return(typeof e=="string"?e:""+e).replace(SQ,`
`).replace(AQ,"")}function bv(e,t,r){if(t=rO(t),rO(e)!==t&&r)throw Error(We(425))}function Uy(){}var CC=null,SC=null;function AC(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var EC=typeof setTimeout=="function"?setTimeout:void 0,EQ=typeof clearTimeout=="function"?clearTimeout:void 0,nO=typeof Promise=="function"?Promise:void 0,TQ=typeof queueMicrotask=="function"?queueMicrotask:typeof nO<"u"?function(e){return nO.resolve(null).then(e).catch(_Q)}:EC;function _Q(e){setTimeout(function(){throw e})}function T2(e,t){var r=t,a=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(a===0){e.removeChild(s),Hx(t);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=s}while(r);Hx(t)}function dd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function aO(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qm=Math.random().toString(36).slice(2),Yo="__reactFiber$"+qm,Xx="__reactProps$"+qm,ac="__reactContainer$"+qm,TC="__reactEvents$"+qm,PQ="__reactListeners$"+qm,OQ="__reactHandles$"+qm;function xu(e){var t=e[Yo];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ac]||r[Yo]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=aO(e);e!==null;){if(r=e[Yo])return r;e=aO(e)}return t}e=r,r=e.parentNode}return null}function g0(e){return e=e[Yo]||e[ac],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(We(33))}function Zb(e){return e[Xx]||null}var _C=[],Jh=-1;function Dd(e){return{current:e}}function dn(e){0>Jh||(e.current=_C[Jh],_C[Jh]=null,Jh--)}function en(e,t){Jh++,_C[Jh]=e.current,e.current=t}var wd={},es=Dd(wd),Ms=Dd(!1),$u=wd;function Xf(e,t){var r=e.type.contextTypes;if(!r)return wd;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rs(e){return e=e.childContextTypes,e!=null}function Wy(){dn(Ms),dn(es)}function sO(e,t,r){if(es.current!==wd)throw Error(We(168));en(es,t),en(Ms,r)}function kL(e,t,r){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var s in a)if(!(s in t))throw Error(We(108,pX(e)||"Unknown",s));return kn({},r,a)}function Hy(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wd,$u=es.current,en(es,e),en(Ms,Ms.current),!0}function iO(e,t,r){var a=e.stateNode;if(!a)throw Error(We(169));r?(e=kL(e,t,$u),a.__reactInternalMemoizedMergedChildContext=e,dn(Ms),dn(es),en(es,e)):dn(Ms),en(Ms,r)}var Fl=null,Jb=!1,_2=!1;function IL(e){Fl===null?Fl=[e]:Fl.push(e)}function kQ(e){Jb=!0,IL(e)}function Ld(){if(!_2&&Fl!==null){_2=!0;var e=0,t=$r;try{var r=Fl;for($r=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}Fl=null,Jb=!1}catch(s){throw Fl!==null&&(Fl=Fl.slice(e+1)),aL(JE,Ld),s}finally{$r=t,_2=!1}}return null}var ef=[],tf=0,qy=null,Gy=0,Mi=[],Ri=0,Vu=null,zl=1,Ul="";function su(e,t){ef[tf++]=Gy,ef[tf++]=qy,qy=e,Gy=t}function ML(e,t,r){Mi[Ri++]=zl,Mi[Ri++]=Ul,Mi[Ri++]=Vu,Vu=e;var a=zl;e=Ul;var s=32-No(a)-1;a&=~(1<<s),r+=1;var i=32-No(t)+s;if(30<i){var o=s-s%5;i=(a&(1<<o)-1).toString(32),a>>=o,s-=o,zl=1<<32-No(t)+s|r<<s|a,Ul=i+e}else zl=1<<i|r<<s|a,Ul=e}function lT(e){e.return!==null&&(su(e,1),ML(e,1,0))}function cT(e){for(;e===qy;)qy=ef[--tf],ef[tf]=null,Gy=ef[--tf],ef[tf]=null;for(;e===Vu;)Vu=Mi[--Ri],Mi[Ri]=null,Ul=Mi[--Ri],Mi[Ri]=null,zl=Mi[--Ri],Mi[Ri]=null}var si=null,ai=null,yn=!1,fo=null;function RL(e,t){var r=Fi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function oO(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,si=e,ai=dd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,si=e,ai=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Vu!==null?{id:zl,overflow:Ul}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fi(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,si=e,ai=null,!0):!1;default:return!1}}function PC(e){return(e.mode&1)!==0&&(e.flags&128)===0}function OC(e){if(yn){var t=ai;if(t){var r=t;if(!oO(e,t)){if(PC(e))throw Error(We(418));t=dd(r.nextSibling);var a=si;t&&oO(e,t)?RL(a,r):(e.flags=e.flags&-4097|2,yn=!1,si=e)}}else{if(PC(e))throw Error(We(418));e.flags=e.flags&-4097|2,yn=!1,si=e}}}function lO(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;si=e}function wv(e){if(e!==si)return!1;if(!yn)return lO(e),yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!AC(e.type,e.memoizedProps)),t&&(t=ai)){if(PC(e))throw DL(),Error(We(418));for(;t;)RL(e,t),t=dd(t.nextSibling)}if(lO(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(We(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ai=dd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ai=null}}else ai=si?dd(e.stateNode.nextSibling):null;return!0}function DL(){for(var e=ai;e;)e=dd(e.nextSibling)}function Qf(){ai=si=null,yn=!1}function dT(e){fo===null?fo=[e]:fo.push(e)}var IQ=gc.ReactCurrentBatchConfig;function kp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(We(309));var a=r.stateNode}if(!a)throw Error(We(147,e));var s=a,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(We(284));if(!r._owner)throw Error(We(290,e))}return e}function jv(e,t){throw e=Object.prototype.toString.call(t),Error(We(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cO(e){var t=e._init;return t(e._payload)}function LL(e){function t(N,S){if(e){var _=N.deletions;_===null?(N.deletions=[S],N.flags|=16):_.push(S)}}function r(N,S){if(!e)return null;for(;S!==null;)t(N,S),S=S.sibling;return null}function a(N,S){for(N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function s(N,S){return N=md(N,S),N.index=0,N.sibling=null,N}function i(N,S,_){return N.index=_,e?(_=N.alternate,_!==null?(_=_.index,_<S?(N.flags|=2,S):_):(N.flags|=2,S)):(N.flags|=1048576,S)}function o(N){return e&&N.alternate===null&&(N.flags|=2),N}function l(N,S,_,I){return S===null||S.tag!==6?(S=D2(_,N.mode,I),S.return=N,S):(S=s(S,_),S.return=N,S)}function d(N,S,_,I){var T=_.type;return T===Kh?f(N,S,_.props.children,I,_.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bc&&cO(T)===S.type)?(I=s(S,_.props),I.ref=kp(N,S,_),I.return=N,I):(I=xy(_.type,_.key,_.props,null,N.mode,I),I.ref=kp(N,S,_),I.return=N,I)}function u(N,S,_,I){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=L2(_,N.mode,I),S.return=N,S):(S=s(S,_.children||[]),S.return=N,S)}function f(N,S,_,I,T){return S===null||S.tag!==7?(S=Iu(_,N.mode,I,T),S.return=N,S):(S=s(S,_),S.return=N,S)}function p(N,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=D2(""+S,N.mode,_),S.return=N,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case uv:return _=xy(S.type,S.key,S.props,null,N.mode,_),_.ref=kp(N,null,S),_.return=N,_;case Gh:return S=L2(S,N.mode,_),S.return=N,S;case Bc:var I=S._init;return p(N,I(S._payload),_)}if(Jp(S)||Ep(S))return S=Iu(S,N.mode,_,null),S.return=N,S;jv(N,S)}return null}function x(N,S,_,I){var T=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return T!==null?null:l(N,S,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case uv:return _.key===T?d(N,S,_,I):null;case Gh:return _.key===T?u(N,S,_,I):null;case Bc:return T=_._init,x(N,S,T(_._payload),I)}if(Jp(_)||Ep(_))return T!==null?null:f(N,S,_,I,null);jv(N,_)}return null}function y(N,S,_,I,T){if(typeof I=="string"&&I!==""||typeof I=="number")return N=N.get(_)||null,l(S,N,""+I,T);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case uv:return N=N.get(I.key===null?_:I.key)||null,d(S,N,I,T);case Gh:return N=N.get(I.key===null?_:I.key)||null,u(S,N,I,T);case Bc:var M=I._init;return y(N,S,_,M(I._payload),T)}if(Jp(I)||Ep(I))return N=N.get(_)||null,f(S,N,I,T,null);jv(S,I)}return null}function j(N,S,_,I){for(var T=null,M=null,O=S,D=S=0,R=null;O!==null&&D<_.length;D++){O.index>D?(R=O,O=null):R=O.sibling;var V=x(N,O,_[D],I);if(V===null){O===null&&(O=R);break}e&&O&&V.alternate===null&&t(N,O),S=i(V,S,D),M===null?T=V:M.sibling=V,M=V,O=R}if(D===_.length)return r(N,O),yn&&su(N,D),T;if(O===null){for(;D<_.length;D++)O=p(N,_[D],I),O!==null&&(S=i(O,S,D),M===null?T=O:M.sibling=O,M=O);return yn&&su(N,D),T}for(O=a(N,O);D<_.length;D++)R=y(O,N,D,_[D],I),R!==null&&(e&&R.alternate!==null&&O.delete(R.key===null?D:R.key),S=i(R,S,D),M===null?T=R:M.sibling=R,M=R);return e&&O.forEach(function(z){return t(N,z)}),yn&&su(N,D),T}function w(N,S,_,I){var T=Ep(_);if(typeof T!="function")throw Error(We(150));if(_=T.call(_),_==null)throw Error(We(151));for(var M=T=null,O=S,D=S=0,R=null,V=_.next();O!==null&&!V.done;D++,V=_.next()){O.index>D?(R=O,O=null):R=O.sibling;var z=x(N,O,V.value,I);if(z===null){O===null&&(O=R);break}e&&O&&z.alternate===null&&t(N,O),S=i(z,S,D),M===null?T=z:M.sibling=z,M=z,O=R}if(V.done)return r(N,O),yn&&su(N,D),T;if(O===null){for(;!V.done;D++,V=_.next())V=p(N,V.value,I),V!==null&&(S=i(V,S,D),M===null?T=V:M.sibling=V,M=V);return yn&&su(N,D),T}for(O=a(N,O);!V.done;D++,V=_.next())V=y(O,N,D,V.value,I),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?D:V.key),S=i(V,S,D),M===null?T=V:M.sibling=V,M=V);return e&&O.forEach(function(B){return t(N,B)}),yn&&su(N,D),T}function C(N,S,_,I){if(typeof _=="object"&&_!==null&&_.type===Kh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case uv:e:{for(var T=_.key,M=S;M!==null;){if(M.key===T){if(T=_.type,T===Kh){if(M.tag===7){r(N,M.sibling),S=s(M,_.props.children),S.return=N,N=S;break e}}else if(M.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Bc&&cO(T)===M.type){r(N,M.sibling),S=s(M,_.props),S.ref=kp(N,M,_),S.return=N,N=S;break e}r(N,M);break}else t(N,M);M=M.sibling}_.type===Kh?(S=Iu(_.props.children,N.mode,I,_.key),S.return=N,N=S):(I=xy(_.type,_.key,_.props,null,N.mode,I),I.ref=kp(N,S,_),I.return=N,N=I)}return o(N);case Gh:e:{for(M=_.key;S!==null;){if(S.key===M)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){r(N,S.sibling),S=s(S,_.children||[]),S.return=N,N=S;break e}else{r(N,S);break}else t(N,S);S=S.sibling}S=L2(_,N.mode,I),S.return=N,N=S}return o(N);case Bc:return M=_._init,C(N,S,M(_._payload),I)}if(Jp(_))return j(N,S,_,I);if(Ep(_))return w(N,S,_,I);jv(N,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(r(N,S.sibling),S=s(S,_),S.return=N,N=S):(r(N,S),S=D2(_,N.mode,I),S.return=N,N=S),o(N)):r(N,S)}return C}var Zf=LL(!0),FL=LL(!1),Ky=Dd(null),Yy=null,rf=null,uT=null;function hT(){uT=rf=Yy=null}function fT(e){var t=Ky.current;dn(Ky),e._currentValue=t}function kC(e,t,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===r)break;e=e.return}}function Nf(e,t){Yy=e,uT=rf=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Os=!0),e.firstContext=null)}function Gi(e){var t=e._currentValue;if(uT!==e)if(e={context:e,memoizedValue:t,next:null},rf===null){if(Yy===null)throw Error(We(308));rf=e,Yy.dependencies={lanes:0,firstContext:e}}else rf=rf.next=e;return t}var gu=null;function mT(e){gu===null?gu=[e]:gu.push(e)}function BL(e,t,r,a){var s=t.interleaved;return s===null?(r.next=r,mT(t)):(r.next=s.next,s.next=r),t.interleaved=r,sc(e,a)}function sc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $c=!1;function pT(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $L(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ud(e,t,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,Nr&2){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,sc(e,r)}return s=a.interleaved,s===null?(t.next=t,mT(a)):(t.next=s.next,s.next=t),a.interleaved=t,sc(e,r)}function dy(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,eT(e,r)}}function dO(e,t){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xy(e,t,r,a){var s=e.updateQueue;$c=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var d=l,u=d.next;d.next=null,o===null?i=u:o.next=u,o=d;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=d))}if(i!==null){var p=s.baseState;o=0,f=u=d=null,l=i;do{var x=l.lane,y=l.eventTime;if((a&x)===x){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var j=e,w=l;switch(x=t,y=r,w.tag){case 1:if(j=w.payload,typeof j=="function"){p=j.call(y,p,x);break e}p=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,x=typeof j=="function"?j.call(y,p,x):j,x==null)break e;p=kn({},p,x);break e;case 2:$c=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,x=s.effects,x===null?s.effects=[l]:x.push(l))}else y={eventTime:y,lane:x,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=y,d=p):f=f.next=y,o|=x;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;x=l,l=x.next,x.next=null,s.lastBaseUpdate=x,s.shared.pending=null}}while(!0);if(f===null&&(d=p),s.baseState=d,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Uu|=o,e.lanes=o,e.memoizedState=p}}function uO(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],s=a.callback;if(s!==null){if(a.callback=null,a=r,typeof s!="function")throw Error(We(191,s));s.call(a)}}}var v0={},nl=Dd(v0),Qx=Dd(v0),Zx=Dd(v0);function vu(e){if(e===v0)throw Error(We(174));return e}function xT(e,t){switch(en(Zx,t),en(Qx,e),en(nl,v0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hC(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hC(t,e)}dn(nl),en(nl,t)}function Jf(){dn(nl),dn(Qx),dn(Zx)}function VL(e){vu(Zx.current);var t=vu(nl.current),r=hC(t,e.type);t!==r&&(en(Qx,e),en(nl,r))}function gT(e){Qx.current===e&&(dn(nl),dn(Qx))}var En=Dd(0);function Qy(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var P2=[];function vT(){for(var e=0;e<P2.length;e++)P2[e]._workInProgressVersionPrimary=null;P2.length=0}var uy=gc.ReactCurrentDispatcher,O2=gc.ReactCurrentBatchConfig,zu=0,On=null,ua=null,Na=null,Zy=!1,yx=!1,Jx=0,MQ=0;function qa(){throw Error(We(321))}function yT(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!To(e[r],t[r]))return!1;return!0}function bT(e,t,r,a,s,i){if(zu=i,On=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uy.current=e===null||e.memoizedState===null?FQ:BQ,e=r(a,s),yx){i=0;do{if(yx=!1,Jx=0,25<=i)throw Error(We(301));i+=1,Na=ua=null,t.updateQueue=null,uy.current=$Q,e=r(a,s)}while(yx)}if(uy.current=Jy,t=ua!==null&&ua.next!==null,zu=0,Na=ua=On=null,Zy=!1,t)throw Error(We(300));return e}function wT(){var e=Jx!==0;return Jx=0,e}function Uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Na===null?On.memoizedState=Na=e:Na=Na.next=e,Na}function Ki(){if(ua===null){var e=On.alternate;e=e!==null?e.memoizedState:null}else e=ua.next;var t=Na===null?On.memoizedState:Na.next;if(t!==null)Na=t,ua=e;else{if(e===null)throw Error(We(310));ua=e,e={memoizedState:ua.memoizedState,baseState:ua.baseState,baseQueue:ua.baseQueue,queue:ua.queue,next:null},Na===null?On.memoizedState=Na=e:Na=Na.next=e}return Na}function eg(e,t){return typeof t=="function"?t(e):t}function k2(e){var t=Ki(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var a=ua,s=a.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}a.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,a=a.baseState;var l=o=null,d=null,u=i;do{var f=u.lane;if((zu&f)===f)d!==null&&(d=d.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),a=u.hasEagerState?u.eagerState:e(a,u.action);else{var p={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};d===null?(l=d=p,o=a):d=d.next=p,On.lanes|=f,Uu|=f}u=u.next}while(u!==null&&u!==i);d===null?o=a:d.next=l,To(a,t.memoizedState)||(Os=!0),t.memoizedState=a,t.baseState=o,t.baseQueue=d,r.lastRenderedState=a}if(e=r.interleaved,e!==null){s=e;do i=s.lane,On.lanes|=i,Uu|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function I2(e){var t=Ki(),r=t.queue;if(r===null)throw Error(We(311));r.lastRenderedReducer=e;var a=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);To(i,t.memoizedState)||(Os=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,a]}function zL(){}function UL(e,t){var r=On,a=Ki(),s=t(),i=!To(a.memoizedState,s);if(i&&(a.memoizedState=s,Os=!0),a=a.queue,jT(qL.bind(null,r,a,e),[e]),a.getSnapshot!==t||i||Na!==null&&Na.memoizedState.tag&1){if(r.flags|=2048,tg(9,HL.bind(null,r,a,s,t),void 0,null),_a===null)throw Error(We(349));zu&30||WL(r,t,s)}return s}function WL(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function HL(e,t,r,a){t.value=r,t.getSnapshot=a,GL(t)&&KL(e)}function qL(e,t,r){return r(function(){GL(t)&&KL(e)})}function GL(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!To(e,r)}catch{return!0}}function KL(e){var t=sc(e,1);t!==null&&Co(t,e,1,-1)}function hO(e){var t=Uo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:e},t.queue=e,e=e.dispatch=LQ.bind(null,On,e),[t.memoizedState,e]}function tg(e,t,r,a){return e={tag:e,create:t,destroy:r,deps:a,next:null},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,t.lastEffect=e)),e}function YL(){return Ki().memoizedState}function hy(e,t,r,a){var s=Uo();On.flags|=e,s.memoizedState=tg(1|t,r,void 0,a===void 0?null:a)}function ew(e,t,r,a){var s=Ki();a=a===void 0?null:a;var i=void 0;if(ua!==null){var o=ua.memoizedState;if(i=o.destroy,a!==null&&yT(a,o.deps)){s.memoizedState=tg(t,r,i,a);return}}On.flags|=e,s.memoizedState=tg(1|t,r,i,a)}function fO(e,t){return hy(8390656,8,e,t)}function jT(e,t){return ew(2048,8,e,t)}function XL(e,t){return ew(4,2,e,t)}function QL(e,t){return ew(4,4,e,t)}function ZL(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function JL(e,t,r){return r=r!=null?r.concat([e]):null,ew(4,4,ZL.bind(null,t,e),r)}function NT(){}function e7(e,t){var r=Ki();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&yT(t,a[1])?a[0]:(r.memoizedState=[e,t],e)}function t7(e,t){var r=Ki();t=t===void 0?null:t;var a=r.memoizedState;return a!==null&&t!==null&&yT(t,a[1])?a[0]:(e=e(),r.memoizedState=[e,t],e)}function r7(e,t,r){return zu&21?(To(r,t)||(r=oL(),On.lanes|=r,Uu|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Os=!0),e.memoizedState=r)}function RQ(e,t){var r=$r;$r=r!==0&&4>r?r:4,e(!0);var a=O2.transition;O2.transition={};try{e(!1),t()}finally{$r=r,O2.transition=a}}function n7(){return Ki().memoizedState}function DQ(e,t,r){var a=fd(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},a7(e))s7(t,r);else if(r=BL(e,t,r,a),r!==null){var s=xs();Co(r,e,a,s),i7(r,t,a)}}function LQ(e,t,r){var a=fd(e),s={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(a7(e))s7(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,To(l,o)){var d=t.interleaved;d===null?(s.next=s,mT(t)):(s.next=d.next,d.next=s),t.interleaved=s;return}}catch{}finally{}r=BL(e,t,s,a),r!==null&&(s=xs(),Co(r,e,a,s),i7(r,t,a))}}function a7(e){var t=e.alternate;return e===On||t!==null&&t===On}function s7(e,t){yx=Zy=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i7(e,t,r){if(r&4194240){var a=t.lanes;a&=e.pendingLanes,r|=a,t.lanes=r,eT(e,r)}}var Jy={readContext:Gi,useCallback:qa,useContext:qa,useEffect:qa,useImperativeHandle:qa,useInsertionEffect:qa,useLayoutEffect:qa,useMemo:qa,useReducer:qa,useRef:qa,useState:qa,useDebugValue:qa,useDeferredValue:qa,useTransition:qa,useMutableSource:qa,useSyncExternalStore:qa,useId:qa,unstable_isNewReconciler:!1},FQ={readContext:Gi,useCallback:function(e,t){return Uo().memoizedState=[e,t===void 0?null:t],e},useContext:Gi,useEffect:fO,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,hy(4194308,4,ZL.bind(null,t,e),r)},useLayoutEffect:function(e,t){return hy(4194308,4,e,t)},useInsertionEffect:function(e,t){return hy(4,2,e,t)},useMemo:function(e,t){var r=Uo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var a=Uo();return t=r!==void 0?r(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=DQ.bind(null,On,e),[a.memoizedState,e]},useRef:function(e){var t=Uo();return e={current:e},t.memoizedState=e},useState:hO,useDebugValue:NT,useDeferredValue:function(e){return Uo().memoizedState=e},useTransition:function(){var e=hO(!1),t=e[0];return e=RQ.bind(null,e[1]),Uo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var a=On,s=Uo();if(yn){if(r===void 0)throw Error(We(407));r=r()}else{if(r=t(),_a===null)throw Error(We(349));zu&30||WL(a,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,fO(qL.bind(null,a,i,e),[e]),a.flags|=2048,tg(9,HL.bind(null,a,i,r,t),void 0,null),r},useId:function(){var e=Uo(),t=_a.identifierPrefix;if(yn){var r=Ul,a=zl;r=(a&~(1<<32-No(a)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jx++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=MQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},BQ={readContext:Gi,useCallback:e7,useContext:Gi,useEffect:jT,useImperativeHandle:JL,useInsertionEffect:XL,useLayoutEffect:QL,useMemo:t7,useReducer:k2,useRef:YL,useState:function(){return k2(eg)},useDebugValue:NT,useDeferredValue:function(e){var t=Ki();return r7(t,ua.memoizedState,e)},useTransition:function(){var e=k2(eg)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:zL,useSyncExternalStore:UL,useId:n7,unstable_isNewReconciler:!1},$Q={readContext:Gi,useCallback:e7,useContext:Gi,useEffect:jT,useImperativeHandle:JL,useInsertionEffect:XL,useLayoutEffect:QL,useMemo:t7,useReducer:I2,useRef:YL,useState:function(){return I2(eg)},useDebugValue:NT,useDeferredValue:function(e){var t=Ki();return ua===null?t.memoizedState=e:r7(t,ua.memoizedState,e)},useTransition:function(){var e=I2(eg)[0],t=Ki().memoizedState;return[e,t]},useMutableSource:zL,useSyncExternalStore:UL,useId:n7,unstable_isNewReconciler:!1};function io(e,t){if(e&&e.defaultProps){t=kn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function IC(e,t,r,a){t=e.memoizedState,r=r(a,t),r=r==null?t:kn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var tw={isMounted:function(e){return(e=e._reactInternals)?hh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var a=xs(),s=fd(e),i=Kl(a,s);i.payload=t,r!=null&&(i.callback=r),t=ud(e,i,s),t!==null&&(Co(t,e,s,a),dy(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var a=xs(),s=fd(e),i=Kl(a,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=ud(e,i,s),t!==null&&(Co(t,e,s,a),dy(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=xs(),a=fd(e),s=Kl(r,a);s.tag=2,t!=null&&(s.callback=t),t=ud(e,s,a),t!==null&&(Co(t,e,a,r),dy(t,e,a))}};function mO(e,t,r,a,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gx(r,a)||!Gx(s,i):!0}function o7(e,t,r){var a=!1,s=wd,i=t.contextType;return typeof i=="object"&&i!==null?i=Gi(i):(s=Rs(t)?$u:es.current,a=t.contextTypes,i=(a=a!=null)?Xf(e,s):wd),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tw,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function pO(e,t,r,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,a),t.state!==e&&tw.enqueueReplaceState(t,t.state,null)}function MC(e,t,r,a){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},pT(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Gi(i):(i=Rs(t)?$u:es.current,s.context=Xf(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(IC(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&tw.enqueueReplaceState(s,s.state,null),Xy(e,r,s,a),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function em(e,t){try{var r="",a=t;do r+=mX(a),a=a.return;while(a);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function M2(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function RC(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var VQ=typeof WeakMap=="function"?WeakMap:Map;function l7(e,t,r){r=Kl(-1,r),r.tag=3,r.payload={element:null};var a=t.value;return r.callback=function(){t1||(t1=!0,HC=a),RC(e,t)},r}function c7(e,t,r){r=Kl(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var s=t.value;r.payload=function(){return a(s)},r.callback=function(){RC(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){RC(e,t),typeof a!="function"&&(hd===null?hd=new Set([this]):hd.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function xO(e,t,r){var a=e.pingCache;if(a===null){a=e.pingCache=new VQ;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(r)||(s.add(r),e=tZ.bind(null,e,t,r),t.then(e,e))}function gO(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vO(e,t,r,a,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kl(-1,1),t.tag=2,ud(r,t,1))),r.lanes|=1),e)}var zQ=gc.ReactCurrentOwner,Os=!1;function ls(e,t,r,a){t.child=e===null?FL(t,null,r,a):Zf(t,e.child,r,a)}function yO(e,t,r,a,s){r=r.render;var i=t.ref;return Nf(t,s),a=bT(e,t,r,a,i,s),r=wT(),e!==null&&!Os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ic(e,t,s)):(yn&&r&&lT(t),t.flags|=1,ls(e,t,a,s),t.child)}function bO(e,t,r,a,s){if(e===null){var i=r.type;return typeof i=="function"&&!OT(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,d7(e,t,i,a,s)):(e=xy(r.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Gx,r(o,a)&&e.ref===t.ref)return ic(e,t,s)}return t.flags|=1,e=md(i,a),e.ref=t.ref,e.return=t,t.child=e}function d7(e,t,r,a,s){if(e!==null){var i=e.memoizedProps;if(Gx(i,a)&&e.ref===t.ref)if(Os=!1,t.pendingProps=a=i,(e.lanes&s)!==0)e.flags&131072&&(Os=!0);else return t.lanes=e.lanes,ic(e,t,s)}return DC(e,t,r,a,s)}function u7(e,t,r){var a=t.pendingProps,s=a.children,i=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},en(af,Qs),Qs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,en(af,Qs),Qs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=i!==null?i.baseLanes:r,en(af,Qs),Qs|=a}else i!==null?(a=i.baseLanes|r,t.memoizedState=null):a=r,en(af,Qs),Qs|=a;return ls(e,t,s,r),t.child}function h7(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function DC(e,t,r,a,s){var i=Rs(r)?$u:es.current;return i=Xf(t,i),Nf(t,s),r=bT(e,t,r,a,i,s),a=wT(),e!==null&&!Os?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,ic(e,t,s)):(yn&&a&&lT(t),t.flags|=1,ls(e,t,r,s),t.child)}function wO(e,t,r,a,s){if(Rs(r)){var i=!0;Hy(t)}else i=!1;if(Nf(t,s),t.stateNode===null)fy(e,t),o7(t,r,a),MC(t,r,a,s),a=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var d=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Gi(u):(u=Rs(r)?$u:es.current,u=Xf(t,u));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==a||d!==u)&&pO(t,o,a,u),$c=!1;var x=t.memoizedState;o.state=x,Xy(t,a,o,s),d=t.memoizedState,l!==a||x!==d||Ms.current||$c?(typeof f=="function"&&(IC(t,r,f,a),d=t.memoizedState),(l=$c||mO(t,r,l,a,x,d,u))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=d),o.props=a,o.state=d,o.context=u,a=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,$L(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:io(t.type,l),o.props=u,p=t.pendingProps,x=o.context,d=r.contextType,typeof d=="object"&&d!==null?d=Gi(d):(d=Rs(r)?$u:es.current,d=Xf(t,d));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||x!==d)&&pO(t,o,a,d),$c=!1,x=t.memoizedState,o.state=x,Xy(t,a,o,s);var j=t.memoizedState;l!==p||x!==j||Ms.current||$c?(typeof y=="function"&&(IC(t,r,y,a),j=t.memoizedState),(u=$c||mO(t,r,u,a,x,j,d)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,j,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,j,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=j),o.props=a,o.state=j,o.context=d,a=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),a=!1)}return LC(e,t,r,a,i,s)}function LC(e,t,r,a,s,i){h7(e,t);var o=(t.flags&128)!==0;if(!a&&!o)return s&&iO(t,r,!1),ic(e,t,i);a=t.stateNode,zQ.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&o?(t.child=Zf(t,e.child,null,i),t.child=Zf(t,null,l,i)):ls(e,t,l,i),t.memoizedState=a.state,s&&iO(t,r,!0),t.child}function f7(e){var t=e.stateNode;t.pendingContext?sO(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sO(e,t.context,!1),xT(e,t.containerInfo)}function jO(e,t,r,a,s){return Qf(),dT(s),t.flags|=256,ls(e,t,r,a),t.child}var FC={dehydrated:null,treeContext:null,retryLane:0};function BC(e){return{baseLanes:e,cachePool:null,transitions:null}}function m7(e,t,r){var a=t.pendingProps,s=En.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),en(En,s&1),e===null)return OC(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=a.children,e=a.fallback,i?(a=t.mode,i=t.child,o={mode:"hidden",children:o},!(a&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=aw(o,a,0,null),e=Iu(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=BC(r),t.memoizedState=FC,e):CT(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return UQ(e,t,o,a,l,s,r);if(i){i=a.fallback,o=t.mode,s=e.child,l=s.sibling;var d={mode:"hidden",children:a.children};return!(o&1)&&t.child!==s?(a=t.child,a.childLanes=0,a.pendingProps=d,t.deletions=null):(a=md(s,d),a.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=md(l,i):(i=Iu(i,o,r,null),i.flags|=2),i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,o=e.child.memoizedState,o=o===null?BC(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=FC,a}return i=e.child,e=i.sibling,a=md(i,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=r),a.return=t,a.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function CT(e,t){return t=aw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nv(e,t,r,a){return a!==null&&dT(a),Zf(t,e.child,null,r),e=CT(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UQ(e,t,r,a,s,i,o){if(r)return t.flags&256?(t.flags&=-257,a=M2(Error(We(422))),Nv(e,t,o,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=a.fallback,s=t.mode,a=aw({mode:"visible",children:a.children},s,0,null),i=Iu(i,s,o,null),i.flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,t.mode&1&&Zf(t,e.child,null,o),t.child.memoizedState=BC(o),t.memoizedState=FC,i);if(!(t.mode&1))return Nv(e,t,o,null);if(s.data==="$!"){if(a=s.nextSibling&&s.nextSibling.dataset,a)var l=a.dgst;return a=l,i=Error(We(419)),a=M2(i,a,void 0),Nv(e,t,o,a)}if(l=(o&e.childLanes)!==0,Os||l){if(a=_a,a!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(a.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,sc(e,s),Co(a,e,s,-1))}return PT(),a=M2(Error(We(421))),Nv(e,t,o,a)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=rZ.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ai=dd(s.nextSibling),si=t,yn=!0,fo=null,e!==null&&(Mi[Ri++]=zl,Mi[Ri++]=Ul,Mi[Ri++]=Vu,zl=e.id,Ul=e.overflow,Vu=t),t=CT(t,a.children),t.flags|=4096,t)}function NO(e,t,r){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),kC(e.return,t,r)}function R2(e,t,r,a,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=r,i.tailMode=s)}function p7(e,t,r){var a=t.pendingProps,s=a.revealOrder,i=a.tail;if(ls(e,t,a.children,r),a=En.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&NO(e,r,t);else if(e.tag===19)NO(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(en(En,a),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Qy(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),R2(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Qy(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}R2(t,!0,r,null,i);break;case"together":R2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fy(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ic(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Uu|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(We(153));if(t.child!==null){for(e=t.child,r=md(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=md(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function WQ(e,t,r){switch(t.tag){case 3:f7(t),Qf();break;case 5:VL(t);break;case 1:Rs(t.type)&&Hy(t);break;case 4:xT(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,s=t.memoizedProps.value;en(Ky,a._currentValue),a._currentValue=s;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(en(En,En.current&1),t.flags|=128,null):r&t.child.childLanes?m7(e,t,r):(en(En,En.current&1),e=ic(e,t,r),e!==null?e.sibling:null);en(En,En.current&1);break;case 19:if(a=(r&t.childLanes)!==0,e.flags&128){if(a)return p7(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),en(En,En.current),a)break;return null;case 22:case 23:return t.lanes=0,u7(e,t,r)}return ic(e,t,r)}var x7,$C,g7,v7;x7=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};$C=function(){};g7=function(e,t,r,a){var s=e.memoizedProps;if(s!==a){e=t.stateNode,vu(nl.current);var i=null;switch(r){case"input":s=lC(e,s),a=lC(e,a),i=[];break;case"select":s=kn({},s,{value:void 0}),a=kn({},a,{value:void 0}),i=[];break;case"textarea":s=uC(e,s),a=uC(e,a),i=[];break;default:typeof s.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Uy)}fC(r,a);var o;r=null;for(u in s)if(!a.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($x.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in a){var d=a[u];if(l=s!=null?s[u]:void 0,a.hasOwnProperty(u)&&d!==l&&(d!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in d)d.hasOwnProperty(o)&&l[o]!==d[o]&&(r||(r={}),r[o]=d[o])}else r||(i||(i=[]),i.push(u,r)),r=d;else u==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,l=l?l.__html:void 0,d!=null&&l!==d&&(i=i||[]).push(u,d)):u==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(u,""+d):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($x.hasOwnProperty(u)?(d!=null&&u==="onScroll"&&sn("scroll",e),i||l===d||(i=[])):(i=i||[]).push(u,d))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};v7=function(e,t,r,a){r!==a&&(t.flags|=4)};function Ip(e,t){if(!yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ga(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags&14680064,a|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=r,t}function HQ(e,t,r){var a=t.pendingProps;switch(cT(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:return Rs(t.type)&&Wy(),Ga(t),null;case 3:return a=t.stateNode,Jf(),dn(Ms),dn(es),vT(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wv(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fo!==null&&(KC(fo),fo=null))),$C(e,t),Ga(t),null;case 5:gT(t);var s=vu(Zx.current);if(r=t.type,e!==null&&t.stateNode!=null)g7(e,t,r,a,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(We(166));return Ga(t),null}if(e=vu(nl.current),wv(t)){a=t.stateNode,r=t.type;var i=t.memoizedProps;switch(a[Yo]=t,a[Xx]=i,e=(t.mode&1)!==0,r){case"dialog":sn("cancel",a),sn("close",a);break;case"iframe":case"object":case"embed":sn("load",a);break;case"video":case"audio":for(s=0;s<tx.length;s++)sn(tx[s],a);break;case"source":sn("error",a);break;case"img":case"image":case"link":sn("error",a),sn("load",a);break;case"details":sn("toggle",a);break;case"input":kP(a,i),sn("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},sn("invalid",a);break;case"textarea":MP(a,i),sn("invalid",a)}fC(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?a.textContent!==l&&(i.suppressHydrationWarning!==!0&&bv(a.textContent,l,e),s=["children",l]):typeof l=="number"&&a.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&bv(a.textContent,l,e),s=["children",""+l]):$x.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&sn("scroll",a)}switch(r){case"input":hv(a),IP(a,i,!0);break;case"textarea":hv(a),RP(a);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(a.onclick=Uy)}a=s,t.updateQueue=a,a!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q6(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=o.createElement(r,{is:a.is}):(e=o.createElement(r),r==="select"&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,r),e[Yo]=t,e[Xx]=a,x7(e,t,!1,!1),t.stateNode=e;e:{switch(o=mC(r,a),r){case"dialog":sn("cancel",e),sn("close",e),s=a;break;case"iframe":case"object":case"embed":sn("load",e),s=a;break;case"video":case"audio":for(s=0;s<tx.length;s++)sn(tx[s],e);s=a;break;case"source":sn("error",e),s=a;break;case"img":case"image":case"link":sn("error",e),sn("load",e),s=a;break;case"details":sn("toggle",e),s=a;break;case"input":kP(e,a),s=lC(e,a),sn("invalid",e);break;case"option":s=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},s=kn({},a,{value:void 0}),sn("invalid",e);break;case"textarea":MP(e,a),s=uC(e,a),sn("invalid",e);break;default:s=a}fC(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var d=l[i];i==="style"?Y6(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&G6(e,d)):i==="children"?typeof d=="string"?(r!=="textarea"||d!=="")&&Vx(e,d):typeof d=="number"&&Vx(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($x.hasOwnProperty(i)?d!=null&&i==="onScroll"&&sn("scroll",e):d!=null&&KE(e,i,d,o))}switch(r){case"input":hv(e),IP(e,a,!1);break;case"textarea":hv(e),RP(e);break;case"option":a.value!=null&&e.setAttribute("value",""+bd(a.value));break;case"select":e.multiple=!!a.multiple,i=a.value,i!=null?yf(e,!!a.multiple,i,!1):a.defaultValue!=null&&yf(e,!!a.multiple,a.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Uy)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&t.stateNode!=null)v7(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(We(166));if(r=vu(Zx.current),vu(nl.current),wv(t)){if(a=t.stateNode,r=t.memoizedProps,a[Yo]=t,(i=a.nodeValue!==r)&&(e=si,e!==null))switch(e.tag){case 3:bv(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&bv(a.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[Yo]=t,t.stateNode=a}return Ga(t),null;case 13:if(dn(En),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yn&&ai!==null&&t.mode&1&&!(t.flags&128))DL(),Qf(),t.flags|=98560,i=!1;else if(i=wv(t),a!==null&&a.dehydrated!==null){if(e===null){if(!i)throw Error(We(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(We(317));i[Yo]=t}else Qf(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ga(t),i=!1}else fo!==null&&(KC(fo),fo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||En.current&1?pa===0&&(pa=3):PT())),t.updateQueue!==null&&(t.flags|=4),Ga(t),null);case 4:return Jf(),$C(e,t),e===null&&Kx(t.stateNode.containerInfo),Ga(t),null;case 10:return fT(t.type._context),Ga(t),null;case 17:return Rs(t.type)&&Wy(),Ga(t),null;case 19:if(dn(En),i=t.memoizedState,i===null)return Ga(t),null;if(a=(t.flags&128)!==0,o=i.rendering,o===null)if(a)Ip(i,!1);else{if(pa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Qy(e),o!==null){for(t.flags|=128,Ip(i,!1),a=o.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=r,r=t.child;r!==null;)i=r,e=a,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return en(En,En.current&1|2),t.child}e=e.sibling}i.tail!==null&&Kn()>tm&&(t.flags|=128,a=!0,Ip(i,!1),t.lanes=4194304)}else{if(!a)if(e=Qy(o),e!==null){if(t.flags|=128,a=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ip(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!yn)return Ga(t),null}else 2*Kn()-i.renderingStartTime>tm&&r!==1073741824&&(t.flags|=128,a=!0,Ip(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Kn(),t.sibling=null,r=En.current,en(En,a?r&1|2:r&1),t):(Ga(t),null);case 22:case 23:return _T(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?Qs&1073741824&&(Ga(t),t.subtreeFlags&6&&(t.flags|=8192)):Ga(t),null;case 24:return null;case 25:return null}throw Error(We(156,t.tag))}function qQ(e,t){switch(cT(t),t.tag){case 1:return Rs(t.type)&&Wy(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jf(),dn(Ms),dn(es),vT(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gT(t),null;case 13:if(dn(En),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(We(340));Qf()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return dn(En),null;case 4:return Jf(),null;case 10:return fT(t.type._context),null;case 22:case 23:return _T(),null;case 24:return null;default:return null}}var Cv=!1,Qa=!1,GQ=typeof WeakSet=="function"?WeakSet:Set,pt=null;function nf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Bn(e,t,a)}else r.current=null}function VC(e,t,r){try{r()}catch(a){Bn(e,t,a)}}var CO=!1;function KQ(e,t){if(CC=$y,e=NL(),oT(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,d=-1,u=0,f=0,p=e,x=null;t:for(;;){for(var y;p!==r||s!==0&&p.nodeType!==3||(l=o+s),p!==i||a!==0&&p.nodeType!==3||(d=o+a),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)x=p,p=y;for(;;){if(p===e)break t;if(x===r&&++u===s&&(l=o),x===i&&++f===a&&(d=o),(y=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=y}r=l===-1||d===-1?null:{start:l,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(SC={focusedElem:e,selectionRange:r},$y=!1,pt=t;pt!==null;)if(t=pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,pt=e;else for(;pt!==null;){t=pt;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,C=j.memoizedState,N=t.stateNode,S=N.getSnapshotBeforeUpdate(t.elementType===t.type?w:io(t.type,w),C);N.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(We(163))}}catch(I){Bn(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,pt=e;break}pt=t.return}return j=CO,CO=!1,j}function bx(e,t,r){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var s=a=a.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&VC(t,r,i)}s=s.next}while(s!==a)}}function rw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==t)}}function zC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y7(e){var t=e.alternate;t!==null&&(e.alternate=null,y7(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yo],delete t[Xx],delete t[TC],delete t[PQ],delete t[OQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b7(e){return e.tag===5||e.tag===3||e.tag===4}function SO(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b7(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function UC(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uy));else if(a!==4&&(e=e.child,e!==null))for(UC(e,t,r),e=e.sibling;e!==null;)UC(e,t,r),e=e.sibling}function WC(e,t,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(WC(e,t,r),e=e.sibling;e!==null;)WC(e,t,r),e=e.sibling}var Fa=null,lo=!1;function _c(e,t,r){for(r=r.child;r!==null;)w7(e,t,r),r=r.sibling}function w7(e,t,r){if(rl&&typeof rl.onCommitFiberUnmount=="function")try{rl.onCommitFiberUnmount(Kb,r)}catch{}switch(r.tag){case 5:Qa||nf(r,t);case 6:var a=Fa,s=lo;Fa=null,_c(e,t,r),Fa=a,lo=s,Fa!==null&&(lo?(e=Fa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Fa.removeChild(r.stateNode));break;case 18:Fa!==null&&(lo?(e=Fa,r=r.stateNode,e.nodeType===8?T2(e.parentNode,r):e.nodeType===1&&T2(e,r),Hx(e)):T2(Fa,r.stateNode));break;case 4:a=Fa,s=lo,Fa=r.stateNode.containerInfo,lo=!0,_c(e,t,r),Fa=a,lo=s;break;case 0:case 11:case 14:case 15:if(!Qa&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){s=a=a.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&VC(r,t,o),s=s.next}while(s!==a)}_c(e,t,r);break;case 1:if(!Qa&&(nf(r,t),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(l){Bn(r,t,l)}_c(e,t,r);break;case 21:_c(e,t,r);break;case 22:r.mode&1?(Qa=(a=Qa)||r.memoizedState!==null,_c(e,t,r),Qa=a):_c(e,t,r);break;default:_c(e,t,r)}}function AO(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new GQ),t.forEach(function(a){var s=nZ.bind(null,e,a);r.has(a)||(r.add(a),a.then(s,s))})}}function ro(e,t){var r=t.deletions;if(r!==null)for(var a=0;a<r.length;a++){var s=r[a];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Fa=l.stateNode,lo=!1;break e;case 3:Fa=l.stateNode.containerInfo,lo=!0;break e;case 4:Fa=l.stateNode.containerInfo,lo=!0;break e}l=l.return}if(Fa===null)throw Error(We(160));w7(i,o,s),Fa=null,lo=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(u){Bn(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)j7(t,e),t=t.sibling}function j7(e,t){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ro(t,e),zo(e),a&4){try{bx(3,e,e.return),rw(3,e)}catch(w){Bn(e,e.return,w)}try{bx(5,e,e.return)}catch(w){Bn(e,e.return,w)}}break;case 1:ro(t,e),zo(e),a&512&&r!==null&&nf(r,r.return);break;case 5:if(ro(t,e),zo(e),a&512&&r!==null&&nf(r,r.return),e.flags&32){var s=e.stateNode;try{Vx(s,"")}catch(w){Bn(e,e.return,w)}}if(a&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&W6(s,i),mC(l,o);var u=mC(l,i);for(o=0;o<d.length;o+=2){var f=d[o],p=d[o+1];f==="style"?Y6(s,p):f==="dangerouslySetInnerHTML"?G6(s,p):f==="children"?Vx(s,p):KE(s,f,p,u)}switch(l){case"input":cC(s,i);break;case"textarea":H6(s,i);break;case"select":var x=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?yf(s,!!i.multiple,y,!1):x!==!!i.multiple&&(i.defaultValue!=null?yf(s,!!i.multiple,i.defaultValue,!0):yf(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xx]=i}catch(w){Bn(e,e.return,w)}}break;case 6:if(ro(t,e),zo(e),a&4){if(e.stateNode===null)throw Error(We(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){Bn(e,e.return,w)}}break;case 3:if(ro(t,e),zo(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Hx(t.containerInfo)}catch(w){Bn(e,e.return,w)}break;case 4:ro(t,e),zo(e);break;case 13:ro(t,e),zo(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ET=Kn())),a&4&&AO(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Qa=(u=Qa)||f,ro(t,e),Qa=u):ro(t,e),zo(e),a&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(pt=e,f=e.child;f!==null;){for(p=pt=f;pt!==null;){switch(x=pt,y=x.child,x.tag){case 0:case 11:case 14:case 15:bx(4,x,x.return);break;case 1:nf(x,x.return);var j=x.stateNode;if(typeof j.componentWillUnmount=="function"){a=x,r=x.return;try{t=a,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){Bn(a,r,w)}}break;case 5:nf(x,x.return);break;case 22:if(x.memoizedState!==null){TO(p);continue}}y!==null?(y.return=x,pt=y):TO(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,d=p.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,l.style.display=K6("display",o))}catch(w){Bn(e,e.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(w){Bn(e,e.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ro(t,e),zo(e),a&4&&AO(e);break;case 21:break;default:ro(t,e),zo(e)}}function zo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(b7(r)){var a=r;break e}r=r.return}throw Error(We(160))}switch(a.tag){case 5:var s=a.stateNode;a.flags&32&&(Vx(s,""),a.flags&=-33);var i=SO(e);WC(e,i,s);break;case 3:case 4:var o=a.stateNode.containerInfo,l=SO(e);UC(e,l,o);break;default:throw Error(We(161))}}catch(d){Bn(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function YQ(e,t,r){pt=e,N7(e)}function N7(e,t,r){for(var a=(e.mode&1)!==0;pt!==null;){var s=pt,i=s.child;if(s.tag===22&&a){var o=s.memoizedState!==null||Cv;if(!o){var l=s.alternate,d=l!==null&&l.memoizedState!==null||Qa;l=Cv;var u=Qa;if(Cv=o,(Qa=d)&&!u)for(pt=s;pt!==null;)o=pt,d=o.child,o.tag===22&&o.memoizedState!==null?_O(s):d!==null?(d.return=o,pt=d):_O(s);for(;i!==null;)pt=i,N7(i),i=i.sibling;pt=s,Cv=l,Qa=u}EO(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,pt=i):EO(e)}}function EO(e){for(;pt!==null;){var t=pt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qa||rw(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Qa)if(r===null)a.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:io(t.type,r.memoizedProps);a.componentDidUpdate(s,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uO(t,i,a);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}uO(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&r.focus();break;case"img":d.src&&(r.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Hx(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(We(163))}Qa||t.flags&512&&zC(t)}catch(x){Bn(t,t.return,x)}}if(t===e){pt=null;break}if(r=t.sibling,r!==null){r.return=t.return,pt=r;break}pt=t.return}}function TO(e){for(;pt!==null;){var t=pt;if(t===e){pt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,pt=r;break}pt=t.return}}function _O(e){for(;pt!==null;){var t=pt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{rw(4,t)}catch(d){Bn(t,r,d)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var s=t.return;try{a.componentDidMount()}catch(d){Bn(t,s,d)}}var i=t.return;try{zC(t)}catch(d){Bn(t,i,d)}break;case 5:var o=t.return;try{zC(t)}catch(d){Bn(t,o,d)}}}catch(d){Bn(t,t.return,d)}if(t===e){pt=null;break}var l=t.sibling;if(l!==null){l.return=t.return,pt=l;break}pt=t.return}}var XQ=Math.ceil,e1=gc.ReactCurrentDispatcher,ST=gc.ReactCurrentOwner,zi=gc.ReactCurrentBatchConfig,Nr=0,_a=null,Zn=null,za=0,Qs=0,af=Dd(0),pa=0,rg=null,Uu=0,nw=0,AT=0,wx=null,Ps=null,ET=0,tm=1/0,Dl=null,t1=!1,HC=null,hd=null,Sv=!1,nd=null,r1=0,jx=0,qC=null,my=-1,py=0;function xs(){return Nr&6?Kn():my!==-1?my:my=Kn()}function fd(e){return e.mode&1?Nr&2&&za!==0?za&-za:IQ.transition!==null?(py===0&&(py=oL()),py):(e=$r,e!==0||(e=window.event,e=e===void 0?16:mL(e.type)),e):1}function Co(e,t,r,a){if(50<jx)throw jx=0,qC=null,Error(We(185));p0(e,r,a),(!(Nr&2)||e!==_a)&&(e===_a&&(!(Nr&2)&&(nw|=r),pa===4&&Uc(e,za)),Ds(e,a),r===1&&Nr===0&&!(t.mode&1)&&(tm=Kn()+500,Jb&&Ld()))}function Ds(e,t){var r=e.callbackNode;IX(e,t);var a=By(e,e===_a?za:0);if(a===0)r!==null&&FP(r),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(r!=null&&FP(r),t===1)e.tag===0?kQ(PO.bind(null,e)):IL(PO.bind(null,e)),TQ(function(){!(Nr&6)&&Ld()}),r=null;else{switch(lL(a)){case 1:r=JE;break;case 4:r=sL;break;case 16:r=Fy;break;case 536870912:r=iL;break;default:r=Fy}r=O7(r,C7.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function C7(e,t){if(my=-1,py=0,Nr&6)throw Error(We(327));var r=e.callbackNode;if(Cf()&&e.callbackNode!==r)return null;var a=By(e,e===_a?za:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=n1(e,a);else{t=a;var s=Nr;Nr|=2;var i=A7();(_a!==e||za!==t)&&(Dl=null,tm=Kn()+500,ku(e,t));do try{JQ();break}catch(l){S7(e,l)}while(!0);hT(),e1.current=i,Nr=s,Zn!==null?t=0:(_a=null,za=0,t=pa)}if(t!==0){if(t===2&&(s=yC(e),s!==0&&(a=s,t=GC(e,s))),t===1)throw r=rg,ku(e,0),Uc(e,a),Ds(e,Kn()),r;if(t===6)Uc(e,a);else{if(s=e.current.alternate,!(a&30)&&!QQ(s)&&(t=n1(e,a),t===2&&(i=yC(e),i!==0&&(a=i,t=GC(e,i))),t===1))throw r=rg,ku(e,0),Uc(e,a),Ds(e,Kn()),r;switch(e.finishedWork=s,e.finishedLanes=a,t){case 0:case 1:throw Error(We(345));case 2:iu(e,Ps,Dl);break;case 3:if(Uc(e,a),(a&130023424)===a&&(t=ET+500-Kn(),10<t)){if(By(e,0)!==0)break;if(s=e.suspendedLanes,(s&a)!==a){xs(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=EC(iu.bind(null,e,Ps,Dl),t);break}iu(e,Ps,Dl);break;case 4:if(Uc(e,a),(a&4194240)===a)break;for(t=e.eventTimes,s=-1;0<a;){var o=31-No(a);i=1<<o,o=t[o],o>s&&(s=o),a&=~i}if(a=s,a=Kn()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*XQ(a/1960))-a,10<a){e.timeoutHandle=EC(iu.bind(null,e,Ps,Dl),a);break}iu(e,Ps,Dl);break;case 5:iu(e,Ps,Dl);break;default:throw Error(We(329))}}}return Ds(e,Kn()),e.callbackNode===r?C7.bind(null,e):null}function GC(e,t){var r=wx;return e.current.memoizedState.isDehydrated&&(ku(e,t).flags|=256),e=n1(e,t),e!==2&&(t=Ps,Ps=r,t!==null&&KC(t)),e}function KC(e){Ps===null?Ps=e:Ps.push.apply(Ps,e)}function QQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var s=r[a],i=s.getSnapshot;s=s.value;try{if(!To(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Uc(e,t){for(t&=~AT,t&=~nw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-No(t),a=1<<r;e[r]=-1,t&=~a}}function PO(e){if(Nr&6)throw Error(We(327));Cf();var t=By(e,0);if(!(t&1))return Ds(e,Kn()),null;var r=n1(e,t);if(e.tag!==0&&r===2){var a=yC(e);a!==0&&(t=a,r=GC(e,a))}if(r===1)throw r=rg,ku(e,0),Uc(e,t),Ds(e,Kn()),r;if(r===6)throw Error(We(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,iu(e,Ps,Dl),Ds(e,Kn()),null}function TT(e,t){var r=Nr;Nr|=1;try{return e(t)}finally{Nr=r,Nr===0&&(tm=Kn()+500,Jb&&Ld())}}function Wu(e){nd!==null&&nd.tag===0&&!(Nr&6)&&Cf();var t=Nr;Nr|=1;var r=zi.transition,a=$r;try{if(zi.transition=null,$r=1,e)return e()}finally{$r=a,zi.transition=r,Nr=t,!(Nr&6)&&Ld()}}function _T(){Qs=af.current,dn(af)}function ku(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,EQ(r)),Zn!==null)for(r=Zn.return;r!==null;){var a=r;switch(cT(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Wy();break;case 3:Jf(),dn(Ms),dn(es),vT();break;case 5:gT(a);break;case 4:Jf();break;case 13:dn(En);break;case 19:dn(En);break;case 10:fT(a.type._context);break;case 22:case 23:_T()}r=r.return}if(_a=e,Zn=e=md(e.current,null),za=Qs=t,pa=0,rg=null,AT=nw=Uu=0,Ps=wx=null,gu!==null){for(t=0;t<gu.length;t++)if(r=gu[t],a=r.interleaved,a!==null){r.interleaved=null;var s=a.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,a.next=o}r.pending=a}gu=null}return e}function S7(e,t){do{var r=Zn;try{if(hT(),uy.current=Jy,Zy){for(var a=On.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Zy=!1}if(zu=0,Na=ua=On=null,yx=!1,Jx=0,ST.current=null,r===null||r.return===null){pa=1,rg=t,Zn=null;break}e:{var i=e,o=r.return,l=r,d=t;if(t=za,l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var u=d,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var x=f.alternate;x?(f.updateQueue=x.updateQueue,f.memoizedState=x.memoizedState,f.lanes=x.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=gO(o);if(y!==null){y.flags&=-257,vO(y,o,l,i,t),y.mode&1&&xO(i,u,t),t=y,d=u;var j=t.updateQueue;if(j===null){var w=new Set;w.add(d),t.updateQueue=w}else j.add(d);break e}else{if(!(t&1)){xO(i,u,t),PT();break e}d=Error(We(426))}}else if(yn&&l.mode&1){var C=gO(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),vO(C,o,l,i,t),dT(em(d,l));break e}}i=d=em(d,l),pa!==4&&(pa=2),wx===null?wx=[i]:wx.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var N=l7(i,d,t);dO(i,N);break e;case 1:l=d;var S=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(hd===null||!hd.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var I=c7(i,l,t);dO(i,I);break e}}i=i.return}while(i!==null)}T7(r)}catch(T){t=T,Zn===r&&r!==null&&(Zn=r=r.return);continue}break}while(!0)}function A7(){var e=e1.current;return e1.current=Jy,e===null?Jy:e}function PT(){(pa===0||pa===3||pa===2)&&(pa=4),_a===null||!(Uu&268435455)&&!(nw&268435455)||Uc(_a,za)}function n1(e,t){var r=Nr;Nr|=2;var a=A7();(_a!==e||za!==t)&&(Dl=null,ku(e,t));do try{ZQ();break}catch(s){S7(e,s)}while(!0);if(hT(),Nr=r,e1.current=a,Zn!==null)throw Error(We(261));return _a=null,za=0,pa}function ZQ(){for(;Zn!==null;)E7(Zn)}function JQ(){for(;Zn!==null&&!CX();)E7(Zn)}function E7(e){var t=P7(e.alternate,e,Qs);e.memoizedProps=e.pendingProps,t===null?T7(e):Zn=t,ST.current=null}function T7(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qQ(r,t),r!==null){r.flags&=32767,Zn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pa=6,Zn=null;return}}else if(r=HQ(r,t,Qs),r!==null){Zn=r;return}if(t=t.sibling,t!==null){Zn=t;return}Zn=t=e}while(t!==null);pa===0&&(pa=5)}function iu(e,t,r){var a=$r,s=zi.transition;try{zi.transition=null,$r=1,eZ(e,t,r,a)}finally{zi.transition=s,$r=a}return null}function eZ(e,t,r,a){do Cf();while(nd!==null);if(Nr&6)throw Error(We(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(We(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(MX(e,i),e===_a&&(Zn=_a=null,za=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Sv||(Sv=!0,O7(Fy,function(){return Cf(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zi.transition,zi.transition=null;var o=$r;$r=1;var l=Nr;Nr|=4,ST.current=null,KQ(e,r),j7(r,e),bQ(SC),$y=!!CC,SC=CC=null,e.current=r,YQ(r),SX(),Nr=l,$r=o,zi.transition=i}else e.current=r;if(Sv&&(Sv=!1,nd=e,r1=s),i=e.pendingLanes,i===0&&(hd=null),TX(r.stateNode),Ds(e,Kn()),t!==null)for(a=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],a(s.value,{componentStack:s.stack,digest:s.digest});if(t1)throw t1=!1,e=HC,HC=null,e;return r1&1&&e.tag!==0&&Cf(),i=e.pendingLanes,i&1?e===qC?jx++:(jx=0,qC=e):jx=0,Ld(),null}function Cf(){if(nd!==null){var e=lL(r1),t=zi.transition,r=$r;try{if(zi.transition=null,$r=16>e?16:e,nd===null)var a=!1;else{if(e=nd,nd=null,r1=0,Nr&6)throw Error(We(331));var s=Nr;for(Nr|=4,pt=e.current;pt!==null;){var i=pt,o=i.child;if(pt.flags&16){var l=i.deletions;if(l!==null){for(var d=0;d<l.length;d++){var u=l[d];for(pt=u;pt!==null;){var f=pt;switch(f.tag){case 0:case 11:case 15:bx(8,f,i)}var p=f.child;if(p!==null)p.return=f,pt=p;else for(;pt!==null;){f=pt;var x=f.sibling,y=f.return;if(y7(f),f===u){pt=null;break}if(x!==null){x.return=y,pt=x;break}pt=y}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}pt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,pt=o;else e:for(;pt!==null;){if(i=pt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bx(9,i,i.return)}var N=i.sibling;if(N!==null){N.return=i.return,pt=N;break e}pt=i.return}}var S=e.current;for(pt=S;pt!==null;){o=pt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,pt=_;else e:for(o=S;pt!==null;){if(l=pt,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:rw(9,l)}}catch(T){Bn(l,l.return,T)}if(l===o){pt=null;break e}var I=l.sibling;if(I!==null){I.return=l.return,pt=I;break e}pt=l.return}}if(Nr=s,Ld(),rl&&typeof rl.onPostCommitFiberRoot=="function")try{rl.onPostCommitFiberRoot(Kb,e)}catch{}a=!0}return a}finally{$r=r,zi.transition=t}}return!1}function OO(e,t,r){t=em(r,t),t=l7(e,t,1),e=ud(e,t,1),t=xs(),e!==null&&(p0(e,1,t),Ds(e,t))}function Bn(e,t,r){if(e.tag===3)OO(e,e,r);else for(;t!==null;){if(t.tag===3){OO(t,e,r);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(hd===null||!hd.has(a))){e=em(r,e),e=c7(t,e,1),t=ud(t,e,1),e=xs(),t!==null&&(p0(t,1,e),Ds(t,e));break}}t=t.return}}function tZ(e,t,r){var a=e.pingCache;a!==null&&a.delete(t),t=xs(),e.pingedLanes|=e.suspendedLanes&r,_a===e&&(za&r)===r&&(pa===4||pa===3&&(za&130023424)===za&&500>Kn()-ET?ku(e,0):AT|=r),Ds(e,t)}function _7(e,t){t===0&&(e.mode&1?(t=pv,pv<<=1,!(pv&130023424)&&(pv=4194304)):t=1);var r=xs();e=sc(e,t),e!==null&&(p0(e,t,r),Ds(e,r))}function rZ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),_7(e,r)}function nZ(e,t){var r=0;switch(e.tag){case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(We(314))}a!==null&&a.delete(t),_7(e,r)}var P7;P7=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ms.current)Os=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Os=!1,WQ(e,t,r);Os=!!(e.flags&131072)}else Os=!1,yn&&t.flags&1048576&&ML(t,Gy,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;fy(e,t),e=t.pendingProps;var s=Xf(t,es.current);Nf(t,r),s=bT(null,t,a,e,s,r);var i=wT();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rs(a)?(i=!0,Hy(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pT(t),s.updater=tw,t.stateNode=s,s._reactInternals=t,MC(t,a,e,r),t=LC(null,t,a,!0,i,r)):(t.tag=0,yn&&i&&lT(t),ls(null,t,s,r),t=t.child),t;case 16:a=t.elementType;e:{switch(fy(e,t),e=t.pendingProps,s=a._init,a=s(a._payload),t.type=a,s=t.tag=sZ(a),e=io(a,e),s){case 0:t=DC(null,t,a,e,r);break e;case 1:t=wO(null,t,a,e,r);break e;case 11:t=yO(null,t,a,e,r);break e;case 14:t=bO(null,t,a,io(a.type,e),r);break e}throw Error(We(306,a,""))}return t;case 0:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:io(a,s),DC(e,t,a,s,r);case 1:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:io(a,s),wO(e,t,a,s,r);case 3:e:{if(f7(t),e===null)throw Error(We(387));a=t.pendingProps,i=t.memoizedState,s=i.element,$L(e,t),Xy(t,a,null,r);var o=t.memoizedState;if(a=o.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=em(Error(We(423)),t),t=jO(e,t,a,r,s);break e}else if(a!==s){s=em(Error(We(424)),t),t=jO(e,t,a,r,s);break e}else for(ai=dd(t.stateNode.containerInfo.firstChild),si=t,yn=!0,fo=null,r=FL(t,null,a,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qf(),a===s){t=ic(e,t,r);break e}ls(e,t,a,r)}t=t.child}return t;case 5:return VL(t),e===null&&OC(t),a=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,AC(a,s)?o=null:i!==null&&AC(a,i)&&(t.flags|=32),h7(e,t),ls(e,t,o,r),t.child;case 6:return e===null&&OC(t),null;case 13:return m7(e,t,r);case 4:return xT(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Zf(t,null,a,r):ls(e,t,a,r),t.child;case 11:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:io(a,s),yO(e,t,a,s,r);case 7:return ls(e,t,t.pendingProps,r),t.child;case 8:return ls(e,t,t.pendingProps.children,r),t.child;case 12:return ls(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(a=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,en(Ky,a._currentValue),a._currentValue=o,i!==null)if(To(i.value,o)){if(i.children===s.children&&!Ms.current){t=ic(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var d=l.firstContext;d!==null;){if(d.context===a){if(i.tag===1){d=Kl(-1,r&-r),d.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?d.next=d:(d.next=f.next,f.next=d),u.pending=d}}i.lanes|=r,d=i.alternate,d!==null&&(d.lanes|=r),kC(i.return,r,t),l.lanes|=r;break}d=d.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(We(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),kC(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ls(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,a=t.pendingProps.children,Nf(t,r),s=Gi(s),a=a(s),t.flags|=1,ls(e,t,a,r),t.child;case 14:return a=t.type,s=io(a,t.pendingProps),s=io(a.type,s),bO(e,t,a,s,r);case 15:return d7(e,t,t.type,t.pendingProps,r);case 17:return a=t.type,s=t.pendingProps,s=t.elementType===a?s:io(a,s),fy(e,t),t.tag=1,Rs(a)?(e=!0,Hy(t)):e=!1,Nf(t,r),o7(t,a,s),MC(t,a,s,r),LC(null,t,a,!0,e,r);case 19:return p7(e,t,r);case 22:return u7(e,t,r)}throw Error(We(156,t.tag))};function O7(e,t){return aL(e,t)}function aZ(e,t,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fi(e,t,r,a){return new aZ(e,t,r,a)}function OT(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sZ(e){if(typeof e=="function")return OT(e)?1:0;if(e!=null){if(e=e.$$typeof,e===XE)return 11;if(e===QE)return 14}return 2}function md(e,t){var r=e.alternate;return r===null?(r=Fi(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xy(e,t,r,a,s,i){var o=2;if(a=e,typeof e=="function")OT(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kh:return Iu(r.children,s,i,t);case YE:o=8,s|=8;break;case aC:return e=Fi(12,r,t,s|2),e.elementType=aC,e.lanes=i,e;case sC:return e=Fi(13,r,t,s),e.elementType=sC,e.lanes=i,e;case iC:return e=Fi(19,r,t,s),e.elementType=iC,e.lanes=i,e;case V6:return aw(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B6:o=10;break e;case $6:o=9;break e;case XE:o=11;break e;case QE:o=14;break e;case Bc:o=16,a=null;break e}throw Error(We(130,e==null?e:typeof e,""))}return t=Fi(o,r,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function Iu(e,t,r,a){return e=Fi(7,e,a,t),e.lanes=r,e}function aw(e,t,r,a){return e=Fi(22,e,a,t),e.elementType=V6,e.lanes=r,e.stateNode={isHidden:!1},e}function D2(e,t,r){return e=Fi(6,e,null,t),e.lanes=r,e}function L2(e,t,r){return t=Fi(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iZ(e,t,r,a,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g2(0),this.expirationTimes=g2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g2(0),this.identifierPrefix=a,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kT(e,t,r,a,s,i,o,l,d){return e=new iZ(e,t,r,l,d),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pT(i),e}function oZ(e,t,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gh,key:a==null?null:""+a,children:e,containerInfo:t,implementation:r}}function k7(e){if(!e)return wd;e=e._reactInternals;e:{if(hh(e)!==e||e.tag!==1)throw Error(We(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(We(171))}if(e.tag===1){var r=e.type;if(Rs(r))return kL(e,r,t)}return t}function I7(e,t,r,a,s,i,o,l,d){return e=kT(r,a,!0,e,s,i,o,l,d),e.context=k7(null),r=e.current,a=xs(),s=fd(r),i=Kl(a,s),i.callback=t??null,ud(r,i,s),e.current.lanes=s,p0(e,s,a),Ds(e,a),e}function sw(e,t,r,a){var s=t.current,i=xs(),o=fd(s);return r=k7(r),t.context===null?t.context=r:t.pendingContext=r,t=Kl(i,o),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=ud(s,t,o),e!==null&&(Co(e,s,o,i),dy(e,s,o)),o}function a1(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function IT(e,t){kO(e,t),(e=e.alternate)&&kO(e,t)}function lZ(){return null}var M7=typeof reportError=="function"?reportError:function(e){console.error(e)};function MT(e){this._internalRoot=e}iw.prototype.render=MT.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(We(409));sw(e,t,null,null)};iw.prototype.unmount=MT.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wu(function(){sw(null,e,null,null)}),t[ac]=null}};function iw(e){this._internalRoot=e}iw.prototype.unstable_scheduleHydration=function(e){if(e){var t=uL();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zc.length&&t!==0&&t<zc[r].priority;r++);zc.splice(r,0,e),r===0&&fL(e)}};function RT(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ow(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function IO(){}function cZ(e,t,r,a,s){if(s){if(typeof a=="function"){var i=a;a=function(){var u=a1(o);i.call(u)}}var o=I7(t,a,e,0,null,!1,!1,"",IO);return e._reactRootContainer=o,e[ac]=o.current,Kx(e.nodeType===8?e.parentNode:e),Wu(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof a=="function"){var l=a;a=function(){var u=a1(d);l.call(u)}}var d=kT(e,0,!1,null,null,!1,!1,"",IO);return e._reactRootContainer=d,e[ac]=d.current,Kx(e.nodeType===8?e.parentNode:e),Wu(function(){sw(t,d,r,a)}),d}function lw(e,t,r,a,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var d=a1(o);l.call(d)}}sw(t,o,e,s)}else o=cZ(r,t,e,s,a);return a1(o)}cL=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ex(t.pendingLanes);r!==0&&(eT(t,r|1),Ds(t,Kn()),!(Nr&6)&&(tm=Kn()+500,Ld()))}break;case 13:Wu(function(){var a=sc(e,1);if(a!==null){var s=xs();Co(a,e,1,s)}}),IT(e,1)}};tT=function(e){if(e.tag===13){var t=sc(e,134217728);if(t!==null){var r=xs();Co(t,e,134217728,r)}IT(e,134217728)}};dL=function(e){if(e.tag===13){var t=fd(e),r=sc(e,t);if(r!==null){var a=xs();Co(r,e,t,a)}IT(e,t)}};uL=function(){return $r};hL=function(e,t){var r=$r;try{return $r=e,t()}finally{$r=r}};xC=function(e,t,r){switch(t){case"input":if(cC(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var a=r[t];if(a!==e&&a.form===e.form){var s=Zb(a);if(!s)throw Error(We(90));U6(a),cC(a,s)}}}break;case"textarea":H6(e,r);break;case"select":t=r.value,t!=null&&yf(e,!!r.multiple,t,!1)}};Z6=TT;J6=Wu;var dZ={usingClientEntryPoint:!1,Events:[g0,Zh,Zb,X6,Q6,TT]},Mp={findFiberByHostInstance:xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uZ={bundleType:Mp.bundleType,version:Mp.version,rendererPackageName:Mp.rendererPackageName,rendererConfig:Mp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=rL(e),e===null?null:e.stateNode},findFiberByHostInstance:Mp.findFiberByHostInstance||lZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Av=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Av.isDisabled&&Av.supportsFiber)try{Kb=Av.inject(uZ),rl=Av}catch{}}xi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dZ;xi.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RT(t))throw Error(We(200));return oZ(e,t,null,r)};xi.createRoot=function(e,t){if(!RT(e))throw Error(We(299));var r=!1,a="",s=M7;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kT(e,1,!1,null,null,r,!1,a,s),e[ac]=t.current,Kx(e.nodeType===8?e.parentNode:e),new MT(t)};xi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(We(188)):(e=Object.keys(e).join(","),Error(We(268,e)));return e=rL(t),e=e===null?null:e.stateNode,e};xi.flushSync=function(e){return Wu(e)};xi.hydrate=function(e,t,r){if(!ow(t))throw Error(We(200));return lw(null,e,t,!0,r)};xi.hydrateRoot=function(e,t,r){if(!RT(e))throw Error(We(405));var a=r!=null&&r.hydratedSources||null,s=!1,i="",o=M7;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=I7(t,null,e,1,r??null,s,!1,i,o),e[ac]=t.current,Kx(e),a)for(e=0;e<a.length;e++)r=a[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new iw(t)};xi.render=function(e,t,r){if(!ow(t))throw Error(We(200));return lw(null,e,t,!1,r)};xi.unmountComponentAtNode=function(e){if(!ow(e))throw Error(We(40));return e._reactRootContainer?(Wu(function(){lw(null,null,e,!1,function(){e._reactRootContainer=null,e[ac]=null})}),!0):!1};xi.unstable_batchedUpdates=TT;xi.unstable_renderSubtreeIntoContainer=function(e,t,r,a){if(!ow(r))throw Error(We(200));if(e==null||e._reactInternals===void 0)throw Error(We(38));return lw(e,t,r,!1,a)};xi.version="18.3.1-next-f1338f8080-20240426";function R7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R7)}catch(e){console.error(e)}}R7(),R6.exports=xi;var fh=R6.exports;const hZ=br(fh);var D7,MO=fh;D7=MO.createRoot,MO.hydrateRoot;var L7={exports:{}},fZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",mZ=fZ,pZ=mZ;function F7(){}function B7(){}B7.resetWarningCache=F7;var xZ=function(){function e(a,s,i,o,l,d){if(d!==pZ){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:B7,resetWarningCache:F7};return r.PropTypes=r,r};L7.exports=xZ();var gZ=L7.exports;const Ct=br(gZ);function vZ(e){return e&&typeof e=="object"&&"default"in e?e.default:e}var $7=E,yZ=vZ($7);function RO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var wZ=!!(typeof window<"u"&&window.document&&window.document.createElement);function jZ(e,t,r){if(typeof e!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof t!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function a(s){return s.displayName||s.name||"Component"}return function(i){if(typeof i!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],l;function d(){l=e(o.map(function(f){return f.props})),u.canUseDOM?t(l):r&&(l=r(l))}var u=function(f){bZ(p,f);function p(){return f.apply(this,arguments)||this}p.peek=function(){return l},p.rewind=function(){if(p.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var j=l;return l=void 0,o=[],j};var x=p.prototype;return x.UNSAFE_componentWillMount=function(){o.push(this),d()},x.componentDidUpdate=function(){d()},x.componentWillUnmount=function(){var j=o.indexOf(this);o.splice(j,1),d()},x.render=function(){return yZ.createElement(i,this.props)},p}($7.PureComponent);return RO(u,"displayName","SideEffect("+a(i)+")"),RO(u,"canUseDOM",wZ),u}}var NZ=jZ;const CZ=br(NZ);var SZ=typeof Element<"u",AZ=typeof Map=="function",EZ=typeof Set=="function",TZ=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function gy(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!gy(e[a],t[a]))return!1;return!0}var i;if(AZ&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;for(i=e.entries();!(a=i.next()).done;)if(!gy(a.value[1],t.get(a.value[0])))return!1;return!0}if(EZ&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(a=i.next()).done;)if(!t.has(a.value[0]))return!1;return!0}if(TZ&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[a]))return!1;if(SZ&&e instanceof Element)return!1;for(a=r;a--!==0;)if(!((s[a]==="_owner"||s[a]==="__v"||s[a]==="__o")&&e.$$typeof)&&!gy(e[s[a]],t[s[a]]))return!1;return!0}return e!==e&&t!==t}var _Z=function(t,r){try{return gy(t,r)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const PZ=br(_Z);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var DO=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable;function IZ(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function MZ(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var a=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(a.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(i){s[i]=i}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var RZ=MZ()?Object.assign:function(e,t){for(var r,a=IZ(e),s,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var o in r)OZ.call(r,o)&&(a[o]=r[o]);if(DO){s=DO(r);for(var l=0;l<s.length;l++)kZ.call(r,s[l])&&(a[s[l]]=r[s[l]])}}return a};const DZ=br(RZ);var Mu={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Kt={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Kt).map(function(e){return Kt[e]});var vn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},s1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},ng={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},LZ=Object.keys(s1).reduce(function(e,t){return e[s1[t]]=t,e},{}),FZ=[Kt.NOSCRIPT,Kt.SCRIPT,Kt.STYLE],vo="data-react-helmet",BZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$Z=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},VZ=function(){function e(t,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},zZ=function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},LO=function(e,t){var r={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r},UZ=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e},YC=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},WZ=function(t){var r=Sf(t,Kt.TITLE),a=Sf(t,ng.TITLE_TEMPLATE);if(a&&r)return a.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var s=Sf(t,ng.DEFAULT_TITLE);return r||s||void 0},HZ=function(t){return Sf(t,ng.ON_CHANGE_CLIENT_STATE)||function(){}},F2=function(t,r){return r.filter(function(a){return typeof a[t]<"u"}).map(function(a){return a[t]}).reduce(function(a,s){return Es({},a,s)},{})},qZ=function(t,r){return r.filter(function(a){return typeof a[Kt.BASE]<"u"}).map(function(a){return a[Kt.BASE]}).reverse().reduce(function(a,s){if(!a.length)for(var i=Object.keys(s),o=0;o<i.length;o++){var l=i[o],d=l.toLowerCase();if(t.indexOf(d)!==-1&&s[d])return a.concat(s)}return a},[])},Rp=function(t,r,a){var s={};return a.filter(function(i){return Array.isArray(i[t])?!0:(typeof i[t]<"u"&&XZ("Helmet: "+t+' should be of type "Array". Instead found type "'+BZ(i[t])+'"'),!1)}).map(function(i){return i[t]}).reverse().reduce(function(i,o){var l={};o.filter(function(x){for(var y=void 0,j=Object.keys(x),w=0;w<j.length;w++){var C=j[w],N=C.toLowerCase();r.indexOf(N)!==-1&&!(y===vn.REL&&x[y].toLowerCase()==="canonical")&&!(N===vn.REL&&x[N].toLowerCase()==="stylesheet")&&(y=N),r.indexOf(C)!==-1&&(C===vn.INNER_HTML||C===vn.CSS_TEXT||C===vn.ITEM_PROP)&&(y=C)}if(!y||!x[y])return!1;var S=x[y].toLowerCase();return s[y]||(s[y]={}),l[y]||(l[y]={}),s[y][S]?!1:(l[y][S]=!0,!0)}).reverse().forEach(function(x){return i.push(x)});for(var d=Object.keys(l),u=0;u<d.length;u++){var f=d[u],p=DZ({},s[f],l[f]);s[f]=p}return i},[]).reverse()},Sf=function(t,r){for(var a=t.length-1;a>=0;a--){var s=t[a];if(s.hasOwnProperty(r))return s[r]}return null},GZ=function(t){return{baseTag:qZ([vn.HREF,vn.TARGET],t),bodyAttributes:F2(Mu.BODY,t),defer:Sf(t,ng.DEFER),encode:Sf(t,ng.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:F2(Mu.HTML,t),linkTags:Rp(Kt.LINK,[vn.REL,vn.HREF],t),metaTags:Rp(Kt.META,[vn.NAME,vn.CHARSET,vn.HTTPEQUIV,vn.PROPERTY,vn.ITEM_PROP],t),noscriptTags:Rp(Kt.NOSCRIPT,[vn.INNER_HTML],t),onChangeClientState:HZ(t),scriptTags:Rp(Kt.SCRIPT,[vn.SRC,vn.INNER_HTML],t),styleTags:Rp(Kt.STYLE,[vn.CSS_TEXT],t),title:WZ(t),titleAttributes:F2(Mu.TITLE,t)}},XC=function(){var e=Date.now();return function(t){var r=Date.now();r-e>16?(e=r,t(r)):setTimeout(function(){XC(t)},0)}}(),FO=function(t){return clearTimeout(t)},KZ=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||XC:global.requestAnimationFrame||XC,YZ=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||FO:global.cancelAnimationFrame||FO,XZ=function(t){return console&&typeof console.warn=="function"&&console.warn(t)},Dp=null,QZ=function(t){Dp&&YZ(Dp),t.defer?Dp=KZ(function(){BO(t,function(){Dp=null})}):(BO(t),Dp=null)},BO=function(t,r){var a=t.baseTag,s=t.bodyAttributes,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,d=t.noscriptTags,u=t.onChangeClientState,f=t.scriptTags,p=t.styleTags,x=t.title,y=t.titleAttributes;QC(Kt.BODY,s),QC(Kt.HTML,i),ZZ(x,y);var j={baseTag:Rh(Kt.BASE,a),linkTags:Rh(Kt.LINK,o),metaTags:Rh(Kt.META,l),noscriptTags:Rh(Kt.NOSCRIPT,d),scriptTags:Rh(Kt.SCRIPT,f),styleTags:Rh(Kt.STYLE,p)},w={},C={};Object.keys(j).forEach(function(N){var S=j[N],_=S.newTags,I=S.oldTags;_.length&&(w[N]=_),I.length&&(C[N]=j[N].oldTags)}),r&&r(),u(t,w,C)},V7=function(t){return Array.isArray(t)?t.join(""):t},ZZ=function(t,r){typeof t<"u"&&document.title!==t&&(document.title=V7(t)),QC(Kt.TITLE,r)},QC=function(t,r){var a=document.getElementsByTagName(t)[0];if(a){for(var s=a.getAttribute(vo),i=s?s.split(","):[],o=[].concat(i),l=Object.keys(r),d=0;d<l.length;d++){var u=l[d],f=r[u]||"";a.getAttribute(u)!==f&&a.setAttribute(u,f),i.indexOf(u)===-1&&i.push(u);var p=o.indexOf(u);p!==-1&&o.splice(p,1)}for(var x=o.length-1;x>=0;x--)a.removeAttribute(o[x]);i.length===o.length?a.removeAttribute(vo):a.getAttribute(vo)!==l.join(",")&&a.setAttribute(vo,l.join(","))}},Rh=function(t,r){var a=document.head||document.querySelector(Kt.HEAD),s=a.querySelectorAll(t+"["+vo+"]"),i=Array.prototype.slice.call(s),o=[],l=void 0;return r&&r.length&&r.forEach(function(d){var u=document.createElement(t);for(var f in d)if(d.hasOwnProperty(f))if(f===vn.INNER_HTML)u.innerHTML=d.innerHTML;else if(f===vn.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=d.cssText:u.appendChild(document.createTextNode(d.cssText));else{var p=typeof d[f]>"u"?"":d[f];u.setAttribute(f,p)}u.setAttribute(vo,"true"),i.some(function(x,y){return l=y,u.isEqualNode(x)})?i.splice(l,1):o.push(u)}),i.forEach(function(d){return d.parentNode.removeChild(d)}),o.forEach(function(d){return a.appendChild(d)}),{oldTags:i,newTags:o}},z7=function(t){return Object.keys(t).reduce(function(r,a){var s=typeof t[a]<"u"?a+'="'+t[a]+'"':""+a;return r?r+" "+s:s},"")},JZ=function(t,r,a,s){var i=z7(a),o=V7(r);return i?"<"+t+" "+vo+'="true" '+i+">"+YC(o,s)+"</"+t+">":"<"+t+" "+vo+'="true">'+YC(o,s)+"</"+t+">"},eJ=function(t,r,a){return r.reduce(function(s,i){var o=Object.keys(i).filter(function(u){return!(u===vn.INNER_HTML||u===vn.CSS_TEXT)}).reduce(function(u,f){var p=typeof i[f]>"u"?f:f+'="'+YC(i[f],a)+'"';return u?u+" "+p:p},""),l=i.innerHTML||i.cssText||"",d=FZ.indexOf(t)===-1;return s+"<"+t+" "+vo+'="true" '+o+(d?"/>":">"+l+"</"+t+">")},"")},U7=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,s){return a[s1[s]||s]=t[s],a},r)},tJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(t).reduce(function(a,s){return a[LZ[s]||s]=t[s],a},r)},rJ=function(t,r,a){var s,i=(s={key:r},s[vo]=!0,s),o=U7(a,i);return[Q.createElement(Kt.TITLE,o,r)]},nJ=function(t,r){return r.map(function(a,s){var i,o=(i={key:s},i[vo]=!0,i);return Object.keys(a).forEach(function(l){var d=s1[l]||l;if(d===vn.INNER_HTML||d===vn.CSS_TEXT){var u=a.innerHTML||a.cssText;o.dangerouslySetInnerHTML={__html:u}}else o[d]=a[l]}),Q.createElement(t,o)})},Tl=function(t,r,a){switch(t){case Kt.TITLE:return{toComponent:function(){return rJ(t,r.title,r.titleAttributes)},toString:function(){return JZ(t,r.title,r.titleAttributes,a)}};case Mu.BODY:case Mu.HTML:return{toComponent:function(){return U7(r)},toString:function(){return z7(r)}};default:return{toComponent:function(){return nJ(t,r)},toString:function(){return eJ(t,r,a)}}}},W7=function(t){var r=t.baseTag,a=t.bodyAttributes,s=t.encode,i=t.htmlAttributes,o=t.linkTags,l=t.metaTags,d=t.noscriptTags,u=t.scriptTags,f=t.styleTags,p=t.title,x=p===void 0?"":p,y=t.titleAttributes;return{base:Tl(Kt.BASE,r,s),bodyAttributes:Tl(Mu.BODY,a,s),htmlAttributes:Tl(Mu.HTML,i,s),link:Tl(Kt.LINK,o,s),meta:Tl(Kt.META,l,s),noscript:Tl(Kt.NOSCRIPT,d,s),script:Tl(Kt.SCRIPT,u,s),style:Tl(Kt.STYLE,f,s),title:Tl(Kt.TITLE,{title:x,titleAttributes:y},s)}},aJ=function(t){var r,a;return a=r=function(s){zZ(i,s);function i(){return $Z(this,i),UZ(this,s.apply(this,arguments))}return i.prototype.shouldComponentUpdate=function(l){return!PZ(this.props,l)},i.prototype.mapNestedChildrenToProps=function(l,d){if(!d)return null;switch(l.type){case Kt.SCRIPT:case Kt.NOSCRIPT:return{innerHTML:d};case Kt.STYLE:return{cssText:d}}throw new Error("<"+l.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},i.prototype.flattenArrayTypeChildren=function(l){var d,u=l.child,f=l.arrayTypeChildren,p=l.newChildProps,x=l.nestedChildren;return Es({},f,(d={},d[u.type]=[].concat(f[u.type]||[],[Es({},p,this.mapNestedChildrenToProps(u,x))]),d))},i.prototype.mapObjectTypeChildren=function(l){var d,u,f=l.child,p=l.newProps,x=l.newChildProps,y=l.nestedChildren;switch(f.type){case Kt.TITLE:return Es({},p,(d={},d[f.type]=y,d.titleAttributes=Es({},x),d));case Kt.BODY:return Es({},p,{bodyAttributes:Es({},x)});case Kt.HTML:return Es({},p,{htmlAttributes:Es({},x)})}return Es({},p,(u={},u[f.type]=Es({},x),u))},i.prototype.mapArrayTypeChildrenToProps=function(l,d){var u=Es({},d);return Object.keys(l).forEach(function(f){var p;u=Es({},u,(p={},p[f]=l[f],p))}),u},i.prototype.warnOnInvalidChildren=function(l,d){return!0},i.prototype.mapChildrenToProps=function(l,d){var u=this,f={};return Q.Children.forEach(l,function(p){if(!(!p||!p.props)){var x=p.props,y=x.children,j=LO(x,["children"]),w=tJ(j);switch(u.warnOnInvalidChildren(p,y),p.type){case Kt.LINK:case Kt.META:case Kt.NOSCRIPT:case Kt.SCRIPT:case Kt.STYLE:f=u.flattenArrayTypeChildren({child:p,arrayTypeChildren:f,newChildProps:w,nestedChildren:y});break;default:d=u.mapObjectTypeChildren({child:p,newProps:d,newChildProps:w,nestedChildren:y});break}}}),d=this.mapArrayTypeChildrenToProps(f,d),d},i.prototype.render=function(){var l=this.props,d=l.children,u=LO(l,["children"]),f=Es({},u);return d&&(f=this.mapChildrenToProps(d,f)),Q.createElement(t,f)},VZ(i,null,[{key:"canUseDOM",set:function(l){t.canUseDOM=l}}]),i}(Q.Component),r.propTypes={base:Ct.object,bodyAttributes:Ct.object,children:Ct.oneOfType([Ct.arrayOf(Ct.node),Ct.node]),defaultTitle:Ct.string,defer:Ct.bool,encodeSpecialCharacters:Ct.bool,htmlAttributes:Ct.object,link:Ct.arrayOf(Ct.object),meta:Ct.arrayOf(Ct.object),noscript:Ct.arrayOf(Ct.object),onChangeClientState:Ct.func,script:Ct.arrayOf(Ct.object),style:Ct.arrayOf(Ct.object),title:Ct.string,titleAttributes:Ct.object,titleTemplate:Ct.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=t.peek,r.rewind=function(){var s=t.rewind();return s||(s=W7({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),s},a},sJ=function(){return null},iJ=CZ(GZ,QZ,W7)(sJ),jd=aJ(iJ);jd.renderStatic=jd.rewind;const oJ="modulepreload",lJ=function(e){return"/"+e},$O={},VO=function(t,r,a){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(d=>{if(d=lJ(d),d in $O)return;$O[d]=!0;const u=d.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":oJ,u||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((x,y)=>{p.addEventListener("load",x),p.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})};function cJ(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,a,s,i,o=[],l="",d=e.split("/");for(d[0]||d.shift();s=d.shift();)r=s[0],r==="*"?(o.push(r),l+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):r===":"?(a=s.indexOf("?",1),i=s.indexOf(".",1),o.push(s.substring(1,~a?a:~i?i:s.length)),l+=~a&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(l+=(~a?"?":"")+"\\"+s.substring(i))):l+="/"+s;return{keys:o,pattern:new RegExp("^"+l+(t?"(?=$|/)":"/?$"),"i")}}var H7={exports:{}},q7={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=E;function dJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var uJ=typeof Object.is=="function"?Object.is:dJ,hJ=rm.useState,fJ=rm.useEffect,mJ=rm.useLayoutEffect,pJ=rm.useDebugValue;function xJ(e,t){var r=t(),a=hJ({inst:{value:r,getSnapshot:t}}),s=a[0].inst,i=a[1];return mJ(function(){s.value=r,s.getSnapshot=t,B2(s)&&i({inst:s})},[e,r,t]),fJ(function(){return B2(s)&&i({inst:s}),e(function(){B2(s)&&i({inst:s})})},[e]),pJ(r),r}function B2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!uJ(e,r)}catch{return!0}}function gJ(e,t){return t()}var vJ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?gJ:xJ;q7.useSyncExternalStore=rm.useSyncExternalStore!==void 0?rm.useSyncExternalStore:vJ;H7.exports=q7;var yJ=H7.exports;const bJ=I6.useInsertionEffect,wJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G7=wJ?E.useLayoutEffect:E.useEffect,jJ=bJ||G7,DT=e=>{const t=E.useRef([e,(...r)=>t[0](...r)]).current;return jJ(()=>{t[0]=e}),t[1]},NJ="popstate",LT="pushState",FT="replaceState",CJ="hashchange",zO=[NJ,LT,FT,CJ],SJ=e=>{for(const t of zO)addEventListener(t,e);return()=>{for(const t of zO)removeEventListener(t,e)}},K7=(e,t)=>yJ.useSyncExternalStore(SJ,e,t),AJ=()=>location.search,EJ=({ssrSearch:e=""}={})=>K7(AJ,()=>e),UO=()=>location.pathname,TJ=({ssrPath:e}={})=>K7(UO,e?()=>e:UO),_J=(e,{replace:t=!1,state:r=null}={})=>history[t?FT:LT](r,"",e),PJ=(e={})=>[TJ(e),_J],WO=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[WO]>"u"){for(const e of[LT,FT]){const t=history[e];history[e]=function(){const r=t.apply(this,arguments),a=new Event(e);return a.arguments=arguments,dispatchEvent(a),r}}Object.defineProperty(window,WO,{value:!0})}const OJ=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",Y7=(e="")=>e==="/"?"":e,kJ=(e,t)=>e[0]==="~"?e.slice(1):Y7(t)+e,IJ=(e="",t)=>OJ(HO(Y7(e)),HO(t)),HO=e=>{try{return decodeURI(e)}catch{return e}},X7={hook:PJ,searchHook:EJ,parser:cJ,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},Q7=E.createContext(X7),y0=()=>E.useContext(Q7),Z7={},J7=E.createContext(Z7),MJ=()=>E.useContext(J7),cw=e=>{const[t,r]=e.hook(e);return[IJ(e.base,t),DT((a,s)=>r(kJ(a,e.base),s))]},Fd=()=>cw(y0()),eF=(e,t,r,a)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",a),o=s.exec(r)||[],[l,...d]=o;return l!==void 0?[!0,(()=>{const u=i!==!1?Object.fromEntries(i.map((p,x)=>[p,d[x]])):o.groups;let f={...d};return u&&Object.assign(f,u),f})(),...a?[l]:[]]:[!1,null]},RJ=({children:e,...t})=>{var f,p;const r=y0(),a=t.hook?X7:r;let s=a;const[i,o]=((f=t.ssrPath)==null?void 0:f.split("?"))??[];o&&(t.ssrSearch=o,t.ssrPath=i),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let l=E.useRef({}),d=l.current,u=d;for(let x in a){const y=x==="base"?a[x]+(t[x]||""):t[x]||a[x];d===u&&y!==u[x]&&(l.current=u={...u}),u[x]=y,y!==a[x]&&(s=u)}return E.createElement(Q7.Provider,{value:s,children:e})},qO=({children:e,component:t},r)=>t?E.createElement(t,{params:r}):typeof e=="function"?e(r):e,DJ=e=>{let t=E.useRef(Z7),r=t.current;for(const a in e)e[a]!==r[a]&&(r=e);return Object.keys(e).length===0&&(r=e),t.current=r},Ur=({path:e,nest:t,match:r,...a})=>{const s=y0(),[i]=cw(s),[o,l,d]=r??eF(s.parser,e,i,t),u=DJ({...MJ(),...l});if(!o)return null;const f=d?E.createElement(RJ,{base:d},qO(a,u)):qO(a,u);return E.createElement(J7.Provider,{value:u,children:f})},Rt=E.forwardRef((e,t)=>{const r=y0(),[a,s]=cw(r),{to:i="",href:o=i,onClick:l,asChild:d,children:u,className:f,replace:p,state:x,...y}=e,j=DT(C=>{C.ctrlKey||C.metaKey||C.altKey||C.shiftKey||C.button!==0||(l==null||l(C),C.defaultPrevented||(C.preventDefault(),s(o,e)))}),w=r.hrefs(o[0]==="~"?o.slice(1):r.base+o,r);return d&&E.isValidElement(u)?E.cloneElement(u,{onClick:j,href:w}):E.createElement("a",{...y,onClick:j,href:w,className:f!=null&&f.call?f(a===o):f,children:u,ref:t})}),tF=e=>Array.isArray(e)?e.flatMap(t=>tF(t&&t.type===E.Fragment?t.props.children:t)):[e],LJ=({children:e,location:t})=>{const r=y0(),[a]=cw(r);for(const s of tF(e)){let i=0;if(E.isValidElement(s)&&(i=eF(r.parser,s.props.path,t||a,s.props.nest))[0])return E.cloneElement(s,{match:i})}return null},mu=e=>{const{to:t,href:r=t}=e,[,a]=Fd(),s=DT(()=>a(t||r,e));return G7(()=>{s()},[]),null};var Gm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hu=typeof window>"u"||"Deno"in globalThis;function _i(){}function FJ(e,t){return typeof e=="function"?e(t):e}function ZC(e){return typeof e=="number"&&e>=0&&e!==1/0}function rF(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Af(e,t){return typeof e=="function"?e(t):e}function mo(e,t){return typeof e=="function"?e(t):e}function GO(e,t){const{type:r="all",exact:a,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(a){if(t.queryHash!==BT(o,t.options))return!1}else if(!ag(t.queryKey,o))return!1}if(r!=="all"){const d=t.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function KO(e,t){const{exact:r,status:a,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(qu(t.options.mutationKey)!==qu(i))return!1}else if(!ag(t.options.mutationKey,i))return!1}return!(a&&t.state.status!==a||s&&!s(t))}function BT(e,t){return((t==null?void 0:t.queryKeyHashFn)||qu)(e)}function qu(e){return JSON.stringify(e,(t,r)=>JC(r)?Object.keys(r).sort().reduce((a,s)=>(a[s]=r[s],a),{}):r)}function ag(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ag(e[r],t[r])):!1}function nF(e,t){if(e===t)return e;const r=YO(e)&&YO(t);if(r||JC(e)&&JC(t)){const a=r?e:Object.keys(e),s=a.length,i=r?t:Object.keys(t),o=i.length,l=r?[]:{};let d=0;for(let u=0;u<o;u++){const f=r?u:i[u];(!r&&a.includes(f)||r)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,d++):(l[f]=nF(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&d++)}return s===o&&d===s?e:l}return t}function i1(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function YO(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JC(e){if(!XO(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!XO(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function XO(e){return Object.prototype.toString.call(e)==="[object Object]"}function BJ(e){return new Promise(t=>{setTimeout(t,e)})}function eS(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?nF(e,t):t}function $J(e,t,r=0){const a=[...e,t];return r&&a.length>r?a.slice(1):a}function VJ(e,t,r=0){const a=[t,...e];return r&&a.length>r?a.slice(0,-1):a}var $T=Symbol();function aF(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===$T?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Su,Gc,Df,h6,zJ=(h6=class extends Gm{constructor(){super();Mt(this,Su);Mt(this,Gc);Mt(this,Df);dt(this,Df,t=>{if(!Hu&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){le(this,Gc)||this.setEventListener(le(this,Df))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Gc))==null||t.call(this),dt(this,Gc,void 0))}setEventListener(t){var r;dt(this,Df,t),(r=le(this,Gc))==null||r.call(this),dt(this,Gc,t(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(t){le(this,Su)!==t&&(dt(this,Su,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof le(this,Su)=="boolean"?le(this,Su):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Su=new WeakMap,Gc=new WeakMap,Df=new WeakMap,h6),VT=new zJ,Lf,Kc,Ff,f6,UJ=(f6=class extends Gm{constructor(){super();Mt(this,Lf,!0);Mt(this,Kc);Mt(this,Ff);dt(this,Ff,t=>{if(!Hu&&window.addEventListener){const r=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){le(this,Kc)||this.setEventListener(le(this,Ff))}onUnsubscribe(){var t;this.hasListeners()||((t=le(this,Kc))==null||t.call(this),dt(this,Kc,void 0))}setEventListener(t){var r;dt(this,Ff,t),(r=le(this,Kc))==null||r.call(this),dt(this,Kc,t(this.setOnline.bind(this)))}setOnline(t){le(this,Lf)!==t&&(dt(this,Lf,t),this.listeners.forEach(a=>{a(t)}))}isOnline(){return le(this,Lf)}},Lf=new WeakMap,Kc=new WeakMap,Ff=new WeakMap,f6),o1=new UJ;function tS(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function a(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{a({status:"fulfilled",value:s}),e(s)},r.reject=s=>{a({status:"rejected",reason:s}),t(s)},r}function WJ(e){return Math.min(1e3*2**e,3e4)}function sF(e){return(e??"online")==="online"?o1.isOnline():!0}var iF=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function $2(e){return e instanceof iF}function oF(e){let t=!1,r=0,a=!1,s;const i=tS(),o=w=>{var C;a||(x(new iF(w)),(C=e.abort)==null||C.call(e))},l=()=>{t=!0},d=()=>{t=!1},u=()=>VT.isFocused()&&(e.networkMode==="always"||o1.isOnline())&&e.canRun(),f=()=>sF(e.networkMode)&&e.canRun(),p=w=>{var C;a||(a=!0,(C=e.onSuccess)==null||C.call(e,w),s==null||s(),i.resolve(w))},x=w=>{var C;a||(a=!0,(C=e.onError)==null||C.call(e,w),s==null||s(),i.reject(w))},y=()=>new Promise(w=>{var C;s=N=>{(a||u())&&w(N)},(C=e.onPause)==null||C.call(e)}).then(()=>{var w;s=void 0,a||(w=e.onContinue)==null||w.call(e)}),j=()=>{if(a)return;let w;const C=r===0?e.initialPromise:void 0;try{w=C??e.fn()}catch(N){w=Promise.reject(N)}Promise.resolve(w).then(p).catch(N=>{var M;if(a)return;const S=e.retry??(Hu?0:3),_=e.retryDelay??WJ,I=typeof _=="function"?_(r,N):_,T=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,N);if(t||!T){x(N);return}r++,(M=e.onFail)==null||M.call(e,r,N),BJ(I).then(()=>u()?void 0:y()).then(()=>{t?x(N):j()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:d,canStart:f,start:()=>(f()?j():y().then(j),i)}}function HJ(){let e=[],t=0,r=l=>{l()},a=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{a(()=>{l.forEach(d=>{r(d)})})})};return{batch:l=>{let d;t++;try{d=l()}finally{t--,t||o()}return d},batchCalls:l=>(...d)=>{i(()=>{l(...d)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{a=l},setScheduler:l=>{s=l}}}var ha=HJ(),Au,m6,lF=(m6=class{constructor(){Mt(this,Au)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZC(this.gcTime)&&dt(this,Au,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hu?1/0:5*60*1e3))}clearGcTimeout(){le(this,Au)&&(clearTimeout(le(this,Au)),dt(this,Au,void 0))}},Au=new WeakMap,m6),Bf,$f,Ti,Ka,d0,Eu,oo,Ml,p6,qJ=(p6=class extends lF{constructor(t){super();Mt(this,oo);Mt(this,Bf);Mt(this,$f);Mt(this,Ti);Mt(this,Ka);Mt(this,d0);Mt(this,Eu);dt(this,Eu,!1),dt(this,d0,t.defaultOptions),this.setOptions(t.options),this.observers=[],dt(this,Ti,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,dt(this,Bf,GJ(this.options)),this.state=t.state??le(this,Bf),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=le(this,Ka))==null?void 0:t.promise}setOptions(t){this.options={...le(this,d0),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&le(this,Ti).remove(this)}setData(t,r){const a=eS(this.state.data,t,this.options);return sr(this,oo,Ml).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(t,r){sr(this,oo,Ml).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var a,s;const r=(a=le(this,Ka))==null?void 0:a.promise;return(s=le(this,Ka))==null||s.cancel(t),r?r.then(_i).catch(_i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(le(this,Bf))}isActive(){return this.observers.some(t=>mo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$T||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!rF(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(a=>a.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,Ka))==null||r.continue()}onOnline(){var r;const t=this.observers.find(a=>a.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=le(this,Ka))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),le(this,Ti).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(le(this,Ka)&&(le(this,Eu)?le(this,Ka).cancel({revert:!0}):le(this,Ka).cancelRetry()),this.scheduleGc()),le(this,Ti).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||sr(this,oo,Ml).call(this,{type:"invalidate"})}fetch(t,r){var d,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(le(this,Ka))return le(this,Ka).continueRetry(),le(this,Ka).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(x=>x.options.queryFn);p&&this.setOptions(p.options)}const a=new AbortController,s=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(dt(this,Eu,!0),a.signal)})},i=()=>{const p=aF(this.options,r),x={queryKey:this.queryKey,meta:this.meta};return s(x),dt(this,Eu,!1),this.options.persister?this.options.persister(p,x,this):p(x)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};s(o),(d=this.options.behavior)==null||d.onFetch(o,this),dt(this,$f,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&sr(this,oo,Ml).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=p=>{var x,y,j,w;$2(p)&&p.silent||sr(this,oo,Ml).call(this,{type:"error",error:p}),$2(p)||((y=(x=le(this,Ti).config).onError)==null||y.call(x,p,this),(w=(j=le(this,Ti).config).onSettled)==null||w.call(j,this.state.data,p,this)),this.scheduleGc()};return dt(this,Ka,oF({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:a.abort.bind(a),onSuccess:p=>{var x,y,j,w;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(C){l(C);return}(y=(x=le(this,Ti).config).onSuccess)==null||y.call(x,p,this),(w=(j=le(this,Ti).config).onSettled)==null||w.call(j,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,x)=>{sr(this,oo,Ml).call(this,{type:"failed",failureCount:p,error:x})},onPause:()=>{sr(this,oo,Ml).call(this,{type:"pause"})},onContinue:()=>{sr(this,oo,Ml).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),le(this,Ka).start()}},Bf=new WeakMap,$f=new WeakMap,Ti=new WeakMap,Ka=new WeakMap,d0=new WeakMap,Eu=new WeakMap,oo=new WeakSet,Ml=function(t){const r=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...cF(a.data,this.options),fetchMeta:t.meta??null};case"success":return{...a,data:t.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return $2(s)&&s.revert&&le(this,$f)?{...le(this,$f),fetchStatus:"idle"}:{...a,error:s,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=r(this.state),ha.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),le(this,Ti).notify({query:this,type:"updated",action:t})})},p6);function cF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sF(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function GJ(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ho,x6,KJ=(x6=class extends Gm{constructor(t={}){super();Mt(this,Ho);this.config=t,dt(this,Ho,new Map)}build(t,r,a){const s=r.queryKey,i=r.queryHash??BT(s,r);let o=this.get(i);return o||(o=new qJ({cache:this,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:a,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){le(this,Ho).has(t.queryHash)||(le(this,Ho).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=le(this,Ho).get(t.queryHash);r&&(t.destroy(),r===t&&le(this,Ho).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ha.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return le(this,Ho).get(t)}getAll(){return[...le(this,Ho).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(a=>GO(r,a))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(a=>GO(t,a)):r}notify(t){ha.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){ha.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ha.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ho=new WeakMap,x6),qo,ss,Tu,Go,Rc,g6,YJ=(g6=class extends lF{constructor(t){super();Mt(this,Go);Mt(this,qo);Mt(this,ss);Mt(this,Tu);this.mutationId=t.mutationId,dt(this,ss,t.mutationCache),dt(this,qo,[]),this.state=t.state||dF(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){le(this,qo).includes(t)||(le(this,qo).push(t),this.clearGcTimeout(),le(this,ss).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){dt(this,qo,le(this,qo).filter(r=>r!==t)),this.scheduleGc(),le(this,ss).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){le(this,qo).length||(this.state.status==="pending"?this.scheduleGc():le(this,ss).remove(this))}continue(){var t;return((t=le(this,Tu))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,i,o,l,d,u,f,p,x,y,j,w,C,N,S,_,I,T,M,O;dt(this,Tu,oF({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,R)=>{sr(this,Go,Rc).call(this,{type:"failed",failureCount:D,error:R})},onPause:()=>{sr(this,Go,Rc).call(this,{type:"pause"})},onContinue:()=>{sr(this,Go,Rc).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>le(this,ss).canRun(this)}));const r=this.state.status==="pending",a=!le(this,Tu).canStart();try{if(!r){sr(this,Go,Rc).call(this,{type:"pending",variables:t,isPaused:a}),await((i=(s=le(this,ss).config).onMutate)==null?void 0:i.call(s,t,this));const R=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t));R!==this.state.context&&sr(this,Go,Rc).call(this,{type:"pending",context:R,variables:t,isPaused:a})}const D=await le(this,Tu).start();return await((u=(d=le(this,ss).config).onSuccess)==null?void 0:u.call(d,D,t,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,D,t,this.state.context)),await((y=(x=le(this,ss).config).onSettled)==null?void 0:y.call(x,D,null,this.state.variables,this.state.context,this)),await((w=(j=this.options).onSettled)==null?void 0:w.call(j,D,null,t,this.state.context)),sr(this,Go,Rc).call(this,{type:"success",data:D}),D}catch(D){try{throw await((N=(C=le(this,ss).config).onError)==null?void 0:N.call(C,D,t,this.state.context,this)),await((_=(S=this.options).onError)==null?void 0:_.call(S,D,t,this.state.context)),await((T=(I=le(this,ss).config).onSettled)==null?void 0:T.call(I,void 0,D,this.state.variables,this.state.context,this)),await((O=(M=this.options).onSettled)==null?void 0:O.call(M,void 0,D,t,this.state.context)),D}finally{sr(this,Go,Rc).call(this,{type:"error",error:D})}}finally{le(this,ss).runNext(this)}}},qo=new WeakMap,ss=new WeakMap,Tu=new WeakMap,Go=new WeakSet,Rc=function(t){const r=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ha.batch(()=>{le(this,qo).forEach(a=>{a.onMutationUpdate(t)}),le(this,ss).notify({mutation:this,type:"updated",action:t})})},g6);function dF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xs,u0,v6,XJ=(v6=class extends Gm{constructor(t={}){super();Mt(this,Xs);Mt(this,u0);this.config=t,dt(this,Xs,new Map),dt(this,u0,Date.now())}build(t,r,a){const s=new YJ({mutationCache:this,mutationId:++cv(this,u0)._,options:t.defaultMutationOptions(r),state:a});return this.add(s),s}add(t){const r=Ev(t),a=le(this,Xs).get(r)??[];a.push(t),le(this,Xs).set(r,a),this.notify({type:"added",mutation:t})}remove(t){var a;const r=Ev(t);if(le(this,Xs).has(r)){const s=(a=le(this,Xs).get(r))==null?void 0:a.filter(i=>i!==t);s&&(s.length===0?le(this,Xs).delete(r):le(this,Xs).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var a;const r=(a=le(this,Xs).get(Ev(t)))==null?void 0:a.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var a;const r=(a=le(this,Xs).get(Ev(t)))==null?void 0:a.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){ha.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...le(this,Xs).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(a=>KO(r,a))}findAll(t={}){return this.getAll().filter(r=>KO(t,r))}notify(t){ha.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return ha.batch(()=>Promise.all(t.map(r=>r.continue().catch(_i))))}},Xs=new WeakMap,u0=new WeakMap,v6);function Ev(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function QO(e){return{onFetch:(t,r)=>{var f,p,x,y,j;const a=t.options,s=(x=(p=(f=t.fetchOptions)==null?void 0:f.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,i=((y=t.state.data)==null?void 0:y.pages)||[],o=((j=t.state.data)==null?void 0:j.pageParams)||[];let l={pages:[],pageParams:[]},d=0;const u=async()=>{let w=!1;const C=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},N=aF(t.options,t.fetchOptions),S=async(_,I,T)=>{if(w)return Promise.reject();if(I==null&&_.pages.length)return Promise.resolve(_);const M={queryKey:t.queryKey,pageParam:I,direction:T?"backward":"forward",meta:t.options.meta};C(M);const O=await N(M),{maxPages:D}=t.options,R=T?VJ:$J;return{pages:R(_.pages,O,D),pageParams:R(_.pageParams,I,D)}};if(s&&i.length){const _=s==="backward",I=_?QJ:ZO,T={pages:i,pageParams:o},M=I(a,T);l=await S(T,M,_)}else{const _=e??i.length;do{const I=d===0?o[0]??a.initialPageParam:ZO(a,l);if(d>0&&I==null)break;l=await S(l,I),d++}while(d<_)}return l};t.options.persister?t.fetchFn=()=>{var w,C;return(C=(w=t.options).persister)==null?void 0:C.call(w,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ZO(e,{pages:t,pageParams:r}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,r[a],r):void 0}function QJ(e,{pages:t,pageParams:r}){var a;return t.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,t[0],t,r[0],r):void 0}var Dn,Yc,Xc,Vf,zf,Qc,Uf,Wf,y6,ZJ=(y6=class{constructor(e={}){Mt(this,Dn);Mt(this,Yc);Mt(this,Xc);Mt(this,Vf);Mt(this,zf);Mt(this,Qc);Mt(this,Uf);Mt(this,Wf);dt(this,Dn,e.queryCache||new KJ),dt(this,Yc,e.mutationCache||new XJ),dt(this,Xc,e.defaultOptions||{}),dt(this,Vf,new Map),dt(this,zf,new Map),dt(this,Qc,0)}mount(){cv(this,Qc)._++,le(this,Qc)===1&&(dt(this,Uf,VT.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Dn).onFocus())})),dt(this,Wf,o1.subscribe(async e=>{e&&(await this.resumePausedMutations(),le(this,Dn).onOnline())})))}unmount(){var e,t;cv(this,Qc)._--,le(this,Qc)===0&&((e=le(this,Uf))==null||e.call(this),dt(this,Uf,void 0),(t=le(this,Wf))==null||t.call(this),dt(this,Wf,void 0))}isFetching(e){return le(this,Dn).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return le(this,Yc).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,Dn).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),a=le(this,Dn).build(this,r);return e.revalidateIfStale&&a.isStaleByTime(Af(r.staleTime,a))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return le(this,Dn).findAll(e).map(({queryKey:t,state:r})=>{const a=r.data;return[t,a]})}setQueryData(e,t,r){const a=this.defaultQueryOptions({queryKey:e}),s=le(this,Dn).get(a.queryHash),i=s==null?void 0:s.state.data,o=FJ(t,i);if(o!==void 0)return le(this,Dn).build(this,a).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return ha.batch(()=>le(this,Dn).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=le(this,Dn).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=le(this,Dn);ha.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=le(this,Dn),a={type:"active",...e};return ha.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(a,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},a=ha.batch(()=>le(this,Dn).findAll(e).map(s=>s.cancel(r)));return Promise.all(a).then(_i).catch(_i)}invalidateQueries(e={},t={}){return ha.batch(()=>{if(le(this,Dn).findAll(e).forEach(a=>{a.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},a=ha.batch(()=>le(this,Dn).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(_i)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(a).then(_i)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=le(this,Dn).build(this,t);return r.isStaleByTime(Af(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_i).catch(_i)}fetchInfiniteQuery(e){return e.behavior=QO(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_i).catch(_i)}ensureInfiniteQueryData(e){return e.behavior=QO(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return o1.isOnline()?le(this,Yc).resumePausedMutations():Promise.resolve()}getQueryCache(){return le(this,Dn)}getMutationCache(){return le(this,Yc)}getDefaultOptions(){return le(this,Xc)}setDefaultOptions(e){dt(this,Xc,e)}setQueryDefaults(e,t){le(this,Vf).set(qu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...le(this,Vf).values()];let r={};return t.forEach(a=>{ag(e,a.queryKey)&&(r={...r,...a.defaultOptions})}),r}setMutationDefaults(e,t){le(this,zf).set(qu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...le(this,zf).values()];let r={};return t.forEach(a=>{ag(e,a.mutationKey)&&(r={...r,...a.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...le(this,Xc).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=BT(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===$T&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...le(this,Xc).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){le(this,Dn).clear(),le(this,Yc).clear()}},Dn=new WeakMap,Yc=new WeakMap,Xc=new WeakMap,Vf=new WeakMap,zf=new WeakMap,Qc=new WeakMap,Uf=new WeakMap,Wf=new WeakMap,y6),Ts,vr,h0,is,_u,Hf,Zc,Ko,f0,qf,Gf,Pu,Ou,Jc,Kf,Rr,rx,rS,nS,aS,sS,iS,oS,lS,uF,b6,JJ=(b6=class extends Gm{constructor(t,r){super();Mt(this,Rr);Mt(this,Ts);Mt(this,vr);Mt(this,h0);Mt(this,is);Mt(this,_u);Mt(this,Hf);Mt(this,Zc);Mt(this,Ko);Mt(this,f0);Mt(this,qf);Mt(this,Gf);Mt(this,Pu);Mt(this,Ou);Mt(this,Jc);Mt(this,Kf,new Set);this.options=r,dt(this,Ts,t),dt(this,Ko,null),dt(this,Zc,tS()),this.options.experimental_prefetchInRender||le(this,Zc).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(le(this,vr).addObserver(this),JO(le(this,vr),this.options)?sr(this,Rr,rx).call(this):this.updateResult(),sr(this,Rr,sS).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cS(le(this,vr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cS(le(this,vr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,sr(this,Rr,iS).call(this),sr(this,Rr,oS).call(this),le(this,vr).removeObserver(this)}setOptions(t,r){const a=this.options,s=le(this,vr);if(this.options=le(this,Ts).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof mo(this.options.enabled,le(this,vr))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");sr(this,Rr,lS).call(this),le(this,vr).setOptions(this.options),a._defaulted&&!i1(this.options,a)&&le(this,Ts).getQueryCache().notify({type:"observerOptionsUpdated",query:le(this,vr),observer:this});const i=this.hasListeners();i&&ek(le(this,vr),s,this.options,a)&&sr(this,Rr,rx).call(this),this.updateResult(r),i&&(le(this,vr)!==s||mo(this.options.enabled,le(this,vr))!==mo(a.enabled,le(this,vr))||Af(this.options.staleTime,le(this,vr))!==Af(a.staleTime,le(this,vr)))&&sr(this,Rr,rS).call(this);const o=sr(this,Rr,nS).call(this);i&&(le(this,vr)!==s||mo(this.options.enabled,le(this,vr))!==mo(a.enabled,le(this,vr))||o!==le(this,Jc))&&sr(this,Rr,aS).call(this,o)}getOptimisticResult(t){const r=le(this,Ts).getQueryCache().build(le(this,Ts),t),a=this.createResult(r,t);return tee(this,a)&&(dt(this,is,a),dt(this,Hf,this.options),dt(this,_u,le(this,vr).state)),a}getCurrentResult(){return le(this,is)}trackResult(t,r){const a={};return Object.keys(t).forEach(s=>{Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),r==null||r(s),t[s])})}),a}trackProp(t){le(this,Kf).add(t)}getCurrentQuery(){return le(this,vr)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=le(this,Ts).defaultQueryOptions(t),a=le(this,Ts).getQueryCache().build(le(this,Ts),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(t){return sr(this,Rr,rx).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),le(this,is)))}createResult(t,r){var D;const a=le(this,vr),s=this.options,i=le(this,is),o=le(this,_u),l=le(this,Hf),u=t!==a?t.state:le(this,h0),{state:f}=t;let p={...f},x=!1,y;if(r._optimisticResults){const R=this.hasListeners(),V=!R&&JO(t,r),z=R&&ek(t,a,r,s);(V||z)&&(p={...p,...cF(f.data,t.options)}),r._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:j,errorUpdatedAt:w,status:C}=p;if(r.select&&p.data!==void 0)if(i&&p.data===(o==null?void 0:o.data)&&r.select===le(this,f0))y=le(this,qf);else try{dt(this,f0,r.select),y=r.select(p.data),y=eS(i==null?void 0:i.data,y,r),dt(this,qf,y),dt(this,Ko,null)}catch(R){dt(this,Ko,R)}else y=p.data;if(r.placeholderData!==void 0&&y===void 0&&C==="pending"){let R;if(i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData))R=i.data;else if(R=typeof r.placeholderData=="function"?r.placeholderData((D=le(this,Gf))==null?void 0:D.state.data,le(this,Gf)):r.placeholderData,r.select&&R!==void 0)try{R=r.select(R),dt(this,Ko,null)}catch(V){dt(this,Ko,V)}R!==void 0&&(C="success",y=eS(i==null?void 0:i.data,R,r),x=!0)}le(this,Ko)&&(j=le(this,Ko),y=le(this,qf),w=Date.now(),C="error");const N=p.fetchStatus==="fetching",S=C==="pending",_=C==="error",I=S&&N,T=y!==void 0,O={status:C,fetchStatus:p.fetchStatus,isPending:S,isSuccess:C==="success",isError:_,isInitialLoading:I,isLoading:I,data:y,dataUpdatedAt:p.dataUpdatedAt,error:j,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:N,isRefetching:N&&!S,isLoadingError:_&&!T,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:_&&T,isStale:zT(t,r),refetch:this.refetch,promise:le(this,Zc)};if(this.options.experimental_prefetchInRender){const R=B=>{O.status==="error"?B.reject(O.error):O.data!==void 0&&B.resolve(O.data)},V=()=>{const B=dt(this,Zc,O.promise=tS());R(B)},z=le(this,Zc);switch(z.status){case"pending":t.queryHash===a.queryHash&&R(z);break;case"fulfilled":(O.status==="error"||O.data!==z.value)&&V();break;case"rejected":(O.status!=="error"||O.error!==z.reason)&&V();break}}return O}updateResult(t){const r=le(this,is),a=this.createResult(le(this,vr),this.options);if(dt(this,_u,le(this,vr).state),dt(this,Hf,this.options),le(this,_u).data!==void 0&&dt(this,Gf,le(this,vr)),i1(a,r))return;dt(this,is,a);const s={},i=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!le(this,Kf).size)return!0;const d=new Set(l??le(this,Kf));return this.options.throwOnError&&d.add("error"),Object.keys(le(this,is)).some(u=>{const f=u;return le(this,is)[f]!==r[f]&&d.has(f)})};(t==null?void 0:t.listeners)!==!1&&i()&&(s.listeners=!0),sr(this,Rr,uF).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&sr(this,Rr,sS).call(this)}},Ts=new WeakMap,vr=new WeakMap,h0=new WeakMap,is=new WeakMap,_u=new WeakMap,Hf=new WeakMap,Zc=new WeakMap,Ko=new WeakMap,f0=new WeakMap,qf=new WeakMap,Gf=new WeakMap,Pu=new WeakMap,Ou=new WeakMap,Jc=new WeakMap,Kf=new WeakMap,Rr=new WeakSet,rx=function(t){sr(this,Rr,lS).call(this);let r=le(this,vr).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(_i)),r},rS=function(){sr(this,Rr,iS).call(this);const t=Af(this.options.staleTime,le(this,vr));if(Hu||le(this,is).isStale||!ZC(t))return;const a=rF(le(this,is).dataUpdatedAt,t)+1;dt(this,Pu,setTimeout(()=>{le(this,is).isStale||this.updateResult()},a))},nS=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(le(this,vr)):this.options.refetchInterval)??!1},aS=function(t){sr(this,Rr,oS).call(this),dt(this,Jc,t),!(Hu||mo(this.options.enabled,le(this,vr))===!1||!ZC(le(this,Jc))||le(this,Jc)===0)&&dt(this,Ou,setInterval(()=>{(this.options.refetchIntervalInBackground||VT.isFocused())&&sr(this,Rr,rx).call(this)},le(this,Jc)))},sS=function(){sr(this,Rr,rS).call(this),sr(this,Rr,aS).call(this,sr(this,Rr,nS).call(this))},iS=function(){le(this,Pu)&&(clearTimeout(le(this,Pu)),dt(this,Pu,void 0))},oS=function(){le(this,Ou)&&(clearInterval(le(this,Ou)),dt(this,Ou,void 0))},lS=function(){const t=le(this,Ts).getQueryCache().build(le(this,Ts),this.options);if(t===le(this,vr))return;const r=le(this,vr);dt(this,vr,t),dt(this,h0,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},uF=function(t){ha.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(le(this,is))}),le(this,Ts).getQueryCache().notify({query:le(this,vr),type:"observerResultsUpdated"})})},b6);function eee(e,t){return mo(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function JO(e,t){return eee(e,t)||e.state.data!==void 0&&cS(e,t,t.refetchOnMount)}function cS(e,t,r){if(mo(t.enabled,e)!==!1){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&zT(e,t)}return!1}function ek(e,t,r,a){return(e!==t||mo(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&zT(e,r)}function zT(e,t){return mo(t.enabled,e)!==!1&&e.isStaleByTime(Af(t.staleTime,e))}function tee(e,t){return!i1(e.getCurrentResult(),t)}var ed,td,_s,$l,rc,vy,dS,w6,ree=(w6=class extends Gm{constructor(r,a){super();Mt(this,rc);Mt(this,ed);Mt(this,td);Mt(this,_s);Mt(this,$l);dt(this,ed,r),this.setOptions(a),this.bindMethods(),sr(this,rc,vy).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const a=this.options;this.options=le(this,ed).defaultMutationOptions(r),i1(this.options,a)||le(this,ed).getMutationCache().notify({type:"observerOptionsUpdated",mutation:le(this,_s),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&qu(a.mutationKey)!==qu(this.options.mutationKey)?this.reset():((s=le(this,_s))==null?void 0:s.state.status)==="pending"&&le(this,_s).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=le(this,_s))==null||r.removeObserver(this)}onMutationUpdate(r){sr(this,rc,vy).call(this),sr(this,rc,dS).call(this,r)}getCurrentResult(){return le(this,td)}reset(){var r;(r=le(this,_s))==null||r.removeObserver(this),dt(this,_s,void 0),sr(this,rc,vy).call(this),sr(this,rc,dS).call(this)}mutate(r,a){var s;return dt(this,$l,a),(s=le(this,_s))==null||s.removeObserver(this),dt(this,_s,le(this,ed).getMutationCache().build(le(this,ed),this.options)),le(this,_s).addObserver(this),le(this,_s).execute(r)}},ed=new WeakMap,td=new WeakMap,_s=new WeakMap,$l=new WeakMap,rc=new WeakSet,vy=function(){var a;const r=((a=le(this,_s))==null?void 0:a.state)??dF();dt(this,td,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},dS=function(r){ha.batch(()=>{var a,s,i,o,l,d,u,f;if(le(this,$l)&&this.hasListeners()){const p=le(this,td).variables,x=le(this,td).context;(r==null?void 0:r.type)==="success"?((s=(a=le(this,$l)).onSuccess)==null||s.call(a,r.data,p,x),(o=(i=le(this,$l)).onSettled)==null||o.call(i,r.data,null,p,x)):(r==null?void 0:r.type)==="error"&&((d=(l=le(this,$l)).onError)==null||d.call(l,r.error,p,x),(f=(u=le(this,$l)).onSettled)==null||f.call(u,void 0,r.error,p,x))}this.listeners.forEach(p=>{p(le(this,td))})})},w6),hF=E.createContext(void 0),Nl=e=>{const t=E.useContext(hF);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nee=({client:e,children:t})=>(E.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),n.jsx(hF.Provider,{value:e,children:t})),fF=E.createContext(!1),aee=()=>E.useContext(fF);fF.Provider;function see(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var iee=E.createContext(see()),oee=()=>E.useContext(iee);function mF(e,t){return typeof e=="function"?e(...t):!!e}function uS(){}var lee=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},cee=e=>{E.useEffect(()=>{e.clearReset()},[e])},dee=({result:e,errorResetBoundary:t,throwOnError:r,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&mF(r,[e.error,a]),uee=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},hee=(e,t)=>e.isLoading&&e.isFetching&&!t,fee=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tk=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function mee(e,t,r){var f,p,x,y,j;const a=Nl(),s=aee(),i=oee(),o=a.defaultQueryOptions(e);(p=(f=a.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o),o._optimisticResults=s?"isRestoring":"optimistic",uee(o),lee(o,i),cee(i);const l=!a.getQueryCache().get(o.queryHash),[d]=E.useState(()=>new t(a,o)),u=d.getOptimisticResult(o);if(E.useSyncExternalStore(E.useCallback(w=>{const C=s?uS:d.subscribe(ha.batchCalls(w));return d.updateResult(),C},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),E.useEffect(()=>{d.setOptions(o,{listeners:!1})},[o,d]),fee(o,u))throw tk(o,d,i);if(dee({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash)}))throw u.error;if((y=(x=a.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||y.call(x,o,u),o.experimental_prefetchInRender&&!Hu&&hee(u,s)){const w=l?tk(o,d,i):(j=a.getQueryCache().get(o.queryHash))==null?void 0:j.promise;w==null||w.catch(uS).finally(()=>{d.updateResult()})}return o.notifyOnChangeProps?u:d.trackResult(u)}function Nt(e,t){return mee(e,JJ)}function Zt(e,t){const r=Nl(),[a]=E.useState(()=>new ree(r,e));E.useEffect(()=>{a.setOptions(e)},[a,e]);const s=E.useSyncExternalStore(E.useCallback(o=>a.subscribe(ha.batchCalls(o)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),i=E.useCallback((o,l)=>{a.mutate(o,l).catch(uS)},[a]);if(s.error&&mF(a.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}async function pee(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function St(e,t,r){try{return await fetch(t,{method:e,headers:r?{"Content-Type":"application/json"}:{},body:r?JSON.stringify(r):void 0,credentials:"include"})}catch(a){throw console.error("API Request failed:",a),new Error("Falha na conexão com o servidor. Verifique sua conexão com a internet.")}}const UT=({on401:e})=>async({queryKey:t})=>{const r=await fetch(t[0],{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await pee(r),await r.json())},Ut=new ZJ({defaultOptions:{queries:{queryFn:UT({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:5*60*1e3,gcTime:10*60*1e3,retry:!1},mutations:{retry:!1}}}),xee=1,gee=1e6;let V2=0;function vee(){return V2=(V2+1)%Number.MAX_SAFE_INTEGER,V2.toString()}const z2=new Map,rk=e=>{if(z2.has(e))return;const t=setTimeout(()=>{z2.delete(e),Nx({type:"REMOVE_TOAST",toastId:e})},gee);z2.set(e,t)},yee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,xee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?rk(r):e.toasts.forEach(a=>{rk(a.id)}),{...e,toasts:e.toasts.map(a=>a.id===r||r===void 0?{...a,open:!1}:a)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},yy=[];let by={toasts:[]};function Nx(e){by=yee(by,e),yy.forEach(t=>{t(by)})}function bee({...e}){const t=vee(),r=s=>Nx({type:"UPDATE_TOAST",toast:{...s,id:t}}),a=()=>Nx({type:"DISMISS_TOAST",toastId:t});return Nx({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||a()}}}),{id:t,dismiss:a,update:r}}function rr(){const[e,t]=E.useState(by);return E.useEffect(()=>(yy.push(t),()=>{const r=yy.indexOf(t);r>-1&&yy.splice(r,1)}),[e]),{...e,toast:bee,dismiss:r=>Nx({type:"DISMISS_TOAST",toastId:r})}}function ze(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function nk(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dw(...e){return t=>{let r=!1;const a=e.map(s=>{const i=nk(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<a.length;s++){const i=a[s];typeof i=="function"?i():nk(e[s],null)}}}}function qt(...e){return E.useCallback(dw(...e),e)}function wee(e,t){const r=E.createContext(t),a=i=>{const{children:o,...l}=i,d=E.useMemo(()=>l,Object.values(l));return n.jsx(r.Provider,{value:d,children:o})};a.displayName=e+"Provider";function s(i){const o=E.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[a,s]}function va(e,t=[]){let r=[];function a(i,o){const l=E.createContext(o),d=r.length;r=[...r,o];const u=p=>{var N;const{scope:x,children:y,...j}=p,w=((N=x==null?void 0:x[e])==null?void 0:N[d])||l,C=E.useMemo(()=>j,Object.values(j));return n.jsx(w.Provider,{value:C,children:y})};u.displayName=i+"Provider";function f(p,x){var w;const y=((w=x==null?void 0:x[e])==null?void 0:w[d])||l,j=E.useContext(y);if(j)return j;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,f]}const s=()=>{const i=r.map(o=>E.createContext(o));return function(l){const d=(l==null?void 0:l[e])||i;return E.useMemo(()=>({[`__scope${e}`]:{...l,[e]:d}}),[l,d])}};return s.scopeName=e,[a,jee(s,...t)]}function jee(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const a=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=a.reduce((l,{useScope:d,scopeName:u})=>{const p=d(i)[`__scope${u}`];return{...l,...p}},{});return E.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Nd(e){const t=Nee(e),r=E.forwardRef((a,s)=>{const{children:i,...o}=a,l=E.Children.toArray(i),d=l.find(See);if(d){const u=d.props.children,f=l.map(p=>p===d?E.Children.count(u)>1?E.Children.only(null):E.isValidElement(u)?u.props.children:null:p);return n.jsx(t,{...o,ref:s,children:E.isValidElement(u)?E.cloneElement(u,void 0,f):null})}return n.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var pF=Nd("Slot");function Nee(e){const t=E.forwardRef((r,a)=>{const{children:s,...i}=r;if(E.isValidElement(s)){const o=Eee(s),l=Aee(i,s.props);return s.type!==E.Fragment&&(l.ref=a?dw(a,o):o),E.cloneElement(s,l)}return E.Children.count(s)>1?E.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xF=Symbol("radix.slottable");function Cee(e){const t=({children:r})=>n.jsx(n.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=xF,t}function See(e){return E.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xF}function Aee(e,t){const r={...t};for(const a in t){const s=e[a],i=t[a];/^on[A-Z]/.test(a)?s&&i?r[a]=(...l)=>{i(...l),s(...l)}:s&&(r[a]=s):a==="style"?r[a]={...s,...i}:a==="className"&&(r[a]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Eee(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function b0(e){const t=e+"CollectionProvider",[r,a]=va(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:C,children:N}=w,S=Q.useRef(null),_=Q.useRef(new Map).current;return n.jsx(s,{scope:C,itemMap:_,collectionRef:S,children:N})};o.displayName=t;const l=e+"CollectionSlot",d=Nd(l),u=Q.forwardRef((w,C)=>{const{scope:N,children:S}=w,_=i(l,N),I=qt(C,_.collectionRef);return n.jsx(d,{ref:I,children:S})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",x=Nd(f),y=Q.forwardRef((w,C)=>{const{scope:N,children:S,..._}=w,I=Q.useRef(null),T=qt(C,I),M=i(f,N);return Q.useEffect(()=>(M.itemMap.set(I,{ref:I,..._}),()=>void M.itemMap.delete(I))),n.jsx(x,{[p]:"",ref:T,children:S})});y.displayName=f;function j(w){const C=i(e+"CollectionConsumer",w);return Q.useCallback(()=>{const S=C.collectionRef.current;if(!S)return[];const _=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(C.itemMap.values()).sort((M,O)=>_.indexOf(M.ref.current)-_.indexOf(O.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:o,Slot:u,ItemSlot:y},j,a]}var Tee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ht=Tee.reduce((e,t)=>{const r=Nd(`Primitive.${t}`),a=E.forwardRef((s,i)=>{const{asChild:o,...l}=s,d=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(d,{...l,ref:i})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function WT(e,t){e&&fh.flushSync(()=>e.dispatchEvent(t))}function bn(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e}),E.useMemo(()=>(...r)=>{var a;return(a=t.current)==null?void 0:a.call(t,...r)},[])}function _ee(e,t=globalThis==null?void 0:globalThis.document){const r=bn(e);E.useEffect(()=>{const a=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[r,t])}var Pee="DismissableLayer",hS="dismissableLayer.update",Oee="dismissableLayer.pointerDownOutside",kee="dismissableLayer.focusOutside",ak,gF=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mh=E.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...d}=e,u=E.useContext(gF),[f,p]=E.useState(null),x=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,y]=E.useState({}),j=qt(t,O=>p(O)),w=Array.from(u.layers),[C]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(C),S=f?w.indexOf(f):-1,_=u.layersWithOutsidePointerEventsDisabled.size>0,I=S>=N,T=Mee(O=>{const D=O.target,R=[...u.branches].some(V=>V.contains(D));!I||R||(s==null||s(O),o==null||o(O),O.defaultPrevented||l==null||l())},x),M=Ree(O=>{const D=O.target;[...u.branches].some(V=>V.contains(D))||(i==null||i(O),o==null||o(O),O.defaultPrevented||l==null||l())},x);return _ee(O=>{S===u.layers.size-1&&(a==null||a(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},x),E.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ak=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),sk(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=ak)}},[f,x,r,u]),E.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),sk())},[f,u]),E.useEffect(()=>{const O=()=>y({});return document.addEventListener(hS,O),()=>document.removeEventListener(hS,O)},[]),n.jsx(ht.div,{...d,ref:j,style:{pointerEvents:_?I?"auto":"none":void 0,...e.style},onFocusCapture:ze(e.onFocusCapture,M.onFocusCapture),onBlurCapture:ze(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ze(e.onPointerDownCapture,T.onPointerDownCapture)})});mh.displayName=Pee;var Iee="DismissableLayerBranch",vF=E.forwardRef((e,t)=>{const r=E.useContext(gF),a=E.useRef(null),s=qt(t,a);return E.useEffect(()=>{const i=a.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),n.jsx(ht.div,{...e,ref:s})});vF.displayName=Iee;function Mee(e,t=globalThis==null?void 0:globalThis.document){const r=bn(e),a=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const i=l=>{if(l.target&&!a.current){let d=function(){yF(Oee,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);a.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}function Ree(e,t=globalThis==null?void 0:globalThis.document){const r=bn(e),a=E.useRef(!1);return E.useEffect(()=>{const s=i=>{i.target&&!a.current&&yF(kee,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function sk(){const e=new CustomEvent(hS);document.dispatchEvent(e)}function yF(e,t,r,{discrete:a}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?WT(s,i):s.dispatchEvent(i)}var Dee=mh,Lee=vF,Xn=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},Fee="Portal",Km=E.forwardRef((e,t)=>{var l;const{container:r,...a}=e,[s,i]=E.useState(!1);Xn(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?hZ.createPortal(n.jsx(ht.div,{...a,ref:t}),o):null});Km.displayName=Fee;function Bee(e,t){return E.useReducer((r,a)=>t[r][a]??r,e)}var sa=e=>{const{present:t,children:r}=e,a=$ee(t),s=typeof r=="function"?r({present:a.isPresent}):E.Children.only(r),i=qt(a.ref,Vee(s));return typeof r=="function"||a.isPresent?E.cloneElement(s,{ref:i}):null};sa.displayName="Presence";function $ee(e){const[t,r]=E.useState(),a=E.useRef({}),s=E.useRef(e),i=E.useRef("none"),o=e?"mounted":"unmounted",[l,d]=Bee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const u=Tv(a.current);i.current=l==="mounted"?u:"none"},[l]),Xn(()=>{const u=a.current,f=s.current;if(f!==e){const x=i.current,y=Tv(u);e?d("MOUNT"):y==="none"||(u==null?void 0:u.display)==="none"?d("UNMOUNT"):d(f&&x!==y?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Xn(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=y=>{const w=Tv(a.current).includes(y.animationName);if(y.target===t&&w&&(d("ANIMATION_END"),!s.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},x=y=>{y.target===t&&(i.current=Tv(a.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:E.useCallback(u=>{u&&(a.current=getComputedStyle(u)),r(u)},[])}}function Tv(e){return(e==null?void 0:e.animationName)||"none"}function Vee(e){var a,s;let t=(a=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:a.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function zs({prop:e,defaultProp:t,onChange:r=()=>{}}){const[a,s]=zee({defaultProp:t,onChange:r}),i=e!==void 0,o=i?e:a,l=bn(r),d=E.useCallback(u=>{if(i){const p=typeof u=="function"?u(e):u;p!==e&&l(p)}else s(u)},[i,e,s,l]);return[o,d]}function zee({defaultProp:e,onChange:t}){const r=E.useState(e),[a]=r,s=E.useRef(a),i=bn(t);return E.useEffect(()=>{s.current!==a&&(i(a),s.current=a)},[a,s,i]),r}var Uee="VisuallyHidden",w0=E.forwardRef((e,t)=>n.jsx(ht.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));w0.displayName=Uee;var Wee=w0,HT="ToastProvider",[qT,Hee,qee]=b0("Toast"),[bF,mBe]=va("Toast",[qee]),[Gee,uw]=bF(HT),wF=e=>{const{__scopeToast:t,label:r="Notification",duration:a=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=e,[l,d]=E.useState(null),[u,f]=E.useState(0),p=E.useRef(!1),x=E.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${HT}\`. Expected non-empty \`string\`.`),n.jsx(qT.Provider,{scope:t,children:n.jsx(Gee,{scope:t,label:r,duration:a,swipeDirection:s,swipeThreshold:i,toastCount:u,viewport:l,onViewportChange:d,onToastAdd:E.useCallback(()=>f(y=>y+1),[]),onToastRemove:E.useCallback(()=>f(y=>y-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:o})})};wF.displayName=HT;var jF="ToastViewport",Kee=["F8"],fS="toast.viewportPause",mS="toast.viewportResume",NF=E.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:a=Kee,label:s="Notifications ({hotkey})",...i}=e,o=uw(jF,r),l=Hee(r),d=E.useRef(null),u=E.useRef(null),f=E.useRef(null),p=E.useRef(null),x=qt(t,p,o.onViewportChange),y=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=o.toastCount>0;E.useEffect(()=>{const C=N=>{var _;a.length!==0&&a.every(I=>N[I]||N.code===I)&&((_=p.current)==null||_.focus())};return document.addEventListener("keydown",C),()=>document.removeEventListener("keydown",C)},[a]),E.useEffect(()=>{const C=d.current,N=p.current;if(j&&C&&N){const S=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(fS);N.dispatchEvent(M),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(mS);N.dispatchEvent(M),o.isClosePausedRef.current=!1}},I=M=>{!C.contains(M.relatedTarget)&&_()},T=()=>{C.contains(document.activeElement)||_()};return C.addEventListener("focusin",S),C.addEventListener("focusout",I),C.addEventListener("pointermove",S),C.addEventListener("pointerleave",T),window.addEventListener("blur",S),window.addEventListener("focus",_),()=>{C.removeEventListener("focusin",S),C.removeEventListener("focusout",I),C.removeEventListener("pointermove",S),C.removeEventListener("pointerleave",T),window.removeEventListener("blur",S),window.removeEventListener("focus",_)}}},[j,o.isClosePausedRef]);const w=E.useCallback(({tabbingDirection:C})=>{const S=l().map(_=>{const I=_.ref.current,T=[I,...ote(I)];return C==="forwards"?T:T.reverse()});return(C==="forwards"?S.reverse():S).flat()},[l]);return E.useEffect(()=>{const C=p.current;if(C){const N=S=>{var T,M,O;const _=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!_){const D=document.activeElement,R=S.shiftKey;if(S.target===C&&R){(T=u.current)==null||T.focus();return}const B=w({tabbingDirection:R?"backwards":"forwards"}),q=B.findIndex($=>$===D);U2(B.slice(q+1))?S.preventDefault():R?(M=u.current)==null||M.focus():(O=f.current)==null||O.focus()}};return C.addEventListener("keydown",N),()=>C.removeEventListener("keydown",N)}},[l,w]),n.jsxs(Lee,{ref:d,role:"region","aria-label":s.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&n.jsx(pS,{ref:u,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"forwards"});U2(C)}}),n.jsx(qT.Slot,{scope:r,children:n.jsx(ht.ol,{tabIndex:-1,...i,ref:x})}),j&&n.jsx(pS,{ref:f,onFocusFromOutsideViewport:()=>{const C=w({tabbingDirection:"backwards"});U2(C)}})]})});NF.displayName=jF;var CF="ToastFocusProxy",pS=E.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:a,...s}=e,i=uw(CF,r);return n.jsx(w0,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:o=>{var u;const l=o.relatedTarget;!((u=i.viewport)!=null&&u.contains(l))&&a()}})});pS.displayName=CF;var hw="Toast",Yee="toast.swipeStart",Xee="toast.swipeMove",Qee="toast.swipeCancel",Zee="toast.swipeEnd",SF=E.forwardRef((e,t)=>{const{forceMount:r,open:a,defaultOpen:s,onOpenChange:i,...o}=e,[l=!0,d]=zs({prop:a,defaultProp:s,onChange:i});return n.jsx(sa,{present:r||l,children:n.jsx(tte,{open:l,...o,ref:t,onClose:()=>d(!1),onPause:bn(e.onPause),onResume:bn(e.onResume),onSwipeStart:ze(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ze(e.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ze(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ze(e.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),d(!1)})})})});SF.displayName=hw;var[Jee,ete]=bF(hw,{onClose(){}}),tte=E.forwardRef((e,t)=>{const{__scopeToast:r,type:a="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:d,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:y,...j}=e,w=uw(hw,r),[C,N]=E.useState(null),S=qt(t,$=>N($)),_=E.useRef(null),I=E.useRef(null),T=s||w.duration,M=E.useRef(0),O=E.useRef(T),D=E.useRef(0),{onToastAdd:R,onToastRemove:V}=w,z=bn(()=>{var L;(C==null?void 0:C.contains(document.activeElement))&&((L=w.viewport)==null||L.focus()),o()}),B=E.useCallback($=>{!$||$===1/0||(window.clearTimeout(D.current),M.current=new Date().getTime(),D.current=window.setTimeout(z,$))},[z]);E.useEffect(()=>{const $=w.viewport;if($){const L=()=>{B(O.current),u==null||u()},H=()=>{const G=new Date().getTime()-M.current;O.current=O.current-G,window.clearTimeout(D.current),d==null||d()};return $.addEventListener(fS,H),$.addEventListener(mS,L),()=>{$.removeEventListener(fS,H),$.removeEventListener(mS,L)}}},[w.viewport,T,d,u,B]),E.useEffect(()=>{i&&!w.isClosePausedRef.current&&B(T)},[i,T,w.isClosePausedRef,B]),E.useEffect(()=>(R(),()=>V()),[R,V]);const q=E.useMemo(()=>C?kF(C):null,[C]);return w.viewport?n.jsxs(n.Fragment,{children:[q&&n.jsx(rte,{__scopeToast:r,role:"status","aria-live":a==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),n.jsx(Jee,{scope:r,onClose:z,children:fh.createPortal(n.jsx(qT.ItemSlot,{scope:r,children:n.jsx(Dee,{asChild:!0,onEscapeKeyDown:ze(l,()=>{w.isFocusedToastEscapeKeyDownRef.current||z(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(ht.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...j,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ze(e.onKeyDown,$=>{$.key==="Escape"&&(l==null||l($.nativeEvent),$.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:ze(e.onPointerDown,$=>{$.button===0&&(_.current={x:$.clientX,y:$.clientY})}),onPointerMove:ze(e.onPointerMove,$=>{if(!_.current)return;const L=$.clientX-_.current.x,H=$.clientY-_.current.y,G=!!I.current,Y=["left","right"].includes(w.swipeDirection),te=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,X=Y?te(0,L):0,fe=Y?0:te(0,H),re=$.pointerType==="touch"?10:2,se={x:X,y:fe},Te={originalEvent:$,delta:se};G?(I.current=se,_v(Xee,p,Te,{discrete:!1})):ik(se,w.swipeDirection,re)?(I.current=se,_v(Yee,f,Te,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(L)>re||Math.abs(H)>re)&&(_.current=null)}),onPointerUp:ze(e.onPointerUp,$=>{const L=I.current,H=$.target;if(H.hasPointerCapture($.pointerId)&&H.releasePointerCapture($.pointerId),I.current=null,_.current=null,L){const G=$.currentTarget,Y={originalEvent:$,delta:L};ik(L,w.swipeDirection,w.swipeThreshold)?_v(Zee,y,Y,{discrete:!0}):_v(Qee,x,Y,{discrete:!0}),G.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),rte=e=>{const{__scopeToast:t,children:r,...a}=e,s=uw(hw,t),[i,o]=E.useState(!1),[l,d]=E.useState(!1);return ste(()=>o(!0)),E.useEffect(()=>{const u=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:n.jsx(Km,{asChild:!0,children:n.jsx(w0,{...a,children:i&&n.jsxs(n.Fragment,{children:[s.label," ",r]})})})},nte="ToastTitle",AF=E.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(ht.div,{...a,ref:t})});AF.displayName=nte;var ate="ToastDescription",EF=E.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e;return n.jsx(ht.div,{...a,ref:t})});EF.displayName=ate;var TF="ToastAction",_F=E.forwardRef((e,t)=>{const{altText:r,...a}=e;return r.trim()?n.jsx(OF,{altText:r,asChild:!0,children:n.jsx(GT,{...a,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${TF}\`. Expected non-empty \`string\`.`),null)});_F.displayName=TF;var PF="ToastClose",GT=E.forwardRef((e,t)=>{const{__scopeToast:r,...a}=e,s=ete(PF,r);return n.jsx(OF,{asChild:!0,children:n.jsx(ht.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,s.onClose)})})});GT.displayName=PF;var OF=E.forwardRef((e,t)=>{const{__scopeToast:r,altText:a,...s}=e;return n.jsx(ht.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...s,ref:t})});function kF(e){const t=[];return Array.from(e.childNodes).forEach(a=>{if(a.nodeType===a.TEXT_NODE&&a.textContent&&t.push(a.textContent),ite(a)){const s=a.ariaHidden||a.hidden||a.style.display==="none",i=a.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=a.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...kF(a))}}),t}function _v(e,t,r,{discrete:a}){const s=r.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),a?WT(s,i):s.dispatchEvent(i)}var ik=(e,t,r=0)=>{const a=Math.abs(e.x),s=Math.abs(e.y),i=a>s;return t==="left"||t==="right"?i&&a>r:!i&&s>r};function ste(e=()=>{}){const t=bn(e);Xn(()=>{let r=0,a=0;return r=window.requestAnimationFrame(()=>a=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(a)}},[t])}function ite(e){return e.nodeType===e.ELEMENT_NODE}function ote(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function U2(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var lte=wF,IF=NF,MF=SF,RF=AF,DF=EF,LF=_F,FF=GT;function BF(e){var t,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=BF(e[t]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function er(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=BF(e))&&(a&&(a+=" "),a+=t);return a}const ok=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,lk=er,j0=(e,t)=>r=>{var a;if((t==null?void 0:t.variants)==null)return lk(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const f=r==null?void 0:r[u],p=i==null?void 0:i[u];if(f===null)return null;const x=ok(f)||ok(p);return s[u][x]}),l=r&&Object.entries(r).reduce((u,f)=>{let[p,x]=f;return x===void 0||(u[p]=x),u},{}),d=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((u,f)=>{let{class:p,className:x,...y}=f;return Object.entries(y).every(j=>{let[w,C]=j;return Array.isArray(C)?C.includes({...i,...l}[w]):{...i,...l}[w]===C})?[...u,p,x]:u},[]);return lk(e,o,d,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$F=(...e)=>e.filter((t,r,a)=>!!t&&a.indexOf(t)===r).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:s="",children:i,iconNode:o,...l},d)=>E.createElement("svg",{ref:d,...dte,width:t,height:t,stroke:e,strokeWidth:a?Number(r)*24/Number(t):r,className:$F("lucide",s),...l},[...o.map(([u,f])=>E.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(e,t)=>{const r=E.forwardRef(({className:a,...s},i)=>E.createElement(ute,{ref:i,iconNode:t,className:$F(`lucide-${cte(e)}`,a),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=_e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=_e("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=_e("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=_e("ArrowDownToLine",[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=_e("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=_e("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=_e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=_e("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=_e("BadgeDollarSign",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=_e("BadgePercent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=_e("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=_e("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=_e("BellRing",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=_e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=_e("CameraOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=_e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=_e("ChartColumnIncreasing",[["path",{d:"M13 17V9",key:"1fwyjl"}],["path",{d:"M18 17V5",key:"sfb6ij"}],["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=_e("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=_e("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=_e("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=_e("ChartNoAxesGantt",[["path",{d:"M8 6h10",key:"9lnwnk"}],["path",{d:"M6 12h9",key:"1g9pqf"}],["path",{d:"M11 18h7",key:"c8dzvl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=_e("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=_e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=_e("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=_e("CircleArrowRight",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=_e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=_e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=_e("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=_e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=_e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=_e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=_e("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=_e("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=_e("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=_e("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=_e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=_e("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=_e("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=_e("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=_e("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=_e("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=_e("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=_e("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=_e("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=_e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=_e("MailCheck",[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=_e("MessageCircleHeart",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M15.8 9.2a2.5 2.5 0 0 0-3.5 0l-.3.4-.35-.3a2.42 2.42 0 1 0-3.2 3.6l3.6 3.5 3.6-3.5c1.2-1.2 1.1-2.7.2-3.7",key:"43lnbm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=_e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=_e("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=_e("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=_e("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=_e("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2V5z",key:"1ivx2i"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h.01",key:"xkw8gn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=_e("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=_e("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xl=_e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=_e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=_e("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=_e("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=_e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=_e("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=_e("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=_e("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=_e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=_e("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=_e("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=_e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=_e("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=_e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=_e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=_e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=_e("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=_e("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=_e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=_e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=_e("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=_e("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=_e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=_e("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),t4="-",Mte=e=>{const t=Dte(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:o=>{const l=o.split(t4);return l[0]===""&&l.length!==1&&l.shift(),qF(l,t)||Rte(o)},getConflictingClassGroupIds:(o,l)=>{const d=r[o]||[];return l&&a[o]?[...d,...a[o]]:d}}},qF=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],a=t.nextPart.get(r),s=a?qF(e.slice(1),a):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(t4);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},bk=/^\[(.+)\]$/,Rte=e=>{if(bk.test(e)){const t=bk.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Dte=e=>{const{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return Fte(Object.entries(e.classGroups),r).forEach(([i,o])=>{wS(o,a,i,t)}),a},wS=(e,t,r,a)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:wk(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(Lte(s)){wS(s(a),t,r,a);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{wS(o,wk(t,i),r,a)})})},wk=(e,t)=>{let r=e;return t.split(t4).forEach(a=>{r.nextPart.has(a)||r.nextPart.set(a,{nextPart:new Map,validators:[]}),r=r.nextPart.get(a)}),r},Lte=e=>e.isThemeGetter,Fte=(e,t)=>t?e.map(([r,a])=>{const s=a.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,Bte=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,a=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,a=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=a.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},GF="!",$te=e=>{const{separator:t,experimentalParseClassName:r}=e,a=t.length===1,s=t[0],i=t.length,o=l=>{const d=[];let u=0,f=0,p;for(let C=0;C<l.length;C++){let N=l[C];if(u===0){if(N===s&&(a||l.slice(C,C+i)===t)){d.push(l.slice(f,C)),f=C+i;continue}if(N==="/"){p=C;continue}}N==="["?u++:N==="]"&&u--}const x=d.length===0?l:l.substring(f),y=x.startsWith(GF),j=y?x.substring(1):x,w=p&&p>f?p-f:void 0;return{modifiers:d,hasImportantModifier:y,baseClassName:j,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:o}):o},Vte=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(a=>{a[0]==="["?(t.push(...r.sort(),a),r=[]):r.push(a)}),t.push(...r.sort()),t},zte=e=>({cache:Bte(e.cacheSize),parseClassName:$te(e),...Mte(e)}),Ute=/\s+/,Wte=(e,t)=>{const{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(Ute);let l="";for(let d=o.length-1;d>=0;d-=1){const u=o[d],{modifiers:f,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:y}=r(u);let j=!!y,w=a(j?x.substring(0,y):x);if(!w){if(!j){l=u+(l.length>0?" "+l:l);continue}if(w=a(x),!w){l=u+(l.length>0?" "+l:l);continue}j=!1}const C=Vte(f).join(":"),N=p?C+GF:C,S=N+w;if(i.includes(S))continue;i.push(S);const _=s(w,j);for(let I=0;I<_.length;++I){const T=_[I];i.push(N+T)}l=u+(l.length>0?" "+l:l)}return l};function Hte(){let e=0,t,r,a="";for(;e<arguments.length;)(t=arguments[e++])&&(r=KF(t))&&(a&&(a+=" "),a+=r);return a}const KF=e=>{if(typeof e=="string")return e;let t,r="";for(let a=0;a<e.length;a++)e[a]&&(t=KF(e[a]))&&(r&&(r+=" "),r+=t);return r};function qte(e,...t){let r,a,s,i=o;function o(d){const u=t.reduce((f,p)=>p(f),e());return r=zte(u),a=r.cache.get,s=r.cache.set,i=l,l(d)}function l(d){const u=a(d);if(u)return u;const f=Wte(d,r);return s(d,f),f}return function(){return i(Hte.apply(null,arguments))}}const an=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},YF=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gte=/^\d+\/\d+$/,Kte=new Set(["px","full","screen"]),Yte=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Xte=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qte=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zte=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Jte=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pl=e=>Ef(e)||Kte.has(e)||Gte.test(e),Pc=e=>Ym(e,"length",ore),Ef=e=>!!e&&!Number.isNaN(Number(e)),K2=e=>Ym(e,"number",Ef),Lp=e=>!!e&&Number.isInteger(Number(e)),ere=e=>e.endsWith("%")&&Ef(e.slice(0,-1)),tr=e=>YF.test(e),Oc=e=>Yte.test(e),tre=new Set(["length","size","percentage"]),rre=e=>Ym(e,tre,XF),nre=e=>Ym(e,"position",XF),are=new Set(["image","url"]),sre=e=>Ym(e,are,cre),ire=e=>Ym(e,"",lre),Fp=()=>!0,Ym=(e,t,r)=>{const a=YF.exec(e);return a?a[1]?typeof t=="string"?a[1]===t:t.has(a[1]):r(a[2]):!1},ore=e=>Xte.test(e)&&!Qte.test(e),XF=()=>!1,lre=e=>Zte.test(e),cre=e=>Jte.test(e),dre=()=>{const e=an("colors"),t=an("spacing"),r=an("blur"),a=an("brightness"),s=an("borderColor"),i=an("borderRadius"),o=an("borderSpacing"),l=an("borderWidth"),d=an("contrast"),u=an("grayscale"),f=an("hueRotate"),p=an("invert"),x=an("gap"),y=an("gradientColorStops"),j=an("gradientColorStopPositions"),w=an("inset"),C=an("margin"),N=an("opacity"),S=an("padding"),_=an("saturate"),I=an("scale"),T=an("sepia"),M=an("skew"),O=an("space"),D=an("translate"),R=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",tr,t],B=()=>[tr,t],q=()=>["",Pl,Pc],$=()=>["auto",Ef,tr],L=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",tr],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Ef,tr];return{cacheSize:500,separator:":",theme:{colors:[Fp],spacing:[Pl,Pc],blur:["none","",Oc,tr],brightness:fe(),borderColor:[e],borderRadius:["none","","full",Oc,tr],borderSpacing:B(),borderWidth:q(),contrast:fe(),grayscale:te(),hueRotate:fe(),invert:te(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[ere,Pc],inset:z(),margin:z(),opacity:fe(),padding:B(),saturate:fe(),scale:fe(),sepia:te(),skew:fe(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",tr]}],container:["container"],columns:[{columns:[Oc]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...L(),tr]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Lp,tr]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",tr]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Lp,tr]}],"grid-cols":[{"grid-cols":[Fp]}],"col-start-end":[{col:["auto",{span:["full",Lp,tr]},tr]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Fp]}],"row-start-end":[{row:["auto",{span:[Lp,tr]},tr]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",tr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",tr]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[C]}],mx:[{mx:[C]}],my:[{my:[C]}],ms:[{ms:[C]}],me:[{me:[C]}],mt:[{mt:[C]}],mr:[{mr:[C]}],mb:[{mb:[C]}],ml:[{ml:[C]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",tr,t]}],"min-w":[{"min-w":[tr,t,"min","max","fit"]}],"max-w":[{"max-w":[tr,t,"none","full","min","max","fit","prose",{screen:[Oc]},Oc]}],h:[{h:[tr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[tr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[tr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[tr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Oc,Pc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",K2]}],"font-family":[{font:[Fp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",tr]}],"line-clamp":[{"line-clamp":["none",Ef,K2]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pl,tr]}],"list-image":[{"list-image":["none",tr]}],"list-style-type":[{list:["none","disc","decimal",tr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pl,Pc]}],"underline-offset":[{"underline-offset":["auto",Pl,tr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",tr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",tr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...L(),nre]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rre]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},sre]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Pl,tr]}],"outline-w":[{outline:[Pl,Pc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Pl,Pc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Oc,ire]}],"shadow-color":[{shadow:[Fp]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Oc,tr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[_]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",tr]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",tr]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",tr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Lp,tr]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",tr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",tr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",tr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pl,Pc,K2]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ure=qte(dre);function Ue(...e){return ure(er(e))}function jk(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(typeof navigator<"u"?navigator.userAgent:"")}function Be(e,t=!0){if(e==null)return t?"$ 0.00":"0.00";let r;if(typeof e=="string"){const s=e.replace(/[$,\s]/g,"");r=parseFloat(s)}else r=e;if(isNaN(r))return t?"$ 0.00":"0.00";const a=r.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,");return t?`$ ${a}`:a}function pBe(e,t=!0){if(!e)return"N/A";try{const r=typeof e=="string"?new Date(e):e,a={year:"numeric",month:"2-digit",day:"2-digit",timeZone:"America/New_York",...t&&{hour:"2-digit",minute:"2-digit",hour12:!0}};return r.toLocaleDateString("en-US",a)}catch(r){return console.error("Error formatting date:",r),"Invalid date"}}const hre=lte,QF=E.forwardRef(({className:e,...t},r)=>n.jsx(IF,{ref:r,className:Ue("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));QF.displayName=IF.displayName;const fre=j0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZF=E.forwardRef(({className:e,variant:t,...r},a)=>n.jsx(MF,{ref:a,className:Ue(fre({variant:t}),e),...r}));ZF.displayName=MF.displayName;const mre=E.forwardRef(({className:e,...t},r)=>n.jsx(LF,{ref:r,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));mre.displayName=LF.displayName;const JF=E.forwardRef(({className:e,...t},r)=>n.jsx(FF,{ref:r,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx(ph,{className:"h-4 w-4"})}));JF.displayName=FF.displayName;const e9=E.forwardRef(({className:e,...t},r)=>n.jsx(RF,{ref:r,className:Ue("text-sm font-semibold",e),...t}));e9.displayName=RF.displayName;const t9=E.forwardRef(({className:e,...t},r)=>n.jsx(DF,{ref:r,className:Ue("text-sm opacity-90",e),...t}));t9.displayName=DF.displayName;function pre(){const{toasts:e}=rr();return n.jsxs(hre,{children:[e.map(function({id:t,title:r,description:a,action:s,...i}){return n.jsxs(ZF,{...i,children:[n.jsxs("div",{className:"grid gap-1",children:[r&&n.jsx(e9,{children:r}),a&&n.jsx(t9,{children:a})]}),s,n.jsx(JF,{})]},t)}),n.jsx(QF,{})]})}var xre=I6[" useId ".trim().toString()]||(()=>{}),gre=0;function ii(e){const[t,r]=E.useState(xre());return Xn(()=>{r(a=>a??String(gre++))},[e]),t?`radix-${t}`:""}const vre=["top","right","bottom","left"],Sd=Math.min,ei=Math.max,d1=Math.round,Ov=Math.floor,il=e=>({x:e,y:e}),yre={left:"right",right:"left",bottom:"top",top:"bottom"},bre={start:"end",end:"start"};function jS(e,t,r){return ei(e,Sd(t,r))}function dc(e,t){return typeof e=="function"?e(t):e}function uc(e){return e.split("-")[0]}function Xm(e){return e.split("-")[1]}function r4(e){return e==="x"?"y":"x"}function n4(e){return e==="y"?"height":"width"}function Ad(e){return["top","bottom"].includes(uc(e))?"y":"x"}function a4(e){return r4(Ad(e))}function wre(e,t,r){r===void 0&&(r=!1);const a=Xm(e),s=a4(e),i=n4(s);let o=s==="x"?a===(r?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=u1(o)),[o,u1(o)]}function jre(e){const t=u1(e);return[NS(e),t,NS(t)]}function NS(e){return e.replace(/start|end/g,t=>bre[t])}function Nre(e,t,r){const a=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:a:t?a:s;case"left":case"right":return t?i:o;default:return[]}}function Cre(e,t,r,a){const s=Xm(e);let i=Nre(uc(e),r==="start",a);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(NS)))),i}function u1(e){return e.replace(/left|right|bottom|top/g,t=>yre[t])}function Sre(e){return{top:0,right:0,bottom:0,left:0,...e}}function r9(e){return typeof e!="number"?Sre(e):{top:e,right:e,bottom:e,left:e}}function h1(e){const{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function Nk(e,t,r){let{reference:a,floating:s}=e;const i=Ad(t),o=a4(t),l=n4(o),d=uc(t),u=i==="y",f=a.x+a.width/2-s.width/2,p=a.y+a.height/2-s.height/2,x=a[l]/2-s[l]/2;let y;switch(d){case"top":y={x:f,y:a.y-s.height};break;case"bottom":y={x:f,y:a.y+a.height};break;case"right":y={x:a.x+a.width,y:p};break;case"left":y={x:a.x-s.width,y:p};break;default:y={x:a.x,y:a.y}}switch(Xm(t)){case"start":y[o]-=x*(r&&u?-1:1);break;case"end":y[o]+=x*(r&&u?-1:1);break}return y}const Are=async(e,t,r)=>{const{placement:a="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:f,y:p}=Nk(u,a,d),x=a,y={},j=0;for(let w=0;w<l.length;w++){const{name:C,fn:N}=l[w],{x:S,y:_,data:I,reset:T}=await N({x:f,y:p,initialPlacement:a,placement:x,strategy:s,middlewareData:y,rects:u,platform:o,elements:{reference:e,floating:t}});f=S??f,p=_??p,y={...y,[C]:{...y[C],...I}},T&&j<=50&&(j++,typeof T=="object"&&(T.placement&&(x=T.placement),T.rects&&(u=T.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):T.rects),{x:f,y:p}=Nk(u,x,d)),w=-1)}return{x:f,y:p,placement:x,strategy:s,middlewareData:y}};async function sg(e,t){var r;t===void 0&&(t={});const{x:a,y:s,platform:i,rects:o,elements:l,strategy:d}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:x=!1,padding:y=0}=dc(t,e),j=r9(y),C=l[x?p==="floating"?"reference":"floating":p],N=h1(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(C)))==null||r?C:C.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:d})),S=p==="floating"?{x:a,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),I=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},T=h1(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:_,strategy:d}):S);return{top:(N.top-T.top+j.top)/I.y,bottom:(T.bottom-N.bottom+j.bottom)/I.y,left:(N.left-T.left+j.left)/I.x,right:(T.right-N.right+j.right)/I.x}}const Ere=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:a,placement:s,rects:i,platform:o,elements:l,middlewareData:d}=t,{element:u,padding:f=0}=dc(e,t)||{};if(u==null)return{};const p=r9(f),x={x:r,y:a},y=a4(s),j=n4(y),w=await o.getDimensions(u),C=y==="y",N=C?"top":"left",S=C?"bottom":"right",_=C?"clientHeight":"clientWidth",I=i.reference[j]+i.reference[y]-x[y]-i.floating[j],T=x[y]-i.reference[y],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=M?M[_]:0;(!O||!await(o.isElement==null?void 0:o.isElement(M)))&&(O=l.floating[_]||i.floating[j]);const D=I/2-T/2,R=O/2-w[j]/2-1,V=Sd(p[N],R),z=Sd(p[S],R),B=V,q=O-w[j]-z,$=O/2-w[j]/2+D,L=jS(B,$,q),H=!d.arrow&&Xm(s)!=null&&$!==L&&i.reference[j]/2-($<B?V:z)-w[j]/2<0,G=H?$<B?$-B:$-q:0;return{[y]:x[y]+G,data:{[y]:L,centerOffset:$-L-G,...H&&{alignmentOffset:G}},reset:H}}}),Tre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,a;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:d,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,...C}=dc(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=uc(s),S=Ad(l),_=uc(l)===l,I=await(d.isRTL==null?void 0:d.isRTL(u.floating)),T=x||(_||!w?[u1(l)]:jre(l)),M=j!=="none";!x&&M&&T.push(...Cre(l,w,j,I));const O=[l,...T],D=await sg(t,C),R=[];let V=((a=i.flip)==null?void 0:a.overflows)||[];if(f&&R.push(D[N]),p){const $=wre(s,o,I);R.push(D[$[0]],D[$[1]])}if(V=[...V,{placement:s,overflows:R}],!R.every($=>$<=0)){var z,B;const $=(((z=i.flip)==null?void 0:z.index)||0)+1,L=O[$];if(L)return{data:{index:$,overflows:V},reset:{placement:L}};let H=(B=V.filter(G=>G.overflows[0]<=0).sort((G,Y)=>G.overflows[1]-Y.overflows[1])[0])==null?void 0:B.placement;if(!H)switch(y){case"bestFit":{var q;const G=(q=V.filter(Y=>{if(M){const te=Ad(Y.placement);return te===S||te==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(te=>te>0).reduce((te,X)=>te+X,0)]).sort((Y,te)=>Y[1]-te[1])[0])==null?void 0:q[0];G&&(H=G);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Ck(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sk(e){return vre.some(t=>e[t]>=0)}const _re=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:a="referenceHidden",...s}=dc(e,t);switch(a){case"referenceHidden":{const i=await sg(t,{...s,elementContext:"reference"}),o=Ck(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:Sk(o)}}}case"escaped":{const i=await sg(t,{...s,altBoundary:!0}),o=Ck(i,r.floating);return{data:{escapedOffsets:o,escaped:Sk(o)}}}default:return{}}}}};async function Pre(e,t){const{placement:r,platform:a,elements:s}=e,i=await(a.isRTL==null?void 0:a.isRTL(s.floating)),o=uc(r),l=Xm(r),d=Ad(r)==="y",u=["left","top"].includes(o)?-1:1,f=i&&d?-1:1,p=dc(t,e);let{mainAxis:x,crossAxis:y,alignmentAxis:j}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof j=="number"&&(y=l==="end"?j*-1:j),d?{x:y*f,y:x*u}:{x:x*u,y:y*f}}const Ore=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,a;const{x:s,y:i,placement:o,middlewareData:l}=t,d=await Pre(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:o}}}}},kre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:a,placement:s}=t,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:C=>{let{x:N,y:S}=C;return{x:N,y:S}}},...d}=dc(e,t),u={x:r,y:a},f=await sg(t,d),p=Ad(uc(s)),x=r4(p);let y=u[x],j=u[p];if(i){const C=x==="y"?"top":"left",N=x==="y"?"bottom":"right",S=y+f[C],_=y-f[N];y=jS(S,y,_)}if(o){const C=p==="y"?"top":"left",N=p==="y"?"bottom":"right",S=j+f[C],_=j-f[N];j=jS(S,j,_)}const w=l.fn({...t,[x]:y,[p]:j});return{...w,data:{x:w.x-r,y:w.y-a,enabled:{[x]:i,[p]:o}}}}}},Ire=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:a,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:d=!0,crossAxis:u=!0}=dc(e,t),f={x:r,y:a},p=Ad(s),x=r4(p);let y=f[x],j=f[p];const w=dc(l,t),C=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const _=x==="y"?"height":"width",I=i.reference[x]-i.floating[_]+C.mainAxis,T=i.reference[x]+i.reference[_]-C.mainAxis;y<I?y=I:y>T&&(y=T)}if(u){var N,S;const _=x==="y"?"width":"height",I=["top","left"].includes(uc(s)),T=i.reference[p]-i.floating[_]+(I&&((N=o.offset)==null?void 0:N[p])||0)+(I?0:C.crossAxis),M=i.reference[p]+i.reference[_]+(I?0:((S=o.offset)==null?void 0:S[p])||0)-(I?C.crossAxis:0);j<T?j=T:j>M&&(j=M)}return{[x]:y,[p]:j}}}},Mre=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,a;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:d=()=>{},...u}=dc(e,t),f=await sg(t,u),p=uc(s),x=Xm(s),y=Ad(s)==="y",{width:j,height:w}=i.floating;let C,N;p==="top"||p==="bottom"?(C=p,N=x===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,C=x==="end"?"top":"bottom");const S=w-f.top-f.bottom,_=j-f.left-f.right,I=Sd(w-f[C],S),T=Sd(j-f[N],_),M=!t.middlewareData.shift;let O=I,D=T;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(D=_),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(O=S),M&&!x){const V=ei(f.left,0),z=ei(f.right,0),B=ei(f.top,0),q=ei(f.bottom,0);y?D=j-2*(V!==0||z!==0?V+z:ei(f.left,f.right)):O=w-2*(B!==0||q!==0?B+q:ei(f.top,f.bottom))}await d({...t,availableWidth:D,availableHeight:O});const R=await o.getDimensions(l.floating);return j!==R.width||w!==R.height?{reset:{rects:!0}}:{}}}};function pw(){return typeof window<"u"}function Qm(e){return n9(e)?(e.nodeName||"").toLowerCase():"#document"}function oi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cl(e){var t;return(t=(n9(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function n9(e){return pw()?e instanceof Node||e instanceof oi(e).Node:!1}function Po(e){return pw()?e instanceof Element||e instanceof oi(e).Element:!1}function gl(e){return pw()?e instanceof HTMLElement||e instanceof oi(e).HTMLElement:!1}function Ak(e){return!pw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oi(e).ShadowRoot}function C0(e){const{overflow:t,overflowX:r,overflowY:a,display:s}=Oo(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!["inline","contents"].includes(s)}function Rre(e){return["table","td","th"].includes(Qm(e))}function xw(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function s4(e){const t=i4(),r=Po(e)?Oo(e):e;return["transform","translate","scale","rotate","perspective"].some(a=>r[a]?r[a]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(a=>(r.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(r.contain||"").includes(a))}function Dre(e){let t=Ed(e);for(;gl(t)&&!om(t);){if(s4(t))return t;if(xw(t))return null;t=Ed(t)}return null}function i4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function om(e){return["html","body","#document"].includes(Qm(e))}function Oo(e){return oi(e).getComputedStyle(e)}function gw(e){return Po(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ed(e){if(Qm(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Ak(e)&&e.host||Cl(e);return Ak(t)?t.host:t}function a9(e){const t=Ed(e);return om(t)?e.ownerDocument?e.ownerDocument.body:e.body:gl(t)&&C0(t)?t:a9(t)}function ig(e,t,r){var a;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=a9(e),i=s===((a=e.ownerDocument)==null?void 0:a.body),o=oi(s);if(i){const l=CS(o);return t.concat(o,o.visualViewport||[],C0(s)?s:[],l&&r?ig(l):[])}return t.concat(s,ig(s,[],r))}function CS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function s9(e){const t=Oo(e);let r=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const s=gl(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:a,l=d1(r)!==i||d1(a)!==o;return l&&(r=i,a=o),{width:r,height:a,$:l}}function o4(e){return Po(e)?e:e.contextElement}function Tf(e){const t=o4(e);if(!gl(t))return il(1);const r=t.getBoundingClientRect(),{width:a,height:s,$:i}=s9(t);let o=(i?d1(r.width):r.width)/a,l=(i?d1(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Lre=il(0);function i9(e){const t=oi(e);return!i4()||!t.visualViewport?Lre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fre(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==oi(e)?!1:t}function Qu(e,t,r,a){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=o4(e);let o=il(1);t&&(a?Po(a)&&(o=Tf(a)):o=Tf(e));const l=Fre(i,r,a)?i9(i):il(0);let d=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,f=s.width/o.x,p=s.height/o.y;if(i){const x=oi(i),y=a&&Po(a)?oi(a):a;let j=x,w=CS(j);for(;w&&a&&y!==j;){const C=Tf(w),N=w.getBoundingClientRect(),S=Oo(w),_=N.left+(w.clientLeft+parseFloat(S.paddingLeft))*C.x,I=N.top+(w.clientTop+parseFloat(S.paddingTop))*C.y;d*=C.x,u*=C.y,f*=C.x,p*=C.y,d+=_,u+=I,j=oi(w),w=CS(j)}}return h1({width:f,height:p,x:d,y:u})}function l4(e,t){const r=gw(e).scrollLeft;return t?t.left+r:Qu(Cl(e)).left+r}function o9(e,t,r){r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=a.left+t.scrollLeft-(r?0:l4(e,a)),i=a.top+t.scrollTop;return{x:s,y:i}}function Bre(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e;const i=s==="fixed",o=Cl(a),l=t?xw(t.floating):!1;if(a===o||l&&i)return r;let d={scrollLeft:0,scrollTop:0},u=il(1);const f=il(0),p=gl(a);if((p||!p&&!i)&&((Qm(a)!=="body"||C0(o))&&(d=gw(a)),gl(a))){const y=Qu(a);u=Tf(a),f.x=y.x+a.clientLeft,f.y=y.y+a.clientTop}const x=o&&!p&&!i?o9(o,d,!0):il(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-d.scrollLeft*u.x+f.x+x.x,y:r.y*u.y-d.scrollTop*u.y+f.y+x.y}}function $re(e){return Array.from(e.getClientRects())}function Vre(e){const t=Cl(e),r=gw(e),a=e.ownerDocument.body,s=ei(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),i=ei(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let o=-r.scrollLeft+l4(e);const l=-r.scrollTop;return Oo(a).direction==="rtl"&&(o+=ei(t.clientWidth,a.clientWidth)-s),{width:s,height:i,x:o,y:l}}function zre(e,t){const r=oi(e),a=Cl(e),s=r.visualViewport;let i=a.clientWidth,o=a.clientHeight,l=0,d=0;if(s){i=s.width,o=s.height;const u=i4();(!u||u&&t==="fixed")&&(l=s.offsetLeft,d=s.offsetTop)}return{width:i,height:o,x:l,y:d}}function Ure(e,t){const r=Qu(e,!0,t==="fixed"),a=r.top+e.clientTop,s=r.left+e.clientLeft,i=gl(e)?Tf(e):il(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,d=s*i.x,u=a*i.y;return{width:o,height:l,x:d,y:u}}function Ek(e,t,r){let a;if(t==="viewport")a=zre(e,r);else if(t==="document")a=Vre(Cl(e));else if(Po(t))a=Ure(t,r);else{const s=i9(e);a={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return h1(a)}function l9(e,t){const r=Ed(e);return r===t||!Po(r)||om(r)?!1:Oo(r).position==="fixed"||l9(r,t)}function Wre(e,t){const r=t.get(e);if(r)return r;let a=ig(e,[],!1).filter(l=>Po(l)&&Qm(l)!=="body"),s=null;const i=Oo(e).position==="fixed";let o=i?Ed(e):e;for(;Po(o)&&!om(o);){const l=Oo(o),d=s4(o);!d&&l.position==="fixed"&&(s=null),(i?!d&&!s:!d&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||C0(o)&&!d&&l9(e,o))?a=a.filter(f=>f!==o):s=l,o=Ed(o)}return t.set(e,a),a}function Hre(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e;const o=[...r==="clippingAncestors"?xw(t)?[]:Wre(t,this._c):[].concat(r),a],l=o[0],d=o.reduce((u,f)=>{const p=Ek(t,f,s);return u.top=ei(p.top,u.top),u.right=Sd(p.right,u.right),u.bottom=Sd(p.bottom,u.bottom),u.left=ei(p.left,u.left),u},Ek(t,l,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function qre(e){const{width:t,height:r}=s9(e);return{width:t,height:r}}function Gre(e,t,r){const a=gl(t),s=Cl(t),i=r==="fixed",o=Qu(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const d=il(0);if(a||!a&&!i)if((Qm(t)!=="body"||C0(s))&&(l=gw(t)),a){const x=Qu(t,!0,i,t);d.x=x.x+t.clientLeft,d.y=x.y+t.clientTop}else s&&(d.x=l4(s));const u=s&&!a&&!i?o9(s,l):il(0),f=o.left+l.scrollLeft-d.x-u.x,p=o.top+l.scrollTop-d.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function Y2(e){return Oo(e).position==="static"}function Tk(e,t){if(!gl(e)||Oo(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Cl(e)===r&&(r=r.ownerDocument.body),r}function c9(e,t){const r=oi(e);if(xw(e))return r;if(!gl(e)){let s=Ed(e);for(;s&&!om(s);){if(Po(s)&&!Y2(s))return s;s=Ed(s)}return r}let a=Tk(e,t);for(;a&&Rre(a)&&Y2(a);)a=Tk(a,t);return a&&om(a)&&Y2(a)&&!s4(a)?r:a||Dre(e)||r}const Kre=async function(e){const t=this.getOffsetParent||c9,r=this.getDimensions,a=await r(e.floating);return{reference:Gre(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Yre(e){return Oo(e).direction==="rtl"}const Xre={convertOffsetParentRelativeRectToViewportRelativeRect:Bre,getDocumentElement:Cl,getClippingRect:Hre,getOffsetParent:c9,getElementRects:Kre,getClientRects:$re,getDimensions:qre,getScale:Tf,isElement:Po,isRTL:Yre};function d9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qre(e,t){let r=null,a;const s=Cl(e);function i(){var l;clearTimeout(a),(l=r)==null||l.disconnect(),r=null}function o(l,d){l===void 0&&(l=!1),d===void 0&&(d=1),i();const u=e.getBoundingClientRect(),{left:f,top:p,width:x,height:y}=u;if(l||t(),!x||!y)return;const j=Ov(p),w=Ov(s.clientWidth-(f+x)),C=Ov(s.clientHeight-(p+y)),N=Ov(f),_={rootMargin:-j+"px "+-w+"px "+-C+"px "+-N+"px",threshold:ei(0,Sd(1,d))||1};let I=!0;function T(M){const O=M[0].intersectionRatio;if(O!==d){if(!I)return o();O?o(!1,O):a=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!d9(u,e.getBoundingClientRect())&&o(),I=!1}try{r=new IntersectionObserver(T,{..._,root:s.ownerDocument})}catch{r=new IntersectionObserver(T,_)}r.observe(e)}return o(!0),i}function Zre(e,t,r,a){a===void 0&&(a={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:d=!1}=a,u=o4(e),f=s||i?[...u?ig(u):[],...ig(t)]:[];f.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const p=u&&l?Qre(u,r):null;let x=-1,y=null;o&&(y=new ResizeObserver(N=>{let[S]=N;S&&S.target===u&&y&&(y.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(t)})),r()}),u&&!d&&y.observe(u),y.observe(t));let j,w=d?Qu(e):null;d&&C();function C(){const N=Qu(e);w&&!d9(w,N)&&r(),w=N,j=requestAnimationFrame(C)}return r(),()=>{var N;f.forEach(S=>{s&&S.removeEventListener("scroll",r),i&&S.removeEventListener("resize",r)}),p==null||p(),(N=y)==null||N.disconnect(),y=null,d&&cancelAnimationFrame(j)}}const Jre=Ore,ene=kre,tne=Tre,rne=Mre,nne=_re,_k=Ere,ane=Ire,sne=(e,t,r)=>{const a=new Map,s={platform:Xre,...r},i={...s.platform,_c:a};return Are(e,t,{...s,platform:i})};var Ny=typeof document<"u"?E.useLayoutEffect:E.useEffect;function f1(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,a,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(a=r;a--!==0;)if(!f1(e[a],t[a]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!{}.hasOwnProperty.call(t,s[a]))return!1;for(a=r;a--!==0;){const i=s[a];if(!(i==="_owner"&&e.$$typeof)&&!f1(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function u9(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Pk(e,t){const r=u9(e);return Math.round(t*r)/r}function X2(e){const t=E.useRef(e);return Ny(()=>{t.current=e}),t}function ine(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:d,open:u}=e,[f,p]=E.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,y]=E.useState(a);f1(x,a)||y(a);const[j,w]=E.useState(null),[C,N]=E.useState(null),S=E.useCallback(Y=>{Y!==M.current&&(M.current=Y,w(Y))},[]),_=E.useCallback(Y=>{Y!==O.current&&(O.current=Y,N(Y))},[]),I=i||j,T=o||C,M=E.useRef(null),O=E.useRef(null),D=E.useRef(f),R=d!=null,V=X2(d),z=X2(s),B=X2(u),q=E.useCallback(()=>{if(!M.current||!O.current)return;const Y={placement:t,strategy:r,middleware:x};z.current&&(Y.platform=z.current),sne(M.current,O.current,Y).then(te=>{const X={...te,isPositioned:B.current!==!1};$.current&&!f1(D.current,X)&&(D.current=X,fh.flushSync(()=>{p(X)}))})},[x,t,r,z,B]);Ny(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,p(Y=>({...Y,isPositioned:!1})))},[u]);const $=E.useRef(!1);Ny(()=>($.current=!0,()=>{$.current=!1}),[]),Ny(()=>{if(I&&(M.current=I),T&&(O.current=T),I&&T){if(V.current)return V.current(I,T,q);q()}},[I,T,q,V,R]);const L=E.useMemo(()=>({reference:M,floating:O,setReference:S,setFloating:_}),[S,_]),H=E.useMemo(()=>({reference:I,floating:T}),[I,T]),G=E.useMemo(()=>{const Y={position:r,left:0,top:0};if(!H.floating)return Y;const te=Pk(H.floating,f.x),X=Pk(H.floating,f.y);return l?{...Y,transform:"translate("+te+"px, "+X+"px)",...u9(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:te,top:X}},[r,l,H.floating,f.x,f.y]);return E.useMemo(()=>({...f,update:q,refs:L,elements:H,floatingStyles:G}),[f,q,L,H,G])}const one=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:a,padding:s}=typeof e=="function"?e(r):e;return a&&t(a)?a.current!=null?_k({element:a.current,padding:s}).fn(r):{}:a?_k({element:a,padding:s}).fn(r):{}}}},lne=(e,t)=>({...Jre(e),options:[e,t]}),cne=(e,t)=>({...ene(e),options:[e,t]}),dne=(e,t)=>({...ane(e),options:[e,t]}),une=(e,t)=>({...tne(e),options:[e,t]}),hne=(e,t)=>({...rne(e),options:[e,t]}),fne=(e,t)=>({...nne(e),options:[e,t]}),mne=(e,t)=>({...one(e),options:[e,t]});var pne="Arrow",h9=E.forwardRef((e,t)=>{const{children:r,width:a=10,height:s=5,...i}=e;return n.jsx(ht.svg,{...i,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:n.jsx("polygon",{points:"0,0 30,0 15,10"})})});h9.displayName=pne;var xne=h9;function vw(e){const[t,r]=E.useState(void 0);return Xn(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const d=i.borderBoxSize,u=Array.isArray(d)?d[0]:d;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}var c4="Popper",[f9,$d]=va(c4),[gne,m9]=f9(c4),p9=e=>{const{__scopePopper:t,children:r}=e,[a,s]=E.useState(null);return n.jsx(gne,{scope:t,anchor:a,onAnchorChange:s,children:r})};p9.displayName=c4;var x9="PopperAnchor",g9=E.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:a,...s}=e,i=m9(x9,r),o=E.useRef(null),l=qt(t,o);return E.useEffect(()=>{i.onAnchorChange((a==null?void 0:a.current)||o.current)}),a?null:n.jsx(ht.div,{...s,ref:l})});g9.displayName=x9;var d4="PopperContent",[vne,yne]=f9(d4),v9=E.forwardRef((e,t)=>{var he,rt,Ae,Je,Ge,je;const{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:y="optimized",onPlaced:j,...w}=e,C=m9(d4,r),[N,S]=E.useState(null),_=qt(t,it=>S(it)),[I,T]=E.useState(null),M=vw(I),O=(M==null?void 0:M.width)??0,D=(M==null?void 0:M.height)??0,R=a+(i!=="center"?"-"+i:""),V=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},z=Array.isArray(u)?u:[u],B=z.length>0,q={padding:V,boundary:z.filter(wne),altBoundary:B},{refs:$,floatingStyles:L,placement:H,isPositioned:G,middlewareData:Y}=ine({strategy:"fixed",placement:R,whileElementsMounted:(...it)=>Zre(...it,{animationFrame:y==="always"}),elements:{reference:C.anchor},middleware:[lne({mainAxis:s+D,alignmentAxis:o}),d&&cne({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?dne():void 0,...q}),d&&une({...q}),hne({...q,apply:({elements:it,rects:wt,availableWidth:nr,availableHeight:pr})=>{const{width:Gt,height:Ee}=wt.reference,ot=it.floating.style;ot.setProperty("--radix-popper-available-width",`${nr}px`),ot.setProperty("--radix-popper-available-height",`${pr}px`),ot.setProperty("--radix-popper-anchor-width",`${Gt}px`),ot.setProperty("--radix-popper-anchor-height",`${Ee}px`)}}),I&&mne({element:I,padding:l}),jne({arrowWidth:O,arrowHeight:D}),x&&fne({strategy:"referenceHidden",...q})]}),[te,X]=w9(H),fe=bn(j);Xn(()=>{G&&(fe==null||fe())},[G,fe]);const re=(he=Y.arrow)==null?void 0:he.x,se=(rt=Y.arrow)==null?void 0:rt.y,Te=((Ae=Y.arrow)==null?void 0:Ae.centerOffset)!==0,[vt,Me]=E.useState();return Xn(()=>{N&&Me(window.getComputedStyle(N).zIndex)},[N]),n.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...L,transform:G?L.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:vt,"--radix-popper-transform-origin":[(Je=Y.transformOrigin)==null?void 0:Je.x,(Ge=Y.transformOrigin)==null?void 0:Ge.y].join(" "),...((je=Y.hide)==null?void 0:je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:n.jsx(vne,{scope:r,placedSide:te,onArrowChange:T,arrowX:re,arrowY:se,shouldHideArrow:Te,children:n.jsx(ht.div,{"data-side":te,"data-align":X,...w,ref:_,style:{...w.style,animation:G?void 0:"none"}})})})});v9.displayName=d4;var y9="PopperArrow",bne={top:"bottom",right:"left",bottom:"top",left:"right"},b9=E.forwardRef(function(t,r){const{__scopePopper:a,...s}=t,i=yne(y9,a),o=bne[i.placedSide];return n.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:n.jsx(xne,{...s,ref:r,style:{...s.style,display:"block"}})})});b9.displayName=y9;function wne(e){return e!==null}var jne=e=>({name:"transformOrigin",options:e,fn(t){var C,N,S;const{placement:r,rects:a,middlewareData:s}=t,o=((C=s.arrow)==null?void 0:C.centerOffset)!==0,l=o?0:e.arrowWidth,d=o?0:e.arrowHeight,[u,f]=w9(r),p={start:"0%",center:"50%",end:"100%"}[f],x=(((N=s.arrow)==null?void 0:N.x)??0)+l/2,y=(((S=s.arrow)==null?void 0:S.y)??0)+d/2;let j="",w="";return u==="bottom"?(j=o?p:`${x}px`,w=`${-d}px`):u==="top"?(j=o?p:`${x}px`,w=`${a.floating.height+d}px`):u==="right"?(j=`${-d}px`,w=o?p:`${y}px`):u==="left"&&(j=`${a.floating.width+d}px`,w=o?p:`${y}px`),{data:{x:j,y:w}}}});function w9(e){const[t,r="center"]=e.split("-");return[t,r]}var u4=p9,S0=g9,yw=v9,bw=b9,[ww,xBe]=va("Tooltip",[$d]),h4=$d(),j9="TooltipProvider",Nne=700,Ok="tooltip.open",[Cne,N9]=ww(j9),C9=e=>{const{__scopeTooltip:t,delayDuration:r=Nne,skipDelayDuration:a=300,disableHoverableContent:s=!1,children:i}=e,o=E.useRef(!0),l=E.useRef(!1),d=E.useRef(0);return E.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),n.jsx(Cne,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:E.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:E.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:E.useCallback(u=>{l.current=u},[]),disableHoverableContent:s,children:i})};C9.displayName=j9;var S9="Tooltip",[gBe,jw]=ww(S9),SS="TooltipTrigger",Sne=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=jw(SS,r),i=N9(SS,r),o=h4(r),l=E.useRef(null),d=qt(t,l,s.onTriggerChange),u=E.useRef(!1),f=E.useRef(!1),p=E.useCallback(()=>u.current=!1,[]);return E.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),n.jsx(S0,{asChild:!0,...o,children:n.jsx(ht.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...a,ref:d,onPointerMove:ze(e.onPointerMove,x=>{x.pointerType!=="touch"&&!f.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),f.current=!0)}),onPointerLeave:ze(e.onPointerLeave,()=>{s.onTriggerLeave(),f.current=!1}),onPointerDown:ze(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ze(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:ze(e.onBlur,s.onClose),onClick:ze(e.onClick,s.onClose)})})});Sne.displayName=SS;var Ane="TooltipPortal",[vBe,Ene]=ww(Ane,{forceMount:void 0}),lm="TooltipContent",A9=E.forwardRef((e,t)=>{const r=Ene(lm,e.__scopeTooltip),{forceMount:a=r.forceMount,side:s="top",...i}=e,o=jw(lm,e.__scopeTooltip);return n.jsx(sa,{present:a||o.open,children:o.disableHoverableContent?n.jsx(E9,{side:s,...i,ref:t}):n.jsx(Tne,{side:s,...i,ref:t})})}),Tne=E.forwardRef((e,t)=>{const r=jw(lm,e.__scopeTooltip),a=N9(lm,e.__scopeTooltip),s=E.useRef(null),i=qt(t,s),[o,l]=E.useState(null),{trigger:d,onClose:u}=r,f=s.current,{onPointerInTransitChange:p}=a,x=E.useCallback(()=>{l(null),p(!1)},[p]),y=E.useCallback((j,w)=>{const C=j.currentTarget,N={x:j.clientX,y:j.clientY},S=Ine(N,C.getBoundingClientRect()),_=Mne(N,S),I=Rne(w.getBoundingClientRect()),T=Lne([..._,...I]);l(T),p(!0)},[p]);return E.useEffect(()=>()=>x(),[x]),E.useEffect(()=>{if(d&&f){const j=C=>y(C,f),w=C=>y(C,d);return d.addEventListener("pointerleave",j),f.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",j),f.removeEventListener("pointerleave",w)}}},[d,f,y,x]),E.useEffect(()=>{if(o){const j=w=>{const C=w.target,N={x:w.clientX,y:w.clientY},S=(d==null?void 0:d.contains(C))||(f==null?void 0:f.contains(C)),_=!Dne(N,o);S?x():_&&(x(),u())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[d,f,o,u,x]),n.jsx(E9,{...e,ref:i})}),[_ne,Pne]=ww(S9,{isInside:!1}),One=Cee("TooltipContent"),E9=E.forwardRef((e,t)=>{const{__scopeTooltip:r,children:a,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=e,d=jw(lm,r),u=h4(r),{onClose:f}=d;return E.useEffect(()=>(document.addEventListener(Ok,f),()=>document.removeEventListener(Ok,f)),[f]),E.useEffect(()=>{if(d.trigger){const p=x=>{const y=x.target;y!=null&&y.contains(d.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[d.trigger,f]),n.jsx(mh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:n.jsxs(yw,{"data-state":d.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[n.jsx(One,{children:a}),n.jsx(_ne,{scope:r,isInside:!0,children:n.jsx(Wee,{id:d.contentId,role:"tooltip",children:s||a})})]})})});A9.displayName=lm;var T9="TooltipArrow",kne=E.forwardRef((e,t)=>{const{__scopeTooltip:r,...a}=e,s=h4(r);return Pne(T9,r).isInside?null:n.jsx(bw,{...s,...a,ref:t})});kne.displayName=T9;function Ine(e,t){const r=Math.abs(t.top-e.y),a=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(r,a,s,i)){case i:return"left";case s:return"right";case r:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function Mne(e,t,r=5){const a=[];switch(t){case"top":a.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":a.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":a.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":a.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return a}function Rne(e){const{top:t,right:r,bottom:a,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:a},{x:s,y:a}]}function Dne(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,d=t[i].y,u=t[o].x,f=t[o].y;d>a!=f>a&&r<(u-l)*(a-d)/(f-d)+l&&(s=!s)}return s}function Lne(e){const t=e.slice();return t.sort((r,a)=>r.x<a.x?-1:r.x>a.x?1:r.y<a.y?-1:r.y>a.y?1:0),Fne(t)}function Fne(e){if(e.length<=1)return e.slice();const t=[];for(let a=0;a<e.length;a++){const s=e[a];for(;t.length>=2;){const i=t[t.length-1],o=t[t.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let a=e.length-1;a>=0;a--){const s=e[a];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Bne=C9,_9=A9;const $ne=Bne,Vne=E.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(_9,{ref:a,sideOffset:t,className:Ue("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...r}));Vne.displayName=_9.displayName;const f4="valecashback_user_data";function kk(e){try{localStorage.setItem(f4,JSON.stringify(e))}catch(t){console.error("Erro ao salvar dados do usuário no localStorage:",t)}}function zne(){try{const e=localStorage.getItem(f4);return e?JSON.parse(e):null}catch(e){return console.error("Erro ao recuperar dados do usuário do localStorage:",e),null}}function Ik(){try{localStorage.removeItem(f4)}catch(e){console.error("Erro ao limpar dados do usuário do localStorage:",e)}}const P9=E.createContext(void 0);function Une({children:e}){const[t,r]=E.useState(null),[a,s]=E.useState(!0),[,i]=Fd(),{toast:o}=rr();E.useEffect(()=>{async function p(){try{const y=zne();y&&(console.log("Dados encontrados no localStorage:",y),r({id:y.id,name:y.name,email:y.email,type:y.type,photo:y.photo,status:"active"})),console.log("Carregando dados do usuário...");const j=await fetch("/api/auth/me",{credentials:"include",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(console.log("Resposta da API:",j.status),j.ok){const w=await j.json();console.log("Usuário carregado:",w),r(w),kk({id:w.id,name:w.name,email:w.email,type:w.type,photo:w.photo,expiresAt:Date.now()+1e3*60*60*24})}else if(j.status===401&&t)console.log("Sessão expirada"),Ik(),r(null),i("/auth/login"),o({title:"Sessão expirada",description:"Sua sessão expirou. Por favor, faça login novamente.",variant:"destructive"});else if(j.status===401&&!y){console.log("Não autenticado");const w=window.location.pathname;w.startsWith("/invite")||w.startsWith("/convite")||w.startsWith("/parceiro")||w.startsWith("/como/te")||w==="/convite/cliente"||w==="/convite/lojista"||w==="/welcome"||w==="/welcome-static"||w==="/welcome-force"||w==="/welcome-simple"||w==="/"?console.log("Em página pública, ignorando redirecionamento"):(console.log("Não está em página pública, redirecionando para login"),i("/auth/login")),r(null)}}catch(y){console.error("Failed to load user",y)}finally{s(!1)}}p();const x=setInterval(p,3e5);return()=>clearInterval(x)},[i,o]);const f={user:t,loading:a,login:async(p,x,y)=>{s(!0);try{const j=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:p,password:x,type:y}),credentials:"include"});if(!j.ok){const C=await j.json();throw new Error(C.message||"Falha na autenticação. Tente novamente.")}const w=await j.json();r(w),kk({id:w.id,name:w.name,email:w.email,type:w.type,photo:w.photo,expiresAt:Date.now()+1e3*60*60*24}),y==="client"?i("/client/dashboard"):y==="merchant"?i("/merchant/dashboard"):y==="admin"&&i("/admin/dashboard"),o({title:"Login realizado com sucesso",description:`Bem-vindo(a), ${w.name}!`})}catch(j){throw o({title:"Erro ao fazer login",description:j.message,variant:"destructive"}),j}finally{s(!1)}},register:async p=>{s(!0);try{const x=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p),credentials:"include"});if(!x.ok){const j=await x.json();throw new Error(j.message||"Erro ao cadastrar usuário")}const y=await x.json();o({title:"Cadastro realizado com sucesso",description:"Você ganhou $10 de bônus! Já pode fazer login no sistema."}),i("/auth/login")}catch(x){throw o({title:"Erro ao cadastrar",description:x.message,variant:"destructive"}),x}finally{s(!1)}},logout:async()=>{try{await fetch("/api/auth/logout",{method:"POST",credentials:"include"}),Ik(),r(null),i("/auth/login"),o({title:"Logout realizado",description:"Você saiu do sistema com sucesso."})}catch(p){console.error("Logout error",p)}},isAuthenticated:!!t,userType:(t==null?void 0:t.type)||null};return n.jsx(P9.Provider,{value:f,children:e})}const Oa=()=>{const e=E.useContext(P9);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};var Wne=(e,t,r,a,s,i,o,l)=>{let d=document.documentElement,u=["light","dark"];function f(y){(Array.isArray(e)?e:[e]).forEach(j=>{let w=j==="class",C=w&&i?s.map(N=>i[N]||N):s;w?(d.classList.remove(...C),d.classList.add(i&&i[y]?i[y]:y)):d.setAttribute(j,y)}),p(y)}function p(y){l&&u.includes(y)&&(d.style.colorScheme=y)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(a)f(a);else try{let y=localStorage.getItem(t)||r,j=o&&y==="system"?x():y;f(j)}catch{}},Mk=["light","dark"],O9="(prefers-color-scheme: dark)",Hne=typeof window>"u",k9=E.createContext(void 0),qne=e=>E.useContext(k9)?E.createElement(E.Fragment,null,e.children):E.createElement(Kne,{...e}),Gne=["light","dark"],Kne=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:r=!0,enableColorScheme:a=!0,storageKey:s="theme",themes:i=Gne,defaultTheme:o=r?"system":"light",attribute:l="data-theme",value:d,children:u,nonce:f,scriptProps:p})=>{let[x,y]=E.useState(()=>Xne(s,o)),[j,w]=E.useState(()=>x==="system"?Q2():x),C=d?Object.values(d):i,N=E.useCallback(T=>{let M=T;if(!M)return;T==="system"&&r&&(M=Q2());let O=d?d[M]:M,D=t?Qne(f):null,R=document.documentElement,V=z=>{z==="class"?(R.classList.remove(...C),O&&R.classList.add(O)):z.startsWith("data-")&&(O?R.setAttribute(z,O):R.removeAttribute(z))};if(Array.isArray(l)?l.forEach(V):V(l),a){let z=Mk.includes(o)?o:null,B=Mk.includes(M)?M:z;R.style.colorScheme=B}D==null||D()},[f]),S=E.useCallback(T=>{let M=typeof T=="function"?T(x):T;y(M);try{localStorage.setItem(s,M)}catch{}},[x]),_=E.useCallback(T=>{let M=Q2(T);w(M),x==="system"&&r&&!e&&N("system")},[x,e]);E.useEffect(()=>{let T=window.matchMedia(O9);return T.addListener(_),_(T),()=>T.removeListener(_)},[_]),E.useEffect(()=>{let T=M=>{M.key===s&&(M.newValue?y(M.newValue):S(o))};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[S]),E.useEffect(()=>{N(e??x)},[e,x]);let I=E.useMemo(()=>({theme:x,setTheme:S,forcedTheme:e,resolvedTheme:x==="system"?j:x,themes:r?[...i,"system"]:i,systemTheme:r?j:void 0}),[x,S,e,j,r,i]);return E.createElement(k9.Provider,{value:I},E.createElement(Yne,{forcedTheme:e,storageKey:s,attribute:l,enableSystem:r,enableColorScheme:a,defaultTheme:o,value:d,themes:i,nonce:f,scriptProps:p}),u)},Yne=E.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:a,enableColorScheme:s,defaultTheme:i,value:o,themes:l,nonce:d,scriptProps:u})=>{let f=JSON.stringify([r,t,i,e,l,o,a,s]).slice(1,-1);return E.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${Wne.toString()})(${f})`}})}),Xne=(e,t)=>{if(Hne)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||t},Qne=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Q2=e=>(e||(e=window.matchMedia(O9)),e.matches?"dark":"light");const Zne={common:{welcome:"Bem-vindo ao Vale Cashback",login:"Entrar",register:"Registrar",logout:"Sair",profile:"Perfil",settings:"Configurações",save:"Salvar",cancel:"Cancelar",delete:"Excluir",edit:"Editar",search:"Buscar",language:"Idioma",loading:"Carregando...",error:"Erro",success:"Sucesso",confirm:"Confirmar",back:"Voltar",loadingError:"Erro ao carregar dados",restrictedAccess:"Acesso Restrito",reloadMessage:"Tente recarregar a página. Se o problema persistir, entre em contato com o suporte.",reloadPage:"Recarregar página",next:"Próximo",yes:"Sim",no:"Não",or:"ou",and:"e",all:"Todos",home:"Início",dashboard:"Painel",menu:"Menu",close:"Fechar",submit:"Enviar",required:"* Obrigatório",date:"Data",amount:"Valor",status:"Status",Panel:"Painel",Dashboard:"Painel",Transferencias:"Transferências",QRCode:"QR Code",clientPanel:"Painel do Cliente",merchantPanel:"Painel do Lojista",adminPanel:"Painel do Administrador",name:"Nome",type:"Tipo",contact:"Contato",share:"Compartilhar",enterName:"Digite o nome",email:"E-mail",enterEmail:"Digite o email",shareViaWhatsApp:"Compartilhar via WhatsApp",active:"Ativo",pending:"Pendente",sending:"Enviando...",emailNotProvided:"Email não informado",phoneNotProvided:"Telefone não informado",Referrals:"Indicações",Indicações:"Indicações",request:"solicitação",requests:"solicitações",noRecordsFound:"Nenhum registro encontrado",approved:"Aprovado",rejected:"Rejeitado",cancelled:"Cancelado",selectOption:"Selecione uma opção",invalidAmount:"Valor inválido",pleaseEnterValidAmount:"Por favor, informe um valor válido.",insufficientFunds:"Saldo insuficiente",amountExceedsAvailableBalance:"O valor excede seu saldo disponível.",missingInformation:"Informações faltando",fillRequiredFields:"Por favor, preencha todos os campos obrigatórios.",requestProcessError:"Ocorreu um erro ao processar sua solicitação. Por favor, tente novamente.",operationPerformedSuccessfully:"Operação realizada com sucesso.",processing:"Processando...",Vendas:"Vendas","Registro de Vendas":"Registro de Vendas",Transações:"Transações","Histórico de Transações":"Histórico de Transações","Gerar QR Code":"Gerar QR Code","QR Code de Pagamento":"QR Code de Pagamento"},Vendas:"Vendas","Registro de Vendas":"Registro de Vendas",Transações:"Transações","Histórico de Transações":"Histórico de Transações","Gerar QR Code":"Gerar QR Code","QR Code de Pagamento":"QR Code de Pagamento",auth:{email:"E-mail",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu sua senha?",resetPassword:"Redefinir senha",changePassword:"Alterar senha",rememberMe:"Lembrar-me",loginTitle:"Faça login na sua conta",loginDescription:"Entre com suas credenciais para acessar o sistema",registerTitle:"Crie sua conta",registerDescription:"Crie sua conta no Vale Cashback",passwordResetTitle:"Recuperação de senha",name:"Nome",fullName:"Nome completo",username:"Nome de usuário",phone:"Telefone",country:"País",loginTypeSelect:"Selecione o tipo de acesso:",adminLogin:"Administrador",merchantLogin:"Lojista",clientLogin:"Cliente",createAccount:"Criar uma conta",alreadyHaveAccount:"Já tem uma conta?",securityQuestion:"Pergunta de segurança",securityAnswer:"Resposta de segurança",invitationCode:"Código de convite",terms:"Ao se registrar, você concorda com nossos Termos de Serviço e Política de Privacidade",processing:"Processando...",loginAs:"Entrar como",enterEmail:"Digite seu e-mail",enterPassword:"Digite sua senha",noAccount:"Não tem uma conta?",signUp:"Cadastre-se",backToLogin:"Voltar para o login",register:"Cadastrar",merchant:"Lojista",client:"Cliente",admin:"Administrador"},errors:{invalidCredentials:"E-mail ou senha inválidos",requiredField:"Este campo é obrigatório",invalidEmail:"E-mail inválido",passwordMismatch:"As senhas não coincidem",passwordLength:"A senha deve ter pelo menos 6 caracteres",loginFailed:"Falha no login. Tente novamente.",registrationFailed:"Falha no registro. Tente novamente.",serverError:"Erro no servidor. Tente novamente mais tarde.",notFound:"Página não encontrada",unauthorized:"Acesso não autorizado",forbidden:"Acesso proibido",sessionExpired:"Sua sessão expirou. Faça login novamente."},navigation:{transactions:"Transações",transfers:"Transferências",qrCode:"QR Code",referrals:"Indicações",stores:"Lojas",cashback:"Cashback",sales:"Vendas",products:"Produtos",scanner:"Scanner",scanqr:"Pagar QR",customers:"Clientes",reports:"Relatórios",support:"Suporte",withdrawals:"Saques",users:"Usuários",merchants:"Lojistas",logs:"Logs e Auditoria",dashboard:"Painel"},dashboard:{welcome:"Bem-vindo, {{name}}!",quickStats:"Estatísticas rápidas",recentTransactions:"Transações recentes",viewAll:"Ver tudo",balance:"Saldo",cashbackEarned:"Cashback ganho",totalSales:"Total de vendas",activeMerchants:"Lojistas ativos",activeClients:"Clientes ativos",commissionRate:"Taxa de comissão",walletBalance:"Saldo da carteira",trackBalance:"Acompanhe Seu Saldo",balanceDescription:"Você pode transferir seu saldo de cashback para outras pessoas ou utilizá-lo em novos pagamentos através de QR Code.",installApp:"Instale o Vale Cashback",installDescription:"Instale nosso app para ter uma experiência completa e mais prática no seu dispositivo."},transactions:{id:"ID",date:"Data",amount:"Valor",status:"Status",type:"Tipo",merchant:"Lojista",client:"Cliente",cashbackAmount:"Valor do cashback",paymentMethod:"Método de pagamento",description:"Descrição",items:"Itens",total:"Total",addTransaction:"Adicionar transação",editTransaction:"Editar transação",noTransactions:"Nenhuma transação encontrada",filterTransactions:"Filtrar transações",dateRange:"Período",startDate:"Data inicial",endDate:"Data final",apply:"Aplicar",reset:"Resetar",details:"Detalhes",approved:"Aprovada",pending:"Pendente",declined:"Recusada",cancelled:"Cancelada",refunded:"Reembolsada",store:"Loja",title:"Transações",totalTransferred:"Total Transferido",totalReceived:"Total Recebido"},transaction_status:{pending:"Pendente",completed:"Concluída",cancelled:"Cancelada",declined:"Recusada",refunded:"Reembolsada",processing:"Processando"},payment_methods:{cash:"Dinheiro",credit_card:"Cartão de Crédito",debit_card:"Cartão de Débito",pix:"PIX",cashback:"Cashback",wallet:"Carteira Digital",transfer:"Transferência",other:"Outro"},withdrawal:{requestWithdrawal:"Solicitar saque",withdrawalHistory:"Histórico de saques",withdrawalAmount:"Valor do saque",withdrawalMethod:"Método de saque",withdrawalDate:"Data do saque",withdrawalStatus:"Status do saque",minimumAmount:"Valor mínimo para saque: $1",bankAccount:"Conta bancária",bankName:"Nome do banco",accountName:"Nome da conta",accountNumber:"Número da conta",routingNumber:"Número de roteamento",swift:"Código SWIFT",iban:"IBAN",paymentDetails:"Detalhes do pagamento",notes:"Observações",cancelWithdrawal:"Cancelar saque",processWithdrawal:"Processar saque",approveWithdrawal:"Aprovar saque",rejectWithdrawal:"Rejeitar saque",approveConfirmation:"Tem certeza que deseja aprovar este saque?",rejectConfirmation:"Tem certeza que deseja rejeitar este saque?",cancelConfirmation:"Tem certeza que deseja cancelar este saque?",success:"Saque solicitado com sucesso",error:"Erro ao solicitar saque",approveSuccess:"Saque aprovado com sucesso",rejectSuccess:"Saque rejeitado com sucesso",cancelSuccess:"Saque cancelado com sucesso",zelle:"Zelle",bankTransfer:"Transferência bancária",newRequest:"Nova Solicitação",history:"Histórico",currentBalance:"Saldo Atual",availableBalance:"Saldo Disponível",pendingAmount:"Valor Pendente",pendingCount:"Saques Pendentes",amount:"Valor",requestDate:"Data da Solicitação",status:"Status",actions:"Ações",wireTransfer:"Transferência internacional",zelleEmail:"Email do Zelle",zellePhone:"Telefone do Zelle"},referral:{referralCode:"Código de indicação",yourReferralCode:"Seu código de indicação",referralLink:"Link de indicação",referralStats:"Estatísticas de indicação",totalReferrals:"Total de indicações",activeReferrals:"Indicações ativas",referralEarnings:"Ganhos com indicações",inviteFriends:"Convide seus amigos",shareYourCode:"Compartilhe seu código",referralProgram:"Programa de indicação",howItWorks:"Como funciona",earnCommission:"Ganhe {{percentage}}% de comissão em cada compra feita por seus indicados",referredBy:"Indicado por",copyCode:"Copiar código",copied:"Copiado!",registerDate:"Data de registro",status:"Status",totalSpent:"Total gasto",yourEarnings:"Seus ganhos",noReferrals:"Você ainda não tem indicações",myReferrals:"Minhas indicações",clientReferrals:"Indicações de clientes",merchantReferrals:"Indicações de lojistas"},profile:{personalInfo:"Informações pessoais",name:"Nome",email:"E-mail",phone:"Telefone",address:"Endereço",country:"País",updateProfile:"Atualizar perfil",changePassword:"Alterar senha",currentPassword:"Senha atual",newPassword:"Nova senha",confirmNewPassword:"Confirmar nova senha",saveChanges:"Salvar alterações",profileUpdated:"Perfil atualizado com sucesso",passwordChanged:"Senha alterada com sucesso",photoUpload:"Alterar foto",uploadNew:"Enviar nova foto",removePhoto:"Remover foto",uploadRequirements:"JPG, GIF ou PNG. Tamanho máximo de 2MB"},merchant:{storeName:"Nome da loja",storeDescription:"Descrição da loja",storeAddress:"Endereço da loja",storePhone:"Telefone da loja",storeEmail:"E-mail da loja",storeWebsite:"Website da loja",storeLogo:"Logo da loja",storeCover:"Imagem de capa da loja",storeCategory:"Categoria da loja",commission:"Comissão",commissionRate:"Taxa de comissão",cashbackOffered:"Cashback oferecido",manageProducts:"Gerenciar produtos",manageSales:"Gerenciar vendas",storeSettings:"Configurações da loja",paymentMethods:"Métodos de pagamento",businessHours:"Horário de funcionamento",addStore:"Adicionar loja",editStore:"Editar loja",deleteStore:"Excluir loja",confirmDeleteStore:"Tem certeza que deseja excluir esta loja?",storeAdded:"Loja adicionada com sucesso",storeUpdated:"Loja atualizada com sucesso",storeDeleted:"Loja excluída com sucesso",registerSale:"Registrar Venda",history:"Histórico",requestWithdrawal:"Solicitar Saque",partnerStores:"Lojas Parceiras",myStore:"Minha Loja",support:"Suporte",transactionManagement:{title:"Gerenciamento de Transações",searchPlaceholder:"Buscar transações...",transactions:"Transações",description:"Gerencie suas transações: visualize, edite, cancele ou reembolse",table:{customer:"Cliente",date:"Data",amount:"Valor",cashback:"Cashback",method:"Método",status:"Status",actions:"Ações"},actions:{edit:"Editar",complete:"Completar",cancel:"Cancelar",refund:"Reembolsar",delete:"Excluir"},dialogs:{cancel:{title:"Cancelar Transação",description:"Tem certeza que deseja cancelar esta transação?",reasonLabel:"Motivo do Cancelamento",reasonPlaceholder:"Por favor, forneça um motivo para o cancelamento",confirm:"Sim, cancelar",success:"Transação cancelada",successDescription:"A transação foi cancelada com sucesso",error:"Erro ao cancelar transação"},refund:{title:"Reembolsar Transação",description:"Tem certeza que deseja reembolsar esta transação?",reasonLabel:"Motivo do Reembolso",reasonPlaceholder:"Por favor, forneça um motivo para o reembolso",confirm:"Sim, reembolsar",success:"Transação reembolsada",successDescription:"A transação foi reembolsada com sucesso",error:"Erro ao reembolsar transação"},edit:{title:"Editar Transação",description:"Editar detalhes da transação",notesLabel:"Observações",notesPlaceholder:"Observações da transação",paymentMethodLabel:"Método de Pagamento",save:"Salvar alterações",success:"Transação atualizada",successDescription:"A transação foi atualizada com sucesso",error:"Erro ao atualizar transação"},delete:{title:"Excluir Transação",description:"Tem certeza que deseja excluir esta transação? Esta ação não pode ser desfeita.",confirm:"Sim, excluir",success:"Transação excluída",successDescription:"A transação foi excluída com sucesso",error:"Erro ao excluir transação"},complete:{success:"Transação completada",successDescription:"A transação foi completada com sucesso",error:"Erro ao completar transação"}},paymentMethods:{CREDIT_CARD:"Cartão de Crédito",DEBIT_CARD:"Cartão de Débito",CASH:"Dinheiro",TRANSFER:"Transferência",PIX:"PIX",CASHBACK:"Cashback",OTHER:"Outro"}}},admin:{platformSettings:"Configurações da plataforma",userManagement:"Gerenciamento de usuários",merchantManagement:"Gerenciamento de lojistas",clientManagement:"Gerenciamento de clientes",transactionManagement:"Gerenciamento de transações",commissionSettings:"Configurações de comissão",platformFee:"Taxa da plataforma",merchantCommission:"Comissão do lojista",clientCashback:"Cashback do cliente",referralBonus:"Bônus de indicação",saveSettings:"Salvar configurações",settingsSaved:"Configurações salvas com sucesso",systemLogs:"Logs do sistema",auditTrail:"Trilha de auditoria",userActivity:"Atividade do usuário",withdrawalRequests:"Solicitações de saque",manageWithdrawals:"Gerenciar saques"},cashback:{totalEarned:"Total Ganho",cashback:"Cashback",balance:"Saldo Cashback",availableForTransfer:"Disponível para transferência"},referrals:{balance:"Saldo Referral",earnedFromReferrals:"Ganho de indicações",overview:"Visão Geral",inviteFriends:"Convidar Amigos",myReferrals:"Meus Indicados",clientOnly:"Esta página é exclusiva para clientes do Vale Cashback.",permissionDenied:"Você não tem permissão para acessar esta página. Faça login como cliente para acessar o programa de indicações.",loadingError:"Não foi possível carregar suas informações de indicações.",linkCopied:"O link de indicação foi copiado para a área de transferência.",copyError:"Não foi possível copiar o link. Tente novamente ou copie manualmente.",inviteSent:"O convite foi enviado com sucesso para o email informado.",inviteError:"Ocorreu um erro ao enviar o convite. Tente novamente.",requiredFields:"Por favor, preencha todos os campos.",shareMessage:"Olá! Use meu código de indicação {{code}} e ganhe cashback no Vale Cashback:",commission:"Comissão",yourReferralCode:"Seu Código de Indicação",shareCodeDescription:"Compartilhe seu código e ganhe comissões por cada novo usuário",copyLink:"Copiar Link",commissionRate:"Taxa de comissão",perReferral:"por indicação",shareCodeExplanation:"Compartilhe seu código ou link de indicação com amigos e conhecidos. Quando eles se cadastrarem e realizarem compras, você receberá uma comissão de 1% sobre todas as transações deles.",earningsStats:"Estatísticas de Ganhos",trackEarnings:"Acompanhe seus ganhos e indicações em tempo real",totalReferrals:"Total de Indicados",pendingReferrals:"Indicações Pendentes",totalEarned:"Total Ganho",howItWorks:"Como funciona: Você ganha 1% de comissão sobre todas as transações dos usuários que você indicar.",inviteDescription:"Convide amigos para o Vale Cashback e ganhe comissões",sendInvitation:"Enviar Convite",alternateShareMethods:"Ou compartilhe seu link de indicação:",trackReferrals:"Acompanhe suas indicações e status",noReferralsYet:"Sem indicações ainda",startInviting:"Comece a convidar amigos para ganhar comissões",inviteNow:"Convidar Agora",rewardsTitle:"Recompensas",rewardsDescription:"Você ganha 1% de comissão sobre todas as transações realizadas por seus indicados"},actions:{transfer:"Transferir",refer:"Indicar",viewMore:"Ver Mais"},client:{cashbackBalance:"Saldo de cashback",transferCashback:"Transferir cashback",scanQrCode:"Escanear QR Code",nearbyStores:"Lojas próximas",favoriteStores:"Lojas favoritas",latestDeals:"Ofertas recentes",viewAllStores:"Ver todas as lojas",storeDetails:"Detalhes da loja",cashbackRate:"Taxa de cashback",distance:"Distância",direction:"Como chegar",shareStore:"Compartilhar loja",addToFavorites:"Adicionar aos favoritos",removeFromFavorites:"Remover dos favoritos"},validation:{nameTooShort:"Nome deve ter pelo menos 3 caracteres",invalidPhone:"Telefone inválido",selectSecurityQuestion:"Selecione uma pergunta de segurança",provideSecurityAnswer:"Forneça uma resposta para a pergunta de segurança",passwordMismatch:"As senhas não coincidem",storeNameTooShort:"Nome da loja deve ter pelo menos 3 caracteres",selectCategory:"Selecione uma categoria"}},Jne={common:{welcome:"Welcome to Vale Cashback",login:"Login",register:"Register",logout:"Logout",profile:"Profile",settings:"Settings",save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",search:"Search",language:"Language",loading:"Loading...",error:"Error",success:"Success",confirm:"Confirm",back:"Back",next:"Next",yes:"Yes",no:"No",or:"or",and:"and",all:"All",home:"Home",dashboard:"Dashboard",menu:"Menu",close:"Close",submit:"Submit",required:"* Required",date:"Date",amount:"Amount",status:"Status",Panel:"Dashboard",Dashboard:"Dashboard",Transferencias:"Transfers",QRCode:"QR Code",clientPanel:"Client Dashboard",merchantPanel:"Merchant Dashboard",adminPanel:"Admin Dashboard",loadingError:"Error loading data",restrictedAccess:"Restricted Access",reloadMessage:"Please try reloading the page. If the problem persists, contact support.",reloadPage:"Reload page",name:"Name",type:"Type",contact:"Contact",share:"Share",enterName:"Enter name",email:"Email",enterEmail:"Enter email",shareViaWhatsApp:"Share via WhatsApp",active:"Active",pending:"Pending",sending:"Sending...",emailNotProvided:"Email not provided",phoneNotProvided:"Phone not provided",Referrals:"Referrals",request:"request",requests:"requests",noRecordsFound:"No records found",approved:"Approved",rejected:"Rejected",cancelled:"Cancelled",selectOption:"Select an option",invalidAmount:"Invalid amount",pleaseEnterValidAmount:"Please enter a valid amount.",insufficientFunds:"Insufficient funds",amountExceedsAvailableBalance:"The amount exceeds your available balance.",missingInformation:"Missing information",fillRequiredFields:"Please fill in all required fields.",requestProcessError:"An error occurred while processing your request. Please try again.",operationPerformedSuccessfully:"Operation performed successfully.",processing:"Processing...",Indicações:"Referrals"},auth:{email:"Email",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot your password?",resetPassword:"Reset password",changePassword:"Change password",rememberMe:"Remember me",loginTitle:"Log in to your account",loginDescription:"Enter your credentials to access the system",registerTitle:"Create your account",registerDescription:"Create your account at Vale Cashback",passwordResetTitle:"Password Recovery",name:"Name",fullName:"Full name",username:"Username",phone:"Phone",country:"Country",loginTypeSelect:"Select access type:",adminLogin:"Administrator",merchantLogin:"Merchant",clientLogin:"Customer",createAccount:"Create an account",alreadyHaveAccount:"Already have an account?",securityQuestion:"Security question",securityAnswer:"Security answer",invitationCode:"Invitation code",terms:"By registering, you agree to our Terms of Service and Privacy Policy",processing:"Processing...",loginAs:"Login as",enterEmail:"Enter your email",enterPassword:"Enter your password",noAccount:"Don't have an account?",signUp:"Sign up",backToLogin:"Back to login",register:"Register",merchant:"Merchant",client:"Customer",admin:"Administrator"},errors:{invalidCredentials:"Invalid email or password",requiredField:"This field is required",invalidEmail:"Invalid email",passwordMismatch:"Passwords don't match",passwordLength:"Password must be at least 6 characters",loginFailed:"Login failed. Try again.",registrationFailed:"Registration failed. Try again.",serverError:"Server error. Try again later.",notFound:"Page not found",unauthorized:"Unauthorized access",forbidden:"Access forbidden",sessionExpired:"Your session has expired. Please log in again."},navigation:{transactions:"Transactions",transfers:"Transfers",qrCode:"QR Code",referrals:"Referrals",stores:"Stores",cashback:"Cashback",sales:"Sales",products:"Products",scanner:"Scanner",scanqr:"Pay QR",customers:"Customers",reports:"Reports",support:"Support",withdrawals:"Withdrawals",users:"Users",merchants:"Merchants",logs:"Logs & Audit",dashboard:"Dashboard"},dashboard:{welcome:"Welcome, {{name}}!",quickStats:"Quick Stats",recentTransactions:"Recent Transactions",viewAll:"View all",balance:"Balance",cashbackEarned:"Cashback earned",totalSales:"Total sales",activeMerchants:"Active merchants",activeClients:"Active customers",commissionRate:"Commission rate",walletBalance:"Wallet balance",trackBalance:"Track Your Balance",balanceDescription:"You can transfer your cashback balance to other people or use it for new payments through QR Code.",installApp:"Install Vale Cashback",installDescription:"Install our app for a complete and more convenient experience on your device."},transactions:{id:"ID",date:"Date",amount:"Amount",status:"Status",type:"Type",merchant:"Merchant",client:"Customer",cashbackAmount:"Cashback amount",paymentMethod:"Payment method",description:"Description",items:"Items",total:"Total",addTransaction:"Add transaction",editTransaction:"Edit transaction",noTransactions:"No transactions found",filterTransactions:"Filter transactions",dateRange:"Date range",startDate:"Start date",endDate:"End date",apply:"Apply",reset:"Reset",details:"Details",approved:"Approved",pending:"Pending",declined:"Declined",cancelled:"Cancelled",refunded:"Refunded",store:"Store",title:"Transactions",totalTransferred:"Total Transferred",totalReceived:"Total Received"},transaction_status:{pending:"Pending",completed:"Completed",cancelled:"Cancelled",declined:"Declined",refunded:"Refunded",processing:"Processing"},payment_methods:{cash:"Cash",credit_card:"Credit Card",debit_card:"Debit Card",pix:"PIX",cashback:"Cashback",wallet:"Digital Wallet",transfer:"Transfer",other:"Other"},withdrawal:{requestWithdrawal:"Request withdrawal",withdrawalHistory:"Withdrawal history",withdrawalAmount:"Withdrawal amount",withdrawalMethod:"Withdrawal method",withdrawalDate:"Withdrawal date",withdrawalStatus:"Withdrawal status",minimumAmount:"Minimum withdrawal amount: $1",bankAccount:"Bank account",bankName:"Bank name",accountName:"Account name",accountNumber:"Account number",routingNumber:"Routing number",swift:"SWIFT code",iban:"IBAN",paymentDetails:"Payment details",notes:"Notes",cancelWithdrawal:"Cancel withdrawal",processWithdrawal:"Process withdrawal",approveWithdrawal:"Approve withdrawal",rejectWithdrawal:"Reject withdrawal",approveConfirmation:"Are you sure you want to approve this withdrawal?",rejectConfirmation:"Are you sure you want to reject this withdrawal?",cancelConfirmation:"Are you sure you want to cancel this withdrawal?",success:"Withdrawal request successful",error:"Error requesting withdrawal",approveSuccess:"Withdrawal approved successfully",rejectSuccess:"Withdrawal rejected successfully",cancelSuccess:"Withdrawal cancelled successfully",zelle:"Zelle",bankTransfer:"Bank transfer",newRequest:"New Request",history:"History",currentBalance:"Current Balance",availableBalance:"Available Balance",pendingAmount:"Pending Amount",pendingCount:"Pending Withdrawals",amount:"Amount",requestDate:"Request Date",status:"Status",actions:"Actions",wireTransfer:"Wire transfer",zelleEmail:"Zelle email",zellePhone:"Zelle phone"},referral:{referralCode:"Referral code",yourReferralCode:"Your referral code",referralLink:"Referral link",referralStats:"Referral statistics",totalReferrals:"Total referrals",activeReferrals:"Active referrals",referralEarnings:"Referral earnings",inviteFriends:"Invite your friends",shareYourCode:"Share your code",referralProgram:"Referral program",howItWorks:"How it works",earnCommission:"Earn {{percentage}}% commission on every purchase made by your referrals",referredBy:"Referred by",copyCode:"Copy code",copied:"Copied!",registerDate:"Registration date",status:"Status",totalSpent:"Total spent",yourEarnings:"Your earnings",noReferrals:"You don't have any referrals yet",myReferrals:"My referrals",clientReferrals:"Customer referrals",merchantReferrals:"Merchant referrals"},profile:{personalInfo:"Personal information",name:"Name",email:"Email",phone:"Phone",address:"Address",country:"Country",updateProfile:"Update profile",changePassword:"Change password",currentPassword:"Current password",newPassword:"New password",confirmNewPassword:"Confirm new password",saveChanges:"Save changes",profileUpdated:"Profile updated successfully",passwordChanged:"Password changed successfully",photoUpload:"Change photo",uploadNew:"Upload new photo",removePhoto:"Remove photo",uploadRequirements:"JPG, GIF or PNG. Maximum size of 2MB"},merchant:{storeName:"Store name",storeDescription:"Store description",storeAddress:"Store address",storePhone:"Store phone",storeEmail:"Store email",storeWebsite:"Store website",storeLogo:"Store logo",storeCover:"Store cover image",storeCategory:"Store category",commission:"Commission",commissionRate:"Commission rate",cashbackOffered:"Cashback offered",manageProducts:"Manage products",manageSales:"Manage sales",storeSettings:"Store settings",paymentMethods:"Payment methods",businessHours:"Business hours",addStore:"Add store",editStore:"Edit store",deleteStore:"Delete store",confirmDeleteStore:"Are you sure you want to delete this store?",storeAdded:"Store added successfully",storeUpdated:"Store updated successfully",storeDeleted:"Store deleted successfully",registerSale:"Register Sale",history:"History",requestWithdrawal:"Request Withdrawal",partnerStores:"Partner Stores",myStore:"My Store",support:"Support",transactionManagement:{title:"Transaction Management",searchPlaceholder:"Search transactions...",transactions:"Transactions",description:"Manage your transactions: view, edit, cancel or refund",table:{customer:"Customer",date:"Date",amount:"Amount",cashback:"Cashback",method:"Method",status:"Status",actions:"Actions"},actions:{edit:"Edit",complete:"Complete",cancel:"Cancel",refund:"Refund",delete:"Delete"},dialogs:{cancel:{title:"Cancel Transaction",description:"Are you sure you want to cancel this transaction?",reasonLabel:"Cancellation Reason",reasonPlaceholder:"Please provide a reason for cancellation",confirm:"Yes, cancel",success:"Transaction cancelled",successDescription:"The transaction has been cancelled successfully",error:"Error cancelling transaction"},refund:{title:"Refund Transaction",description:"Are you sure you want to refund this transaction?",reasonLabel:"Refund Reason",reasonPlaceholder:"Please provide a reason for refund",confirm:"Yes, refund",success:"Transaction refunded",successDescription:"The transaction has been refunded successfully",error:"Error refunding transaction"},edit:{title:"Edit Transaction",description:"Edit transaction details",notesLabel:"Notes",notesPlaceholder:"Transaction notes",paymentMethodLabel:"Payment Method",save:"Save changes",success:"Transaction updated",successDescription:"The transaction has been updated successfully",error:"Error updating transaction"},delete:{title:"Delete Transaction",description:"Are you sure you want to delete this transaction? This action cannot be undone.",confirm:"Yes, delete",success:"Transaction deleted",successDescription:"The transaction has been deleted successfully",error:"Error deleting transaction"},complete:{success:"Transaction completed",successDescription:"The transaction has been completed successfully",error:"Error completing transaction"}},paymentMethods:{CREDIT_CARD:"Credit Card",DEBIT_CARD:"Debit Card",CASH:"Cash",TRANSFER:"Transfer",PIX:"PIX",CASHBACK:"Cashback",OTHER:"Other"}}},admin:{platformSettings:"Platform settings",userManagement:"User management",merchantManagement:"Merchant management",clientManagement:"Customer management",transactionManagement:"Transaction management",commissionSettings:"Commission settings",platformFee:"Platform fee",merchantCommission:"Merchant commission",clientCashback:"Customer cashback",referralBonus:"Referral bonus",saveSettings:"Save settings",settingsSaved:"Settings saved successfully",systemLogs:"System logs",auditTrail:"Audit trail",userActivity:"User activity",withdrawalRequests:"Withdrawal requests",manageWithdrawals:"Manage withdrawals"},cashback:{totalEarned:"Total Earned",cashback:"Cashback",balance:"Cashback Balance",availableForTransfer:"Available for transfer"},referrals:{balance:"Referral Balance",earnedFromReferrals:"Earned from referrals",overview:"Overview",inviteFriends:"Invite Friends",myReferrals:"My Referrals",clientOnly:"This page is exclusive for Vale Cashback clients.",permissionDenied:"You don't have permission to access this page. Log in as a client to access the referral program.",loadingError:"Could not load your referral information.",linkCopied:"The referral link was copied to the clipboard.",copyError:"Could not copy the link. Try again or copy manually.",inviteSent:"The invitation was successfully sent to the provided email.",inviteError:"An error occurred when sending the invitation. Please try again.",requiredFields:"Please fill in all fields.",shareMessage:"Hello! Use my referral code {{code}} and earn cashback at Vale Cashback:",commission:"Commission",yourReferralCode:"Your Referral Code",shareCodeDescription:"Share your code and earn commissions for each new user",copyLink:"Copy Link",commissionRate:"Commission rate",perReferral:"per referral",shareCodeExplanation:"Share your code or referral link with friends and acquaintances. When they register and make purchases, you will receive a 1% commission on all their transactions.",earningsStats:"Earnings Statistics",trackEarnings:"Track your earnings and referrals in real time",totalReferrals:"Total Referrals",pendingReferrals:"Pending Referrals",totalEarned:"Total Earned",howItWorks:"How it works: You earn a 1% commission on all transactions by users you refer.",inviteDescription:"Invite friends to Vale Cashback and earn commissions",sendInvitation:"Send Invitation",alternateShareMethods:"Or share your referral link:",trackReferrals:"Track your referrals and status",noReferralsYet:"No referrals yet",startInviting:"Start inviting friends to earn commissions",inviteNow:"Invite Now",rewardsTitle:"Rewards",rewardsDescription:"You earn a 1% commission on all transactions made by your referrals"},actions:{transfer:"Transfer",refer:"Refer",viewMore:"View More"},client:{cashbackBalance:"Cashback balance",transferCashback:"Transfer cashback",scanQrCode:"Scan QR Code",nearbyStores:"Nearby stores",favoriteStores:"Favorite stores",latestDeals:"Latest deals",viewAllStores:"View all stores",storeDetails:"Store details",cashbackRate:"Cashback rate",distance:"Distance",direction:"Get directions",shareStore:"Share store",addToFavorites:"Add to favorites",removeFromFavorites:"Remove from favorites"},validation:{nameTooShort:"Name must be at least 3 characters",invalidPhone:"Invalid phone number",selectSecurityQuestion:"Select a security question",provideSecurityAnswer:"Provide an answer to the security question",passwordMismatch:"Passwords don't match",storeNameTooShort:"Store name must be at least 3 characters",selectCategory:"Select a category"}},eae={common:{welcome:"Bienvenido a Vale Cashback",login:"Iniciar sesión",register:"Registrarse",logout:"Cerrar sesión",profile:"Perfil",settings:"Configuración",save:"Guardar",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",search:"Buscar",language:"Idioma",loading:"Cargando...",error:"Error",success:"Éxito",confirm:"Confirmar",back:"Volver",next:"Siguiente",yes:"Sí",no:"No",or:"o",and:"y",all:"Todos",home:"Inicio",dashboard:"Panel",menu:"Menú",close:"Cerrar",submit:"Enviar",required:"* Obligatorio",date:"Fecha",amount:"Monto",status:"Estado",Panel:"Panel",Dashboard:"Panel",Transferencias:"Transferencias",QRCode:"Código QR",clientPanel:"Panel del Cliente",merchantPanel:"Panel del Comerciante",adminPanel:"Panel del Administrador",loadingError:"Error al cargar datos",restrictedAccess:"Acceso Restringido",reloadMessage:"Intente recargar la página. Si el problema persiste, contacte con soporte.",reloadPage:"Recargar página",name:"Nombre",type:"Tipo",contact:"Contacto",share:"Compartir",enterName:"Ingrese nombre",email:"Correo electrónico",enterEmail:"Ingrese correo electrónico",shareViaWhatsApp:"Compartir por WhatsApp",active:"Activo",pending:"Pendiente",sending:"Enviando...",emailNotProvided:"Correo electrónico no proporcionado",phoneNotProvided:"Teléfono no proporcionado",Referrals:"Referencias",Indicações:"Referencias"},auth:{email:"Correo electrónico",password:"Contraseña",confirmPassword:"Confirmar contraseña",forgotPassword:"¿Olvidaste tu contraseña?",resetPassword:"Restablecer contraseña",changePassword:"Cambiar contraseña",rememberMe:"Recordarme",loginTitle:"Inicia sesión en tu cuenta",loginDescription:"Ingresa tus credenciales para acceder al sistema",registerTitle:"Crea tu cuenta",passwordResetTitle:"Recuperación de contraseña",name:"Nombre",username:"Nombre de usuario",phone:"Teléfono",country:"País",loginTypeSelect:"Selecciona el tipo de acceso:",adminLogin:"Administrador",merchantLogin:"Comerciante",clientLogin:"Cliente",createAccount:"Crear una cuenta",alreadyHaveAccount:"¿Ya tienes una cuenta?",securityQuestion:"Pregunta de seguridad",securityAnswer:"Respuesta de seguridad",invitationCode:"Código de invitación",terms:"Al registrarte, aceptas nuestros Términos de Servicio y Política de Privacidad",processing:"Procesando...",loginAs:"Iniciar sesión como",enterEmail:"Ingresa tu correo electrónico",enterPassword:"Ingresa tu contraseña",noAccount:"¿No tienes una cuenta?",signUp:"Regístrate",backToLogin:"Volver al inicio de sesión"},errors:{invalidCredentials:"Correo electrónico o contraseña inválidos",requiredField:"Este campo es obligatorio",invalidEmail:"Correo electrónico inválido",passwordMismatch:"Las contraseñas no coinciden",passwordLength:"La contraseña debe tener al menos 6 caracteres",loginFailed:"Error al iniciar sesión. Inténtalo de nuevo.",registrationFailed:"Error al registrarse. Inténtalo de nuevo.",serverError:"Error del servidor. Inténtalo más tarde.",notFound:"Página no encontrada",unauthorized:"Acceso no autorizado",forbidden:"Acceso prohibido",sessionExpired:"Tu sesión ha expirado. Por favor, inicia sesión de nuevo."},navigation:{transactions:"Transacciones",transfers:"Transferencias",qrCode:"Código QR",referrals:"Referencias",stores:"Tiendas",cashback:"Cashback",sales:"Ventas",products:"Productos",scanner:"Escáner",customers:"Clientes",reports:"Informes",support:"Soporte",withdrawals:"Retiros",users:"Usuarios",merchants:"Comerciantes",logs:"Registros y Auditoría",dashboard:"Panel"},dashboard:{welcome:"¡Bienvenido, {{name}}!",quickStats:"Estadísticas rápidas",recentTransactions:"Transacciones recientes",viewAll:"Ver todo",balance:"Saldo",cashbackEarned:"Cashback ganado",totalSales:"Ventas totales",activeMerchants:"Comerciantes activos",activeClients:"Clientes activos",commissionRate:"Tasa de comisión",walletBalance:"Saldo de la billetera",trackBalance:"Controla Tu Saldo",balanceDescription:"Puedes transferir tu saldo de cashback a otras personas o utilizarlo en nuevos pagos a través de código QR.",installApp:"Instala Vale Cashback",installDescription:"Instala nuestra aplicación para tener una experiencia completa y más conveniente en tu dispositivo."},transactions:{id:"ID",date:"Fecha",amount:"Monto",status:"Estado",type:"Tipo",merchant:"Comerciante",client:"Cliente",cashbackAmount:"Monto de cashback",paymentMethod:"Método de pago",description:"Descripción",items:"Artículos",total:"Total",addTransaction:"Agregar transacción",editTransaction:"Editar transacción",noTransactions:"No se encontraron transacciones",filterTransactions:"Filtrar transacciones",dateRange:"Rango de fechas",startDate:"Fecha de inicio",endDate:"Fecha de finalización",apply:"Aplicar",reset:"Restablecer",details:"Detalles",approved:"Aprobada",pending:"Pendiente",declined:"Rechazada",cancelled:"Cancelada",refunded:"Reembolsada",store:"Tienda",title:"Transacciones",totalTransferred:"Total Transferido",totalReceived:"Total Recibido"},transaction_status:{pending:"Pendiente",completed:"Completada",cancelled:"Cancelada",declined:"Rechazada",refunded:"Reembolsada",processing:"Procesando"},payment_methods:{cash:"Efectivo",credit_card:"Tarjeta de Crédito",debit_card:"Tarjeta de Débito",pix:"PIX",cashback:"Cashback",wallet:"Billetera Digital",transfer:"Transferencia",other:"Otro"},withdrawal:{requestWithdrawal:"Solicitar retiro",withdrawalHistory:"Historial de retiros",withdrawalAmount:"Monto del retiro",withdrawalMethod:"Método de retiro",withdrawalDate:"Fecha del retiro",withdrawalStatus:"Estado del retiro",minimumAmount:"Monto mínimo para retiro: $1",bankAccount:"Cuenta bancaria",bankName:"Nombre del banco",accountName:"Nombre de la cuenta",accountNumber:"Número de cuenta",routingNumber:"Número de ruta",swift:"Código SWIFT",iban:"IBAN",paymentDetails:"Detalles de pago",notes:"Notas",cancelWithdrawal:"Cancelar retiro",processWithdrawal:"Procesar retiro",approveWithdrawal:"Aprobar retiro",rejectWithdrawal:"Rechazar retiro",approveConfirmation:"¿Estás seguro de que deseas aprobar este retiro?",rejectConfirmation:"¿Estás seguro de que deseas rechazar este retiro?",cancelConfirmation:"¿Estás seguro de que deseas cancelar este retiro?",success:"Solicitud de retiro exitosa",error:"Error al solicitar retiro",approveSuccess:"Retiro aprobado con éxito",rejectSuccess:"Retiro rechazado con éxito",cancelSuccess:"Retiro cancelado con éxito",zelle:"Zelle",bankTransfer:"Transferencia bancaria",wireTransfer:"Transferencia internacional",zelleEmail:"Correo electrónico de Zelle",zellePhone:"Teléfono de Zelle"},referral:{referralCode:"Código de referencia",yourReferralCode:"Tu código de referencia",referralLink:"Enlace de referencia",referralStats:"Estadísticas de referencias",totalReferrals:"Total de referencias",activeReferrals:"Referencias activas",referralEarnings:"Ganancias por referencias",inviteFriends:"Invita a tus amigos",shareYourCode:"Comparte tu código",referralProgram:"Programa de referencias",howItWorks:"Cómo funciona",earnCommission:"Gana {{percentage}}% de comisión en cada compra realizada por tus referencias",referredBy:"Referido por",copyCode:"Copiar código",copied:"¡Copiado!",registerDate:"Fecha de registro",status:"Estado",totalSpent:"Total gastado",yourEarnings:"Tus ganancias",noReferrals:"Aún no tienes referencias",myReferrals:"Mis referencias",clientReferrals:"Referencias de clientes",merchantReferrals:"Referencias de comerciantes"},profile:{personalInfo:"Información personal",name:"Nombre",email:"Correo electrónico",phone:"Teléfono",address:"Dirección",country:"País",updateProfile:"Actualizar perfil",changePassword:"Cambiar contraseña",currentPassword:"Contraseña actual",newPassword:"Nueva contraseña",confirmNewPassword:"Confirmar nueva contraseña",saveChanges:"Guardar cambios",profileUpdated:"Perfil actualizado con éxito",passwordChanged:"Contraseña cambiada con éxito",photoUpload:"Cambiar foto",uploadNew:"Subir nueva foto",removePhoto:"Eliminar foto",uploadRequirements:"JPG, GIF o PNG. Tamaño máximo de 2MB"},merchant:{storeName:"Nombre de la tienda",storeDescription:"Descripción de la tienda",storeAddress:"Dirección de la tienda",storePhone:"Teléfono de la tienda",storeEmail:"Correo electrónico de la tienda",storeWebsite:"Sitio web de la tienda",storeLogo:"Logo de la tienda",storeCover:"Imagen de portada de la tienda",storeCategory:"Categoría de la tienda",commission:"Comisión",commissionRate:"Tasa de comisión",cashbackOffered:"Cashback ofrecido",manageProducts:"Gestionar productos",manageSales:"Gestionar ventas",storeSettings:"Configuración de la tienda",paymentMethods:"Métodos de pago",businessHours:"Horario comercial",addStore:"Agregar tienda",editStore:"Editar tienda",deleteStore:"Eliminar tienda",confirmDeleteStore:"¿Estás seguro de que deseas eliminar esta tienda?",storeAdded:"Tienda agregada con éxito",storeUpdated:"Tienda actualizada con éxito",storeDeleted:"Tienda eliminada con éxito",registerSale:"Registrar Venta",history:"Historial",requestWithdrawal:"Solicitar Retiro",partnerStores:"Tiendas Asociadas",myStore:"Mi Tienda",support:"Soporte"},admin:{platformSettings:"Configuración de la plataforma",userManagement:"Gestión de usuarios",merchantManagement:"Gestión de comerciantes",clientManagement:"Gestión de clientes",transactionManagement:"Gestión de transacciones",commissionSettings:"Configuración de comisiones",platformFee:"Tarifa de la plataforma",merchantCommission:"Comisión del comerciante",clientCashback:"Cashback del cliente",referralBonus:"Bono de referencia",saveSettings:"Guardar configuración",settingsSaved:"Configuración guardada con éxito",systemLogs:"Registros del sistema",auditTrail:"Pista de auditoría",userActivity:"Actividad del usuario",withdrawalRequests:"Solicitudes de retiro",manageWithdrawals:"Gestionar retiros"},cashback:{totalEarned:"Total Ganado",cashback:"Cashback",balance:"Saldo Cashback",availableForTransfer:"Disponible para transferencia"},referrals:{balance:"Saldo de Referencias",earnedFromReferrals:"Ganado de referencias",overview:"Visión General",inviteFriends:"Invitar Amigos",myReferrals:"Mis Referencias",clientOnly:"Esta página es exclusiva para clientes de Vale Cashback.",permissionDenied:"No tienes permiso para acceder a esta página. Inicia sesión como cliente para acceder al programa de referencias.",loadingError:"No se pudo cargar tu información de referencias.",linkCopied:"El enlace de referencia se ha copiado al portapapeles.",copyError:"No se pudo copiar el enlace. Inténtalo de nuevo o cópialo manualmente.",inviteSent:"La invitación se envió con éxito al correo electrónico proporcionado.",inviteError:"Se produjo un error al enviar la invitación. Por favor, inténtalo de nuevo.",requiredFields:"Por favor, completa todos los campos.",shareMessage:"¡Hola! Usa mi código de referencia {{code}} y gana cashback en Vale Cashback:",commission:"Comisión",yourReferralCode:"Tu Código de Referencia",shareCodeDescription:"Comparte tu código y gana comisiones por cada nuevo usuario",copyLink:"Copiar Enlace",commissionRate:"Tasa de comisión",perReferral:"por referencia",shareCodeExplanation:"Comparte tu código o enlace de referencia con amigos y conocidos. Cuando se registren y realicen compras, recibirás una comisión del 1% sobre todas sus transacciones.",earningsStats:"Estadísticas de Ganancias",trackEarnings:"Sigue tus ganancias y referencias en tiempo real",totalReferrals:"Total de Referencias",pendingReferrals:"Referencias Pendientes",totalEarned:"Total Ganado",howItWorks:"Cómo funciona: Ganas una comisión del 1% en todas las transacciones de los usuarios que refieres.",inviteDescription:"Invita a amigos a Vale Cashback y gana comisiones",sendInvitation:"Enviar Invitación",alternateShareMethods:"O comparte tu enlace de referencia:",trackReferrals:"Sigue tus referencias y su estado",noReferralsYet:"Sin referencias aún",startInviting:"Comienza a invitar amigos para ganar comisiones",inviteNow:"Invitar Ahora",rewardsTitle:"Recompensas",rewardsDescription:"Ganas una comisión del 1% en todas las transacciones realizadas por tus referencias"},actions:{transfer:"Transferir",refer:"Referir",viewMore:"Ver Más"},client:{cashbackBalance:"Saldo de cashback",transferCashback:"Transferir cashback",scanQrCode:"Escanear código QR",nearbyStores:"Tiendas cercanas",favoriteStores:"Tiendas favoritas",latestDeals:"Ofertas recientes",viewAllStores:"Ver todas las tiendas",storeDetails:"Detalles de la tienda",cashbackRate:"Tasa de cashback",distance:"Distancia",direction:"Cómo llegar",shareStore:"Compartir tienda",addToFavorites:"Agregar a favoritos",removeFromFavorites:"Eliminar de favoritos"}},tae=[{code:"pt",name:"Português"},{code:"en",name:"English"},{code:"es",name:"Español"}],kv={pt:Zne,en:Jne,es:eae},rae="pt",I9=E.createContext(void 0),nae=(e,t)=>t.split(".").reduce((r,a)=>r&&r[a]!==void 0?r[a]:void 0,e),Rk=(e,t)=>{if(!t)return e;let r=e;return Object.entries(t).forEach(([a,s])=>{r=r.replace(new RegExp(`{{${a}}}`,"g"),String(s))}),r},aae=({children:e})=>{const[t,r]=E.useState(()=>{const i=localStorage.getItem("language");return i&&Object.keys(kv).includes(i)?i:rae});E.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t,window.dispatchEvent(new Event("language-changed"))},[t]);const a=i=>{kv[i]&&r(i)},s=(i,o)=>{const l=nae(kv[t],i);if(l===void 0){const d=kv[t][i];if(d&&typeof d=="string")return Rk(d,o);const u=i.split(".");return u[u.length-1]}return typeof l=="string"?Rk(l,o):i};return n.jsx(I9.Provider,{value:{language:t,setLanguage:a,t:s,languages:tae},children:e})},bs=()=>{const e=E.useContext(I9);if(e===void 0)throw new Error("useTranslation must be used within a TranslationProvider");return e};function sae({path:e,component:t,userType:r}){const{user:a,loading:s,userType:i}=Oa();return n.jsx(Ur,{path:e,component:o=>s?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})}):a?r&&i!==r?i==="client"?n.jsx(mu,{to:"/client/dashboard"}):i==="merchant"?n.jsx(mu,{to:"/merchant/dashboard"}):i==="admin"?n.jsx(mu,{to:"/admin/dashboard"}):n.jsx(mu,{to:"/auth/login"}):n.jsx(t,{...o}):n.jsx(mu,{to:"/auth/login"})})}function AS(e,[t,r]){return Math.min(r,Math.max(t,e))}var iae=E.createContext(void 0);function xh(e){const t=E.useContext(iae);return e||t||"ltr"}var Z2=0;function Nw(){E.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Dk()),document.body.insertAdjacentElement("beforeend",e[1]??Dk()),Z2++,()=>{Z2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Z2--}},[])}function Dk(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var J2="focusScope.autoFocusOnMount",eN="focusScope.autoFocusOnUnmount",Lk={bubbles:!1,cancelable:!0},oae="FocusScope",A0=E.forwardRef((e,t)=>{const{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,d]=E.useState(null),u=bn(s),f=bn(i),p=E.useRef(null),x=qt(t,w=>d(w)),y=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(a){let w=function(_){if(y.paused||!l)return;const I=_.target;l.contains(I)?p.current=I:Dc(p.current,{select:!0})},C=function(_){if(y.paused||!l)return;const I=_.relatedTarget;I!==null&&(l.contains(I)||Dc(p.current,{select:!0}))},N=function(_){if(document.activeElement===document.body)for(const T of _)T.removedNodes.length>0&&Dc(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",C);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",C),S.disconnect()}}},[a,l,y.paused]),E.useEffect(()=>{if(l){Bk.add(y);const w=document.activeElement;if(!l.contains(w)){const N=new CustomEvent(J2,Lk);l.addEventListener(J2,u),l.dispatchEvent(N),N.defaultPrevented||(lae(fae(M9(l)),{select:!0}),document.activeElement===w&&Dc(l))}return()=>{l.removeEventListener(J2,u),setTimeout(()=>{const N=new CustomEvent(eN,Lk);l.addEventListener(eN,f),l.dispatchEvent(N),N.defaultPrevented||Dc(w??document.body,{select:!0}),l.removeEventListener(eN,f),Bk.remove(y)},0)}}},[l,u,f,y]);const j=E.useCallback(w=>{if(!r&&!a||y.paused)return;const C=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(C&&N){const S=w.currentTarget,[_,I]=cae(S);_&&I?!w.shiftKey&&N===I?(w.preventDefault(),r&&Dc(_,{select:!0})):w.shiftKey&&N===_&&(w.preventDefault(),r&&Dc(I,{select:!0})):N===S&&w.preventDefault()}},[r,a,y.paused]);return n.jsx(ht.div,{tabIndex:-1,...o,ref:x,onKeyDown:j})});A0.displayName=oae;function lae(e,{select:t=!1}={}){const r=document.activeElement;for(const a of e)if(Dc(a,{select:t}),document.activeElement!==r)return}function cae(e){const t=M9(e),r=Fk(t,e),a=Fk(t.reverse(),e);return[r,a]}function M9(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const s=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||s?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Fk(e,t){for(const r of e)if(!dae(r,{upTo:t}))return r}function dae(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function uae(e){return e instanceof HTMLInputElement&&"select"in e}function Dc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&uae(e)&&t&&e.select()}}var Bk=hae();function hae(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=$k(e,t),e.unshift(t)},remove(t){var r;e=$k(e,t),(r=e[0])==null||r.resume()}}}function $k(e,t){const r=[...e],a=r.indexOf(t);return a!==-1&&r.splice(a,1),r}function fae(e){return e.filter(t=>t.tagName!=="A")}function Cw(e){const t=E.useRef({value:e,previous:e});return E.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var mae=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Lh=new WeakMap,Iv=new WeakMap,Mv={},tN=0,R9=function(e){return e&&(e.host||R9(e.parentNode))},pae=function(e,t){return t.map(function(r){if(e.contains(r))return r;var a=R9(r);return a&&e.contains(a)?a:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},xae=function(e,t,r,a){var s=pae(t,Array.isArray(e)?e:[e]);Mv[r]||(Mv[r]=new WeakMap);var i=Mv[r],o=[],l=new Set,d=new Set(s),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};s.forEach(u);var f=function(p){!p||d.has(p)||Array.prototype.forEach.call(p.children,function(x){if(l.has(x))f(x);else try{var y=x.getAttribute(a),j=y!==null&&y!=="false",w=(Lh.get(x)||0)+1,C=(i.get(x)||0)+1;Lh.set(x,w),i.set(x,C),o.push(x),w===1&&j&&Iv.set(x,!0),C===1&&x.setAttribute(r,"true"),j||x.setAttribute(a,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return f(t),l.clear(),tN++,function(){o.forEach(function(p){var x=Lh.get(p)-1,y=i.get(p)-1;Lh.set(p,x),i.set(p,y),x||(Iv.has(p)||p.removeAttribute(a),Iv.delete(p)),y||p.removeAttribute(r)}),tN--,tN||(Lh=new WeakMap,Lh=new WeakMap,Iv=new WeakMap,Mv={})}},Sw=function(e,t,r){r===void 0&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=mae(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live]"))),xae(a,s,r,"aria-hidden")):function(){return null}},Xo=function(){return Xo=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Xo.apply(this,arguments)};function D9(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function gae(e,t,r){if(r||arguments.length===2)for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}var Cy="right-scroll-bar-position",Sy="width-before-scroll-bar",vae="with-scroll-bars-hidden",yae="--removed-body-scroll-bar-size";function rN(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function bae(e,t){var r=E.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(a){var s=r.value;s!==a&&(r.value=a,r.callback(a,s))}}}})[0];return r.callback=t,r.facade}var wae=typeof window<"u"?E.useLayoutEffect:E.useEffect,Vk=new WeakMap;function jae(e,t){var r=bae(null,function(a){return e.forEach(function(s){return rN(s,a)})});return wae(function(){var a=Vk.get(r);if(a){var s=new Set(a),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||rN(l,null)}),i.forEach(function(l){s.has(l)||rN(l,o)})}Vk.set(r,e)},[e]),r}function Nae(e){return e}function Cae(e,t){t===void 0&&(t=Nae);var r=[],a=!1,s={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,a);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(a=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){a=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var d=function(){var f=o;o=[],f.forEach(i)},u=function(){return Promise.resolve().then(d)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return s}function Sae(e){e===void 0&&(e={});var t=Cae(null);return t.options=Xo({async:!0,ssr:!1},e),t}var L9=function(e){var t=e.sideCar,r=D9(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return E.createElement(a,Xo({},r))};L9.isSideCarExport=!0;function Aae(e,t){return e.useMedium(t),L9}var F9=Sae(),nN=function(){},Aw=E.forwardRef(function(e,t){var r=E.useRef(null),a=E.useState({onScrollCapture:nN,onWheelCapture:nN,onTouchMoveCapture:nN}),s=a[0],i=a[1],o=e.forwardProps,l=e.children,d=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,x=e.sideCar,y=e.noIsolation,j=e.inert,w=e.allowPinchZoom,C=e.as,N=C===void 0?"div":C,S=e.gapMode,_=D9(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=x,T=jae([r,t]),M=Xo(Xo({},_),s);return E.createElement(E.Fragment,null,f&&E.createElement(I,{sideCar:F9,removeScrollBar:u,shards:p,noIsolation:y,inert:j,setCallbacks:i,allowPinchZoom:!!w,lockRef:r,gapMode:S}),o?E.cloneElement(E.Children.only(l),Xo(Xo({},M),{ref:T})):E.createElement(N,Xo({},M,{className:d,ref:T}),l))});Aw.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Aw.classNames={fullWidth:Sy,zeroRight:Cy};var Eae=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tae(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Eae();return t&&e.setAttribute("nonce",t),e}function _ae(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Pae(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Oae=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Tae())&&(_ae(t,r),Pae(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},kae=function(){var e=Oae();return function(t,r){E.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},B9=function(){var e=kae(),t=function(r){var a=r.styles,s=r.dynamic;return e(a,s),null};return t},Iae={left:0,top:0,right:0,gap:0},aN=function(e){return parseInt(e||"",10)||0},Mae=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[aN(r),aN(a),aN(s)]},Rae=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Iae;var t=Mae(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},Dae=B9(),_f="data-scroll-locked",Lae=function(e,t,r,a){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(vae,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(l,"px ").concat(a,`;
  }
  body[`).concat(_f,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(a,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cy,` {
    right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Sy,` {
    margin-right: `).concat(l,"px ").concat(a,`;
  }
  
  .`).concat(Cy," .").concat(Cy,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Sy," .").concat(Sy,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(_f,`] {
    `).concat(yae,": ").concat(l,`px;
  }
`)},zk=function(){var e=parseInt(document.body.getAttribute(_f)||"0",10);return isFinite(e)?e:0},Fae=function(){E.useEffect(function(){return document.body.setAttribute(_f,(zk()+1).toString()),function(){var e=zk()-1;e<=0?document.body.removeAttribute(_f):document.body.setAttribute(_f,e.toString())}},[])},Bae=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=a===void 0?"margin":a;Fae();var i=E.useMemo(function(){return Rae(s)},[s]);return E.createElement(Dae,{styles:Lae(i,!t,s,r?"":"!important")})},ES=!1;if(typeof window<"u")try{var Rv=Object.defineProperty({},"passive",{get:function(){return ES=!0,!0}});window.addEventListener("test",Rv,Rv),window.removeEventListener("test",Rv,Rv)}catch{ES=!1}var Fh=ES?{passive:!1}:!1,$ae=function(e){return e.tagName==="TEXTAREA"},$9=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$ae(e)&&r[t]==="visible")},Vae=function(e){return $9(e,"overflowY")},zae=function(e){return $9(e,"overflowX")},Uk=function(e,t){var r=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var s=V9(e,a);if(s){var i=z9(e,a),o=i[1],l=i[2];if(o>l)return!0}a=a.parentNode}while(a&&a!==r.body);return!1},Uae=function(e){var t=e.scrollTop,r=e.scrollHeight,a=e.clientHeight;return[t,r,a]},Wae=function(e){var t=e.scrollLeft,r=e.scrollWidth,a=e.clientWidth;return[t,r,a]},V9=function(e,t){return e==="v"?Vae(t):zae(t)},z9=function(e,t){return e==="v"?Uae(t):Wae(t)},Hae=function(e,t){return e==="h"&&t==="rtl"?-1:1},qae=function(e,t,r,a,s){var i=Hae(e,window.getComputedStyle(t).direction),o=i*a,l=r.target,d=t.contains(l),u=!1,f=o>0,p=0,x=0;do{var y=z9(e,l),j=y[0],w=y[1],C=y[2],N=w-C-i*j;(j||N)&&V9(e,l)&&(p+=N,x+=j),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!d&&l!==document.body||d&&(t.contains(l)||t===l));return(f&&(Math.abs(p)<1||!s)||!f&&(Math.abs(x)<1||!s))&&(u=!0),u},Dv=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Wk=function(e){return[e.deltaX,e.deltaY]},Hk=function(e){return e&&"current"in e?e.current:e},Gae=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kae=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Yae=0,Bh=[];function Xae(e){var t=E.useRef([]),r=E.useRef([0,0]),a=E.useRef(),s=E.useState(Yae++)[0],i=E.useState(B9)[0],o=E.useRef(e);E.useEffect(function(){o.current=e},[e]),E.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var w=gae([e.lockRef.current],(e.shards||[]).map(Hk),!0).filter(Boolean);return w.forEach(function(C){return C.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=E.useCallback(function(w,C){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var N=Dv(w),S=r.current,_="deltaX"in w?w.deltaX:S[0]-N[0],I="deltaY"in w?w.deltaY:S[1]-N[1],T,M=w.target,O=Math.abs(_)>Math.abs(I)?"h":"v";if("touches"in w&&O==="h"&&M.type==="range")return!1;var D=Uk(O,M);if(!D)return!0;if(D?T=O:(T=O==="v"?"h":"v",D=Uk(O,M)),!D)return!1;if(!a.current&&"changedTouches"in w&&(_||I)&&(a.current=T),!T)return!0;var R=a.current||T;return qae(R,C,w,R==="h"?_:I,!0)},[]),d=E.useCallback(function(w){var C=w;if(!(!Bh.length||Bh[Bh.length-1]!==i)){var N="deltaY"in C?Wk(C):Dv(C),S=t.current.filter(function(T){return T.name===C.type&&(T.target===C.target||C.target===T.shadowParent)&&Gae(T.delta,N)})[0];if(S&&S.should){C.cancelable&&C.preventDefault();return}if(!S){var _=(o.current.shards||[]).map(Hk).filter(Boolean).filter(function(T){return T.contains(C.target)}),I=_.length>0?l(C,_[0]):!o.current.noIsolation;I&&C.cancelable&&C.preventDefault()}}},[]),u=E.useCallback(function(w,C,N,S){var _={name:w,delta:C,target:N,should:S,shadowParent:Qae(N)};t.current.push(_),setTimeout(function(){t.current=t.current.filter(function(I){return I!==_})},1)},[]),f=E.useCallback(function(w){r.current=Dv(w),a.current=void 0},[]),p=E.useCallback(function(w){u(w.type,Wk(w),w.target,l(w,e.lockRef.current))},[]),x=E.useCallback(function(w){u(w.type,Dv(w),w.target,l(w,e.lockRef.current))},[]);E.useEffect(function(){return Bh.push(i),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",d,Fh),document.addEventListener("touchmove",d,Fh),document.addEventListener("touchstart",f,Fh),function(){Bh=Bh.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,Fh),document.removeEventListener("touchmove",d,Fh),document.removeEventListener("touchstart",f,Fh)}},[]);var y=e.removeScrollBar,j=e.inert;return E.createElement(E.Fragment,null,j?E.createElement(i,{styles:Kae(s)}):null,y?E.createElement(Bae,{gapMode:e.gapMode}):null)}function Qae(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Zae=Aae(F9,Xae);var E0=E.forwardRef(function(e,t){return E.createElement(Aw,Xo({},e,{ref:t,sideCar:Zae}))});E0.classNames=Aw.classNames;var Jae=[" ","Enter","ArrowUp","ArrowDown"],ese=[" ","Enter"],T0="Select",[Ew,Tw,tse]=b0(T0),[Zm,yBe]=va(T0,[tse,$d]),_w=$d(),[rse,Vd]=Zm(T0),[nse,ase]=Zm(T0),U9=e=>{const{__scopeSelect:t,children:r,open:a,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:d,dir:u,name:f,autoComplete:p,disabled:x,required:y,form:j}=e,w=_w(t),[C,N]=E.useState(null),[S,_]=E.useState(null),[I,T]=E.useState(!1),M=xh(u),[O=!1,D]=zs({prop:a,defaultProp:s,onChange:i}),[R,V]=zs({prop:o,defaultProp:l,onChange:d}),z=E.useRef(null),B=C?j||!!C.closest("form"):!0,[q,$]=E.useState(new Set),L=Array.from(q).map(H=>H.props.value).join(";");return n.jsx(u4,{...w,children:n.jsxs(rse,{required:y,scope:t,trigger:C,onTriggerChange:N,valueNode:S,onValueNodeChange:_,valueNodeHasChildren:I,onValueNodeHasChildrenChange:T,contentId:ii(),value:R,onValueChange:V,open:O,onOpenChange:D,dir:M,triggerPointerDownPosRef:z,disabled:x,children:[n.jsx(Ew.Provider,{scope:t,children:n.jsx(nse,{scope:e.__scopeSelect,onNativeOptionAdd:E.useCallback(H=>{$(G=>new Set(G).add(H))},[]),onNativeOptionRemove:E.useCallback(H=>{$(G=>{const Y=new Set(G);return Y.delete(H),Y})},[]),children:r})}),B?n.jsxs(mB,{"aria-hidden":!0,required:y,tabIndex:-1,name:f,autoComplete:p,value:R,onChange:H=>V(H.target.value),disabled:x,form:j,children:[R===void 0?n.jsx("option",{value:""}):null,Array.from(q)]},L):null]})})};U9.displayName=T0;var W9="SelectTrigger",H9=E.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:a=!1,...s}=e,i=_w(r),o=Vd(W9,r),l=o.disabled||a,d=qt(t,o.onTriggerChange),u=Tw(r),f=E.useRef("touch"),[p,x,y]=pB(w=>{const C=u().filter(_=>!_.disabled),N=C.find(_=>_.value===o.value),S=xB(C,w,N);S!==void 0&&o.onValueChange(S.value)}),j=w=>{l||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return n.jsx(S0,{asChild:!0,...i,children:n.jsx(ht.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":fB(o.value)?"":void 0,...s,ref:d,onClick:ze(s.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&j(w)}),onPointerDown:ze(s.onPointerDown,w=>{f.current=w.pointerType;const C=w.target;C.hasPointerCapture(w.pointerId)&&C.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:ze(s.onKeyDown,w=>{const C=p.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(C&&w.key===" ")&&Jae.includes(w.key)&&(j(),w.preventDefault())})})})});H9.displayName=W9;var q9="SelectValue",G9=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,children:i,placeholder:o="",...l}=e,d=Vd(q9,r),{onValueNodeHasChildrenChange:u}=d,f=i!==void 0,p=qt(t,d.onValueNodeChange);return Xn(()=>{u(f)},[u,f]),n.jsx(ht.span,{...l,ref:p,style:{pointerEvents:"none"},children:fB(d.value)?n.jsx(n.Fragment,{children:o}):i})});G9.displayName=q9;var sse="SelectIcon",K9=E.forwardRef((e,t)=>{const{__scopeSelect:r,children:a,...s}=e;return n.jsx(ht.span,{"aria-hidden":!0,...s,ref:t,children:a||"▼"})});K9.displayName=sse;var ise="SelectPortal",Y9=e=>n.jsx(Km,{asChild:!0,...e});Y9.displayName=ise;var Zu="SelectContent",X9=E.forwardRef((e,t)=>{const r=Vd(Zu,e.__scopeSelect),[a,s]=E.useState();if(Xn(()=>{s(new DocumentFragment)},[]),!r.open){const i=a;return i?fh.createPortal(n.jsx(Q9,{scope:e.__scopeSelect,children:n.jsx(Ew.Slot,{scope:e.__scopeSelect,children:n.jsx("div",{children:e.children})})}),i):null}return n.jsx(Z9,{...e,ref:t})});X9.displayName=Zu;var ao=10,[Q9,zd]=Zm(Zu),ose="SelectContentImpl",lse=Nd("SelectContent.RemoveScroll"),Z9=E.forwardRef((e,t)=>{const{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:C,...N}=e,S=Vd(Zu,r),[_,I]=E.useState(null),[T,M]=E.useState(null),O=qt(t,he=>I(he)),[D,R]=E.useState(null),[V,z]=E.useState(null),B=Tw(r),[q,$]=E.useState(!1),L=E.useRef(!1);E.useEffect(()=>{if(_)return Sw(_)},[_]),Nw();const H=E.useCallback(he=>{const[rt,...Ae]=B().map(je=>je.ref.current),[Je]=Ae.slice(-1),Ge=document.activeElement;for(const je of he)if(je===Ge||(je==null||je.scrollIntoView({block:"nearest"}),je===rt&&T&&(T.scrollTop=0),je===Je&&T&&(T.scrollTop=T.scrollHeight),je==null||je.focus(),document.activeElement!==Ge))return},[B,T]),G=E.useCallback(()=>H([D,_]),[H,D,_]);E.useEffect(()=>{q&&G()},[q,G]);const{onOpenChange:Y,triggerPointerDownPosRef:te}=S;E.useEffect(()=>{if(_){let he={x:0,y:0};const rt=Je=>{var Ge,je;he={x:Math.abs(Math.round(Je.pageX)-(((Ge=te.current)==null?void 0:Ge.x)??0)),y:Math.abs(Math.round(Je.pageY)-(((je=te.current)==null?void 0:je.y)??0))}},Ae=Je=>{he.x<=10&&he.y<=10?Je.preventDefault():_.contains(Je.target)||Y(!1),document.removeEventListener("pointermove",rt),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",rt),document.addEventListener("pointerup",Ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",Ae,{capture:!0})}}},[_,Y,te]),E.useEffect(()=>{const he=()=>Y(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[Y]);const[X,fe]=pB(he=>{const rt=B().filter(Ge=>!Ge.disabled),Ae=rt.find(Ge=>Ge.ref.current===document.activeElement),Je=xB(rt,he,Ae);Je&&setTimeout(()=>Je.ref.current.focus())}),re=E.useCallback((he,rt,Ae)=>{const Je=!L.current&&!Ae;(S.value!==void 0&&S.value===rt||Je)&&(R(he),Je&&(L.current=!0))},[S.value]),se=E.useCallback(()=>_==null?void 0:_.focus(),[_]),Te=E.useCallback((he,rt,Ae)=>{const Je=!L.current&&!Ae;(S.value!==void 0&&S.value===rt||Je)&&z(he)},[S.value]),vt=a==="popper"?TS:J9,Me=vt===TS?{side:l,sideOffset:d,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:x,collisionPadding:y,sticky:j,hideWhenDetached:w,avoidCollisions:C}:{};return n.jsx(Q9,{scope:r,content:_,viewport:T,onViewportChange:M,itemRefCallback:re,selectedItem:D,onItemLeave:se,itemTextRefCallback:Te,focusSelectedItem:G,selectedItemText:V,position:a,isPositioned:q,searchRef:X,children:n.jsx(E0,{as:lse,allowPinchZoom:!0,children:n.jsx(A0,{asChild:!0,trapped:S.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:ze(s,he=>{var rt;(rt=S.trigger)==null||rt.focus({preventScroll:!0}),he.preventDefault()}),children:n.jsx(mh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:n.jsx(vt,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:he=>he.preventDefault(),...N,...Me,onPlaced:()=>$(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ze(N.onKeyDown,he=>{const rt=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!rt&&he.key.length===1&&fe(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let Je=B().filter(Ge=>!Ge.disabled).map(Ge=>Ge.ref.current);if(["ArrowUp","End"].includes(he.key)&&(Je=Je.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const Ge=he.target,je=Je.indexOf(Ge);Je=Je.slice(je+1)}setTimeout(()=>H(Je)),he.preventDefault()}})})})})})})});Z9.displayName=ose;var cse="SelectItemAlignedPosition",J9=E.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:a,...s}=e,i=Vd(Zu,r),o=zd(Zu,r),[l,d]=E.useState(null),[u,f]=E.useState(null),p=qt(t,O=>f(O)),x=Tw(r),y=E.useRef(!1),j=E.useRef(!0),{viewport:w,selectedItem:C,selectedItemText:N,focusSelectedItem:S}=o,_=E.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&w&&C&&N){const O=i.trigger.getBoundingClientRect(),D=u.getBoundingClientRect(),R=i.valueNode.getBoundingClientRect(),V=N.getBoundingClientRect();if(i.dir!=="rtl"){const Ge=V.left-D.left,je=R.left-Ge,it=O.left-je,wt=O.width+it,nr=Math.max(wt,D.width),pr=window.innerWidth-ao,Gt=AS(je,[ao,Math.max(ao,pr-nr)]);l.style.minWidth=wt+"px",l.style.left=Gt+"px"}else{const Ge=D.right-V.right,je=window.innerWidth-R.right-Ge,it=window.innerWidth-O.right-je,wt=O.width+it,nr=Math.max(wt,D.width),pr=window.innerWidth-ao,Gt=AS(je,[ao,Math.max(ao,pr-nr)]);l.style.minWidth=wt+"px",l.style.right=Gt+"px"}const z=x(),B=window.innerHeight-ao*2,q=w.scrollHeight,$=window.getComputedStyle(u),L=parseInt($.borderTopWidth,10),H=parseInt($.paddingTop,10),G=parseInt($.borderBottomWidth,10),Y=parseInt($.paddingBottom,10),te=L+H+q+Y+G,X=Math.min(C.offsetHeight*5,te),fe=window.getComputedStyle(w),re=parseInt(fe.paddingTop,10),se=parseInt(fe.paddingBottom,10),Te=O.top+O.height/2-ao,vt=B-Te,Me=C.offsetHeight/2,he=C.offsetTop+Me,rt=L+H+he,Ae=te-rt;if(rt<=Te){const Ge=z.length>0&&C===z[z.length-1].ref.current;l.style.bottom="0px";const je=u.clientHeight-w.offsetTop-w.offsetHeight,it=Math.max(vt,Me+(Ge?se:0)+je+G),wt=rt+it;l.style.height=wt+"px"}else{const Ge=z.length>0&&C===z[0].ref.current;l.style.top="0px";const it=Math.max(Te,L+w.offsetTop+(Ge?re:0)+Me)+Ae;l.style.height=it+"px",w.scrollTop=rt-Te+w.offsetTop}l.style.margin=`${ao}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=B+"px",a==null||a(),requestAnimationFrame(()=>y.current=!0)}},[x,i.trigger,i.valueNode,l,u,w,C,N,i.dir,a]);Xn(()=>_(),[_]);const[I,T]=E.useState();Xn(()=>{u&&T(window.getComputedStyle(u).zIndex)},[u]);const M=E.useCallback(O=>{O&&j.current===!0&&(_(),S==null||S(),j.current=!1)},[_,S]);return n.jsx(use,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:y,onScrollButtonChange:M,children:n.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:n.jsx(ht.div,{...s,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});J9.displayName=cse;var dse="SelectPopperPosition",TS=E.forwardRef((e,t)=>{const{__scopeSelect:r,align:a="start",collisionPadding:s=ao,...i}=e,o=_w(r);return n.jsx(yw,{...o,...i,ref:t,align:a,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});TS.displayName=dse;var[use,m4]=Zm(Zu,{}),_S="SelectViewport",eB=E.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:a,...s}=e,i=zd(_S,r),o=m4(_S,r),l=qt(t,i.onViewportChange),d=E.useRef(0);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),n.jsx(Ew.Slot,{scope:r,children:n.jsx(ht.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ze(s.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&p){const y=Math.abs(d.current-f.scrollTop);if(y>0){const j=window.innerHeight-ao*2,w=parseFloat(p.style.minHeight),C=parseFloat(p.style.height),N=Math.max(w,C);if(N<j){const S=N+y,_=Math.min(j,S),I=S-_;p.style.height=_+"px",p.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,p.style.justifyContent="flex-end")}}}d.current=f.scrollTop})})})]})});eB.displayName=_S;var tB="SelectGroup",[hse,fse]=Zm(tB),mse=E.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=ii();return n.jsx(hse,{scope:r,id:s,children:n.jsx(ht.div,{role:"group","aria-labelledby":s,...a,ref:t})})});mse.displayName=tB;var rB="SelectLabel",nB=E.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=fse(rB,r);return n.jsx(ht.div,{id:s.id,...a,ref:t})});nB.displayName=rB;var m1="SelectItem",[pse,aB]=Zm(m1),sB=E.forwardRef((e,t)=>{const{__scopeSelect:r,value:a,disabled:s=!1,textValue:i,...o}=e,l=Vd(m1,r),d=zd(m1,r),u=l.value===a,[f,p]=E.useState(i??""),[x,y]=E.useState(!1),j=qt(t,S=>{var _;return(_=d.itemRefCallback)==null?void 0:_.call(d,S,a,s)}),w=ii(),C=E.useRef("touch"),N=()=>{s||(l.onValueChange(a),l.onOpenChange(!1))};if(a==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return n.jsx(pse,{scope:r,value:a,disabled:s,textId:w,isSelected:u,onItemTextChange:E.useCallback(S=>{p(_=>_||((S==null?void 0:S.textContent)??"").trim())},[]),children:n.jsx(Ew.ItemSlot,{scope:r,value:a,disabled:s,textValue:f,children:n.jsx(ht.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:j,onFocus:ze(o.onFocus,()=>y(!0)),onBlur:ze(o.onBlur,()=>y(!1)),onClick:ze(o.onClick,()=>{C.current!=="mouse"&&N()}),onPointerUp:ze(o.onPointerUp,()=>{C.current==="mouse"&&N()}),onPointerDown:ze(o.onPointerDown,S=>{C.current=S.pointerType}),onPointerMove:ze(o.onPointerMove,S=>{var _;C.current=S.pointerType,s?(_=d.onItemLeave)==null||_.call(d):C.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ze(o.onPointerLeave,S=>{var _;S.currentTarget===document.activeElement&&((_=d.onItemLeave)==null||_.call(d))}),onKeyDown:ze(o.onKeyDown,S=>{var I;((I=d.searchRef)==null?void 0:I.current)!==""&&S.key===" "||(ese.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});sB.displayName=m1;var sx="SelectItemText",iB=E.forwardRef((e,t)=>{const{__scopeSelect:r,className:a,style:s,...i}=e,o=Vd(sx,r),l=zd(sx,r),d=aB(sx,r),u=ase(sx,r),[f,p]=E.useState(null),x=qt(t,N=>p(N),d.onItemTextChange,N=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,N,d.value,d.disabled)}),y=f==null?void 0:f.textContent,j=E.useMemo(()=>n.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:C}=u;return Xn(()=>(w(j),()=>C(j)),[w,C,j]),n.jsxs(n.Fragment,{children:[n.jsx(ht.span,{id:d.textId,...i,ref:x}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fh.createPortal(i.children,o.valueNode):null]})});iB.displayName=sx;var oB="SelectItemIndicator",lB=E.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return aB(oB,r).isSelected?n.jsx(ht.span,{"aria-hidden":!0,...a,ref:t}):null});lB.displayName=oB;var PS="SelectScrollUpButton",cB=E.forwardRef((e,t)=>{const r=zd(PS,e.__scopeSelect),a=m4(PS,e.__scopeSelect),[s,i]=E.useState(!1),o=qt(t,a.onScrollButtonChange);return Xn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollTop>0;i(u)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?n.jsx(uB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop-d.offsetHeight)}}):null});cB.displayName=PS;var OS="SelectScrollDownButton",dB=E.forwardRef((e,t)=>{const r=zd(OS,e.__scopeSelect),a=m4(OS,e.__scopeSelect),[s,i]=E.useState(!1),o=qt(t,a.onScrollButtonChange);return Xn(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=d.scrollHeight-d.clientHeight,f=Math.ceil(d.scrollTop)<u;i(f)};const d=r.viewport;return l(),d.addEventListener("scroll",l),()=>d.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?n.jsx(uB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:d}=r;l&&d&&(l.scrollTop=l.scrollTop+d.offsetHeight)}}):null});dB.displayName=OS;var uB=E.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:a,...s}=e,i=zd("SelectScrollButton",r),o=E.useRef(null),l=Tw(r),d=E.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return E.useEffect(()=>()=>d(),[d]),Xn(()=>{var f;const u=l().find(p=>p.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),n.jsx(ht.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ze(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(a,50))}),onPointerMove:ze(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(a,50))}),onPointerLeave:ze(s.onPointerLeave,()=>{d()})})}),xse="SelectSeparator",hB=E.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e;return n.jsx(ht.div,{"aria-hidden":!0,...a,ref:t})});hB.displayName=xse;var kS="SelectArrow",gse=E.forwardRef((e,t)=>{const{__scopeSelect:r,...a}=e,s=_w(r),i=Vd(kS,r),o=zd(kS,r);return i.open&&o.position==="popper"?n.jsx(bw,{...s,...a,ref:t}):null});gse.displayName=kS;function fB(e){return e===""||e===void 0}var mB=E.forwardRef((e,t)=>{const{value:r,...a}=e,s=E.useRef(null),i=qt(t,s),o=Cw(r);return E.useEffect(()=>{const l=s.current,d=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==r&&f){const p=new Event("change",{bubbles:!0});f.call(l,r),l.dispatchEvent(p)}},[o,r]),n.jsx(w0,{asChild:!0,children:n.jsx("select",{...a,ref:i,defaultValue:r})})});mB.displayName="BubbleSelect";function pB(e){const t=bn(e),r=E.useRef(""),a=E.useRef(0),s=E.useCallback(o=>{const l=r.current+o;t(l),function d(u){r.current=u,window.clearTimeout(a.current),u!==""&&(a.current=window.setTimeout(()=>d(""),1e3))}(l)},[t]),i=E.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,s,i]}function xB(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=vse(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function vse(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var yse=U9,gB=H9,bse=G9,wse=K9,jse=Y9,vB=X9,Nse=eB,yB=nB,bB=sB,Cse=iB,Sse=lB,wB=cB,jB=dB,NB=hB;const ur=yse,fr=bse,cr=E.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(gB,{ref:a,className:Ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,n.jsx(wse,{asChild:!0,children:n.jsx(N0,{className:"h-4 w-4 opacity-50"})})]}));cr.displayName=gB.displayName;const CB=E.forwardRef(({className:e,...t},r)=>n.jsx(wB,{ref:r,className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(bte,{className:"h-4 w-4"})}));CB.displayName=wB.displayName;const SB=E.forwardRef(({className:e,...t},r)=>n.jsx(jB,{ref:r,className:Ue("flex cursor-default items-center justify-center py-1",e),...t,children:n.jsx(N0,{className:"h-4 w-4"})}));SB.displayName=jB.displayName;const dr=E.forwardRef(({className:e,children:t,position:r="popper",...a},s)=>n.jsx(jse,{children:n.jsxs(vB,{ref:s,className:Ue("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[n.jsx(CB,{}),n.jsx(Nse,{className:Ue("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),n.jsx(SB,{})]})}));dr.displayName=vB.displayName;const Ase=E.forwardRef(({className:e,...t},r)=>n.jsx(yB,{ref:r,className:Ue("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ase.displayName=yB.displayName;const ve=E.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(bB,{ref:a,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(Sse,{children:n.jsx(cc,{className:"h-4 w-4"})})}),n.jsx(Cse,{children:t})]}));ve.displayName=bB.displayName;const Ese=E.forwardRef(({className:e,...t},r)=>n.jsx(NB,{ref:r,className:Ue("-mx-1 my-1 h-px bg-muted",e),...t}));Ese.displayName=NB.displayName;const IS=j0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),J=E.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},i)=>{const o=a?pF:"button";return n.jsx(o,{className:Ue(IS({variant:t,size:r,className:e})),ref:i,...s})});J.displayName="Button";var sN="rovingFocusGroup.onEntryFocus",Tse={bubbles:!1,cancelable:!0},Pw="RovingFocusGroup",[MS,AB,_se]=b0(Pw),[Pse,Jm]=va(Pw,[_se]),[Ose,kse]=Pse(Pw),EB=E.forwardRef((e,t)=>n.jsx(MS.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(MS.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(Ise,{...e,ref:t})})}));EB.displayName=Pw;var Ise=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:a,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,x=E.useRef(null),y=qt(t,x),j=xh(i),[w=null,C]=zs({prop:o,defaultProp:l,onChange:d}),[N,S]=E.useState(!1),_=bn(u),I=AB(r),T=E.useRef(!1),[M,O]=E.useState(0);return E.useEffect(()=>{const D=x.current;if(D)return D.addEventListener(sN,_),()=>D.removeEventListener(sN,_)},[_]),n.jsx(Ose,{scope:r,orientation:a,dir:j,loop:s,currentTabStopId:w,onItemFocus:E.useCallback(D=>C(D),[C]),onItemShiftTab:E.useCallback(()=>S(!0),[]),onFocusableItemAdd:E.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:E.useCallback(()=>O(D=>D-1),[]),children:n.jsx(ht.div,{tabIndex:N||M===0?-1:0,"data-orientation":a,...p,ref:y,style:{outline:"none",...e.style},onMouseDown:ze(e.onMouseDown,()=>{T.current=!0}),onFocus:ze(e.onFocus,D=>{const R=!T.current;if(D.target===D.currentTarget&&R&&!N){const V=new CustomEvent(sN,Tse);if(D.currentTarget.dispatchEvent(V),!V.defaultPrevented){const z=I().filter(H=>H.focusable),B=z.find(H=>H.active),q=z.find(H=>H.id===w),L=[B,q,...z].filter(Boolean).map(H=>H.ref.current);PB(L,f)}}T.current=!1}),onBlur:ze(e.onBlur,()=>S(!1))})})}),TB="RovingFocusGroupItem",_B=E.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:a=!0,active:s=!1,tabStopId:i,...o}=e,l=ii(),d=i||l,u=kse(TB,r),f=u.currentTabStopId===d,p=AB(r),{onFocusableItemAdd:x,onFocusableItemRemove:y}=u;return E.useEffect(()=>{if(a)return x(),()=>y()},[a,x,y]),n.jsx(MS.ItemSlot,{scope:r,id:d,focusable:a,active:s,children:n.jsx(ht.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ze(e.onMouseDown,j=>{a?u.onItemFocus(d):j.preventDefault()}),onFocus:ze(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ze(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){u.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const w=Dse(j,u.orientation,u.dir);if(w!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=p().filter(S=>S.focusable).map(S=>S.ref.current);if(w==="last")N.reverse();else if(w==="prev"||w==="next"){w==="prev"&&N.reverse();const S=N.indexOf(j.currentTarget);N=u.loop?Lse(N,S+1):N.slice(S+1)}setTimeout(()=>PB(N))}})})})});_B.displayName=TB;var Mse={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Rse(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Dse(e,t,r){const a=Rse(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Mse[a]}function PB(e,t=!1){const r=document.activeElement;for(const a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}function Lse(e,t){return e.map((r,a)=>e[(t+a)%e.length])}var p4=EB,x4=_B,RS=["Enter"," "],Fse=["ArrowDown","PageUp","Home"],OB=["ArrowUp","PageDown","End"],Bse=[...Fse,...OB],$se={ltr:[...RS,"ArrowRight"],rtl:[...RS,"ArrowLeft"]},Vse={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_0="Menu",[og,zse,Use]=b0(_0),[gh,kB]=va(_0,[Use,$d,Jm]),Ow=$d(),IB=Jm(),[Wse,vh]=gh(_0),[Hse,P0]=gh(_0),MB=e=>{const{__scopeMenu:t,open:r=!1,children:a,dir:s,onOpenChange:i,modal:o=!0}=e,l=Ow(t),[d,u]=E.useState(null),f=E.useRef(!1),p=bn(i),x=xh(s);return E.useEffect(()=>{const y=()=>{f.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>f.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),n.jsx(u4,{...l,children:n.jsx(Wse,{scope:t,open:r,onOpenChange:p,content:d,onContentChange:u,children:n.jsx(Hse,{scope:t,onClose:E.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:x,modal:o,children:a})})})};MB.displayName=_0;var qse="MenuAnchor",g4=E.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=Ow(r);return n.jsx(S0,{...s,...a,ref:t})});g4.displayName=qse;var v4="MenuPortal",[Gse,RB]=gh(v4,{forceMount:void 0}),DB=e=>{const{__scopeMenu:t,forceMount:r,children:a,container:s}=e,i=vh(v4,t);return n.jsx(Gse,{scope:t,forceMount:r,children:n.jsx(sa,{present:r||i.open,children:n.jsx(Km,{asChild:!0,container:s,children:a})})})};DB.displayName=v4;var Wi="MenuContent",[Kse,y4]=gh(Wi),LB=E.forwardRef((e,t)=>{const r=RB(Wi,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=vh(Wi,e.__scopeMenu),o=P0(Wi,e.__scopeMenu);return n.jsx(og.Provider,{scope:e.__scopeMenu,children:n.jsx(sa,{present:a||i.open,children:n.jsx(og.Slot,{scope:e.__scopeMenu,children:o.modal?n.jsx(Yse,{...s,ref:t}):n.jsx(Xse,{...s,ref:t})})})})}),Yse=E.forwardRef((e,t)=>{const r=vh(Wi,e.__scopeMenu),a=E.useRef(null),s=qt(t,a);return E.useEffect(()=>{const i=a.current;if(i)return Sw(i)},[]),n.jsx(b4,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Xse=E.forwardRef((e,t)=>{const r=vh(Wi,e.__scopeMenu);return n.jsx(b4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Qse=Nd("MenuContent.ScrollLock"),b4=E.forwardRef((e,t)=>{const{__scopeMenu:r,loop:a=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:d,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:x,onDismiss:y,disableOutsideScroll:j,...w}=e,C=vh(Wi,r),N=P0(Wi,r),S=Ow(r),_=IB(r),I=zse(r),[T,M]=E.useState(null),O=E.useRef(null),D=qt(t,O,C.onContentChange),R=E.useRef(0),V=E.useRef(""),z=E.useRef(0),B=E.useRef(null),q=E.useRef("right"),$=E.useRef(0),L=j?E0:E.Fragment,H=j?{as:Qse,allowPinchZoom:!0}:void 0,G=te=>{var he,rt;const X=V.current+te,fe=I().filter(Ae=>!Ae.disabled),re=document.activeElement,se=(he=fe.find(Ae=>Ae.ref.current===re))==null?void 0:he.textValue,Te=fe.map(Ae=>Ae.textValue),vt=cie(Te,X,se),Me=(rt=fe.find(Ae=>Ae.textValue===vt))==null?void 0:rt.ref.current;(function Ae(Je){V.current=Je,window.clearTimeout(R.current),Je!==""&&(R.current=window.setTimeout(()=>Ae(""),1e3))})(X),Me&&setTimeout(()=>Me.focus())};E.useEffect(()=>()=>window.clearTimeout(R.current),[]),Nw();const Y=E.useCallback(te=>{var fe,re;return q.current===((fe=B.current)==null?void 0:fe.side)&&uie(te,(re=B.current)==null?void 0:re.area)},[]);return n.jsx(Kse,{scope:r,searchRef:V,onItemEnter:E.useCallback(te=>{Y(te)&&te.preventDefault()},[Y]),onItemLeave:E.useCallback(te=>{var X;Y(te)||((X=O.current)==null||X.focus(),M(null))},[Y]),onTriggerLeave:E.useCallback(te=>{Y(te)&&te.preventDefault()},[Y]),pointerGraceTimerRef:z,onPointerGraceIntentChange:E.useCallback(te=>{B.current=te},[]),children:n.jsx(L,{...H,children:n.jsx(A0,{asChild:!0,trapped:s,onMountAutoFocus:ze(i,te=>{var X;te.preventDefault(),(X=O.current)==null||X.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:n.jsx(mh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:x,onDismiss:y,children:n.jsx(p4,{asChild:!0,..._,dir:N.dir,orientation:"vertical",loop:a,currentTabStopId:T,onCurrentTabStopIdChange:M,onEntryFocus:ze(d,te=>{N.isUsingKeyboardRef.current||te.preventDefault()}),preventScrollOnEntryFocus:!0,children:n.jsx(yw,{role:"menu","aria-orientation":"vertical","data-state":JB(C.open),"data-radix-menu-content":"",dir:N.dir,...S,...w,ref:D,style:{outline:"none",...w.style},onKeyDown:ze(w.onKeyDown,te=>{const fe=te.target.closest("[data-radix-menu-content]")===te.currentTarget,re=te.ctrlKey||te.altKey||te.metaKey,se=te.key.length===1;fe&&(te.key==="Tab"&&te.preventDefault(),!re&&se&&G(te.key));const Te=O.current;if(te.target!==Te||!Bse.includes(te.key))return;te.preventDefault();const Me=I().filter(he=>!he.disabled).map(he=>he.ref.current);OB.includes(te.key)&&Me.reverse(),oie(Me)}),onBlur:ze(e.onBlur,te=>{te.currentTarget.contains(te.target)||(window.clearTimeout(R.current),V.current="")}),onPointerMove:ze(e.onPointerMove,lg(te=>{const X=te.target,fe=$.current!==te.clientX;if(te.currentTarget.contains(X)&&fe){const re=te.clientX>$.current?"right":"left";q.current=re,$.current=te.clientX}}))})})})})})})});LB.displayName=Wi;var Zse="MenuGroup",w4=E.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(ht.div,{role:"group",...a,ref:t})});w4.displayName=Zse;var Jse="MenuLabel",FB=E.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(ht.div,{...a,ref:t})});FB.displayName=Jse;var p1="MenuItem",qk="menu.itemSelect",kw=E.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:a,...s}=e,i=E.useRef(null),o=P0(p1,e.__scopeMenu),l=y4(p1,e.__scopeMenu),d=qt(t,i),u=E.useRef(!1),f=()=>{const p=i.current;if(!r&&p){const x=new CustomEvent(qk,{bubbles:!0,cancelable:!0});p.addEventListener(qk,y=>a==null?void 0:a(y),{once:!0}),WT(p,x),x.defaultPrevented?u.current=!1:o.onClose()}};return n.jsx(BB,{...s,ref:d,disabled:r,onClick:ze(e.onClick,f),onPointerDown:p=>{var x;(x=e.onPointerDown)==null||x.call(e,p),u.current=!0},onPointerUp:ze(e.onPointerUp,p=>{var x;u.current||(x=p.currentTarget)==null||x.click()}),onKeyDown:ze(e.onKeyDown,p=>{const x=l.searchRef.current!=="";r||x&&p.key===" "||RS.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});kw.displayName=p1;var BB=E.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:a=!1,textValue:s,...i}=e,o=y4(p1,r),l=IB(r),d=E.useRef(null),u=qt(t,d),[f,p]=E.useState(!1),[x,y]=E.useState("");return E.useEffect(()=>{const j=d.current;j&&y((j.textContent??"").trim())},[i.children]),n.jsx(og.ItemSlot,{scope:r,disabled:a,textValue:s??x,children:n.jsx(x4,{asChild:!0,...l,focusable:!a,children:n.jsx(ht.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":a||void 0,"data-disabled":a?"":void 0,...i,ref:u,onPointerMove:ze(e.onPointerMove,lg(j=>{a?o.onItemLeave(j):(o.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ze(e.onPointerLeave,lg(j=>o.onItemLeave(j))),onFocus:ze(e.onFocus,()=>p(!0)),onBlur:ze(e.onBlur,()=>p(!1))})})})}),eie="MenuCheckboxItem",$B=E.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:a,...s}=e;return n.jsx(HB,{scope:e.__scopeMenu,checked:r,children:n.jsx(kw,{role:"menuitemcheckbox","aria-checked":x1(r)?"mixed":r,...s,ref:t,"data-state":N4(r),onSelect:ze(s.onSelect,()=>a==null?void 0:a(x1(r)?!0:!r),{checkForDefaultPrevented:!1})})})});$B.displayName=eie;var VB="MenuRadioGroup",[tie,rie]=gh(VB,{value:void 0,onValueChange:()=>{}}),zB=E.forwardRef((e,t)=>{const{value:r,onValueChange:a,...s}=e,i=bn(a);return n.jsx(tie,{scope:e.__scopeMenu,value:r,onValueChange:i,children:n.jsx(w4,{...s,ref:t})})});zB.displayName=VB;var UB="MenuRadioItem",WB=E.forwardRef((e,t)=>{const{value:r,...a}=e,s=rie(UB,e.__scopeMenu),i=r===s.value;return n.jsx(HB,{scope:e.__scopeMenu,checked:i,children:n.jsx(kw,{role:"menuitemradio","aria-checked":i,...a,ref:t,"data-state":N4(i),onSelect:ze(a.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});WB.displayName=UB;var j4="MenuItemIndicator",[HB,nie]=gh(j4,{checked:!1}),qB=E.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:a,...s}=e,i=nie(j4,r);return n.jsx(sa,{present:a||x1(i.checked)||i.checked===!0,children:n.jsx(ht.span,{...s,ref:t,"data-state":N4(i.checked)})})});qB.displayName=j4;var aie="MenuSeparator",GB=E.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e;return n.jsx(ht.div,{role:"separator","aria-orientation":"horizontal",...a,ref:t})});GB.displayName=aie;var sie="MenuArrow",KB=E.forwardRef((e,t)=>{const{__scopeMenu:r,...a}=e,s=Ow(r);return n.jsx(bw,{...s,...a,ref:t})});KB.displayName=sie;var iie="MenuSub",[bBe,YB]=gh(iie),ix="MenuSubTrigger",XB=E.forwardRef((e,t)=>{const r=vh(ix,e.__scopeMenu),a=P0(ix,e.__scopeMenu),s=YB(ix,e.__scopeMenu),i=y4(ix,e.__scopeMenu),o=E.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:d}=i,u={__scopeMenu:e.__scopeMenu},f=E.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return E.useEffect(()=>f,[f]),E.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),d(null)}},[l,d]),n.jsx(g4,{asChild:!0,...u,children:n.jsx(BB,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":JB(r.open),...e,ref:dw(t,s.onTriggerChange),onClick:p=>{var x;(x=e.onClick)==null||x.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ze(e.onPointerMove,lg(p=>{i.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:ze(e.onPointerLeave,lg(p=>{var y,j;f();const x=(y=r.content)==null?void 0:y.getBoundingClientRect();if(x){const w=(j=r.content)==null?void 0:j.dataset.side,C=w==="right",N=C?-5:5,S=x[C?"left":"right"],_=x[C?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+N,y:p.clientY},{x:S,y:x.top},{x:_,y:x.top},{x:_,y:x.bottom},{x:S,y:x.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ze(e.onKeyDown,p=>{var y;const x=i.searchRef.current!=="";e.disabled||x&&p.key===" "||$se[a.dir].includes(p.key)&&(r.onOpenChange(!0),(y=r.content)==null||y.focus(),p.preventDefault())})})})});XB.displayName=ix;var QB="MenuSubContent",ZB=E.forwardRef((e,t)=>{const r=RB(Wi,e.__scopeMenu),{forceMount:a=r.forceMount,...s}=e,i=vh(Wi,e.__scopeMenu),o=P0(Wi,e.__scopeMenu),l=YB(QB,e.__scopeMenu),d=E.useRef(null),u=qt(t,d);return n.jsx(og.Provider,{scope:e.__scopeMenu,children:n.jsx(sa,{present:a||i.open,children:n.jsx(og.Slot,{scope:e.__scopeMenu,children:n.jsx(b4,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var p;o.isUsingKeyboardRef.current&&((p=d.current)==null||p.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:ze(e.onFocusOutside,f=>{f.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ze(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:ze(e.onKeyDown,f=>{var y;const p=f.currentTarget.contains(f.target),x=Vse[o.dir].includes(f.key);p&&x&&(i.onOpenChange(!1),(y=l.trigger)==null||y.focus(),f.preventDefault())})})})})})});ZB.displayName=QB;function JB(e){return e?"open":"closed"}function x1(e){return e==="indeterminate"}function N4(e){return x1(e)?"indeterminate":e?"checked":"unchecked"}function oie(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function lie(e,t){return e.map((r,a)=>e[(t+a)%e.length])}function cie(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=lie(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const d=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return d!==r?d:void 0}function die(e,t){const{x:r,y:a}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i].x,d=t[i].y,u=t[o].x,f=t[o].y;d>a!=f>a&&r<(u-l)*(a-d)/(f-d)+l&&(s=!s)}return s}function uie(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return die(r,t)}function lg(e){return t=>t.pointerType==="mouse"?e(t):void 0}var hie=MB,fie=g4,mie=DB,pie=LB,xie=w4,gie=FB,vie=kw,yie=$B,bie=zB,wie=WB,jie=qB,Nie=GB,Cie=KB,Sie=XB,Aie=ZB,C4="DropdownMenu",[Eie,wBe]=va(C4,[kB]),ws=kB(),[Tie,e$]=Eie(C4),t$=e=>{const{__scopeDropdownMenu:t,children:r,dir:a,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=ws(t),u=E.useRef(null),[f=!1,p]=zs({prop:s,defaultProp:i,onChange:o});return n.jsx(Tie,{scope:t,triggerId:ii(),triggerRef:u,contentId:ii(),open:f,onOpenChange:p,onOpenToggle:E.useCallback(()=>p(x=>!x),[p]),modal:l,children:n.jsx(hie,{...d,open:f,onOpenChange:p,dir:a,modal:l,children:r})})};t$.displayName=C4;var r$="DropdownMenuTrigger",n$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:a=!1,...s}=e,i=e$(r$,r),o=ws(r);return n.jsx(fie,{asChild:!0,...o,children:n.jsx(ht.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":a?"":void 0,disabled:a,...s,ref:dw(t,i.triggerRef),onPointerDown:ze(e.onPointerDown,l=>{!a&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ze(e.onKeyDown,l=>{a||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});n$.displayName=r$;var _ie="DropdownMenuPortal",a$=e=>{const{__scopeDropdownMenu:t,...r}=e,a=ws(t);return n.jsx(mie,{...a,...r})};a$.displayName=_ie;var s$="DropdownMenuContent",i$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=e$(s$,r),i=ws(r),o=E.useRef(!1);return n.jsx(pie,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...a,ref:t,onCloseAutoFocus:ze(e.onCloseAutoFocus,l=>{var d;o.current||(d=s.triggerRef.current)==null||d.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ze(e.onInteractOutside,l=>{const d=l.detail.originalEvent,u=d.button===0&&d.ctrlKey===!0,f=d.button===2||u;(!s.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});i$.displayName=s$;var Pie="DropdownMenuGroup",o$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(xie,{...s,...a,ref:t})});o$.displayName=Pie;var Oie="DropdownMenuLabel",l$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(gie,{...s,...a,ref:t})});l$.displayName=Oie;var kie="DropdownMenuItem",c$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(vie,{...s,...a,ref:t})});c$.displayName=kie;var Iie="DropdownMenuCheckboxItem",d$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(yie,{...s,...a,ref:t})});d$.displayName=Iie;var Mie="DropdownMenuRadioGroup",Rie=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(bie,{...s,...a,ref:t})});Rie.displayName=Mie;var Die="DropdownMenuRadioItem",u$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(wie,{...s,...a,ref:t})});u$.displayName=Die;var Lie="DropdownMenuItemIndicator",h$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(jie,{...s,...a,ref:t})});h$.displayName=Lie;var Fie="DropdownMenuSeparator",f$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(Nie,{...s,...a,ref:t})});f$.displayName=Fie;var Bie="DropdownMenuArrow",$ie=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(Cie,{...s,...a,ref:t})});$ie.displayName=Bie;var Vie="DropdownMenuSubTrigger",m$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(Sie,{...s,...a,ref:t})});m$.displayName=Vie;var zie="DropdownMenuSubContent",p$=E.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...a}=e,s=ws(r);return n.jsx(Aie,{...s,...a,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p$.displayName=zie;var Uie=t$,Wie=n$,Hie=a$,x$=i$,qie=o$,g$=l$,v$=c$,y$=d$,b$=u$,w$=h$,j$=f$,N$=m$,C$=p$;const Iw=Uie,Mw=Wie,Gie=qie,Kie=E.forwardRef(({className:e,inset:t,children:r,...a},s)=>n.jsxs(N$,{ref:s,className:Ue("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...a,children:[r,n.jsx(_o,{className:"ml-auto"})]}));Kie.displayName=N$.displayName;const Yie=E.forwardRef(({className:e,...t},r)=>n.jsx(C$,{ref:r,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));Yie.displayName=C$.displayName;const O0=E.forwardRef(({className:e,sideOffset:t=4,...r},a)=>n.jsx(Hie,{children:n.jsx(x$,{ref:a,sideOffset:t,className:Ue("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...r})}));O0.displayName=x$.displayName;const Ju=E.forwardRef(({className:e,inset:t,...r},a)=>n.jsx(v$,{ref:a,className:Ue("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r}));Ju.displayName=v$.displayName;const Xie=E.forwardRef(({className:e,children:t,checked:r,...a},s)=>n.jsxs(y$,{ref:s,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...a,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(w$,{children:n.jsx(cc,{className:"h-4 w-4"})})}),t]}));Xie.displayName=y$.displayName;const Qie=E.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(b$,{ref:a,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[n.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:n.jsx(w$,{children:n.jsx(QT,{className:"h-2 w-2 fill-current"})})}),t]}));Qie.displayName=b$.displayName;const S$=E.forwardRef(({className:e,inset:t,...r},a)=>n.jsx(g$,{ref:a,className:Ue("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));S$.displayName=g$.displayName;const S4=E.forwardRef(({className:e,...t},r)=>n.jsx(j$,{ref:r,className:Ue("-mx-1 my-1 h-px bg-muted",e),...t}));S4.displayName=j$.displayName;function A$({type:e="select",variant:t="outline",size:r="default"}){var f,p;const{language:a,setLanguage:s,t:i,languages:o}=bs(),[l,d]=E.useState(!1);E.useEffect(()=>{const x=()=>{d(y=>y)};return window.addEventListener("language-changed",x),()=>{window.removeEventListener("language-changed",x)}},[]);const u={pt:"🇧🇷",en:"🇺🇸",es:"🇪🇸"};return e==="select"?n.jsxs(ur,{value:a,onValueChange:x=>s(x),children:[n.jsx(cr,{className:"w-[180px] bg-white text-black border-2 border-primary font-bold shadow-md",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"text-xl mr-2",children:u[a]}),n.jsx("span",{className:"font-medium",children:((f=o.find(x=>x.code===a))==null?void 0:f.name)||i("common.language")})]})}),n.jsx(dr,{className:"bg-white border-2 border-primary",children:o.map(x=>n.jsx(ve,{value:x.code,className:a===x.code?"bg-primary/10 font-bold":"",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"text-xl mr-2",children:u[x.code]}),n.jsx("span",{className:"font-medium",children:x.name})]})},x.code))})]}):n.jsxs(Iw,{open:l,onOpenChange:d,children:[n.jsx(Mw,{asChild:!0,children:n.jsx(J,{variant:"outline",size:r,className:"bg-white text-black border-2 border-primary shadow-md",children:n.jsxs("span",{className:"flex items-center",children:[n.jsx("span",{className:"text-xl mr-2",children:u[a]}),n.jsx("span",{className:"inline font-medium",children:(p=o.find(x=>x.code===a))==null?void 0:p.name})]})})}),n.jsxs(O0,{align:"end",className:"bg-white text-black border-2 border-primary shadow-lg",children:[n.jsx(S$,{className:"font-bold text-primary",children:i("common.language")}),n.jsx(S4,{}),o.map(x=>n.jsxs(Ju,{onClick:()=>{s(x.code),d(!1)},className:a===x.code?"bg-primary/10 font-bold":"",children:[n.jsx("span",{className:"text-xl mr-2",children:u[x.code]}),n.jsx("span",{className:"font-medium",children:x.name})]},x.code))]})]})}const Gk={client:[{path:"/client/dashboard",icon:n.jsx(Yl,{className:"h-6 w-6"}),label:"Home"},{path:"/client/scanner",icon:n.jsx(yS,{className:"h-6 w-6"}),label:"Pagar QR Code"},{path:"/client/stores",icon:n.jsx(pd,{className:"h-6 w-6"}),label:"Lojas"},{path:"/client/transfers",icon:n.jsx(ta,{className:"h-6 w-6"}),label:"Transferir"},{path:"/client/cashbacks",icon:n.jsx(Mr,{className:"h-6 w-6"}),label:"Cashback"}],merchant:[{path:"/merchant/dashboard",icon:n.jsx(Yl,{className:"h-5 w-5"}),label:"Home"},{path:"/merchant/sales",icon:n.jsx(pd,{className:"h-5 w-5"}),label:"Vendas"},{path:"/merchant/payment-qr",icon:n.jsx(Pn,{className:"h-5 w-5"}),label:"Gerar QR Code"},{path:"/merchant/transactions",icon:n.jsx(Mr,{className:"h-5 w-5"}),label:"Transações"},{path:"/merchant/scanner",icon:n.jsx(yS,{className:"h-5 w-5"}),label:"Scanner"}],admin:[{path:"/admin/dashboard",icon:n.jsx(Yl,{className:"h-5 w-5"}),label:"Home"},{path:"/admin/reports",icon:n.jsx(So,{className:"h-5 w-5"}),label:"Relatórios"},{path:"/admin/customers",icon:n.jsx(Qt,{className:"h-5 w-5"}),label:"Clientes"},{path:"/admin/merchants",icon:n.jsx(pd,{className:"h-5 w-5"}),label:"Lojistas"},{path:"/admin/settings",icon:n.jsx(yo,{className:"h-5 w-5"}),label:"Config"}]};function Zie({children:e,title:t,hideHeader:r=!1}){const[a]=Fd(),{user:s,logout:i}=Oa(),{t:o}=bs(),[l,d]=E.useState([]),u=p=>{switch(p){case"Home":return o("common.home");case"QR Code":return o("common.QRCode");case"Lojas":return o("navigation.stores");case"Transferir":return o("navigation.transfers");case"Transferências":return o("common.Transferencias");case"Dashboard":return o("common.Dashboard");case"Painel":return o("common.Panel");case"Cashback":return o("navigation.cashback");case"Vendas":return o("navigation.sales");case"Scanner":return o("navigation.scanner");case"Transações":return o("navigation.transactions");case"Pagar QR Code":return"Pagar QR";case"Indicações":return o("common.Referrals");case"Lojistas":return o("navigation.merchants");case"Clientes":return o("navigation.customers");case"Config":return o("common.settings");case"Perfil":return o("common.profile");case"Login":return o("common.login");default:return p}},f=()=>{i()};return E.useEffect(()=>{if(t&&(document.title=`${o(t)||t} | Vale Cashback`),!s){const y=Array(5).fill({path:"/login",icon:n.jsx(ir,{className:"h-5 w-5"}),label:"Login"});d(y);return}const p=s.type;if(!p||!Gk[p]){console.error(`Tipo de usuário inválido: ${p}`);const y=Array(5).fill({path:"/login",icon:n.jsx(ir,{className:"h-5 w-5"}),label:"Login"});d(y);return}const x=[...Gk[p]];if(x.length!==5){for(;x.length<5;)x.push({path:`/${p}/profile`,icon:n.jsx(ir,{className:"h-5 w-5"}),label:"Perfil"});x.length>5&&x.splice(5)}d(x)},[s==null?void 0:s.id,s==null?void 0:s.type]),n.jsxs("div",{className:"flex flex-col min-h-screen bg-background",children:[!r&&n.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-primary text-white shadow-md",children:n.jsxs("div",{className:"container py-2 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{src:"/valecashback-logo-white-text.png",alt:"Vale Cashback",className:"h-8 w-auto",style:{filter:"brightness(0) invert(1)"}}),n.jsx("h1",{className:"text-xl font-semibold tracking-tight",children:o(`common.${t}`)!==`common.${t}`?o(`common.${t}`):o(t)!==t?o(t):t})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(A$,{type:"dropdown",size:"sm",variant:"ghost"}),n.jsx("button",{onClick:f,className:"p-2 rounded-full hover:bg-primary-foreground/10",children:n.jsx(fw,{className:"h-5 w-5"})})]})]})}),n.jsx("main",{className:Ue("flex-1 container overflow-auto px-2 max-w-full",r?"pt-2 pb-4":"py-4"),children:e}),n.jsx("nav",{className:"sticky bottom-0 border-t bg-background shadow-[0_-2px_10px_rgba(0,0,0,0.1)] w-full z-50",children:n.jsx("div",{className:"grid grid-cols-5 w-full py-2",children:l.slice(0,5).map((p,x)=>{const y=a===p.path;return n.jsxs(Rt,{href:p.path,className:Ue("flex flex-col items-center justify-center py-1 px-1 rounded-md text-xs font-medium transition-colors",y?"text-primary":"text-muted-foreground hover:text-primary"),children:[n.jsxs("div",{className:Ue("relative flex items-center justify-center",y&&"after:absolute after:content-[''] after:w-2 after:h-2 after:rounded-full after:-top-1 after:bg-primary"),children:[p.icon,y&&n.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-full animate-pulse-slow scale-150"})]}),n.jsx("span",{className:Ue("mt-1 truncate text-[0.65rem]",y&&"font-bold"),children:u(p.label)})]},x)})})}),n.jsx("meta",{name:"theme-color",content:"#0466c8"})]})}function Bt({path:e,component:t,userType:r,title:a}){const{user:s,loading:i}=Oa();if(i)return n.jsx(Ur,{path:e,children:n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})})});if(!s)return n.jsx(Ur,{path:e,children:n.jsx(mu,{to:"/auth/login"})});if(r&&s.type!==r){const o=`/${s.type}/dashboard`;return n.jsx(Ur,{path:e,children:n.jsx(mu,{to:o})})}return n.jsx(Ur,{path:e,children:n.jsx(Zie,{title:a,children:n.jsx(t,{})})})}const E$=E.createContext(null);function Jie({children:e}){const[t,r]=E.useState(!0);return E.useEffect(()=>{r(!0);const a=()=>{r(!0)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),n.jsx(E$.Provider,{value:{isMobile:t},children:e})}function eoe(){const e=E.useContext(E$);if(!e)throw new Error("useMobile must be used within a MobileProvider");return e.isMobile}function toe(){return eoe()}function roe({onFinish:e,duration:t=3e3}){console.log("SplashScreen renderizada");const[r,a]=E.useState(0),[s,i]=E.useState([]),o=E.useRef(null),l=["Iniciando Vale Cashback...","Preparando seu cashback...","Carregando sistema de pagamentos...","Configurando sua experiência...","Finalizando..."],d=Math.min(Math.floor(r/25),l.length-1);E.useEffect(()=>{const f=Array.from({length:30},()=>({x:Math.random(),y:Math.random(),size:Math.random()*.5+.3,delay:Math.random()*5}));i(f)},[]),E.useEffect(()=>{console.log("SplashScreen montada, configurando temporizador");try{caches.keys().then(x=>{x.forEach(y=>{!y.includes("workbox")&&!y.includes("vale-cashback")&&caches.delete(y)})}),console.log("Cache do navegador limpo com sucesso")}catch(x){console.error("Erro ao limpar cache do navegador:",x)}const f=setInterval(()=>{a(x=>x<60?Math.min(x+(Math.random()*8+3),60):x<85?Math.min(x+(Math.random()*5+1),85):x<98?Math.min(x+(Math.random()*2+.5),98):x<100?100:x)},180),p=setTimeout(()=>{clearInterval(f),a(100),setTimeout(()=>{console.log("Temporizador terminado, chamando onFinish"),e()},800)},t-800);return()=>{console.log("SplashScreen desmontada, limpando temporizador"),clearTimeout(p),clearInterval(f)}},[t,e]);const u=()=>Array.from({length:4},(f,p)=>n.jsx("div",{className:"light-ray",style:{transform:`rotate(${p*45}deg)`}},`light-ray-${p}`));return n.jsxs("div",{className:"splash-clean-container",children:[n.jsx("div",{className:"splash-background-clean"}),n.jsxs("div",{className:"splash-decoration",children:[n.jsx("div",{className:"decoration-circle"}),n.jsx("div",{className:"decoration-circle"}),n.jsx("div",{className:"decoration-circle"}),n.jsx("div",{className:"decoration-line"}),n.jsx("div",{className:"decoration-line"})]}),n.jsx("div",{className:"particles-clean",ref:o,children:s.map((f,p)=>n.jsx("div",{className:"particle-clean",style:{width:`${f.size*10}px`,height:`${f.size*10}px`,left:`${f.x*100}%`,bottom:"20px","--random-x":`${Math.random()*100-50}px`,animationDelay:`${f.delay}s`}},`particle-${p}`))}),n.jsxs("div",{className:"logo-container-clean",children:[n.jsx("div",{className:"light-rays",children:u()}),n.jsx("img",{src:"/LOGO-VALE-CASHBACK.SEM-FUNDO.png",alt:"Vale Cashback",className:"logo-animation-clean",style:{maxWidth:"100%",width:"280px",height:"auto"}})]}),n.jsxs("div",{className:"progress-container-clean",children:[n.jsx("div",{className:"progress-bar-clean",children:n.jsx("div",{className:"progress-fill-clean",style:{width:`${r}%`}})}),n.jsxs("div",{className:"progress-text-clean",children:[n.jsxs("span",{children:[Math.round(r),"%"]}),n.jsx("span",{children:"Vale Cashback"})]}),n.jsx("div",{className:"progress-message-clean",children:l[d]})]}),n.jsxs("div",{className:"dots-loader-clean",children:[n.jsx("div",{className:"dot-clean"}),n.jsx("div",{className:"dot-clean"}),n.jsx("div",{className:"dot-clean"})]}),n.jsxs("div",{className:"copyright-clean",children:["© Vale Cashback ",new Date().getFullYear()]})]})}function noe(e,t){return E.useReducer((r,a)=>t[r][a]??r,e)}var A4="ScrollArea",[T$,jBe]=va(A4),[aoe,Qi]=T$(A4),_$=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,d]=E.useState(null),[u,f]=E.useState(null),[p,x]=E.useState(null),[y,j]=E.useState(null),[w,C]=E.useState(null),[N,S]=E.useState(0),[_,I]=E.useState(0),[T,M]=E.useState(!1),[O,D]=E.useState(!1),R=qt(t,z=>d(z)),V=xh(s);return n.jsx(aoe,{scope:r,type:a,dir:V,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:f,content:p,onContentChange:x,scrollbarX:y,onScrollbarXChange:j,scrollbarXEnabled:T,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:C,scrollbarYEnabled:O,onScrollbarYEnabledChange:D,onCornerWidthChange:S,onCornerHeightChange:I,children:n.jsx(ht.div,{dir:V,...o,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":N+"px","--radix-scroll-area-corner-height":_+"px",...e.style}})})});_$.displayName=A4;var P$="ScrollAreaViewport",O$=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,nonce:s,...i}=e,o=Qi(P$,r),l=E.useRef(null),d=qt(t,l,o.onViewportChange);return n.jsxs(n.Fragment,{children:[n.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),n.jsx(ht.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:n.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});O$.displayName=P$;var Sl="ScrollAreaScrollbar",E4=E.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Qi(Sl,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return E.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?n.jsx(soe,{...a,ref:t,forceMount:r}):s.type==="scroll"?n.jsx(ioe,{...a,ref:t,forceMount:r}):s.type==="auto"?n.jsx(k$,{...a,ref:t,forceMount:r}):s.type==="always"?n.jsx(T4,{...a,ref:t}):null});E4.displayName=Sl;var soe=E.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Qi(Sl,e.__scopeScrollArea),[i,o]=E.useState(!1);return E.useEffect(()=>{const l=s.scrollArea;let d=0;if(l){const u=()=>{window.clearTimeout(d),o(!0)},f=()=>{d=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(d),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",f)}}},[s.scrollArea,s.scrollHideDelay]),n.jsx(sa,{present:r||i,children:n.jsx(k$,{"data-state":i?"visible":"hidden",...a,ref:t})})}),ioe=E.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=Qi(Sl,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Dw(()=>d("SCROLL_END"),100),[l,d]=noe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return E.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,d]),E.useEffect(()=>{const u=s.viewport,f=i?"scrollLeft":"scrollTop";if(u){let p=u[f];const x=()=>{const y=u[f];p!==y&&(d("SCROLL"),o()),p=y};return u.addEventListener("scroll",x),()=>u.removeEventListener("scroll",x)}},[s.viewport,i,d,o]),n.jsx(sa,{present:r||l!=="hidden",children:n.jsx(T4,{"data-state":l==="hidden"?"hidden":"visible",...a,ref:t,onPointerEnter:ze(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:ze(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),k$=E.forwardRef((e,t)=>{const r=Qi(Sl,e.__scopeScrollArea),{forceMount:a,...s}=e,[i,o]=E.useState(!1),l=e.orientation==="horizontal",d=Dw(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,f=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:f)}},10);return cm(r.viewport,d),cm(r.content,d),n.jsx(sa,{present:a||i,children:n.jsx(T4,{"data-state":i?"visible":"hidden",...s,ref:t})})}),T4=E.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,s=Qi(Sl,e.__scopeScrollArea),i=E.useRef(null),o=E.useRef(0),[l,d]=E.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=L$(l.viewport,l.content),f={...a,sizes:l,onSizesChange:d,hasThumb:u>0&&u<1,onThumbChange:x=>i.current=x,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:x=>o.current=x};function p(x,y){return hoe(x,o.current,l,y)}return r==="horizontal"?n.jsx(ooe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const x=s.viewport.scrollLeft,y=Kk(x,l,s.dir);i.current.style.transform=`translate3d(${y}px, 0, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollLeft=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollLeft=p(x,s.dir))}}):r==="vertical"?n.jsx(loe,{...f,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const x=s.viewport.scrollTop,y=Kk(x,l);i.current.style.transform=`translate3d(0, ${y}px, 0)`}},onWheelScroll:x=>{s.viewport&&(s.viewport.scrollTop=x)},onDragScroll:x=>{s.viewport&&(s.viewport.scrollTop=p(x))}}):null}),ooe=E.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,i=Qi(Sl,e.__scopeScrollArea),[o,l]=E.useState(),d=E.useRef(null),u=qt(t,d,i.onScrollbarXChange);return E.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(M$,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Rw(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,p)=>{if(i.viewport){const x=i.viewport.scrollLeft+f.deltaX;e.onWheelScroll(x),B$(x,p)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:v1(o.paddingLeft),paddingEnd:v1(o.paddingRight)}})}})}),loe=E.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...s}=e,i=Qi(Sl,e.__scopeScrollArea),[o,l]=E.useState(),d=E.useRef(null),u=qt(t,d,i.onScrollbarYChange);return E.useEffect(()=>{d.current&&l(getComputedStyle(d.current))},[d]),n.jsx(M$,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Rw(r)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,p)=>{if(i.viewport){const x=i.viewport.scrollTop+f.deltaY;e.onWheelScroll(x),B$(x,p)&&f.preventDefault()}},onResize:()=>{d.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:v1(o.paddingTop),paddingEnd:v1(o.paddingBottom)}})}})}),[coe,I$]=T$(Sl),M$=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:f,onResize:p,...x}=e,y=Qi(Sl,r),[j,w]=E.useState(null),C=qt(t,R=>w(R)),N=E.useRef(null),S=E.useRef(""),_=y.viewport,I=a.content-a.viewport,T=bn(f),M=bn(d),O=Dw(p,10);function D(R){if(N.current){const V=R.clientX-N.current.left,z=R.clientY-N.current.top;u({x:V,y:z})}}return E.useEffect(()=>{const R=V=>{const z=V.target;(j==null?void 0:j.contains(z))&&T(V,I)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,j,I,T]),E.useEffect(M,[a,M]),cm(j,O),cm(y.content,O),n.jsx(coe,{scope:r,scrollbar:j,hasThumb:s,onThumbChange:bn(i),onThumbPointerUp:bn(o),onThumbPositionChange:M,onThumbPointerDown:bn(l),children:n.jsx(ht.div,{...x,ref:C,style:{position:"absolute",...x.style},onPointerDown:ze(e.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),N.current=j.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",y.viewport&&(y.viewport.style.scrollBehavior="auto"),D(R))}),onPointerMove:ze(e.onPointerMove,D),onPointerUp:ze(e.onPointerUp,R=>{const V=R.target;V.hasPointerCapture(R.pointerId)&&V.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=S.current,y.viewport&&(y.viewport.style.scrollBehavior=""),N.current=null})})})}),g1="ScrollAreaThumb",R$=E.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=I$(g1,e.__scopeScrollArea);return n.jsx(sa,{present:r||s.hasThumb,children:n.jsx(doe,{ref:t,...a})})}),doe=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...s}=e,i=Qi(g1,r),o=I$(g1,r),{onThumbPositionChange:l}=o,d=qt(t,p=>o.onThumbChange(p)),u=E.useRef(void 0),f=Dw(()=>{u.current&&(u.current(),u.current=void 0)},100);return E.useEffect(()=>{const p=i.viewport;if(p){const x=()=>{if(f(),!u.current){const y=foe(p,l);u.current=y,l()}};return l(),p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[i.viewport,f,l]),n.jsx(ht.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:ze(e.onPointerDownCapture,p=>{const y=p.target.getBoundingClientRect(),j=p.clientX-y.left,w=p.clientY-y.top;o.onThumbPointerDown({x:j,y:w})}),onPointerUp:ze(e.onPointerUp,o.onThumbPointerUp)})});R$.displayName=g1;var _4="ScrollAreaCorner",D$=E.forwardRef((e,t)=>{const r=Qi(_4,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.jsx(uoe,{...e,ref:t}):null});D$.displayName=_4;var uoe=E.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,s=Qi(_4,r),[i,o]=E.useState(0),[l,d]=E.useState(0),u=!!(i&&l);return cm(s.scrollbarX,()=>{var p;const f=((p=s.scrollbarX)==null?void 0:p.offsetHeight)||0;s.onCornerHeightChange(f),d(f)}),cm(s.scrollbarY,()=>{var p;const f=((p=s.scrollbarY)==null?void 0:p.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),u?n.jsx(ht.div,{...a,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function v1(e){return e?parseInt(e,10):0}function L$(e,t){const r=e/t;return isNaN(r)?0:r}function Rw(e){const t=L$(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function hoe(e,t,r,a="ltr"){const s=Rw(r),i=s/2,o=t||i,l=s-o,d=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,f=r.content-r.viewport,p=a==="ltr"?[0,f]:[f*-1,0];return F$([d,u],p)(e)}function Kk(e,t,r="ltr"){const a=Rw(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-a,d=r==="ltr"?[0,o]:[o*-1,0],u=AS(e,d);return F$([0,o],[0,l])(u)}function F$(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function B$(e,t){return e>0&&e<t}var foe=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function Dw(e,t){const r=bn(e),a=E.useRef(0);return E.useEffect(()=>()=>window.clearTimeout(a.current),[]),E.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function cm(e,t){const r=bn(t);Xn(()=>{let a=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(a),s.unobserve(e)}}},[e,r])}var $$=_$,moe=O$,poe=D$;const Lw=E.forwardRef(({className:e,children:t,...r},a)=>n.jsxs($$,{ref:a,className:Ue("relative overflow-hidden",e),...r,children:[n.jsx(moe,{className:"h-full w-full rounded-[inherit]",children:t}),n.jsx(V$,{}),n.jsx(poe,{})]}));Lw.displayName=$$.displayName;const V$=E.forwardRef(({className:e,orientation:t="vertical",...r},a)=>n.jsx(E4,{ref:a,orientation:t,className:Ue("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:n.jsx(R$,{className:"relative flex-1 rounded-full bg-border"})}));V$.displayName=E4.displayName;var P4="Avatar",[xoe,NBe]=va(P4),[goe,z$]=xoe(P4),U$=E.forwardRef((e,t)=>{const{__scopeAvatar:r,...a}=e,[s,i]=E.useState("idle");return n.jsx(goe,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:n.jsx(ht.span,{...a,ref:t})})});U$.displayName=P4;var W$="AvatarImage",H$=E.forwardRef((e,t)=>{const{__scopeAvatar:r,src:a,onLoadingStatusChange:s=()=>{},...i}=e,o=z$(W$,r),l=voe(a,i),d=bn(u=>{s(u),o.onImageLoadingStatusChange(u)});return Xn(()=>{l!=="idle"&&d(l)},[l,d]),l==="loaded"?n.jsx(ht.img,{...i,ref:t,src:a}):null});H$.displayName=W$;var q$="AvatarFallback",G$=E.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:a,...s}=e,i=z$(q$,r),[o,l]=E.useState(a===void 0);return E.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>l(!0),a);return()=>window.clearTimeout(d)}},[a]),o&&i.imageLoadingStatus!=="loaded"?n.jsx(ht.span,{...s,ref:t}):null});G$.displayName=q$;function Yk(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function voe(e,{referrerPolicy:t,crossOrigin:r}){const a=boe(),s=E.useRef(null),i=a?(s.current||(s.current=new window.Image),s.current):null,[o,l]=E.useState(()=>Yk(i,e));return Xn(()=>{l(Yk(i,e))},[i,e]),Xn(()=>{const d=p=>()=>{l(p)};if(!i)return;const u=d("loaded"),f=d("error");return i.addEventListener("load",u),i.addEventListener("error",f),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",f)}},[i,r,t]),o}function yoe(){return()=>{}}function boe(){return E.useSyncExternalStore(yoe,()=>!0,()=>!1)}var K$=U$,Y$=H$,X$=G$;const ra=E.forwardRef(({className:e,...t},r)=>n.jsx(K$,{ref:r,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));ra.displayName=K$.displayName;const ga=E.forwardRef(({className:e,...t},r)=>n.jsx(Y$,{ref:r,className:Ue("aspect-square h-full w-full",e),...t}));ga.displayName=Y$.displayName;const na=E.forwardRef(({className:e,...t},r)=>n.jsx(X$,{ref:r,className:Ue("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));na.displayName=X$.displayName;function woe({type:e,userInfo:t,open:r=!0,onOpenChange:a,className:s}){const[i]=Fd(),{logout:o}=Oa(),{t:l}=bs(),d=[{href:"/client/dashboard",icon:n.jsx(Yl,{className:"mr-2 h-5 w-5"}),label:l("common.Dashboard")},{href:"/client/transactions",icon:n.jsx(gk,{className:"mr-2 h-5 w-5"}),label:l("navigation.transactions")},{href:"/client/transfers",icon:n.jsx(Mr,{className:"mr-2 h-5 w-5"}),label:l("navigation.transfers")},{href:"/client/qr-code",icon:n.jsx(Pn,{className:"mr-2 h-5 w-5"}),label:l("common.QRCode")},{href:"/client/stores",icon:n.jsx(Cr,{className:"mr-2 h-5 w-5"}),label:l("navigation.stores")},{href:"/client/referrals",icon:n.jsx(Qt,{className:"mr-2 h-5 w-5"}),label:l("common.Referrals")},{href:"/client/profile",icon:n.jsx(ir,{className:"mr-2 h-5 w-5"}),label:l("common.profile")}],u=[{href:"/merchant/dashboard",icon:n.jsx(Yl,{className:"mr-2 h-5 w-5"}),label:l("common.Dashboard")},{href:"/merchant/sales",icon:n.jsx(Ku,{className:"mr-2 h-5 w-5"}),label:l("merchant.registerSale")},{href:"/merchant/transactions",icon:n.jsx(gk,{className:"mr-2 h-5 w-5"}),label:l("merchant.history")},{href:"/merchant/transaction-management",icon:n.jsx(Bi,{className:"mr-2 h-5 w-5"}),label:l("merchant.manageSales")},{href:"/merchant/withdrawals-new",icon:n.jsx(Gu,{className:"mr-2 h-5 w-5"}),label:l("merchant.requestWithdrawal")},{href:"/merchant/products",icon:n.jsx(Ste,{className:"mr-2 h-5 w-5"}),label:l("navigation.products")},{href:"/merchant/scanner",icon:n.jsx(yS,{className:"mr-2 h-5 w-5"}),label:l("navigation.scanner")},{href:"/merchant/referrals",icon:n.jsx(Qt,{className:"mr-2 h-5 w-5"}),label:l("common.Referrals")},{href:"/merchant/reports",icon:n.jsx(So,{className:"mr-2 h-5 w-5"}),label:l("navigation.reports")},{href:"/merchant/profile",icon:n.jsx(ir,{className:"mr-2 h-5 w-5"}),label:l("merchant.myStore")},{href:"/merchant/settings",icon:n.jsx(yo,{className:"mr-2 h-5 w-5"}),label:l("common.settings")},{href:"/merchant/support",icon:n.jsx(xk,{className:"mr-2 h-5 w-5"}),label:l("merchant.support")}],f=[{href:"/admin/dashboard",icon:n.jsx(Yl,{className:"mr-2 h-5 w-5"}),label:l("common.Dashboard")},{href:"/admin/users",icon:n.jsx(Qt,{className:"mr-2 h-5 w-5"}),label:l("navigation.users")},{href:"/admin/customers",icon:n.jsx(ir,{className:"mr-2 h-5 w-5"}),label:l("navigation.customers")},{href:"/admin/merchants",icon:n.jsx(Cr,{className:"mr-2 h-5 w-5"}),label:l("navigation.merchants")},{href:"/admin/stores",icon:n.jsx(xte,{className:"mr-2 h-5 w-5"}),label:l("navigation.stores")},{href:"/admin/transactions",icon:n.jsx(Mr,{className:"mr-2 h-5 w-5"}),label:l("navigation.transactions")},{href:"/admin/transfers",icon:n.jsx(Gu,{className:"mr-2 h-5 w-5"}),label:l("navigation.transfers")},{href:"/admin/withdrawals",icon:n.jsx(Hr,{className:"mr-2 h-5 w-5"}),label:l("navigation.withdrawals")},{href:"/admin/reports",icon:n.jsx(So,{className:"mr-2 h-5 w-5"}),label:"Relatórios"},{href:"/admin/settings",icon:n.jsx(yo,{className:"mr-2 h-5 w-5"}),label:l("common.settings")},{href:"/admin/brand-settings",icon:n.jsx(Ate,{className:"mr-2 h-5 w-5"}),label:"Marca"},{href:"/admin/logs",icon:n.jsx(UF,{className:"mr-2 h-5 w-5"}),label:l("navigation.logs")},{href:"/admin/support",icon:n.jsx(xk,{className:"mr-2 h-5 w-5"}),label:l("navigation.support")}],p=e==="client"?d:e==="merchant"?u:f,x=w=>w.split(" ").map(C=>C[0]).slice(0,2).join("").toUpperCase(),y=Ue("flex flex-col h-full w-72 border-r shadow-lg",{"bg-gradient-to-b from-blue-600 to-blue-700 text-white":e==="client","bg-gradient-to-b from-green-600 to-green-700 text-white":e==="merchant","bg-gradient-to-b from-orange-500 to-orange-600 text-white":e==="admin"},s),j=w=>Ue("flex items-center px-4 py-3 rounded-xl transition-all duration-200 text-sm font-medium",{"hover:bg-white/15":!w,"bg-white/20 shadow-md":w});return n.jsxs(n.Fragment,{children:[r&&a&&n.jsx("div",{className:"md:hidden fixed inset-0 z-40 bg-black/50",onClick:()=>a(!1)}),n.jsxs("aside",{className:Ue(y,"fixed inset-y-0 left-0 z-50 md:relative",{"translate-x-0":r,"-translate-x-full":!r},"transition-transform duration-200 ease-in-out md:translate-x-0"),children:[a&&n.jsx("div",{className:"md:hidden p-4 flex justify-end",children:n.jsx(J,{variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",onClick:()=>a(!1),children:n.jsx(ph,{size:24})})}),n.jsx("div",{className:"p-6 border-b border-white/10",children:n.jsxs("div",{className:"bg-white/10 rounded-2xl p-4 shadow-md backdrop-blur-sm",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsxs(ra,{className:"h-14 w-14 mr-4 ring-2 ring-white/30 shadow-lg",children:[n.jsx(ga,{src:t.photo||void 0,alt:t.name}),n.jsx(na,{className:"bg-white/20 text-white font-medium",children:x(t.name)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-white",children:t.name}),n.jsxs("div",{className:"text-xs text-white/80 mt-0.5 flex items-center",children:[n.jsx("span",{className:"inline-block w-2 h-2 rounded-full bg-green-300 mr-1.5"}),e==="client"?"Cliente":e==="merchant"?"Lojista":"Administrador",t.status&&` • ${t.status}`]})]})]}),t.extraInfo&&n.jsx("div",{className:"text-xs mt-1 text-white/70 bg-white/10 rounded-lg p-2 text-center",children:t.extraInfo})]})}),n.jsx(Lw,{className:"flex-1",children:n.jsxs("nav",{className:"px-4 py-6",children:[n.jsx("div",{className:"mb-2 px-4 text-xs font-medium uppercase tracking-wider text-white/60",children:"Menu Principal"}),n.jsxs("ul",{className:"space-y-1.5",children:[p.map((w,C)=>n.jsx("li",{children:n.jsx(Rt,{href:w.href,children:n.jsxs("div",{className:j(i===w.href),children:[n.jsx("div",{className:`rounded-lg ${i===w.href?"bg-white/20":"bg-white/10"} p-2 mr-3`,children:Q.cloneElement(w.icon,{className:"h-5 w-5",strokeWidth:i===w.href?2.5:2})}),n.jsx("span",{children:w.label})]})})},C)),n.jsxs("li",{className:"pt-6 mt-6 border-t border-white/10",children:[n.jsx("div",{className:"mb-2 px-4 text-xs font-medium uppercase tracking-wider text-white/60",children:"Sistema"}),n.jsxs("button",{onClick:o,className:"w-full flex items-center px-4 py-3 rounded-xl hover:bg-white/15 transition-all duration-200",children:[n.jsx("div",{className:"rounded-lg bg-white/10 p-2 mr-3",children:n.jsx(fw,{className:"h-5 w-5"})}),n.jsx("span",{className:"font-medium text-sm",children:"Sair"})]})]})]})]})})]})]})}function joe({onClick:e}){return n.jsx(J,{variant:"ghost",size:"icon",onClick:e,children:n.jsx(WF,{className:"h-5 w-5"})})}const Noe=j0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200"}},defaultVariants:{variant:"default"}});function xt({className:e,variant:t,...r}){return n.jsx("div",{className:Ue(Noe({variant:t}),e),...r})}var O4="Popover",[Q$,CBe]=va(O4,[$d]),k0=$d(),[Coe,Ud]=Q$(O4),Z$=e=>{const{__scopePopover:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:o=!1}=e,l=k0(t),d=E.useRef(null),[u,f]=E.useState(!1),[p=!1,x]=zs({prop:a,defaultProp:s,onChange:i});return n.jsx(u4,{...l,children:n.jsx(Coe,{scope:t,contentId:ii(),triggerRef:d,open:p,onOpenChange:x,onOpenToggle:E.useCallback(()=>x(y=>!y),[x]),hasCustomAnchor:u,onCustomAnchorAdd:E.useCallback(()=>f(!0),[]),onCustomAnchorRemove:E.useCallback(()=>f(!1),[]),modal:o,children:r})})};Z$.displayName=O4;var J$="PopoverAnchor",Soe=E.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Ud(J$,r),i=k0(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=s;return E.useEffect(()=>(o(),()=>l()),[o,l]),n.jsx(S0,{...i,...a,ref:t})});Soe.displayName=J$;var eV="PopoverTrigger",tV=E.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Ud(eV,r),i=k0(r),o=qt(t,s.triggerRef),l=n.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":iV(s.open),...a,ref:o,onClick:ze(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?l:n.jsx(S0,{asChild:!0,...i,children:l})});tV.displayName=eV;var k4="PopoverPortal",[Aoe,Eoe]=Q$(k4,{forceMount:void 0}),rV=e=>{const{__scopePopover:t,forceMount:r,children:a,container:s}=e,i=Ud(k4,t);return n.jsx(Aoe,{scope:t,forceMount:r,children:n.jsx(sa,{present:r||i.open,children:n.jsx(Km,{asChild:!0,container:s,children:a})})})};rV.displayName=k4;var dm="PopoverContent",nV=E.forwardRef((e,t)=>{const r=Eoe(dm,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,i=Ud(dm,e.__scopePopover);return n.jsx(sa,{present:a||i.open,children:i.modal?n.jsx(_oe,{...s,ref:t}):n.jsx(Poe,{...s,ref:t})})});nV.displayName=dm;var Toe=Nd("PopoverContent.RemoveScroll"),_oe=E.forwardRef((e,t)=>{const r=Ud(dm,e.__scopePopover),a=E.useRef(null),s=qt(t,a),i=E.useRef(!1);return E.useEffect(()=>{const o=a.current;if(o)return Sw(o)},[]),n.jsx(E0,{as:Toe,allowPinchZoom:!0,children:n.jsx(aV,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),i.current||(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,u=l.button===2||d;i.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ze(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Poe=E.forwardRef((e,t)=>{const r=Ud(dm,e.__scopePopover),a=E.useRef(!1),s=E.useRef(!1);return n.jsx(aV,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),aV=E.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,...p}=e,x=Ud(dm,r),y=k0(r);return Nw(),n.jsx(A0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(mh,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>x.onOpenChange(!1),children:n.jsx(yw,{"data-state":iV(x.open),role:"dialog",id:x.contentId,...y,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),sV="PopoverClose",Ooe=E.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=Ud(sV,r);return n.jsx(ht.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});Ooe.displayName=sV;var koe="PopoverArrow",Ioe=E.forwardRef((e,t)=>{const{__scopePopover:r,...a}=e,s=k0(r);return n.jsx(bw,{...s,...a,ref:t})});Ioe.displayName=koe;function iV(e){return e?"open":"closed"}var Moe=Z$,Roe=tV,Doe=rV,oV=nV;const ep=Moe,tp=Roe,yh=E.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},s)=>n.jsx(Doe,{children:n.jsx(oV,{ref:s,align:t,sideOffset:r,className:Ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...a})}));yh.displayName=oV.displayName;const I4=E.createContext({});function Fw(e){const t=E.useRef(null);return t.current===null&&(t.current=e()),t.current}const Bw=E.createContext(null),M4=E.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Loe extends E.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Foe({children:e,isPresent:t}){const r=E.useId(),a=E.useRef(null),s=E.useRef({width:0,height:0,top:0,left:0}),{nonce:i}=E.useContext(M4);return E.useInsertionEffect(()=>{const{width:o,height:l,top:d,left:u}=s.current;if(t||!a.current||!o||!l)return;a.current.dataset.motionPopId=r;const f=document.createElement("style");return i&&(f.nonce=i),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${d}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),n.jsx(Loe,{isPresent:t,childRef:a,sizeRef:s,children:E.cloneElement(e,{ref:a})})}const Boe=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:s,presenceAffectsLayout:i,mode:o})=>{const l=Fw($oe),d=E.useId(),u=E.useCallback(p=>{l.set(p,!0);for(const x of l.values())if(!x)return;a&&a()},[l,a]),f=E.useMemo(()=>({id:d,initial:t,isPresent:r,custom:s,onExitComplete:u,register:p=>(l.set(p,!1),()=>l.delete(p))}),i?[Math.random(),u]:[r,u]);return E.useMemo(()=>{l.forEach((p,x)=>l.set(x,!1))},[r]),E.useEffect(()=>{!r&&!l.size&&a&&a()},[r]),o==="popLayout"&&(e=n.jsx(Foe,{isPresent:r,children:e})),n.jsx(Bw.Provider,{value:f,children:e})};function $oe(){return new Map}function lV(e=!0){const t=E.useContext(Bw);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:a,register:s}=t,i=E.useId();E.useEffect(()=>{e&&s(i)},[e]);const o=E.useCallback(()=>e&&a&&a(i),[i,a,e]);return!r&&a?[!1,o]:[!0]}const Lv=e=>e.key||"";function Xk(e){const t=[];return E.Children.forEach(e,r=>{E.isValidElement(r)&&t.push(r)}),t}const R4=typeof window<"u",D4=R4?E.useLayoutEffect:E.useEffect,cg=({children:e,custom:t,initial:r=!0,onExitComplete:a,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1})=>{const[l,d]=lV(o),u=E.useMemo(()=>Xk(e),[e]),f=o&&!l?[]:u.map(Lv),p=E.useRef(!0),x=E.useRef(u),y=Fw(()=>new Map),[j,w]=E.useState(u),[C,N]=E.useState(u);D4(()=>{p.current=!1,x.current=u;for(let I=0;I<C.length;I++){const T=Lv(C[I]);f.includes(T)?y.delete(T):y.get(T)!==!0&&y.set(T,!1)}},[C,f.length,f.join("-")]);const S=[];if(u!==j){let I=[...u];for(let T=0;T<C.length;T++){const M=C[T],O=Lv(M);f.includes(O)||(I.splice(T,0,M),S.push(M))}i==="wait"&&S.length&&(I=S),N(Xk(I)),w(u);return}const{forceRender:_}=E.useContext(I4);return n.jsx(n.Fragment,{children:C.map(I=>{const T=Lv(I),M=o&&!l?!1:u===C||f.includes(T),O=()=>{if(y.has(T))y.set(T,!0);else return;let D=!0;y.forEach(R=>{R||(D=!1)}),D&&(_==null||_(),N(x.current),o&&(d==null||d()),a&&a())};return n.jsx(Boe,{isPresent:M,initial:!p.current||r?void 0:!1,custom:M?void 0:t,presenceAffectsLayout:s,mode:i,onExitComplete:M?void 0:O,children:I},T)})})},li=e=>e;let DS=li;function L4(e){let t;return()=>(t===void 0&&(t=e()),t)}const um=(e,t,r)=>{const a=t-e;return a===0?1:(r-e)/a},Ql=e=>e*1e3,Zl=e=>e/1e3,Voe={skipAnimations:!1,useManualTiming:!1};function zoe(e){let t=new Set,r=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(d.schedule(u),e()),u(o)}const d={schedule:(u,f=!1,p=!1)=>{const y=p&&a?t:r;return f&&i.add(u),y.has(u)||y.add(u),u},cancel:u=>{r.delete(u),i.delete(u)},process:u=>{if(o=u,a){s=!0;return}a=!0,[t,r]=[r,t],t.forEach(l),t.clear(),a=!1,s&&(s=!1,d.process(u))}};return d}const Fv=["read","resolveKeyframes","update","preRender","render","postRender"],Uoe=40;function cV(e,t){let r=!1,a=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Fv.reduce((N,S)=>(N[S]=zoe(i),N),{}),{read:l,resolveKeyframes:d,update:u,preRender:f,render:p,postRender:x}=o,y=()=>{const N=performance.now();r=!1,s.delta=a?1e3/60:Math.max(Math.min(N-s.timestamp,Uoe),1),s.timestamp=N,s.isProcessing=!0,l.process(s),d.process(s),u.process(s),f.process(s),p.process(s),x.process(s),s.isProcessing=!1,r&&t&&(a=!1,e(y))},j=()=>{r=!0,a=!0,s.isProcessing||e(y)};return{schedule:Fv.reduce((N,S)=>{const _=o[S];return N[S]=(I,T=!1,M=!1)=>(r||j(),_.schedule(I,T,M)),N},{}),cancel:N=>{for(let S=0;S<Fv.length;S++)o[Fv[S]].cancel(N)},state:s,steps:o}}const{schedule:mn,cancel:Td,state:Ba,steps:iN}=cV(typeof requestAnimationFrame<"u"?requestAnimationFrame:li,!0),dV=E.createContext({strict:!1}),Qk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},hm={};for(const e in Qk)hm[e]={isEnabled:t=>Qk[e].some(r=>!!t[r])};function Woe(e){for(const t in e)hm[t]={...hm[t],...e[t]}}const Hoe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Hoe.has(e)}let uV=e=>!y1(e);function qoe(e){e&&(uV=t=>t.startsWith("on")?!y1(t):e(t))}try{qoe(require("@emotion/is-prop-valid").default)}catch{}function Goe(e,t,r){const a={};for(const s in e)s==="values"&&typeof e.values=="object"||(uV(s)||r===!0&&y1(s)||!t&&!y1(s)||e.draggable&&s.startsWith("onDrag"))&&(a[s]=e[s]);return a}function Koe(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...a)=>e(...a);return new Proxy(r,{get:(a,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const $w=E.createContext({});function dg(e){return typeof e=="string"||Array.isArray(e)}function Vw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const F4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],B4=["initial",...F4];function zw(e){return Vw(e.animate)||B4.some(t=>dg(e[t]))}function hV(e){return!!(zw(e)||e.variants)}function Yoe(e,t){if(zw(e)){const{initial:r,animate:a}=e;return{initial:r===!1||dg(r)?r:void 0,animate:dg(a)?a:void 0}}return e.inherit!==!1?t:{}}function Xoe(e){const{initial:t,animate:r}=Yoe(e,E.useContext($w));return E.useMemo(()=>({initial:t,animate:r}),[Zk(t),Zk(r)])}function Zk(e){return Array.isArray(e)?e.join(" "):e}const Qoe=Symbol.for("motionComponentSymbol");function sf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Zoe(e,t,r){return E.useCallback(a=>{a&&e.onMount&&e.onMount(a),t&&(a?t.mount(a):t.unmount()),r&&(typeof r=="function"?r(a):sf(r)&&(r.current=a))},[t])}const $4=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Joe="framerAppearId",fV="data-"+$4(Joe),{schedule:V4,cancel:SBe}=cV(queueMicrotask,!1),mV=E.createContext({});function ele(e,t,r,a,s){var i,o;const{visualElement:l}=E.useContext($w),d=E.useContext(dV),u=E.useContext(Bw),f=E.useContext(M4).reducedMotion,p=E.useRef(null);a=a||d.renderer,!p.current&&a&&(p.current=a(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const x=p.current,y=E.useContext(mV);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&tle(p.current,r,s,y);const j=E.useRef(!1);E.useInsertionEffect(()=>{x&&j.current&&x.update(r,u)});const w=r[fV],C=E.useRef(!!w&&!(!((i=window.MotionHandoffIsComplete)===null||i===void 0)&&i.call(window,w))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,w)));return D4(()=>{x&&(j.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),V4.render(x.render),C.current&&x.animationState&&x.animationState.animateChanges())}),E.useEffect(()=>{x&&(!C.current&&x.animationState&&x.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,w)}),C.current=!1))}),x}function tle(e,t,r,a){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:d,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:pV(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&sf(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:a,layoutScroll:d,layoutRoot:u})}function pV(e){if(e)return e.options.allowProjection!==!1?e.projection:pV(e.parent)}function rle({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:a,Component:s}){var i,o;e&&Woe(e);function l(u,f){let p;const x={...E.useContext(M4),...u,layoutId:nle(u)},{isStatic:y}=x,j=Xoe(u),w=a(u,y);if(!y&&R4){ale();const C=sle(x);p=C.MeasureLayout,j.visualElement=ele(s,w,x,t,C.ProjectionNode)}return n.jsxs($w.Provider,{value:j,children:[p&&j.visualElement?n.jsx(p,{visualElement:j.visualElement,...x}):null,r(s,u,Zoe(w,j.visualElement,f),w,y,j.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(i=s.displayName)!==null&&i!==void 0?i:s.name)!==null&&o!==void 0?o:""})`}`;const d=E.forwardRef(l);return d[Qoe]=s,d}function nle({layoutId:e}){const t=E.useContext(I4).id;return t&&e!==void 0?t+"-"+e:e}function ale(e,t){E.useContext(dV).strict}function sle(e){const{drag:t,layout:r}=hm;if(!t&&!r)return{};const a={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}const ile=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function z4(e){return typeof e!="string"||e.includes("-")?!1:!!(ile.indexOf(e)>-1||/[A-Z]/u.test(e))}function Jk(e){const t=[{},{}];return e==null||e.values.forEach((r,a)=>{t[0][a]=r.get(),t[1][a]=r.getVelocity()}),t}function U4(e,t,r,a){if(typeof t=="function"){const[s,i]=Jk(a);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=Jk(a);t=t(r!==void 0?r:e.custom,s,i)}return t}const LS=e=>Array.isArray(e),ole=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),lle=e=>LS(e)?e[e.length-1]||0:e,Ja=e=>!!(e&&e.getVelocity);function Ay(e){const t=Ja(e)?e.get():e;return ole(t)?t.toValue():t}function cle({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},a,s,i){const o={latestValues:dle(a,s,i,e),renderState:t()};return r&&(o.onMount=l=>r({props:a,current:l,...o}),o.onUpdate=l=>r(l)),o}const xV=e=>(t,r)=>{const a=E.useContext($w),s=E.useContext(Bw),i=()=>cle(e,t,a,s);return r?i():Fw(i)};function dle(e,t,r,a){const s={},i=a(e,{});for(const x in i)s[x]=Ay(i[x]);let{initial:o,animate:l}=e;const d=zw(e),u=hV(e);t&&u&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!Vw(p)){const x=Array.isArray(p)?p:[p];for(let y=0;y<x.length;y++){const j=U4(e,x[y]);if(j){const{transitionEnd:w,transition:C,...N}=j;for(const S in N){let _=N[S];if(Array.isArray(_)){const I=f?_.length-1:0;_=_[I]}_!==null&&(s[S]=_)}for(const S in w)s[S]=w[S]}}}return s}const rp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bh=new Set(rp),gV=e=>t=>typeof t=="string"&&t.startsWith(e),vV=gV("--"),ule=gV("var(--"),W4=e=>ule(e)?hle.test(e.split("/*")[0].trim()):!1,hle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,hc=(e,t,r)=>r>t?t:r<e?e:r,np={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ug={...np,transform:e=>hc(0,1,e)},Bv={...np,default:1},I0=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lc=I0("deg"),ol=I0("%"),Lt=I0("px"),fle=I0("vh"),mle=I0("vw"),eI={...ol,parse:e=>ol.parse(e)/100,transform:e=>ol.transform(e*100)},ple={borderWidth:Lt,borderTopWidth:Lt,borderRightWidth:Lt,borderBottomWidth:Lt,borderLeftWidth:Lt,borderRadius:Lt,radius:Lt,borderTopLeftRadius:Lt,borderTopRightRadius:Lt,borderBottomRightRadius:Lt,borderBottomLeftRadius:Lt,width:Lt,maxWidth:Lt,height:Lt,maxHeight:Lt,top:Lt,right:Lt,bottom:Lt,left:Lt,padding:Lt,paddingTop:Lt,paddingRight:Lt,paddingBottom:Lt,paddingLeft:Lt,margin:Lt,marginTop:Lt,marginRight:Lt,marginBottom:Lt,marginLeft:Lt,backgroundPositionX:Lt,backgroundPositionY:Lt},xle={rotate:Lc,rotateX:Lc,rotateY:Lc,rotateZ:Lc,scale:Bv,scaleX:Bv,scaleY:Bv,scaleZ:Bv,skew:Lc,skewX:Lc,skewY:Lc,distance:Lt,translateX:Lt,translateY:Lt,translateZ:Lt,x:Lt,y:Lt,z:Lt,perspective:Lt,transformPerspective:Lt,opacity:ug,originX:eI,originY:eI,originZ:Lt},tI={...np,transform:Math.round},H4={...ple,...xle,zIndex:tI,size:Lt,fillOpacity:ug,strokeOpacity:ug,numOctaves:tI},gle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vle=rp.length;function yle(e,t,r){let a="",s=!0;for(let i=0;i<vle;i++){const o=rp[i],l=e[o];if(l===void 0)continue;let d=!0;if(typeof l=="number"?d=l===(o.startsWith("scale")?1:0):d=parseFloat(l)===0,!d||r){const u=yV(l,H4[o]);if(!d){s=!1;const f=gle[o]||o;a+=`${f}(${u}) `}r&&(t[o]=u)}}return a=a.trim(),r?a=r(t,s?"":a):s&&(a="none"),a}function q4(e,t,r){const{style:a,vars:s,transformOrigin:i}=e;let o=!1,l=!1;for(const d in t){const u=t[d];if(bh.has(d)){o=!0;continue}else if(vV(d)){s[d]=u;continue}else{const f=yV(u,H4[d]);d.startsWith("origin")?(l=!0,i[d]=f):a[d]=f}}if(t.transform||(o||r?a.transform=yle(t,e.transform,r):a.transform&&(a.transform="none")),l){const{originX:d="50%",originY:u="50%",originZ:f=0}=i;a.transformOrigin=`${d} ${u} ${f}`}}const ble={offset:"stroke-dashoffset",array:"stroke-dasharray"},wle={offset:"strokeDashoffset",array:"strokeDasharray"};function jle(e,t,r=1,a=0,s=!0){e.pathLength=1;const i=s?ble:wle;e[i.offset]=Lt.transform(-a);const o=Lt.transform(t),l=Lt.transform(r);e[i.array]=`${o} ${l}`}function rI(e,t,r){return typeof e=="string"?e:Lt.transform(t+r*e)}function Nle(e,t,r){const a=rI(t,e.x,e.width),s=rI(r,e.y,e.height);return`${a} ${s}`}function G4(e,{attrX:t,attrY:r,attrScale:a,originX:s,originY:i,pathLength:o,pathSpacing:l=1,pathOffset:d=0,...u},f,p){if(q4(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:y,dimensions:j}=e;x.transform&&(j&&(y.transform=x.transform),delete x.transform),j&&(s!==void 0||i!==void 0||y.transform)&&(y.transformOrigin=Nle(j,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(x.x=t),r!==void 0&&(x.y=r),a!==void 0&&(x.scale=a),o!==void 0&&jle(x,o,l,d,!1)}const K4=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),bV=()=>({...K4(),attrs:{}}),Y4=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wV(e,{style:t,vars:r},a,s){Object.assign(e.style,t,s&&s.getProjectionStyles(a));for(const i in r)e.style.setProperty(i,r[i])}const jV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NV(e,t,r,a){wV(e,t,void 0,a);for(const s in t.attrs)e.setAttribute(jV.has(s)?s:$4(s),t.attrs[s])}const b1={};function Cle(e){Object.assign(b1,e)}function CV(e,{layout:t,layoutId:r}){return bh.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!b1[e]||e==="opacity")}function X4(e,t,r){var a;const{style:s}=e,i={};for(const o in s)(Ja(s[o])||t.style&&Ja(t.style[o])||CV(o,e)||((a=r==null?void 0:r.getValue(o))===null||a===void 0?void 0:a.liveStyle)!==void 0)&&(i[o]=s[o]);return i}function SV(e,t,r){const a=X4(e,t,r);for(const s in e)if(Ja(e[s])||Ja(t[s])){const i=rp.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;a[i]=e[s]}return a}function Sle(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const nI=["x","y","width","height","cx","cy","r"],Ale={useVisualState:xV({scrapeMotionValuesFromProps:SV,createRenderState:bV,onUpdate:({props:e,prevProps:t,current:r,renderState:a,latestValues:s})=>{if(!r)return;let i=!!e.drag;if(!i){for(const l in s)if(bh.has(l)){i=!0;break}}if(!i)return;let o=!t;if(t)for(let l=0;l<nI.length;l++){const d=nI[l];e[d]!==t[d]&&(o=!0)}o&&mn.read(()=>{Sle(r,a),mn.render(()=>{G4(a,s,Y4(r.tagName),e.transformTemplate),NV(r,a)})})}})},Ele={useVisualState:xV({scrapeMotionValuesFromProps:X4,createRenderState:K4})};function AV(e,t,r){for(const a in t)!Ja(t[a])&&!CV(a,r)&&(e[a]=t[a])}function Tle({transformTemplate:e},t){return E.useMemo(()=>{const r=K4();return q4(r,t,e),Object.assign({},r.vars,r.style)},[t])}function _le(e,t){const r=e.style||{},a={};return AV(a,r,e),Object.assign(a,Tle(e,t)),a}function Ple(e,t){const r={},a=_le(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}function Ole(e,t,r,a){const s=E.useMemo(()=>{const i=bV();return G4(i,t,Y4(a),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};AV(i,e.style,e),s.style={...i,...s.style}}return s}function kle(e=!1){return(r,a,s,{latestValues:i},o)=>{const d=(z4(r)?Ole:Ple)(a,i,o,r),u=Goe(a,typeof r=="string",e),f=r!==E.Fragment?{...u,...d,ref:s}:{},{children:p}=a,x=E.useMemo(()=>Ja(p)?p.get():p,[p]);return E.createElement(r,{...f,children:x})}}function Ile(e,t){return function(a,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...z4(a)?Ale:Ele,preloadedFeatures:e,useRender:kle(s),createVisualElement:t,Component:a};return rle(o)}}function EV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let a=0;a<r;a++)if(t[a]!==e[a])return!1;return!0}function Uw(e,t,r){const a=e.getProps();return U4(a,t,r!==void 0?r:a.custom,e)}const Mle=L4(()=>window.ScrollTimeline!==void 0);class Rle{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let a=0;a<this.animations.length;a++)this.animations[a][t]=r}attachTimeline(t,r){const a=this.animations.map(s=>{if(Mle()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{a.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Dle extends Rle{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Q4(e,t){return e?e[t]||e.default||e:void 0}const FS=2e4;function TV(e){let t=0;const r=50;let a=e.next(t);for(;!a.done&&t<FS;)t+=r,a=e.next(t);return t>=FS?1/0:t}function Z4(e){return typeof e=="function"}function aI(e,t){e.timeline=t,e.onfinish=null}const J4=e=>Array.isArray(e)&&typeof e[0]=="number",Lle={linearEasing:void 0};function Fle(e,t){const r=L4(e);return()=>{var a;return(a=Lle[t])!==null&&a!==void 0?a:r()}}const w1=Fle(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_V=(e,t,r=10)=>{let a="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)a+=e(um(0,s-1,i))+", ";return`linear(${a.substring(0,a.length-2)})`};function PV(e){return!!(typeof e=="function"&&w1()||!e||typeof e=="string"&&(e in BS||w1())||J4(e)||Array.isArray(e)&&e.every(PV))}const ox=([e,t,r,a])=>`cubic-bezier(${e}, ${t}, ${r}, ${a})`,BS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ox([0,.65,.55,1]),circOut:ox([.55,0,1,.45]),backIn:ox([.31,.01,.66,-.59]),backOut:ox([.33,1.53,.69,.99])};function OV(e,t){if(e)return typeof e=="function"&&w1()?_V(e,t):J4(e)?ox(e):Array.isArray(e)?e.map(r=>OV(r,t)||BS.easeOut):BS[e]}const so={x:!1,y:!1};function kV(){return so.x||so.y}function Ble(e,t,r){var a;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const i=(a=void 0)!==null&&a!==void 0?a:s.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function IV(e,t){const r=Ble(e),a=new AbortController,s={passive:!0,...t,signal:a.signal};return[r,s,()=>a.abort()]}function sI(e){return t=>{t.pointerType==="touch"||kV()||e(t)}}function $le(e,t,r={}){const[a,s,i]=IV(e,r),o=sI(l=>{const{target:d}=l,u=t(l);if(typeof u!="function"||!d)return;const f=sI(p=>{u(p),d.removeEventListener("pointerleave",f)});d.addEventListener("pointerleave",f,s)});return a.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const MV=(e,t)=>t?e===t?!0:MV(e,t.parentElement):!1,e3=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Vle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zle(e){return Vle.has(e.tagName)||e.tabIndex!==-1}const lx=new WeakSet;function iI(e){return t=>{t.key==="Enter"&&e(t)}}function oN(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Ule=(e,t)=>{const r=e.currentTarget;if(!r)return;const a=iI(()=>{if(lx.has(r))return;oN(r,"down");const s=iI(()=>{oN(r,"up")}),i=()=>oN(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",a,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",a),t)};function oI(e){return e3(e)&&!kV()}function Wle(e,t,r={}){const[a,s,i]=IV(e,r),o=l=>{const d=l.currentTarget;if(!oI(l)||lx.has(d))return;lx.add(d);const u=t(l),f=(y,j)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),!(!oI(y)||!lx.has(d))&&(lx.delete(d),typeof u=="function"&&u(y,{success:j}))},p=y=>{f(y,r.useGlobalTarget||MV(d,y.target))},x=y=>{f(y,!1)};window.addEventListener("pointerup",p,s),window.addEventListener("pointercancel",x,s)};return a.forEach(l=>{!zle(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>Ule(u,s),s)}),i}function Hle(e){return e==="x"||e==="y"?so[e]?null:(so[e]=!0,()=>{so[e]=!1}):so.x||so.y?null:(so.x=so.y=!0,()=>{so.x=so.y=!1})}const RV=new Set(["width","height","top","left","right","bottom",...rp]);let Ey;function qle(){Ey=void 0}const ll={now:()=>(Ey===void 0&&ll.set(Ba.isProcessing||Voe.useManualTiming?Ba.timestamp:performance.now()),Ey),set:e=>{Ey=e,queueMicrotask(qle)}};function t3(e,t){e.indexOf(t)===-1&&e.push(t)}function r3(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class n3{constructor(){this.subscriptions=[]}add(t){return t3(this.subscriptions,t),()=>r3(this.subscriptions,t)}notify(t,r,a){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,a);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,r,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function DV(e,t){return t?e*(1e3/t):0}const lI=30,Gle=e=>!isNaN(parseFloat(e));class Kle{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(a,s=!0)=>{const i=ll.now();this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ll.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Gle(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new n3);const a=this.events[t].add(r);return t==="change"?()=>{a(),mn.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,a){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-a}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ll.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,lI);return DV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hg(e,t){return new Kle(e,t)}function Yle(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,hg(r))}function a3(e,t){const r=Uw(e,t);let{transitionEnd:a={},transition:s={},...i}=r||{};i={...i,...a};for(const o in i){const l=lle(i[o]);Yle(e,o,l)}}function Xle(e){return!!(Ja(e)&&e.add)}function $S(e,t){const r=e.getValue("willChange");if(Xle(r))return r.add(t)}function LV(e){return e.props[fV]}const FV=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Qle=1e-7,Zle=12;function Jle(e,t,r,a,s){let i,o,l=0;do o=t+(r-t)/2,i=FV(o,a,s)-e,i>0?r=o:t=o;while(Math.abs(i)>Qle&&++l<Zle);return o}function M0(e,t,r,a){if(e===t&&r===a)return li;const s=i=>Jle(i,0,1,e,r);return i=>i===0||i===1?i:FV(s(i),t,a)}const BV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$V=e=>t=>1-e(1-t),VV=M0(.33,1.53,.69,.99),s3=$V(VV),zV=BV(s3),UV=e=>(e*=2)<1?.5*s3(e):.5*(2-Math.pow(2,-10*(e-1))),i3=e=>1-Math.sin(Math.acos(e)),WV=$V(i3),HV=BV(i3),qV=e=>/^0[^.\s]+$/u.test(e);function ece(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||qV(e):!0}const Ax=e=>Math.round(e*1e5)/1e5,o3=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function tce(e){return e==null}const rce=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,l3=(e,t)=>r=>!!(typeof r=="string"&&rce.test(r)&&r.startsWith(e)||t&&!tce(r)&&Object.prototype.hasOwnProperty.call(r,t)),GV=(e,t,r)=>a=>{if(typeof a!="string")return a;const[s,i,o,l]=a.match(o3);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},nce=e=>hc(0,255,e),lN={...np,transform:e=>Math.round(nce(e))},yu={test:l3("rgb","red"),parse:GV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:a=1})=>"rgba("+lN.transform(e)+", "+lN.transform(t)+", "+lN.transform(r)+", "+Ax(ug.transform(a))+")"};function ace(e){let t="",r="",a="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),a=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),a=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,a+=a,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(a,16),alpha:s?parseInt(s,16)/255:1}}const VS={test:l3("#"),parse:ace,transform:yu.transform},of={test:l3("hsl","hue"),parse:GV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:a=1})=>"hsla("+Math.round(e)+", "+ol.transform(Ax(t))+", "+ol.transform(Ax(r))+", "+Ax(ug.transform(a))+")"},Ya={test:e=>yu.test(e)||VS.test(e)||of.test(e),parse:e=>yu.test(e)?yu.parse(e):of.test(e)?of.parse(e):VS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?yu.transform(e):of.transform(e)},sce=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ice(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(o3))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(sce))===null||r===void 0?void 0:r.length)||0)>0}const KV="number",YV="color",oce="var",lce="var(",cI="${}",cce=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fg(e){const t=e.toString(),r=[],a={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(cce,d=>(Ya.test(d)?(a.color.push(i),s.push(YV),r.push(Ya.parse(d))):d.startsWith(lce)?(a.var.push(i),s.push(oce),r.push(d)):(a.number.push(i),s.push(KV),r.push(parseFloat(d))),++i,cI)).split(cI);return{values:r,split:l,indexes:a,types:s}}function XV(e){return fg(e).values}function QV(e){const{split:t,types:r}=fg(e),a=t.length;return s=>{let i="";for(let o=0;o<a;o++)if(i+=t[o],s[o]!==void 0){const l=r[o];l===KV?i+=Ax(s[o]):l===YV?i+=Ya.transform(s[o]):i+=s[o]}return i}}const dce=e=>typeof e=="number"?0:e;function uce(e){const t=XV(e);return QV(e)(t.map(dce))}const _d={test:ice,parse:XV,createTransformer:QV,getAnimatableNone:uce},hce=new Set(["brightness","contrast","saturate","opacity"]);function fce(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[a]=r.match(o3)||[];if(!a)return e;const s=r.replace(a,"");let i=hce.has(t)?1:0;return a!==r&&(i*=100),t+"("+i+s+")"}const mce=/\b([a-z-]*)\(.*?\)/gu,zS={..._d,getAnimatableNone:e=>{const t=e.match(mce);return t?t.map(fce).join(" "):e}},pce={...H4,color:Ya,backgroundColor:Ya,outlineColor:Ya,fill:Ya,stroke:Ya,borderColor:Ya,borderTopColor:Ya,borderRightColor:Ya,borderBottomColor:Ya,borderLeftColor:Ya,filter:zS,WebkitFilter:zS},c3=e=>pce[e];function ZV(e,t){let r=c3(e);return r!==zS&&(r=_d),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const xce=new Set(["auto","none","0"]);function gce(e,t,r){let a=0,s;for(;a<e.length&&!s;){const i=e[a];typeof i=="string"&&!xce.has(i)&&fg(i).values.length&&(s=e[a]),a++}if(s&&r)for(const i of t)e[i]=ZV(r,s)}const dI=e=>e===np||e===Lt,uI=(e,t)=>parseFloat(e.split(", ")[t]),hI=(e,t)=>(r,{transform:a})=>{if(a==="none"||!a)return 0;const s=a.match(/^matrix3d\((.+)\)$/u);if(s)return uI(s[1],t);{const i=a.match(/^matrix\((.+)\)$/u);return i?uI(i[1],e):0}},vce=new Set(["x","y","z"]),yce=rp.filter(e=>!vce.has(e));function bce(e){const t=[];return yce.forEach(r=>{const a=e.getValue(r);a!==void 0&&(t.push([r,a.get()]),a.set(r.startsWith("scale")?1:0))}),t}const fm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:hI(4,13),y:hI(5,14)};fm.translateX=fm.x;fm.translateY=fm.y;const Du=new Set;let US=!1,WS=!1;function JV(){if(WS){const e=Array.from(Du).filter(a=>a.needsMeasurement),t=new Set(e.map(a=>a.element)),r=new Map;t.forEach(a=>{const s=bce(a);s.length&&(r.set(a,s),a.render())}),e.forEach(a=>a.measureInitialState()),t.forEach(a=>{a.render();const s=r.get(a);s&&s.forEach(([i,o])=>{var l;(l=a.getValue(i))===null||l===void 0||l.set(o)})}),e.forEach(a=>a.measureEndState()),e.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}WS=!1,US=!1,Du.forEach(e=>e.complete()),Du.clear()}function ez(){Du.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(WS=!0)})}function wce(){ez(),JV()}class d3{constructor(t,r,a,s,i,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=a,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Du.add(this),US||(US=!0,mn.read(ez),mn.resolveKeyframes(JV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:a,motionValue:s}=this;for(let i=0;i<t.length;i++)if(t[i]===null)if(i===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(a&&r){const d=a.readValue(r,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[i]=t[i-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Du.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Du.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const tz=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),jce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Nce(e){const t=jce.exec(e);if(!t)return[,];const[,r,a,s]=t;return[`--${r??a}`,s]}function rz(e,t,r=1){const[a,s]=Nce(e);if(!a)return;const i=window.getComputedStyle(t).getPropertyValue(a);if(i){const o=i.trim();return tz(o)?parseFloat(o):o}return W4(s)?rz(s,t,r+1):s}const nz=e=>t=>t.test(e),Cce={test:e=>e==="auto",parse:e=>e},az=[np,Lt,ol,Lc,mle,fle,Cce],fI=e=>az.find(nz(e));class sz extends d3{constructor(t,r,a,s,i){super(t,r,a,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:a}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let u=t[d];if(typeof u=="string"&&(u=u.trim(),W4(u))){const f=rz(u,r.current);f!==void 0&&(t[d]=f),d===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!RV.has(a)||t.length!==2)return;const[s,i]=t,o=fI(s),l=fI(i);if(o!==l)if(dI(o)&&dI(l))for(let d=0;d<t.length;d++){const u=t[d];typeof u=="string"&&(t[d]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,a=[];for(let s=0;s<t.length;s++)ece(t[s])&&a.push(s);a.length&&gce(t,a,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:a}=this;if(!t||!t.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fm[a](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(a,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:a,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const i=r.getValue(a);i&&i.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=fm[a](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,u])=>{r.getValue(d).set(u)}),this.resolveNoneKeyframes()}}const mI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_d.test(e)||e==="0")&&!e.startsWith("url("));function Sce(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Ace(e,t,r,a){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=mI(s,t),l=mI(i,t);return!o||!l?!1:Sce(e)||(r==="spring"||Z4(r))&&a}const Ece=e=>e!==null;function Ww(e,{repeat:t,repeatType:r="loop"},a){const s=e.filter(Ece),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||a===void 0?s[i]:a}const Tce=40;class iz{constructor({autoplay:t=!0,delay:r=0,type:a="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ll.now(),this.options={autoplay:t,delay:r,type:a,repeat:s,repeatDelay:i,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Tce?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&wce(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=ll.now(),this.hasAttemptedResolve=!0;const{name:a,type:s,velocity:i,delay:o,onComplete:l,onUpdate:d,isGenerator:u}=this.options;if(!u&&!Ace(t,a,s,i))if(o)this.options.duration=0;else{d&&d(Ww(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,r);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const _n=(e,t,r)=>e+(t-e)*r;function cN(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function _ce({hue:e,saturation:t,lightness:r,alpha:a}){e/=360,t/=100,r/=100;let s=0,i=0,o=0;if(!t)s=i=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,d=2*r-l;s=cN(d,l,e+1/3),i=cN(d,l,e),o=cN(d,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:a}}function j1(e,t){return r=>r>0?t:e}const dN=(e,t,r)=>{const a=e*e,s=r*(t*t-a)+a;return s<0?0:Math.sqrt(s)},Pce=[VS,yu,of],Oce=e=>Pce.find(t=>t.test(e));function pI(e){const t=Oce(e);if(!t)return!1;let r=t.parse(e);return t===of&&(r=_ce(r)),r}const xI=(e,t)=>{const r=pI(e),a=pI(t);if(!r||!a)return j1(e,t);const s={...r};return i=>(s.red=dN(r.red,a.red,i),s.green=dN(r.green,a.green,i),s.blue=dN(r.blue,a.blue,i),s.alpha=_n(r.alpha,a.alpha,i),yu.transform(s))},kce=(e,t)=>r=>t(e(r)),R0=(...e)=>e.reduce(kce),HS=new Set(["none","hidden"]);function Ice(e,t){return HS.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Mce(e,t){return r=>_n(e,t,r)}function u3(e){return typeof e=="number"?Mce:typeof e=="string"?W4(e)?j1:Ya.test(e)?xI:Lce:Array.isArray(e)?oz:typeof e=="object"?Ya.test(e)?xI:Rce:j1}function oz(e,t){const r=[...e],a=r.length,s=e.map((i,o)=>u3(i)(i,t[o]));return i=>{for(let o=0;o<a;o++)r[o]=s[o](i);return r}}function Rce(e,t){const r={...e,...t},a={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(a[s]=u3(e[s])(e[s],t[s]));return s=>{for(const i in a)r[i]=a[i](s);return r}}function Dce(e,t){var r;const a=[],s={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],l=e.indexes[o][s[o]],d=(r=e.values[l])!==null&&r!==void 0?r:0;a[i]=d,s[o]++}return a}const Lce=(e,t)=>{const r=_d.createTransformer(t),a=fg(e),s=fg(t);return a.indexes.var.length===s.indexes.var.length&&a.indexes.color.length===s.indexes.color.length&&a.indexes.number.length>=s.indexes.number.length?HS.has(e)&&!s.values.length||HS.has(t)&&!a.values.length?Ice(e,t):R0(oz(Dce(a,s),s.values),r):j1(e,t)};function lz(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?_n(e,t,r):u3(e)(e,t)}const Fce=5;function cz(e,t,r){const a=Math.max(t-Fce,0);return DV(r-e(a),t-a)}const Fn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uN=.001;function Bce({duration:e=Fn.duration,bounce:t=Fn.bounce,velocity:r=Fn.velocity,mass:a=Fn.mass}){let s,i,o=1-t;o=hc(Fn.minDamping,Fn.maxDamping,o),e=hc(Fn.minDuration,Fn.maxDuration,Zl(e)),o<1?(s=u=>{const f=u*o,p=f*e,x=f-r,y=qS(u,o),j=Math.exp(-p);return uN-x/y*j},i=u=>{const p=u*o*e,x=p*r+r,y=Math.pow(o,2)*Math.pow(u,2)*e,j=Math.exp(-p),w=qS(Math.pow(u,2),o);return(-s(u)+uN>0?-1:1)*((x-y)*j)/w}):(s=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-uN+f*p},i=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const l=5/e,d=Vce(s,i,l);if(e=Ql(e),isNaN(d))return{stiffness:Fn.stiffness,damping:Fn.damping,duration:e};{const u=Math.pow(d,2)*a;return{stiffness:u,damping:o*2*Math.sqrt(a*u),duration:e}}}const $ce=12;function Vce(e,t,r){let a=r;for(let s=1;s<$ce;s++)a=a-e(a)/t(a);return a}function qS(e,t){return e*Math.sqrt(1-t*t)}const zce=["duration","bounce"],Uce=["stiffness","damping","mass"];function gI(e,t){return t.some(r=>e[r]!==void 0)}function Wce(e){let t={velocity:Fn.velocity,stiffness:Fn.stiffness,damping:Fn.damping,mass:Fn.mass,isResolvedFromDuration:!1,...e};if(!gI(e,Uce)&&gI(e,zce))if(e.visualDuration){const r=e.visualDuration,a=2*Math.PI/(r*1.2),s=a*a,i=2*hc(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Fn.mass,stiffness:s,damping:i}}else{const r=Bce(e);t={...t,...r,mass:Fn.mass},t.isResolvedFromDuration=!0}return t}function dz(e=Fn.visualDuration,t=Fn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:a,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:d,damping:u,mass:f,duration:p,velocity:x,isResolvedFromDuration:y}=Wce({...r,velocity:-Zl(r.velocity||0)}),j=x||0,w=u/(2*Math.sqrt(d*f)),C=o-i,N=Zl(Math.sqrt(d/f)),S=Math.abs(C)<5;a||(a=S?Fn.restSpeed.granular:Fn.restSpeed.default),s||(s=S?Fn.restDelta.granular:Fn.restDelta.default);let _;if(w<1){const T=qS(N,w);_=M=>{const O=Math.exp(-w*N*M);return o-O*((j+w*N*C)/T*Math.sin(T*M)+C*Math.cos(T*M))}}else if(w===1)_=T=>o-Math.exp(-N*T)*(C+(j+N*C)*T);else{const T=N*Math.sqrt(w*w-1);_=M=>{const O=Math.exp(-w*N*M),D=Math.min(T*M,300);return o-O*((j+w*N*C)*Math.sinh(D)+T*C*Math.cosh(D))/T}}const I={calculatedDuration:y&&p||null,next:T=>{const M=_(T);if(y)l.done=T>=p;else{let O=0;w<1&&(O=T===0?Ql(j):cz(_,T,M));const D=Math.abs(O)<=a,R=Math.abs(o-M)<=s;l.done=D&&R}return l.value=l.done?o:M,l},toString:()=>{const T=Math.min(TV(I),FS),M=_V(O=>I.next(T*O).value,T,30);return T+"ms "+M}};return I}function vI({keyframes:e,velocity:t=0,power:r=.8,timeConstant:a=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:d,restDelta:u=.5,restSpeed:f}){const p=e[0],x={done:!1,value:p},y=D=>l!==void 0&&D<l||d!==void 0&&D>d,j=D=>l===void 0?d:d===void 0||Math.abs(l-D)<Math.abs(d-D)?l:d;let w=r*t;const C=p+w,N=o===void 0?C:o(C);N!==C&&(w=N-p);const S=D=>-w*Math.exp(-D/a),_=D=>N+S(D),I=D=>{const R=S(D),V=_(D);x.done=Math.abs(R)<=u,x.value=x.done?N:V};let T,M;const O=D=>{y(x.value)&&(T=D,M=dz({keyframes:[x.value,j(x.value)],velocity:cz(_,D,x.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:D=>{let R=!1;return!M&&T===void 0&&(R=!0,I(D),O(D)),T!==void 0&&D>=T?M.next(D-T):(!R&&I(D),x)}}}const Hce=M0(.42,0,1,1),qce=M0(0,0,.58,1),uz=M0(.42,0,.58,1),Gce=e=>Array.isArray(e)&&typeof e[0]!="number",yI={linear:li,easeIn:Hce,easeInOut:uz,easeOut:qce,circIn:i3,circInOut:HV,circOut:WV,backIn:s3,backInOut:zV,backOut:VV,anticipate:UV},bI=e=>{if(J4(e)){DS(e.length===4);const[t,r,a,s]=e;return M0(t,r,a,s)}else if(typeof e=="string")return DS(yI[e]!==void 0),yI[e];return e};function Kce(e,t,r){const a=[],s=r||lz,i=e.length-1;for(let o=0;o<i;o++){let l=s(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||li:t;l=R0(d,l)}a.push(l)}return a}function Yce(e,t,{clamp:r=!0,ease:a,mixer:s}={}){const i=e.length;if(DS(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Kce(t,a,s),d=l.length,u=f=>{if(o&&f<e[0])return t[0];let p=0;if(d>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const x=um(e[p],e[p+1],f);return l[p](x)};return r?f=>u(hc(e[0],e[i-1],f)):u}function Xce(e,t){const r=e[e.length-1];for(let a=1;a<=t;a++){const s=um(0,t,a);e.push(_n(r,1,s))}}function Qce(e){const t=[0];return Xce(t,e.length-1),t}function Zce(e,t){return e.map(r=>r*t)}function Jce(e,t){return e.map(()=>t||uz).splice(0,e.length-1)}function N1({duration:e=300,keyframes:t,times:r,ease:a="easeInOut"}){const s=Gce(a)?a.map(bI):bI(a),i={done:!1,value:t[0]},o=Zce(r&&r.length===t.length?r:Qce(t),e),l=Yce(o,t,{ease:Array.isArray(s)?s:Jce(t,s)});return{calculatedDuration:e,next:d=>(i.value=l(d),i.done=d>=e,i)}}const ede=e=>{const t=({timestamp:r})=>e(r);return{start:()=>mn.update(t,!0),stop:()=>Td(t),now:()=>Ba.isProcessing?Ba.timestamp:ll.now()}},tde={decay:vI,inertia:vI,tween:N1,keyframes:N1,spring:dz},rde=e=>e/100;class h3 extends iz{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:r,motionValue:a,element:s,keyframes:i}=this.options,o=(s==null?void 0:s.KeyframeResolver)||d3,l=(d,u)=>this.onKeyframesResolved(d,u);this.resolver=new o(i,l,r,a,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=this.options,l=Z4(r)?r:tde[r]||N1;let d,u;l!==N1&&typeof t[0]!="number"&&(d=R0(rde,lz(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});i==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=TV(f));const{calculatedDuration:p}=f,x=p+s,y=x*(a+1)-s;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:d,calculatedDuration:p,resolvedDuration:x,totalDuration:y}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:a}=this;if(!a){const{keyframes:D}=this.options;return{done:!0,value:D[D.length-1]}}const{finalKeyframe:s,generator:i,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:d,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=a;if(this.startTime===null)return i.next(0);const{delay:x,repeat:y,repeatType:j,repeatDelay:w,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const N=this.currentTime-x*(this.speed>=0?1:-1),S=this.speed>=0?N<0:N>f;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let _=this.currentTime,I=i;if(y){const D=Math.min(this.currentTime,f)/p;let R=Math.floor(D),V=D%1;!V&&D>=1&&(V=1),V===1&&R--,R=Math.min(R,y+1),!!(R%2)&&(j==="reverse"?(V=1-V,w&&(V-=w/p)):j==="mirror"&&(I=o)),_=hc(0,1,V)*p}const T=S?{done:!1,value:d[0]}:I.next(_);l&&(T.value=l(T.value));let{done:M}=T;!S&&u!==null&&(M=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return O&&s!==void 0&&(T.value=Ww(d,this.options,s)),C&&C(T.value),O&&this.finish(),T}get duration(){const{resolved:t}=this;return t?Zl(t.calculatedDuration):0}get time(){return Zl(this.currentTime)}set time(t){t=Ql(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Zl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=ede,onPlay:r,startTime:a}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=a??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const nde=new Set(["opacity","clipPath","filter","transform"]);function ade(e,t,r,{delay:a=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeInOut",times:d}={}){const u={[t]:r};d&&(u.offset=d);const f=OV(l,s);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:a,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}const sde=L4(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),C1=10,ide=2e4;function ode(e){return Z4(e.type)||e.type==="spring"||!PV(e.ease)}function lde(e,t){const r=new h3({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let a={done:!1,value:e[0]};const s=[];let i=0;for(;!a.done&&i<ide;)a=r.sample(i),s.push(a.value),i+=C1;return{times:void 0,keyframes:s,duration:i-C1,ease:"linear"}}const hz={anticipate:UV,backInOut:zV,circInOut:HV};function cde(e){return e in hz}class wI extends iz{constructor(t){super(t);const{name:r,motionValue:a,element:s,keyframes:i}=this.options;this.resolver=new sz(i,(o,l)=>this.onKeyframesResolved(o,l),r,a,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:a=300,times:s,ease:i,type:o,motionValue:l,name:d,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof i=="string"&&w1()&&cde(i)&&(i=hz[i]),ode(this.options)){const{onComplete:p,onUpdate:x,motionValue:y,element:j,...w}=this.options,C=lde(t,w);t=C.keyframes,t.length===1&&(t[1]=t[0]),a=C.duration,s=C.times,i=C.ease,o="keyframes"}const f=ade(l.owner.current,d,t,{...this.options,duration:a,times:s,ease:i});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(aI(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(Ww(t,this.options,r)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:a,times:s,type:o,ease:i,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Zl(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Zl(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:a}=r;a.currentTime=Ql(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:a}=r;a.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return li;const{animation:a}=r;aI(a,t)}return li}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:a,duration:s,type:i,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:x,...y}=this.options,j=new h3({...y,keyframes:a,duration:s,type:i,ease:o,times:l,isGenerator:!0}),w=Ql(this.time);u.setWithVelocity(j.sample(w-C1).value,j.sample(w).value,C1)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:a,repeatDelay:s,repeatType:i,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:u}=r.owner.getProps();return sde()&&a&&nde.has(a)&&!d&&!u&&!s&&i!=="mirror"&&o!==0&&l!=="inertia"}}const dde={type:"spring",stiffness:500,damping:25,restSpeed:10},ude=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hde={type:"keyframes",duration:.8},fde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mde=(e,{keyframes:t})=>t.length>2?hde:bh.has(e)?e.startsWith("scale")?ude(t[1]):dde:fde;function pde({when:e,delay:t,delayChildren:r,staggerChildren:a,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:d,elapsed:u,...f}){return!!Object.keys(f).length}const f3=(e,t,r,a={},s,i)=>o=>{const l=Q4(a,e)||{},d=l.delay||a.delay||0;let{elapsed:u=0}=a;u=u-Ql(d);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:x=>{t.set(x),l.onUpdate&&l.onUpdate(x)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};pde(l)||(f={...f,...mde(e,f)}),f.duration&&(f.duration=Ql(f.duration)),f.repeatDelay&&(f.repeatDelay=Ql(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!i&&t.get()!==void 0){const x=Ww(f.keyframes,l);if(x!==void 0)return mn.update(()=>{f.onUpdate(x),f.onComplete()}),new Dle([])}return!i&&wI.supports(f)?new wI(f):new h3(f)};function xde({protectedKeys:e,needsAnimating:t},r){const a=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,a}function fz(e,t,{delay:r=0,transitionOverride:a,type:s}={}){var i;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...d}=t;a&&(o=a);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const p in d){const x=e.getValue(p,(i=e.latestValues[p])!==null&&i!==void 0?i:null),y=d[p];if(y===void 0||f&&xde(f,p))continue;const j={delay:r,...Q4(o||{},p)};let w=!1;if(window.MotionHandoffAnimation){const N=LV(e);if(N){const S=window.MotionHandoffAnimation(N,p,mn);S!==null&&(j.startTime=S,w=!0)}}$S(e,p),x.start(f3(p,x,y,e.shouldReduceMotion&&RV.has(p)?{type:!1}:j,e,w));const C=x.animation;C&&u.push(C)}return l&&Promise.all(u).then(()=>{mn.update(()=>{l&&a3(e,l)})}),u}function GS(e,t,r={}){var a;const s=Uw(e,t,r.type==="exit"?(a=e.presenceContext)===null||a===void 0?void 0:a.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const o=s?()=>Promise.all(fz(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:x}=i;return gde(e,t,f+u,p,x,r)}:()=>Promise.resolve(),{when:d}=i;if(d){const[u,f]=d==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(r.delay)])}function gde(e,t,r=0,a=0,s=1,i){const o=[],l=(e.variantChildren.size-1)*a,d=s===1?(u=0)=>u*a:(u=0)=>l-u*a;return Array.from(e.variantChildren).sort(vde).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(GS(u,t,{...i,delay:r+d(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function vde(e,t){return e.sortNodePosition(t)}function mz(e,t,r={}){e.notify("AnimationStart",t);let a;if(Array.isArray(t)){const s=t.map(i=>GS(e,i,r));a=Promise.all(s)}else if(typeof t=="string")a=GS(e,t,r);else{const s=typeof t=="function"?Uw(e,t,r.custom):t;a=Promise.all(fz(e,s,r))}return a.then(()=>{e.notify("AnimationComplete",t)})}const yde=B4.length;function pz(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?pz(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<yde;r++){const a=B4[r],s=e.props[a];(dg(s)||s===!1)&&(t[a]=s)}return t}const bde=[...F4].reverse(),wde=F4.length;function jde(e){return t=>Promise.all(t.map(({animation:r,options:a})=>mz(e,r,a)))}function Nde(e){let t=jde(e),r=jI(),a=!0;const s=d=>(u,f)=>{var p;const x=Uw(e,f,d==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(x){const{transition:y,transitionEnd:j,...w}=x;u={...u,...w,...j}}return u};function i(d){t=d(e)}function o(d){const{props:u}=e,f=pz(e.parent)||{},p=[],x=new Set;let y={},j=1/0;for(let C=0;C<wde;C++){const N=bde[C],S=r[N],_=u[N]!==void 0?u[N]:f[N],I=dg(_),T=N===d?S.isActive:null;T===!1&&(j=C);let M=_===f[N]&&_!==u[N]&&I;if(M&&a&&e.manuallyAnimateOnMount&&(M=!1),S.protectedKeys={...y},!S.isActive&&T===null||!_&&!S.prevProp||Vw(_)||typeof _=="boolean")continue;const O=Cde(S.prevProp,_);let D=O||N===d&&S.isActive&&!M&&I||C>j&&I,R=!1;const V=Array.isArray(_)?_:[_];let z=V.reduce(s(N),{});T===!1&&(z={});const{prevResolvedValues:B={}}=S,q={...B,...z},$=G=>{D=!0,x.has(G)&&(R=!0,x.delete(G)),S.needsAnimating[G]=!0;const Y=e.getValue(G);Y&&(Y.liveStyle=!1)};for(const G in q){const Y=z[G],te=B[G];if(y.hasOwnProperty(G))continue;let X=!1;LS(Y)&&LS(te)?X=!EV(Y,te):X=Y!==te,X?Y!=null?$(G):x.add(G):Y!==void 0&&x.has(G)?$(G):S.protectedKeys[G]=!0}S.prevProp=_,S.prevResolvedValues=z,S.isActive&&(y={...y,...z}),a&&e.blockInitialAnimation&&(D=!1),D&&(!(M&&O)||R)&&p.push(...V.map(G=>({animation:G,options:{type:N}})))}if(x.size){const C={};x.forEach(N=>{const S=e.getBaseTarget(N),_=e.getValue(N);_&&(_.liveStyle=!0),C[N]=S??null}),p.push({animation:C})}let w=!!p.length;return a&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(w=!1),a=!1,w?t(p):Promise.resolve()}function l(d,u){var f;if(r[d].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(x=>{var y;return(y=x.animationState)===null||y===void 0?void 0:y.setActive(d,u)}),r[d].isActive=u;const p=o(d);for(const x in r)r[x].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=jI(),a=!0}}}function Cde(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EV(t,e):!1}function tu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function jI(){return{animate:tu(!0),whileInView:tu(),whileHover:tu(),whileTap:tu(),whileDrag:tu(),whileFocus:tu(),exit:tu()}}class Wd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Sde extends Wd{constructor(t){super(t),t.animationState||(t.animationState=Nde(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let Ade=0;class Ede extends Wd{constructor(){super(...arguments),this.id=Ade++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Tde={animation:{Feature:Sde},exit:{Feature:Ede}};function mg(e,t,r,a={passive:!0}){return e.addEventListener(t,r,a),()=>e.removeEventListener(t,r)}function D0(e){return{point:{x:e.pageX,y:e.pageY}}}const _de=e=>t=>e3(t)&&e(t,D0(t));function Ex(e,t,r,a){return mg(e,t,_de(r),a)}const NI=(e,t)=>Math.abs(e-t);function Pde(e,t){const r=NI(e.x,t.x),a=NI(e.y,t.y);return Math.sqrt(r**2+a**2)}class xz{constructor(t,r,{transformPagePoint:a,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=fN(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,y=Pde(p.offset,{x:0,y:0})>=3;if(!x&&!y)return;const{point:j}=p,{timestamp:w}=Ba;this.history.push({...j,timestamp:w});const{onStart:C,onMove:N}=this.handlers;x||(C&&C(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=hN(x,this.transformPagePoint),mn.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:y,onSessionEnd:j,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=fN(p.type==="pointercancel"?this.lastMoveEventInfo:hN(x,this.transformPagePoint),this.history);this.startEvent&&y&&y(p,C),j&&j(p,C)},!e3(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=a,this.contextWindow=s||window;const o=D0(t),l=hN(o,this.transformPagePoint),{point:d}=l,{timestamp:u}=Ba;this.history=[{...d,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,fN(l,this.history)),this.removeListeners=R0(Ex(this.contextWindow,"pointermove",this.handlePointerMove),Ex(this.contextWindow,"pointerup",this.handlePointerUp),Ex(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Td(this.updatePoint)}}function hN(e,t){return t?{point:t(e.point)}:e}function CI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fN({point:e},t){return{point:e,delta:CI(e,gz(t)),offset:CI(e,Ode(t)),velocity:kde(t,.1)}}function Ode(e){return e[0]}function gz(e){return e[e.length-1]}function kde(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,a=null;const s=gz(e);for(;r>=0&&(a=e[r],!(s.timestamp-a.timestamp>Ql(t)));)r--;if(!a)return{x:0,y:0};const i=Zl(s.timestamp-a.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-a.x)/i,y:(s.y-a.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const vz=1e-4,Ide=1-vz,Mde=1+vz,yz=.01,Rde=0-yz,Dde=0+yz;function mi(e){return e.max-e.min}function Lde(e,t,r){return Math.abs(e-t)<=r}function SI(e,t,r,a=.5){e.origin=a,e.originPoint=_n(t.min,t.max,e.origin),e.scale=mi(r)/mi(t),e.translate=_n(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Ide&&e.scale<=Mde||isNaN(e.scale))&&(e.scale=1),(e.translate>=Rde&&e.translate<=Dde||isNaN(e.translate))&&(e.translate=0)}function Tx(e,t,r,a){SI(e.x,t.x,r.x,a?a.originX:void 0),SI(e.y,t.y,r.y,a?a.originY:void 0)}function AI(e,t,r){e.min=r.min+t.min,e.max=e.min+mi(t)}function Fde(e,t,r){AI(e.x,t.x,r.x),AI(e.y,t.y,r.y)}function EI(e,t,r){e.min=t.min-r.min,e.max=e.min+mi(t)}function _x(e,t,r){EI(e.x,t.x,r.x),EI(e.y,t.y,r.y)}function Bde(e,{min:t,max:r},a){return t!==void 0&&e<t?e=a?_n(t,e,a.min):Math.max(e,t):r!==void 0&&e>r&&(e=a?_n(r,e,a.max):Math.min(e,r)),e}function TI(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function $de(e,{top:t,left:r,bottom:a,right:s}){return{x:TI(e.x,r,s),y:TI(e.y,t,a)}}function _I(e,t){let r=t.min-e.min,a=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,a]=[a,r]),{min:r,max:a}}function Vde(e,t){return{x:_I(e.x,t.x),y:_I(e.y,t.y)}}function zde(e,t){let r=.5;const a=mi(e),s=mi(t);return s>a?r=um(t.min,t.max-a,e.min):a>s&&(r=um(e.min,e.max-s,t.min)),hc(0,1,r)}function Ude(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const KS=.35;function Wde(e=KS){return e===!1?e=0:e===!0&&(e=KS),{x:PI(e,"left","right"),y:PI(e,"top","bottom")}}function PI(e,t,r){return{min:OI(e,t),max:OI(e,r)}}function OI(e,t){return typeof e=="number"?e:e[t]||0}const kI=()=>({translate:0,scale:1,origin:0,originPoint:0}),lf=()=>({x:kI(),y:kI()}),II=()=>({min:0,max:0}),Hn=()=>({x:II(),y:II()});function Ai(e){return[e("x"),e("y")]}function bz({top:e,left:t,right:r,bottom:a}){return{x:{min:t,max:r},y:{min:e,max:a}}}function Hde({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function qde(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),a=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:a.y,right:a.x}}function mN(e){return e===void 0||e===1}function YS({scale:e,scaleX:t,scaleY:r}){return!mN(e)||!mN(t)||!mN(r)}function ou(e){return YS(e)||wz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wz(e){return MI(e.x)||MI(e.y)}function MI(e){return e&&e!=="0%"}function S1(e,t,r){const a=e-r,s=t*a;return r+s}function RI(e,t,r,a,s){return s!==void 0&&(e=S1(e,s,a)),S1(e,r,a)+t}function XS(e,t=0,r=1,a,s){e.min=RI(e.min,t,r,a,s),e.max=RI(e.max,t,r,a,s)}function jz(e,{x:t,y:r}){XS(e.x,t.translate,t.scale,t.originPoint),XS(e.y,r.translate,r.scale,r.originPoint)}const DI=.999999999999,LI=1.0000000000001;function Gde(e,t,r,a=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(a&&i.options.layoutScroll&&i.scroll&&i!==i.root&&df(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,jz(e,o)),a&&ou(i.latestValues)&&df(e,i.latestValues))}t.x<LI&&t.x>DI&&(t.x=1),t.y<LI&&t.y>DI&&(t.y=1)}function cf(e,t){e.min=e.min+t,e.max=e.max+t}function FI(e,t,r,a,s=.5){const i=_n(e.min,e.max,s);XS(e,t,r,i,a)}function df(e,t){FI(e.x,t.x,t.scaleX,t.scale,t.originX),FI(e.y,t.y,t.scaleY,t.scale,t.originY)}function Nz(e,t){return bz(qde(e.getBoundingClientRect(),t))}function Kde(e,t,r){const a=Nz(e,r),{scroll:s}=t;return s&&(cf(a.x,s.offset.x),cf(a.y,s.offset.y)),a}const Cz=({current:e})=>e?e.ownerDocument.defaultView:null,Yde=new WeakMap;class Xde{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(D0(f).point)},i=(f,p)=>{const{drag:x,dragPropagation:y,onDragStart:j}=this.getProps();if(x&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hle(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ai(C=>{let N=this.getAxisMotionValue(C).get()||0;if(ol.test(N)){const{projection:S}=this.visualElement;if(S&&S.layout){const _=S.layout.layoutBox[C];_&&(N=mi(_)*(parseFloat(N)/100))}}this.originPoint[C]=N}),j&&mn.postRender(()=>j(f,p)),$S(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:x,dragDirectionLock:y,onDirectionLock:j,onDrag:w}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=p;if(y&&this.currentDirection===null){this.currentDirection=Qde(C),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",p.point,C),this.updateAxis("y",p.point,C),this.visualElement.render(),w&&w(f,p)},l=(f,p)=>this.stop(f,p),d=()=>Ai(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new xz(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Cz(this.visualElement)})}stop(t,r){const a=this.isDragging;if(this.cancel(),!a)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&mn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,a){const{drag:s}=this.getProps();if(!a||!$v(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+a[t];this.constraints&&this.constraints[t]&&(o=Bde(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:a}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&sf(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=$de(s.layoutBox,r):this.constraints=!1,this.elastic=Wde(a),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ai(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ude(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!sf(t))return!1;const a=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Kde(a,s.root,this.visualElement.getTransformPagePoint());let o=Vde(s.layout.layoutBox,i);if(r){const l=r(Hde(o));this.hasMutatedConstraints=!!l,l&&(o=bz(l))}return o}startAnimation(t){const{drag:r,dragMomentum:a,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),d=this.constraints||{},u=Ai(f=>{if(!$v(f,r,this.currentDirection))return;let p=d&&d[f]||{};o&&(p={min:0,max:0});const x=s?200:1e6,y=s?40:1e7,j={type:"inertia",velocity:a?t[f]:0,bounceStiffness:x,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...p};return this.startAxisValueAnimation(f,j)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const a=this.getAxisMotionValue(t);return $S(this.visualElement,t),a.start(f3(t,a,0,r,this.visualElement,!1))}stopAnimation(){Ai(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ai(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,a=this.visualElement.getProps(),s=a[r];return s||this.visualElement.getValue(t,(a.initial?a.initial[t]:void 0)||0)}snapToCursor(t){Ai(r=>{const{drag:a}=this.getProps();if(!$v(r,a,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(t[r]-_n(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:a}=this.visualElement;if(!sf(r)||!a||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ai(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const d=l.get();s[o]=zde({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),Ai(o=>{if(!$v(o,t,null))return;const l=this.getAxisMotionValue(o),{min:d,max:u}=this.constraints[o];l.set(_n(d,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;Yde.set(this.visualElement,this);const t=this.visualElement.current,r=Ex(t,"pointerdown",d=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(d)}),a=()=>{const{dragConstraints:d}=this.getProps();sf(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",a);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),mn.read(a);const o=mg(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ai(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=d[f].translate,p.set(p.get()+d[f].translate))}),this.visualElement.render())});return()=>{o(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:a=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=KS,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:a,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function $v(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Qde(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Zde extends Wd{constructor(t){super(t),this.removeGroupControls=li,this.removeListeners=li,this.controls=new Xde(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||li}unmount(){this.removeGroupControls(),this.removeListeners()}}const BI=e=>(t,r)=>{e&&mn.postRender(()=>e(t,r))};class Jde extends Wd{constructor(){super(...arguments),this.removePointerDownListener=li}onPointerDown(t){this.session=new xz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:a,onPanEnd:s}=this.node.getProps();return{onSessionStart:BI(t),onStart:BI(r),onMove:a,onEnd:(i,o)=>{delete this.session,s&&mn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ex(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ty={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $I(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Bp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Lt.test(e))e=parseFloat(e);else return e;const r=$I(e,t.target.x),a=$I(e,t.target.y);return`${r}% ${a}%`}},eue={correct:(e,{treeScale:t,projectionDelta:r})=>{const a=e,s=_d.parse(e);if(s.length>5)return a;const i=_d.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,d=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=d;const u=_n(l,d,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class tue extends E.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a,layoutId:s}=this.props,{projection:i}=t;Cle(rue),i&&(r.group&&r.group.add(i),a&&a.register&&s&&a.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ty.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:a,drag:s,isPresent:i}=this.props,o=a.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||mn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),V4.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:a}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),a&&a.deregister&&a.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Sz(e){const[t,r]=lV(),a=E.useContext(I4);return n.jsx(tue,{...e,layoutGroup:a,switchLayoutGroup:E.useContext(mV),isPresent:t,safeToRemove:r})}const rue={borderRadius:{...Bp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Bp,borderTopRightRadius:Bp,borderBottomLeftRadius:Bp,borderBottomRightRadius:Bp,boxShadow:eue};function nue(e,t,r){const a=Ja(e)?e:hg(e);return a.start(f3("",a,t,r)),a.animation}function aue(e){return e instanceof SVGElement&&e.tagName!=="svg"}const sue=(e,t)=>e.depth-t.depth;class iue{constructor(){this.children=[],this.isDirty=!1}add(t){t3(this.children,t),this.isDirty=!0}remove(t){r3(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sue),this.isDirty=!1,this.children.forEach(t)}}function oue(e,t){const r=ll.now(),a=({timestamp:s})=>{const i=s-r;i>=t&&(Td(a),e(i-t))};return mn.read(a,!0),()=>Td(a)}const Az=["TopLeft","TopRight","BottomLeft","BottomRight"],lue=Az.length,VI=e=>typeof e=="string"?parseFloat(e):e,zI=e=>typeof e=="number"||Lt.test(e);function cue(e,t,r,a,s,i){s?(e.opacity=_n(0,r.opacity!==void 0?r.opacity:1,due(a)),e.opacityExit=_n(t.opacity!==void 0?t.opacity:1,0,uue(a))):i&&(e.opacity=_n(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,a));for(let o=0;o<lue;o++){const l=`border${Az[o]}Radius`;let d=UI(t,l),u=UI(r,l);if(d===void 0&&u===void 0)continue;d||(d=0),u||(u=0),d===0||u===0||zI(d)===zI(u)?(e[l]=Math.max(_n(VI(d),VI(u),a),0),(ol.test(u)||ol.test(d))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=_n(t.rotate||0,r.rotate||0,a))}function UI(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const due=Ez(0,.5,WV),uue=Ez(.5,.95,li);function Ez(e,t,r){return a=>a<e?0:a>t?1:r(um(e,t,a))}function WI(e,t){e.min=t.min,e.max=t.max}function ji(e,t){WI(e.x,t.x),WI(e.y,t.y)}function HI(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function qI(e,t,r,a,s){return e-=t,e=S1(e,1/r,a),s!==void 0&&(e=S1(e,1/s,a)),e}function hue(e,t=0,r=1,a=.5,s,i=e,o=e){if(ol.test(t)&&(t=parseFloat(t),t=_n(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=_n(i.min,i.max,a);e===i&&(l-=t),e.min=qI(e.min,t,r,l,s),e.max=qI(e.max,t,r,l,s)}function GI(e,t,[r,a,s],i,o){hue(e,t[r],t[a],t[s],t.scale,i,o)}const fue=["x","scaleX","originX"],mue=["y","scaleY","originY"];function KI(e,t,r,a){GI(e.x,t,fue,r?r.x:void 0,a?a.x:void 0),GI(e.y,t,mue,r?r.y:void 0,a?a.y:void 0)}function YI(e){return e.translate===0&&e.scale===1}function Tz(e){return YI(e.x)&&YI(e.y)}function XI(e,t){return e.min===t.min&&e.max===t.max}function pue(e,t){return XI(e.x,t.x)&&XI(e.y,t.y)}function QI(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _z(e,t){return QI(e.x,t.x)&&QI(e.y,t.y)}function ZI(e){return mi(e.x)/mi(e.y)}function JI(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class xue{constructor(){this.members=[]}add(t){t3(this.members,t),t.scheduleRender()}remove(t){if(r3(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let a;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){a=i;break}}return a?(this.promote(a),!0):!1}promote(t,r){const a=this.lead;if(t!==a&&(this.prevLead=a,this.lead=t,t.show(),a)){a.instance&&a.scheduleRender(),t.scheduleRender(),t.resumeFrom=a,r&&(t.resumeFrom.preserveOpacity=!0),a.snapshot&&(t.snapshot=a.snapshot,t.snapshot.latestValues=a.animationValues||a.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:a}=t;r.onExitComplete&&r.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gue(e,t,r){let a="";const s=e.x.translate/t.x,i=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(a=`translate3d(${s}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(a+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:x,skewX:y,skewY:j}=r;u&&(a=`perspective(${u}px) ${a}`),f&&(a+=`rotate(${f}deg) `),p&&(a+=`rotateX(${p}deg) `),x&&(a+=`rotateY(${x}deg) `),y&&(a+=`skewX(${y}deg) `),j&&(a+=`skewY(${j}deg) `)}const l=e.x.scale*t.x,d=e.y.scale*t.y;return(l!==1||d!==1)&&(a+=`scale(${l}, ${d})`),a||"none"}const lu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cx=typeof window<"u"&&window.MotionDebug!==void 0,pN=["","X","Y","Z"],vue={visibility:"hidden"},eM=1e3;let yue=0;function xN(e,t,r,a){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),a&&(a[e]=0))}function Pz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=LV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",mn,!(s||i))}const{parent:a}=e;a&&!a.hasCheckedOptimisedAppear&&Pz(a)}function Oz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:a,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=yue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cx&&(lu.totalNodes=lu.resolvedTargetDeltas=lu.recalculatedProjection=0),this.nodes.forEach(jue),this.nodes.forEach(Eue),this.nodes.forEach(Tue),this.nodes.forEach(Nue),cx&&window.MotionDebug.record(lu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new iue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new n3),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const d=this.eventHandlers.get(o);d&&d.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aue(o),this.instance=o;const{layoutId:d,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||d)&&(this.isLayoutDirty=!0),e){let p;const x=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=oue(x,250),Ty.hasAnimatedSinceResize&&(Ty.hasAnimatedSinceResize=!1,this.nodes.forEach(rM))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&f&&(d||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:y,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||f.getDefaultTransition()||Iue,{onLayoutAnimationStart:C,onLayoutAnimationComplete:N}=f.getProps(),S=!this.targetLayout||!_z(this.targetLayout,j)||y,_=!x&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||x&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,_);const I={...Q4(w,"layout"),onPlay:C,onComplete:N};(f.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else x||rM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Td(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_ue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Pz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:d}=this.options;if(l===void 0&&!d)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tM);return}this.isUpdating||this.nodes.forEach(Sue),this.isUpdating=!1,this.nodes.forEach(Aue),this.nodes.forEach(bue),this.nodes.forEach(wue),this.clearAllSnapshots();const l=ll.now();Ba.delta=hc(0,1e3/60,l-Ba.timestamp),Ba.timestamp=l,Ba.isProcessing=!0,iN.update.process(Ba),iN.preRender.process(Ba),iN.render.process(Ba),Ba.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,V4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Cue),this.sharedNodes.forEach(Pue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const d=a(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Tz(this.projectionDelta),d=this.getTransformTemplate(),u=d?d(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||ou(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let d=this.removeElementScroll(l);return o&&(d=this.removeTransform(d)),Mue(d),{animationId:this.root.animationId,measuredBox:l,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Hn();const d=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Rue))){const{scroll:f}=this.root;f&&(cf(d.x,f.offset.x),cf(d.y,f.offset.y))}return d}removeElementScroll(o){var l;const d=Hn();if(ji(d,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return d;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:x}=f;f!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&ji(d,o),cf(d.x,p.offset.x),cf(d.y,p.offset.y))}return d}applyTransform(o,l=!1){const d=Hn();ji(d,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&df(d,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),ou(f.latestValues)&&df(d,f.latestValues)}return ou(this.latestValues)&&df(d,this.latestValues),d}removeTransform(o){const l=Hn();ji(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];if(!u.instance||!ou(u.latestValues))continue;YS(u.latestValues)&&u.updateSnapshot();const f=Hn(),p=u.measurePageBox();ji(f,p),KI(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return ou(this.latestValues)&&KI(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ba.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=Ba.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),_x(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Fde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ji(this.target,this.layout.layoutBox),jz(this.target,this.targetDelta)):ji(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),_x(this.relativeTargetOrigin,this.target,y.target),ji(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cx&&lu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||YS(this.parent.latestValues)||wz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ba.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;ji(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;Gde(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Hn());const{target:j}=l;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(HI(this.prevProjectionDelta.x,this.projectionDelta.x),HI(this.prevProjectionDelta.y,this.projectionDelta.y)),Tx(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!JI(this.projectionDelta.x,this.prevProjectionDelta.x)||!JI(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),cx&&lu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lf(),this.projectionDelta=lf(),this.projectionDeltaWithTransform=lf()}setAnimationOrigin(o,l=!1){const d=this.snapshot,u=d?d.latestValues:{},f={...this.latestValues},p=lf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const x=Hn(),y=d?d.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,C=this.getStack(),N=!C||C.members.length<=1,S=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(kue));this.animationProgress=0;let _;this.mixTargetDelta=I=>{const T=I/1e3;nM(p.x,o.x,T),nM(p.y,o.y,T),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_x(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Oue(this.relativeTarget,this.relativeTargetOrigin,x,T),_&&pue(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Hn()),ji(_,this.relativeTarget)),w&&(this.animationValues=f,cue(f,u,this.latestValues,T,S,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Td(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=mn.update(()=>{Ty.hasAnimatedSinceResize=!0,this.currentAnimation=nue(0,eM,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:d,layout:u,latestValues:f}=o;if(!(!l||!d||!u)){if(this!==o&&this.layout&&u&&kz(this.options.animationType,this.layout.layoutBox,u.layoutBox)){d=this.target||Hn();const p=mi(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+p;const x=mi(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+x}ji(l,d),df(l,f),Tx(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new xue),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:d}={}){const u=this.getStack();u&&u.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(l=!0),!l)return;const u={};d.z&&xN("z",o,u,this.animationValues);for(let f=0;f<pN.length;f++)xN(`rotate${pN[f]}`,o,u,this.animationValues),xN(`skew${pN[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var l,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vue;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Ay(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Ay(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!ou(this.latestValues)&&(w.transform=f?f({},""):"none",this.hasProjected=!1),w}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=gue(this.projectionDeltaWithTransform,this.treeScale,x),f&&(u.transform=f(x,u.transform));const{x:y,y:j}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${j.origin*100}% 0`,p.animationValues?u.opacity=p===this?(d=(l=x.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:u.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const w in b1){if(x[w]===void 0)continue;const{correct:C,applyTo:N}=b1[w],S=u.transform==="none"?x[w]:C(x[w],p);if(N){const _=N.length;for(let I=0;I<_;I++)u[N[I]]=S}else u[w]=S}return this.options.layoutId&&(u.pointerEvents=p===this?Ay(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(tM),this.root.sharedNodes.clear()}}}function bue(e){e.updateLayout()}function wue(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:s}=e.layout,{animationType:i}=e.options,o=r.source!==e.layout.source;i==="size"?Ai(p=>{const x=o?r.measuredBox[p]:r.layoutBox[p],y=mi(x);x.min=a[p].min,x.max=x.min+y}):kz(i,r.layoutBox,a)&&Ai(p=>{const x=o?r.measuredBox[p]:r.layoutBox[p],y=mi(a[p]);x.max=x.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+y)});const l=lf();Tx(l,a,r.layoutBox);const d=lf();o?Tx(d,e.applyTransform(s,!0),r.measuredBox):Tx(d,a,r.layoutBox);const u=!Tz(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:y}=p;if(x&&y){const j=Hn();_x(j,r.layoutBox,x.layoutBox);const w=Hn();_x(w,a,y.layoutBox),_z(j,w)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:a,snapshot:r,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:a}=e.options;a&&a()}e.options.transition=void 0}function jue(e){cx&&lu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Nue(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Cue(e){e.clearSnapshot()}function tM(e){e.clearMeasurements()}function Sue(e){e.isLayoutDirty=!1}function Aue(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function rM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Eue(e){e.resolveTargetDelta()}function Tue(e){e.calcProjection()}function _ue(e){e.resetSkewAndRotation()}function Pue(e){e.removeLeadSnapshot()}function nM(e,t,r){e.translate=_n(t.translate,0,r),e.scale=_n(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function aM(e,t,r,a){e.min=_n(t.min,r.min,a),e.max=_n(t.max,r.max,a)}function Oue(e,t,r,a){aM(e.x,t.x,r.x,a),aM(e.y,t.y,r.y,a)}function kue(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Iue={duration:.45,ease:[.4,0,.1,1]},sM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),iM=sM("applewebkit/")&&!sM("chrome/")?Math.round:li;function oM(e){e.min=iM(e.min),e.max=iM(e.max)}function Mue(e){oM(e.x),oM(e.y)}function kz(e,t,r){return e==="position"||e==="preserve-aspect"&&!Lde(ZI(t),ZI(r),.2)}function Rue(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Due=Oz({attachResizeListener:(e,t)=>mg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gN={current:void 0},Iz=Oz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!gN.current){const e=new Due({});e.mount(window),e.setOptions({layoutScroll:!0}),gN.current=e}return gN.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lue={pan:{Feature:Jde},drag:{Feature:Zde,ProjectionNode:Iz,MeasureLayout:Sz}};function lM(e,t,r){const{props:a}=e;e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=a[s];i&&mn.postRender(()=>i(t,D0(t)))}class Fue extends Wd{mount(){const{current:t}=this.node;t&&(this.unmount=$le(t,r=>(lM(this.node,r,"Start"),a=>lM(this.node,a,"End"))))}unmount(){}}class Bue extends Wd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=R0(mg(this.node.current,"focus",()=>this.onFocus()),mg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function cM(e,t,r){const{props:a}=e;e.animationState&&a.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=a[s];i&&mn.postRender(()=>i(t,D0(t)))}class $ue extends Wd{mount(){const{current:t}=this.node;t&&(this.unmount=Wle(t,r=>(cM(this.node,r,"Start"),(a,{success:s})=>cM(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const QS=new WeakMap,vN=new WeakMap,Vue=e=>{const t=QS.get(e.target);t&&t(e)},zue=e=>{e.forEach(Vue)};function Uue({root:e,...t}){const r=e||document;vN.has(r)||vN.set(r,{});const a=vN.get(r),s=JSON.stringify(t);return a[s]||(a[s]=new IntersectionObserver(zue,{root:e,...t})),a[s]}function Wue(e,t,r){const a=Uue(t);return QS.set(e,r),a.observe(e),()=>{QS.delete(e),a.unobserve(e)}}const Hue={some:0,all:1};class que extends Wd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:a,amount:s="some",once:i}=t,o={root:r?r.current:void 0,rootMargin:a,threshold:typeof s=="number"?s:Hue[s]},l=d=>{const{isIntersecting:u}=d;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),x=u?f:p;x&&x(d)};return Wue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Gue(t,r))&&this.startObserver()}unmount(){}}function Gue({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Kue={inView:{Feature:que},tap:{Feature:$ue},focus:{Feature:Bue},hover:{Feature:Fue}},Yue={layout:{ProjectionNode:Iz,MeasureLayout:Sz}},ZS={current:null},Mz={current:!1};function Xue(){if(Mz.current=!0,!!R4)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ZS.current=e.matches;e.addListener(t),t()}else ZS.current=!1}const Que=[...az,Ya,_d],Zue=e=>Que.find(nz(e)),dM=new WeakMap;function Jue(e,t,r){for(const a in t){const s=t[a],i=r[a];if(Ja(s))e.addValue(a,s);else if(Ja(i))e.addValue(a,hg(s,{owner:e}));else if(i!==s)if(e.hasValue(a)){const o=e.getValue(a);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(a);e.addValue(a,hg(o!==void 0?o:s,{owner:e}))}}for(const a in r)t[a]===void 0&&e.removeValue(a);return t}const uM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ehe{scrapeMotionValuesFromProps(t,r,a){return{}}constructor({parent:t,props:r,presenceContext:a,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=d3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=ll.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,mn.render(this.render,!1,!0))};const{latestValues:d,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=a,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=zw(r),this.isVariantNode=hV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(r,{},this);for(const y in x){const j=x[y];d[y]!==void 0&&Ja(j)&&j.set(d[y],!1)}}mount(t){this.current=t,dM.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,a)=>this.bindToMotionValue(a,r)),Mz.current||Xue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ZS.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){dM.delete(this.current),this.projection&&this.projection.unmount(),Td(this.notifyUpdate),Td(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const a=bh.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&mn.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hm){const r=hm[t];if(!r)continue;const{isEnabled:a,Feature:s}=r;if(!this.features[t]&&s&&a(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let a=0;a<uM.length;a++){const s=uM[a];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=t[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Jue(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const a=this.values.get(t);r!==a&&(a&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let a=this.values.get(t);return a===void 0&&r!==void 0&&(a=hg(r===null?void 0:r,{owner:this}),this.addValue(t,a)),a}readValue(t,r){var a;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(a=this.getBaseTargetFromProps(this.props,t))!==null&&a!==void 0?a:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(tz(s)||qV(s))?s=parseFloat(s):!Zue(s)&&_d.test(r)&&(s=ZV(t,r)),this.setBaseTarget(t,Ja(s)?s.get():s)),Ja(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:a}=this.props;let s;if(typeof a=="string"||typeof a=="object"){const o=U4(this.props,a,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(a&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ja(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new n3),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Rz extends ehe{constructor(){super(...arguments),this.KeyframeResolver=sz}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:a}){delete r[t],delete a[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ja(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function the(e){return window.getComputedStyle(e)}class rhe extends Rz{constructor(){super(...arguments),this.type="html",this.renderInstance=wV}readValueFromInstance(t,r){if(bh.has(r)){const a=c3(r);return a&&a.default||0}else{const a=the(t),s=(vV(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Nz(t,r)}build(t,r,a){q4(t,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,r,a){return X4(t,r,a)}}class nhe extends Rz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(bh.has(r)){const a=c3(r);return a&&a.default||0}return r=jV.has(r)?r:$4(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,a){return SV(t,r,a)}build(t,r,a){G4(t,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,r,a,s){NV(t,r,a,s)}mount(t){this.isSVGTag=Y4(t.tagName),super.mount(t)}}const ahe=(e,t)=>z4(e)?new nhe(t):new rhe(t,{allowProjection:e!==E.Fragment}),she=Ile({...Tde,...Kue,...Lue,...Yue},ahe),Se=Koe(she);function ihe(e){e.values.forEach(t=>t.stop())}function JS(e,t){[...t].reverse().forEach(a=>{const s=e.getVariant(a);s&&a3(e,s),e.variantChildren&&e.variantChildren.forEach(i=>{JS(i,t)})})}function ohe(e,t){if(Array.isArray(t))return JS(e,t);if(typeof t=="string")return JS(e,[t]);a3(e,t)}function lhe(){const e=new Set,t={subscribe(r){return e.add(r),()=>void e.delete(r)},start(r,a){const s=[];return e.forEach(i=>{s.push(mz(i,r,{transitionOverride:a}))}),Promise.all(s)},set(r){return e.forEach(a=>{ohe(a,r)})},stop(){e.forEach(r=>{ihe(r)})},mount(){return()=>{t.stop()}}};return t}function che(){const e=Fw(lhe);return D4(e.mount,[]),e}const dhe=che;function Sr(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function pi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ds(e,t){const r=Sr(e);return isNaN(t)?pi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function Yi(e,t){const r=Sr(e);if(isNaN(t))return pi(e,NaN);if(!t)return r;const a=r.getDate(),s=pi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}const m3=6048e5,uhe=864e5;let hhe={};function L0(){return hhe}function vl(e,t){var l,d,u,f;const r=L0(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Sr(e),i=s.getDay(),o=(i<a?7:0)+i-a;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function eh(e){return vl(e,{weekStartsOn:1})}function Dz(e){const t=Sr(e),r=t.getFullYear(),a=pi(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const s=eh(a),i=pi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=eh(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function mm(e){const t=Sr(e);return t.setHours(0,0,0,0),t}function A1(e){const t=Sr(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Jo(e,t){const r=mm(e),a=mm(t),s=+r-A1(r),i=+a-A1(a);return Math.round((s-i)/uhe)}function fhe(e){const t=Dz(e),r=pi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),eh(r)}function eA(e,t){const r=t*7;return ds(e,r)}function mhe(e,t){return Yi(e,t*12)}function phe(e){let t;return e.forEach(function(r){const a=Sr(r);(t===void 0||t<a||isNaN(Number(a)))&&(t=a)}),t||new Date(NaN)}function xhe(e){let t;return e.forEach(r=>{const a=Sr(r);(!t||t>a||isNaN(+a))&&(t=a)}),t||new Date(NaN)}function ks(e,t){const r=mm(e),a=mm(t);return+r==+a}function p3(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ghe(e){if(!p3(e)&&typeof e!="number")return!1;const t=Sr(e);return!isNaN(Number(t))}function pg(e,t){const r=Sr(e),a=Sr(t),s=r.getFullYear()-a.getFullYear(),i=r.getMonth()-a.getMonth();return s*12+i}function vhe(e,t,r){const a=vl(e,r),s=vl(t,r),i=+a-A1(a),o=+s-A1(s);return Math.round((i-o)/m3)}function x3(e){const t=Sr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fs(e){const t=Sr(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Lz(e){const t=Sr(e),r=pi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}function g3(e,t){var l,d,u,f;const r=L0(),a=(t==null?void 0:t.weekStartsOn)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,s=Sr(e),i=s.getDay(),o=(i<a?-7:0)+6-(i-a);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function Fz(e){return g3(e,{weekStartsOn:1})}const yhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bhe=(e,t,r)=>{let a;const s=yhe[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Pf(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const whe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Che={date:Pf({formats:whe,defaultWidth:"full"}),time:Pf({formats:jhe,defaultWidth:"full"}),dateTime:Pf({formats:Nhe,defaultWidth:"full"})},She={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ahe=(e,t,r,a)=>She[e];function Qo(e){return(t,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let s;if(a==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Ehe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},The={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_he={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Phe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ohe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},khe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ihe=(e,t)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mhe={ordinalNumber:Ihe,era:Qo({values:Ehe,defaultWidth:"wide"}),quarter:Qo({values:The,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qo({values:_he,defaultWidth:"wide"}),day:Qo({values:Phe,defaultWidth:"wide"}),dayPeriod:Qo({values:Ohe,defaultWidth:"wide",formattingValues:khe,defaultFormattingWidth:"wide"})};function Zo(e){return(t,r={})=>{const a=r.width,s=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(l)?Dhe(l,p=>p.test(o)):Rhe(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function Rhe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Dhe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Bz(e){return(t,r={})=>{const a=t.match(e.matchPattern);if(!a)return null;const s=a[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Lhe=/^(\d+)(th|st|nd|rd)?/i,Fhe=/\d+/i,Bhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$he={any:[/^b/i,/^(a|c)/i]},Vhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zhe={any:[/1/i,/2/i,/3/i,/4/i]},Uhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Whe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ghe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Khe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yhe={ordinalNumber:Bz({matchPattern:Lhe,parsePattern:Fhe,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:Bhe,defaultMatchWidth:"wide",parsePatterns:$he,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:Vhe,defaultMatchWidth:"wide",parsePatterns:zhe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:Uhe,defaultMatchWidth:"wide",parsePatterns:Whe,defaultParseWidth:"any"}),day:Zo({matchPatterns:Hhe,defaultMatchWidth:"wide",parsePatterns:qhe,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:Ghe,defaultMatchWidth:"any",parsePatterns:Khe,defaultParseWidth:"any"})},ap={code:"en-US",formatDistance:bhe,formatLong:Che,formatRelative:Ahe,localize:Mhe,match:Yhe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xhe(e){const t=Sr(e);return Jo(t,Lz(t))+1}function $z(e){const t=Sr(e),r=+eh(t)-+fhe(t);return Math.round(r/m3)+1}function Vz(e,t){var f,p,x,y;const r=Sr(e),a=r.getFullYear(),s=L0(),i=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(x=s.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=pi(e,0);o.setFullYear(a+1,0,i),o.setHours(0,0,0,0);const l=vl(o,t),d=pi(e,0);d.setFullYear(a,0,i),d.setHours(0,0,0,0);const u=vl(d,t);return r.getTime()>=l.getTime()?a+1:r.getTime()>=u.getTime()?a:a-1}function Qhe(e,t){var l,d,u,f;const r=L0(),a=(t==null?void 0:t.firstWeekContainsDate)??((d=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,s=Vz(e,t),i=pi(e,0);return i.setFullYear(s,0,a),i.setHours(0,0,0,0),vl(i,t)}function zz(e,t){const r=Sr(e),a=+vl(r,t)-+Qhe(r,t);return Math.round(a/m3)+1}function Lr(e,t){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return r+a}const kc={y(e,t){const r=e.getFullYear(),a=r>0?r:1-r;return Lr(t==="yy"?a%100:a,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Lr(r+1,2)},d(e,t){return Lr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Lr(e.getHours()%12||12,t.length)},H(e,t){return Lr(e.getHours(),t.length)},m(e,t){return Lr(e.getMinutes(),t.length)},s(e,t){return Lr(e.getSeconds(),t.length)},S(e,t){const r=t.length,a=e.getMilliseconds(),s=Math.trunc(a*Math.pow(10,r-3));return Lr(s,t.length)}},$h={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hM={G:function(e,t,r){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const a=e.getFullYear(),s=a>0?a:1-a;return r.ordinalNumber(s,{unit:"year"})}return kc.y(e,t)},Y:function(e,t,r,a){const s=Vz(e,a),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return Lr(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Lr(i,t.length)},R:function(e,t){const r=Dz(e);return Lr(r,t.length)},u:function(e,t){const r=e.getFullYear();return Lr(r,t.length)},Q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Lr(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Lr(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){const a=e.getMonth();switch(t){case"M":case"MM":return kc.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Lr(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){const s=zz(e,a);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Lr(s,t.length)},I:function(e,t,r){const a=$z(e);return t==="Io"?r.ordinalNumber(a,{unit:"week"}):Lr(a,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):kc.d(e,t)},D:function(e,t,r){const a=Xhe(e);return t==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Lr(a,t.length)},E:function(e,t,r){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Lr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){const s=e.getDay(),i=(s-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Lr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const a=e.getDay(),s=a===0?7:a;switch(t){case"i":return String(s);case"ii":return Lr(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const a=e.getHours();let s;switch(a===12?s=$h.noon:a===0?s=$h.midnight:s=a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const a=e.getHours();let s;switch(a>=17?s=$h.evening:a>=12?s=$h.afternoon:a>=4?s=$h.morning:s=$h.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return kc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):kc.H(e,t)},K:function(e,t,r){const a=e.getHours()%12;return t==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Lr(a,t.length)},k:function(e,t,r){let a=e.getHours();return a===0&&(a=24),t==="ko"?r.ordinalNumber(a,{unit:"hour"}):Lr(a,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):kc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):kc.s(e,t)},S:function(e,t){return kc.S(e,t)},X:function(e,t,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return mM(a);case"XXXX":case"XX":return cu(a);case"XXXXX":case"XXX":default:return cu(a,":")}},x:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"x":return mM(a);case"xxxx":case"xx":return cu(a);case"xxxxx":case"xxx":default:return cu(a,":")}},O:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+fM(a,":");case"OOOO":default:return"GMT"+cu(a,":")}},z:function(e,t,r){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+fM(a,":");case"zzzz":default:return"GMT"+cu(a,":")}},t:function(e,t,r){const a=Math.trunc(e.getTime()/1e3);return Lr(a,t.length)},T:function(e,t,r){const a=e.getTime();return Lr(a,t.length)}};function fM(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Math.trunc(a/60),i=a%60;return i===0?r+String(s):r+String(s)+t+Lr(i,2)}function mM(e,t){return e%60===0?(e>0?"-":"+")+Lr(Math.abs(e)/60,2):cu(e,t)}function cu(e,t=""){const r=e>0?"-":"+",a=Math.abs(e),s=Lr(Math.trunc(a/60),2),i=Lr(a%60,2);return r+s+t+i}const pM=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Uz=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Zhe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],s=r[2];if(!s)return pM(e,t);let i;switch(a){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",pM(a,t)).replace("{{time}}",Uz(s,t))},Jhe={p:Uz,P:Zhe},efe=/^D+$/,tfe=/^Y+$/,rfe=["D","DD","YY","YYYY"];function nfe(e){return efe.test(e)}function afe(e){return tfe.test(e)}function sfe(e,t,r){const a=ife(e,t,r);if(console.warn(a),rfe.includes(e))throw new RangeError(a)}function ife(e,t,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ofe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lfe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cfe=/^'([^]*?)'?$/,dfe=/''/g,ufe=/[a-zA-Z]/;function Ot(e,t,r){var f,p,x,y,j,w,C,N;const a=L0(),s=(r==null?void 0:r.locale)??a.locale??ap,i=(r==null?void 0:r.firstWeekContainsDate)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(x=a.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(j=r==null?void 0:r.locale)==null?void 0:j.options)==null?void 0:w.weekStartsOn)??a.weekStartsOn??((N=(C=a.locale)==null?void 0:C.options)==null?void 0:N.weekStartsOn)??0,l=Sr(e);if(!ghe(l))throw new RangeError("Invalid time value");let d=t.match(lfe).map(S=>{const _=S[0];if(_==="p"||_==="P"){const I=Jhe[_];return I(S,s.formatLong)}return S}).join("").match(ofe).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const _=S[0];if(_==="'")return{isToken:!1,value:hfe(S)};if(hM[_])return{isToken:!0,value:S};if(_.match(ufe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:S}});s.localize.preprocessor&&(d=s.localize.preprocessor(l,d));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return d.map(S=>{if(!S.isToken)return S.value;const _=S.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&afe(_)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&nfe(_))&&sfe(_,t,String(e));const I=hM[_[0]];return I(l,_,s.localize,u)}).join("")}function hfe(e){const t=e.match(cfe);return t?t[1].replace(dfe,"'"):e}function ffe(e){const t=Sr(e),r=t.getFullYear(),a=t.getMonth(),s=pi(e,0);return s.setFullYear(r,a+1,0),s.setHours(0,0,0,0),s.getDate()}function mfe(e){return Math.trunc(+Sr(e)/1e3)}function pfe(e){const t=Sr(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t}function xfe(e,t){return vhe(pfe(e),Fs(e),t)+1}function tA(e,t){const r=Sr(e),a=Sr(t);return r.getTime()>a.getTime()}function Wz(e,t){const r=Sr(e),a=Sr(t);return+r<+a}function v3(e,t){const r=Sr(e),a=Sr(t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function gfe(e,t){const r=Sr(e),a=Sr(t);return r.getFullYear()===a.getFullYear()}function _y(e,t){return ds(e,-t)}function yN(e,t){const r=Sr(e),a=r.getFullYear(),s=r.getDate(),i=pi(e,0);i.setFullYear(a,t,15),i.setHours(0,0,0,0);const o=ffe(i);return r.setMonth(t,Math.min(s,o)),r}function xM(e,t){const r=Sr(e);return isNaN(+r)?pi(e,NaN):(r.setFullYear(t),r)}function bN(e,t){return Yi(e,-t)}function vfe(){var w;const{toast:e}=rr(),[t,r]=E.useState(!1),{data:a,isLoading:s,error:i}=Nt({queryKey:["/api/notifications"],queryFn:async()=>(await St("GET","/api/notifications")).json(),refetchInterval:3e4}),o=Zt({mutationFn:async C=>{await St("PATCH",`/api/notifications/${C}/read`)},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/notifications"]})},onError:()=>{e({title:"Erro",description:"Não foi possível marcar a notificação como lida",variant:"destructive"})}}),l=Zt({mutationFn:async()=>{await St("PATCH","/api/notifications/mark-all-read")},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/notifications"]}),e({title:"Sucesso",description:"Todas as notificações foram marcadas como lidas"})},onError:()=>{e({title:"Erro",description:"Não foi possível marcar as notificações como lidas",variant:"destructive"})}}),d=Zt({mutationFn:async C=>{await St("DELETE",`/api/notifications/${C}`)},onSuccess:()=>{Ut.invalidateQueries({queryKey:["/api/notifications"]})},onError:()=>{e({title:"Erro",description:"Não foi possível excluir a notificação",variant:"destructive"})}}),u=C=>{o.mutate(C)},f=C=>{d.mutate(C)},p=()=>{l.mutate()};E.useEffect(()=>{(o.isSuccess||d.isSuccess)&&setTimeout(()=>{r(!1)},300)},[o.isSuccess,d.isSuccess]);const x=(a==null?void 0:a.unreadCount)||0,y=C=>{switch(C){case"transaction":return n.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:n.jsx(ki,{className:"h-4 w-4 text-green-500"})});case"cashback":return n.jsx("div",{className:"bg-green-100 p-2 rounded-full",children:n.jsx(ki,{className:"h-4 w-4 text-green-500"})});case"transfer":return n.jsx("div",{className:"bg-blue-100 p-2 rounded-full",children:n.jsx(ki,{className:"h-4 w-4 text-blue-500"})});case"referral":return n.jsx("div",{className:"bg-purple-100 p-2 rounded-full",children:n.jsx(ki,{className:"h-4 w-4 text-purple-500"})});case"system":return n.jsx("div",{className:"bg-amber-100 p-2 rounded-full",children:n.jsx(ki,{className:"h-4 w-4 text-amber-500"})});default:return n.jsx("div",{className:"bg-gray-100 p-2 rounded-full",children:n.jsx(ki,{className:"h-4 w-4 text-gray-500"})})}},j=C=>{try{const N=new Date(C);return Ot(N,"dd/MM/yyyy HH:mm")}catch{return C}};return n.jsxs(ep,{open:t,onOpenChange:r,children:[n.jsx(tp,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"relative","aria-label":"Notificações",children:x>0?n.jsxs(n.Fragment,{children:[n.jsx(pte,{className:"h-5 w-5 text-white"}),n.jsx(xt,{className:"absolute -top-1 -right-1 px-1.5 min-w-5 h-5 flex items-center justify-center",variant:"destructive",children:x>99?"99+":x})]}):n.jsx(ki,{className:"h-5 w-5 text-white"})})}),n.jsxs(yh,{className:"w-80 p-0 max-h-[90vh]",align:"end",children:[n.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[n.jsx("h2",{className:"text-lg font-semibold",children:"Notificações"}),(((w=a==null?void 0:a.notifications)==null?void 0:w.length)||0)>0&&n.jsx(J,{variant:"ghost",size:"sm",onClick:p,disabled:l.isPending||x===0,children:l.isPending?n.jsx(lt,{className:"h-4 w-4 animate-spin"}):"Marcar todas como lidas"})]}),n.jsx(Lw,{className:"h-[50vh] md:h-[40vh]",children:s?n.jsx("div",{className:"flex items-center justify-center p-4",children:n.jsx(lt,{className:"h-6 w-6 animate-spin text-primary"})}):i?n.jsx("div",{className:"p-4 text-center text-destructive",children:"Erro ao carregar notificações"}):a!=null&&a.notifications?a.notifications.length===0?n.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Você não tem notificações"}):n.jsx(cg,{mode:"popLayout",children:a.notifications.map(C=>n.jsx(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`border-b last:border-0 ${C.read?"":"bg-secondary/20"}`,children:n.jsxs(Iw,{children:[n.jsxs("div",{className:"flex items-start p-4 gap-3 relative",children:[y(C.type),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-medium text-sm",children:C.title}),n.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:C.message}),n.jsx("span",{className:"text-[10px] text-muted-foreground",children:j(C.created_at)})]}),n.jsx(Mw,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",className:"h-8 w-8 absolute top-2 right-2 opacity-50 hover:opacity-100",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("circle",{cx:"12",cy:"12",r:"1"}),n.jsx("circle",{cx:"19",cy:"12",r:"1"}),n.jsx("circle",{cx:"5",cy:"12",r:"1"})]})})})]}),n.jsx(O0,{align:"end",className:"w-48",children:n.jsxs(Gie,{children:[!C.read&&n.jsxs(Ju,{onClick:()=>u(C.id),disabled:o.isPending,children:[o.isPending?n.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsxs("svg",{className:"h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M12 20h9"}),n.jsx("path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z"})]}),"Marcar como lida"]}),n.jsxs(Ju,{onClick:()=>f(C.id),disabled:d.isPending,className:"text-destructive",children:[d.isPending?n.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsxs("svg",{className:"h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M3 6h18"}),n.jsx("path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}),n.jsx("path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"})]}),"Excluir"]})]})})]})},C.id))}):n.jsx("div",{className:"p-6 text-center text-muted-foreground",children:"Falha ao carregar notificações"})})]})]})}function _t({children:e,title:t,type:r}){const[a,s]=E.useState(!1),{user:i,logout:o}=Oa(),{t:l}=bs();E.useEffect(()=>{if(t){let f=t;const p={Vendas:l("common.Vendas"),"Registro de Vendas":l("common.Registro de Vendas"),Transações:l("common.Transações"),"Histórico de Transações":l("common.Histórico de Transações"),"Gerar QR Code":l("common.Gerar QR Code"),"QR Code de Pagamento":l("common.QR Code de Pagamento"),Referrals:l("common.Referrals"),Indicações:l("common.Indicações")};p[t]?f=p[t]:f=l(`common.${t}`)!==`common.${t}`?l(`common.${t}`):l(t)!==t?l(t):t,document.title=`${f} | Vale Cashback`}},[t,l]);const d=(f="")=>f.split(" ").map(p=>p[0]).slice(0,2).join("").toUpperCase(),u={name:(i==null?void 0:i.name)||"Usuário de Teste",photo:(i==null?void 0:i.photo)||void 0,extraInfo:r==="merchant"?"Taxa de comissão: 1%":void 0,status:(i==null?void 0:i.status)||"active"};return n.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[n.jsx(jd,{children:n.jsxs("title",{children:[l(`common.${t}`)!==`common.${t}`?l(`common.${t}`):l(t)!==t?l(t):t," | Vale Cashback"]})}),n.jsxs("header",{className:"bg-gradient-to-r from-green-600 to-green-500 text-white py-3 px-4 flex justify-between items-center sticky top-0 z-30 shadow-md",style:{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(joe,{onClick:()=>s(!a)}),n.jsx("div",{className:"flex items-center",children:n.jsx("img",{src:"/valecashback-logo-white-text.png",alt:"Vale Cashback",className:"h-8 w-auto ml-2 md:ml-3",style:{filter:"brightness(0) invert(1)"}})})]}),n.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[n.jsx("div",{className:"hidden md:block",children:n.jsx(A$,{})}),n.jsx(vfe,{}),n.jsxs(Iw,{children:[n.jsx(Mw,{asChild:!0,children:n.jsx(J,{variant:"ghost",className:"relative h-9 w-9 rounded-full overflow-hidden border-2 border-white/40 hover:border-white/80 transition-all duration-200 p-0",children:n.jsxs(ra,{className:"h-full w-full",children:[n.jsx(ga,{src:(i==null?void 0:i.photo)||void 0,alt:i==null?void 0:i.name}),n.jsx(na,{className:"bg-green-700 text-white",children:d(i==null?void 0:i.name)})]})})}),n.jsxs(O0,{className:"w-64 mt-1 p-1 rounded-xl shadow-lg border border-gray-200",align:"end",forceMount:!0,children:[n.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-green-50 to-green-100 rounded-lg mb-1",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ra,{className:"h-10 w-10 border-2 border-white shadow-sm",children:[n.jsx(ga,{src:(i==null?void 0:i.photo)||void 0,alt:i==null?void 0:i.name}),n.jsx(na,{className:"bg-green-600 text-white",children:d(i==null?void 0:i.name)})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("p",{className:"text-sm font-medium text-gray-800",children:i==null?void 0:i.name}),n.jsx("p",{className:"text-xs text-gray-500",children:i==null?void 0:i.email})]})]})}),n.jsxs(Ju,{className:"rounded-lg py-2.5 my-1 cursor-pointer flex items-center",onClick:()=>{r==="client"?window.location.href="/client/profile":r==="merchant"?window.location.href="/merchant/profile":window.location.href="/admin/profile"},children:[n.jsx(ir,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:l("common.profile")})]}),n.jsx(S4,{className:"my-1"}),n.jsxs(Ju,{className:"rounded-lg py-2.5 text-red-600 cursor-pointer flex items-center",onClick:()=>o(),children:[n.jsx(fw,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:l("common.logout")})]})]})]})]})]}),n.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[n.jsx(woe,{type:r,userInfo:u,open:a,onOpenChange:s}),n.jsx("main",{className:"flex-1 overflow-auto p-4 md:p-6 bg-gray-50",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 md:mb-8",children:n.jsxs("div",{children:[n.jsxs("div",{className:"text-sm text-gray-500 mb-1 hidden md:flex items-center",children:[n.jsx("span",{className:"capitalize",children:r}),n.jsx("span",{className:"mx-2",children:"•"}),n.jsx("span",{children:l("common.dashboard")})]}),n.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 flex items-center",children:l(t)||t})]})}),n.jsx("div",{className:"animate-fadeIn",children:e})]})})]})]})}var y3="Tabs",[yfe,EBe]=va(y3,[Jm]),Hz=Jm(),[bfe,b3]=yfe(y3),qz=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:d="automatic",...u}=e,f=xh(l),[p,x]=zs({prop:a,onChange:s,defaultProp:i});return n.jsx(bfe,{scope:r,baseId:ii(),value:p,onValueChange:x,orientation:o,dir:f,activationMode:d,children:n.jsx(ht.div,{dir:f,"data-orientation":o,...u,ref:t})})});qz.displayName=y3;var Gz="TabsList",Kz=E.forwardRef((e,t)=>{const{__scopeTabs:r,loop:a=!0,...s}=e,i=b3(Gz,r),o=Hz(r);return n.jsx(p4,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:a,children:n.jsx(ht.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Kz.displayName=Gz;var Yz="TabsTrigger",Xz=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,disabled:s=!1,...i}=e,o=b3(Yz,r),l=Hz(r),d=Jz(o.baseId,a),u=eU(o.baseId,a),f=a===o.value;return n.jsx(x4,{asChild:!0,...l,focusable:!s,active:f,children:n.jsx(ht.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:ze(e.onMouseDown,p=>{!s&&p.button===0&&p.ctrlKey===!1?o.onValueChange(a):p.preventDefault()}),onKeyDown:ze(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(a)}),onFocus:ze(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!s&&p&&o.onValueChange(a)})})})});Xz.displayName=Yz;var Qz="TabsContent",Zz=E.forwardRef((e,t)=>{const{__scopeTabs:r,value:a,forceMount:s,children:i,...o}=e,l=b3(Qz,r),d=Jz(l.baseId,a),u=eU(l.baseId,a),f=a===l.value,p=E.useRef(f);return E.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),n.jsx(sa,{present:s||f,children:({present:x})=>n.jsx(ht.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":d,hidden:!x,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&i})})});Zz.displayName=Qz;function Jz(e,t){return`${e}-trigger-${t}`}function eU(e,t){return`${e}-content-${t}`}var wfe=qz,tU=Kz,rU=Xz,nU=Zz;const Dr=wfe,Pr=E.forwardRef(({className:e,...t},r)=>n.jsx(tU,{ref:r,className:Ue("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Pr.displayName=tU.displayName;const $e=E.forwardRef(({className:e,...t},r)=>n.jsx(rU,{ref:r,className:Ue("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));$e.displayName=rU.displayName;const Ze=E.forwardRef(({className:e,...t},r)=>n.jsx(nU,{ref:r,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ze.displayName=nU.displayName;const ne=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));ne.displayName="Card";const de=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("flex flex-col space-y-1.5 p-6",e),...t}));de.displayName="CardHeader";const ue=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("text-2xl font-semibold leading-none tracking-tight",e),...t}));ue.displayName="CardTitle";const Re=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));Re.displayName="CardDescription";const ae=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("p-6 pt-0",e),...t}));ae.displayName="CardContent";const jr=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("flex items-center p-6 pt-0",e),...t}));jr.displayName="CardFooter";function du({className:e,...t}){return n.jsx("div",{className:Ue("animate-pulse rounded-md bg-muted",e),...t})}function jfe(){const{user:e}=Oa(),t=toe(),{data:r,isLoading:a}=Nt({queryKey:["/api/client/dashboard"],enabled:!!e}),s=[{id:1,storeName:"Supermercado Boa Compra",amount:3.45,percentage:2,date:Ot(new Date(2025,4,5),"dd/MM/yyyy"),status:"completed"},{id:2,storeName:"Farmácia Saúde",amount:1.2,percentage:1.5,date:Ot(new Date(2025,4,4),"dd/MM/yyyy"),status:"completed"},{id:3,storeName:"Loja de Eletrônicos TechShop",amount:12.99,percentage:2,date:Ot(new Date(2025,4,3),"dd/MM/yyyy"),status:"completed"},{id:4,storeName:"Restaurante Sabor Especial",amount:2.5,percentage:2.5,date:Ot(new Date(2025,4,2),"dd/MM/yyyy"),status:"completed"},{id:5,storeName:"Posto de Combustível Rápido",amount:5,percentage:1,date:Ot(new Date(2025,4,1),"dd/MM/yyyy"),status:"pending"}];return t?n.jsxs("div",{className:"space-y-6",children:[n.jsx(ne,{className:"bg-primary text-primary-foreground",children:n.jsx(ae,{className:"py-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(uk,{className:"h-12 w-12"}),n.jsx("h3",{className:"text-lg",children:"Saldo de Cashback"}),a?n.jsx(du,{className:"h-10 w-32 bg-primary-foreground/20"}):n.jsxs("p",{className:"text-3xl font-bold",children:["$ ",((r==null?void 0:r.cashbackBalance)||0).toFixed(2)]})]})})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"py-4",children:n.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[n.jsx(Mr,{className:"h-6 w-6 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium",children:"Ganho este mês"}),a?n.jsx(du,{className:"h-6 w-16"}):n.jsxs("p",{className:"text-xl font-bold",children:["$ ",((r==null?void 0:r.earnedThisMonth)||0).toFixed(2)]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"py-4",children:n.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[n.jsx(Xl,{className:"h-6 w-6 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium",children:"Total acumulado"}),a?n.jsx(du,{className:"h-6 w-16"}):n.jsxs("p",{className:"text-xl font-bold",children:["$ ",((r==null?void 0:r.totalCashbackEarned)||0).toFixed(2)]})]})})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Histórico de Cashback"})}),n.jsx(ae,{className:"p-0",children:n.jsxs(Dr,{defaultValue:"all",children:[n.jsx("div",{className:"px-4",children:n.jsxs(Pr,{className:"w-full",children:[n.jsx($e,{value:"all",className:"flex-1",children:"Todos"}),n.jsx($e,{value:"pending",className:"flex-1",children:"Pendentes"}),n.jsx($e,{value:"completed",className:"flex-1",children:"Aprovados"})]})}),n.jsx(Ze,{value:"all",className:"m-0 p-0",children:n.jsx("div",{className:"divide-y",children:s.map(i=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:i.storeName}),n.jsxs("div",{className:"font-medium text-green-600",children:["+$ ",i.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{children:[i.date," • ",i.percentage,"%"]}),n.jsx("div",{className:i.status==="completed"?"text-green-600":"text-amber-600",children:i.status==="completed"?"Aprovado":"Pendente"})]})]},i.id))})}),n.jsx(Ze,{value:"pending",className:"m-0 p-0",children:n.jsx("div",{className:"divide-y",children:s.filter(i=>i.status==="pending").map(i=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:i.storeName}),n.jsxs("div",{className:"font-medium text-green-600",children:["+$ ",i.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{children:[i.date," • ",i.percentage,"%"]}),n.jsx("div",{className:"text-amber-600",children:"Pendente"})]})]},i.id))})}),n.jsx(Ze,{value:"completed",className:"m-0 p-0",children:n.jsx("div",{className:"divide-y",children:s.filter(i=>i.status==="completed").map(i=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:i.storeName}),n.jsxs("div",{className:"font-medium text-green-600",children:["+$ ",i.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{children:[i.date," • ",i.percentage,"%"]}),n.jsx("div",{className:"text-green-600",children:"Aprovado"})]})]},i.id))})})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Como Funciona o Cashback"})}),n.jsxs(ae,{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"O Vale Cashback oferece retorno em dinheiro de 2% em todas as compras realizadas em lojas participantes."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"O cashback é calculado automaticamente e adicionado ao seu saldo, podendo ser utilizado para transferências ou novas compras."}),n.jsxs(J,{variant:"outline",className:"w-full mt-2",children:[n.jsx("span",{children:"Ver lojas participantes"}),n.jsx(_o,{className:"h-4 w-4 ml-2"})]})]})]})]}):n.jsx(_t,{title:"Meu Cashback",type:"client",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx(ne,{className:"bg-primary text-primary-foreground",children:n.jsx(ae,{className:"py-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(uk,{className:"h-12 w-12"}),n.jsx("h3",{className:"text-lg",children:"Saldo de Cashback"}),a?n.jsx(du,{className:"h-10 w-32 bg-primary-foreground/20"}):n.jsxs("p",{className:"text-3xl font-bold",children:["$ ",((r==null?void 0:r.cashbackBalance)||0).toFixed(2)]})]})})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"py-4",children:n.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[n.jsx(Mr,{className:"h-6 w-6 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium",children:"Ganho este mês"}),a?n.jsx(du,{className:"h-6 w-16"}):n.jsxs("p",{className:"text-xl font-bold",children:["$ ",((r==null?void 0:r.earnedThisMonth)||0).toFixed(2)]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"py-4",children:n.jsxs("div",{className:"flex flex-col items-center space-y-1",children:[n.jsx(Xl,{className:"h-6 w-6 text-muted-foreground"}),n.jsx("h3",{className:"text-sm font-medium",children:"Total acumulado"}),a?n.jsx(du,{className:"h-6 w-16"}):n.jsxs("p",{className:"text-xl font-bold",children:["$ ",((r==null?void 0:r.totalCashbackEarned)||0).toFixed(2)]})]})})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Histórico de Cashback"})}),n.jsx(ae,{className:"p-0",children:n.jsxs(Dr,{defaultValue:"all",children:[n.jsx("div",{className:"px-4",children:n.jsxs(Pr,{className:"w-full",children:[n.jsx($e,{value:"all",className:"flex-1",children:"Todos"}),n.jsx($e,{value:"pending",className:"flex-1",children:"Pendentes"}),n.jsx($e,{value:"completed",className:"flex-1",children:"Aprovados"})]})}),n.jsx(Ze,{value:"all",className:"m-0 p-0",children:n.jsx("div",{className:"divide-y",children:s.map(i=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:i.storeName}),n.jsxs("div",{className:"font-medium text-green-600",children:["+$ ",i.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{children:[i.date," • ",i.percentage,"%"]}),n.jsx("div",{className:i.status==="completed"?"text-green-600":"text-amber-600",children:i.status==="completed"?"Aprovado":"Pendente"})]})]},i.id))})}),n.jsx(Ze,{value:"pending",className:"m-0 p-0",children:n.jsx("div",{className:"divide-y",children:s.filter(i=>i.status==="pending").map(i=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:i.storeName}),n.jsxs("div",{className:"font-medium text-green-600",children:["+$ ",i.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{children:[i.date," • ",i.percentage,"%"]}),n.jsx("div",{className:"text-amber-600",children:"Pendente"})]})]},i.id))})}),n.jsx(Ze,{value:"completed",className:"m-0 p-0",children:n.jsx("div",{className:"divide-y",children:s.filter(i=>i.status==="completed").map(i=>n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:i.storeName}),n.jsxs("div",{className:"font-medium text-green-600",children:["+$ ",i.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{children:[i.date," • ",i.percentage,"%"]}),n.jsx("div",{className:"text-green-600",children:"Aprovado"})]})]},i.id))})})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Como Funciona o Cashback"})}),n.jsxs(ae,{className:"space-y-2",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"O Vale Cashback oferece retorno em dinheiro de 2% em todas as compras realizadas em lojas participantes."}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"O cashback é calculado automaticamente e adicionado ao seu saldo, podendo ser utilizado para transferências ou novas compras."}),n.jsxs(J,{variant:"outline",className:"w-full mt-2",children:[n.jsx("span",{children:"Ver lojas participantes"}),n.jsx(_o,{className:"h-4 w-4 ml-2"})]})]})]})]})})}function Nfe(){var y,j;const[e]=Fd(),{user:t,logout:r}=Oa(),[a,s]=E.useState([]),i=w=>{s(C=>C.includes(w)?C.filter(N=>N!==w):[...C,w])},o=[{title:"Dashboard",href:"/client/dashboard",icon:n.jsx(Yl,{className:"h-5 w-5"}),description:"Visão geral da conta"},{title:"Transações",href:"/client/transactions",icon:n.jsx(Xl,{className:"h-5 w-5"}),description:"Histórico de compras"},{title:"Cashback",href:"/client/cashbacks",icon:n.jsx(Hr,{className:"h-5 w-5"}),description:"Seus ganhos"},{title:"QR Code",href:"/client/qr-code",icon:n.jsx(Pn,{className:"h-5 w-5"}),description:"Pagar com QR"},{title:"Scanner",href:"/client/scanner",icon:n.jsx(bo,{className:"h-5 w-5"}),description:"Escanear códigos"},{title:"Transferências",href:"/client/transfers",icon:n.jsx(ck,{className:"h-5 w-5"}),description:"Enviar e receber"},{title:"Indicações",href:"/client/referrals",icon:n.jsx(sl,{className:"h-5 w-5"}),description:"Convide amigos"},{title:"Lojas",href:"/client/stores",icon:n.jsx(Cr,{className:"h-5 w-5"}),description:"Parceiros disponíveis"},{title:"Perfil",href:"/client/profile",icon:n.jsx(yo,{className:"h-5 w-5"}),description:"Configurações"}],l=[{title:"Dashboard",href:"/merchant/dashboard",icon:n.jsx(Yl,{className:"h-5 w-5"}),description:"Visão geral das vendas"},{title:"Vendas",href:"/merchant/sales",icon:n.jsx(pd,{className:"h-5 w-5"}),description:"Gerenciar vendas"},{title:"QR Codes",href:"/merchant/qr-codes",icon:n.jsx(Pn,{className:"h-5 w-5"}),description:"Gerar códigos de pagamento"},{title:"Transações",href:"/merchant/transactions",icon:n.jsx(Xl,{className:"h-5 w-5"}),description:"Histórico de transações"},{title:"Clientes",href:"/merchant/customers",icon:n.jsx(Qt,{className:"h-5 w-5"}),description:"Base de clientes"},{title:"Produtos",href:"/merchant/products",icon:n.jsx(Ui,{className:"h-5 w-5"}),description:"Catálogo de produtos"},{title:"Relatórios",href:"/merchant/reports",icon:n.jsx(lc,{className:"h-5 w-5"}),description:"Analytics e métricas"},{title:"Saques",href:"/merchant/withdrawals",icon:n.jsx(ta,{className:"h-5 w-5"}),description:"Solicitar saques"},{title:"Configurações",href:"/merchant/settings",icon:n.jsx(yo,{className:"h-5 w-5"}),description:"Configurar loja"}],d=[{title:"Dashboard",href:"/admin/dashboard",icon:n.jsx(Yl,{className:"h-5 w-5"}),description:"Visão geral do sistema"},{title:"Usuários",href:"/admin/users",icon:n.jsx(Qt,{className:"h-5 w-5"}),description:"Gerenciar usuários",children:[{title:"Todos os Usuários",href:"/admin/users",icon:n.jsx(Qt,{className:"h-4 w-4"})},{title:"Clientes",href:"/admin/customers",icon:n.jsx(Qt,{className:"h-4 w-4"})}]},{title:"Lojistas",href:"/admin/merchants",icon:n.jsx(Cr,{className:"h-5 w-5"}),description:"Gerenciar lojistas",badge:"3",children:[{title:"Todos os Lojistas",href:"/admin/merchants",icon:n.jsx(Cr,{className:"h-4 w-4"})},{title:"Aprovações Pendentes",href:"/admin/merchants?status=pending",icon:n.jsx(Sx,{className:"h-4 w-4"})}]},{title:"Transações",href:"/admin/transactions",icon:n.jsx(Xl,{className:"h-5 w-5"}),description:"Monitorar transações"},{title:"Transferências",href:"/admin/transfers",icon:n.jsx(ck,{className:"h-5 w-5"}),description:"Transferências entre usuários"},{title:"Saques",href:"/admin/withdrawals",icon:n.jsx(ta,{className:"h-5 w-5"}),description:"Processar solicitações",badge:"2"},{title:"Relatórios",href:"/admin/reports",icon:n.jsx(lc,{className:"h-5 w-5"}),description:"Analytics avançados",children:[{title:"Relatório Financeiro",href:"/admin/reports/financial",icon:n.jsx(Yu,{className:"h-4 w-4"})},{title:"Relatório de Comissões",href:"/admin/reports/commissions",icon:n.jsx(Hr,{className:"h-4 w-4"})}]},{title:"Configurações",href:"/admin/settings",icon:n.jsx(yo,{className:"h-5 w-5"}),description:"Configurações do sistema",children:[{title:"Configurações Gerais",href:"/admin/settings",icon:n.jsx(yo,{className:"h-4 w-4"})},{title:"Marca e Visual",href:"/admin/brand-settings",icon:n.jsx(Bi,{className:"h-4 w-4"})}]},{title:"Logs",href:"/admin/logs",icon:n.jsx(Bi,{className:"h-5 w-5"}),description:"Auditoria e logs"}],f=(()=>{switch(t==null?void 0:t.type){case"client":return o;case"merchant":return l;case"admin":return d;default:return[]}})(),p=w=>e===w||e.startsWith(w+"/"),x=(w,C=0)=>{var I;const N=p(w.href),S=w.children&&w.children.length>0,_=a.includes(w.title);return n.jsxs("div",{className:"space-y-1",children:[S?n.jsxs("button",{onClick:()=>i(w.title),className:Ue("flex items-center justify-between w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors",C>0?"pl-8":"",N?"bg-[#3db54e] text-white":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"),children:[n.jsxs("div",{className:"flex items-center gap-3",children:[w.icon,n.jsx("span",{children:w.title}),w.badge&&n.jsx(xt,{variant:"secondary",className:"ml-auto h-5 text-xs",children:w.badge})]}),_?n.jsx(N0,{className:"h-4 w-4"}):n.jsx(_o,{className:"h-4 w-4"})]}):n.jsx(Rt,{href:w.href,children:n.jsxs("div",{className:Ue("flex items-center gap-3 px-3 py-2 text-sm font-medium rounded-lg transition-colors",C>0?"pl-8":"",N?"bg-[#3db54e] text-white":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800"),children:[w.icon,n.jsx("span",{className:"flex-1",children:w.title}),w.badge&&n.jsx(xt,{variant:"secondary",className:"h-5 text-xs",children:w.badge})]})}),S&&_&&n.jsx("div",{className:"space-y-1",children:(I=w.children)==null?void 0:I.map(T=>x(T,C+1))})]},w.href)};return n.jsxs("div",{className:"flex h-full w-64 flex-col bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-3 p-6 border-b border-gray-200 dark:border-gray-800",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#3db54e] to-[#36a146] rounded-lg flex items-center justify-center text-white font-bold text-lg",children:"V"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Vale Cashback"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 capitalize",children:(t==null?void 0:t.type)==="client"?"Cliente":(t==null?void 0:t.type)==="merchant"?"Lojista":"Administrador"})]})]}),n.jsx("nav",{className:"flex-1 overflow-y-auto p-4",children:n.jsx("div",{className:"space-y-2",children:f.map(w=>x(w))})}),n.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:(j=(y=t==null?void 0:t.name)==null?void 0:y.charAt(0))==null?void 0:j.toUpperCase()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:t==null?void 0:t.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:t==null?void 0:t.email})]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:r,className:"w-full justify-start gap-2",children:[n.jsx(fw,{className:"h-4 w-4"}),"Sair"]})]})]})}function E1({children:e,title:t,subtitle:r,actions:a}){var d,u;const[s,i]=E.useState(!0),{user:o}=Oa(),l=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f);return n.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900",children:[n.jsx("div",{className:Ue("transition-all duration-300 ease-in-out",s?"w-64":"w-0"),children:s&&n.jsx(Nfe,{})}),n.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[n.jsx("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(J,{variant:"ghost",size:"sm",onClick:()=>i(!s),className:"p-2",children:n.jsx(WF,{className:"h-5 w-5"})}),t&&n.jsxs("div",{children:[n.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:t}),r&&n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r})]})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[(o==null?void 0:o.type)==="client"&&n.jsx("div",{className:"hidden md:flex items-center gap-3 px-4 py-2 bg-gradient-to-r from-[#3db54e]/10 to-[#36a146]/10 rounded-lg border border-[#3db54e]/20",children:n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Saldo Disponível"}),n.jsx("p",{className:"text-sm font-semibold text-[#3db54e]",children:l(o.available_balance||0)})]})}),n.jsx("div",{className:"hidden md:flex items-center",children:n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Buscar...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#3db54e] focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),n.jsxs(J,{variant:"ghost",size:"sm",className:"relative p-2",children:[n.jsx(ki,{className:"h-5 w-5"}),n.jsx(xt,{className:"absolute -top-1 -right-1 h-5 w-5 p-0 flex items-center justify-center bg-red-500 text-white text-xs",children:"3"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"hidden md:block text-right",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o==null?void 0:o.name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize",children:(o==null?void 0:o.type)==="client"?"Cliente":(o==null?void 0:o.type)==="merchant"?"Lojista":"Administrador"})]}),n.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-semibold",children:(u=(d=o==null?void 0:o.name)==null?void 0:d.charAt(0))==null?void 0:u.toUpperCase()})]}),a&&n.jsx("div",{className:"flex items-center gap-2",children:a})]})]})}),n.jsx("main",{className:"flex-1 overflow-y-auto",children:n.jsx("div",{className:"h-full",children:e})})]})]})}function Cfe(){var s,i;const{data:e,isLoading:t}=Nt({queryKey:["/api/dashboard/stats"]}),r=o=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o);if(t)return n.jsx(E1,{title:"Dashboard Financeiro",subtitle:"Carregando seus dados financeiros...",children:n.jsx("div",{className:"flex items-center justify-center min-h-96",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-[#3db54e]"})})});const a=n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Rt,{href:"/client/scanner",children:n.jsxs(J,{className:"gap-2 bg-[#3db54e] hover:bg-[#36a146]",children:[n.jsx(bo,{className:"h-4 w-4"}),"Pagar com QR"]})}),n.jsx(Rt,{href:"/client/qr-code",children:n.jsxs(J,{variant:"outline",className:"gap-2",children:[n.jsx(Pn,{className:"h-4 w-4"}),"Meu QR Code"]})})]});return n.jsx(E1,{title:"Dashboard Financeiro",subtitle:"Acompanhe seus ganhos, transações e saldo em tempo real",actions:a,children:n.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(ne,{className:"bg-gradient-to-br from-[#3db54e] via-[#36a146] to-[#2d8f3d] text-white border-0 overflow-hidden relative",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -translate-y-16 translate-x-16"}),n.jsx(ae,{className:"p-8 relative z-10",children:n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(ta,{className:"h-8 w-8 text-white/80"}),n.jsx("h3",{className:"text-xl font-semibold text-white/90",children:"Saldo Total"})]}),n.jsx("p",{className:"text-4xl font-bold mb-2",children:r((e==null?void 0:e.availableBalance)||0)}),n.jsx("p",{className:"text-white/80",children:"Disponível para saque e transferência"})]}),n.jsxs("div",{className:"text-right space-y-3",children:[n.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-3",children:[n.jsx("p",{className:"text-white/80 text-sm",children:"Ganhos do Mês"}),n.jsx("p",{className:"text-xl font-bold",children:r((e==null?void 0:e.monthlyEarnings)||0)})]}),n.jsx(J,{variant:"secondary",size:"sm",className:"w-full",children:"Solicitar Saque"})]})]})})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsxs(ne,{className:"border-[#f58220]/20 bg-gradient-to-br from-[#f58220]/5 to-[#e37718]/5 hover:shadow-lg transition-shadow",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Total Cashback"}),n.jsx(Tte,{className:"h-5 w-5 text-[#f58220]"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r((e==null?void 0:e.totalCashback)||0)}),n.jsx("p",{className:"text-xs text-[#f58220] mt-1 font-medium",children:"Acumulado em cashback"})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Transações"}),n.jsx(Xl,{className:"h-5 w-5 text-blue-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.totalTransactions)||0}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(e==null?void 0:e.pendingTransactions)||0," pendentes"]})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:n.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Indicações Ativas"}),n.jsx(Qt,{className:"h-5 w-5 text-purple-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.referralCount)||0}),n.jsx("p",{className:"text-xs text-purple-600 mt-1 font-medium",children:"Amigos indicados"})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:n.jsxs(ne,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 hover:shadow-lg transition-shadow",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-700",children:"Taxa Média"}),n.jsx(Yu,{className:"h-5 w-5 text-green-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:"5.2%"}),n.jsx("p",{className:"text-xs text-green-600 mt-1 font-medium",children:"Cashback médio"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6},className:"lg:col-span-2",children:n.jsxs(ne,{children:[n.jsx(de,{className:"pb-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Mr,{className:"h-5 w-5 text-[#f58220]"}),"Transações Recentes"]}),n.jsx(Rt,{href:"/client/transactions",children:n.jsx(J,{variant:"outline",size:"sm",children:"Ver Todas"})})]})}),n.jsx(ae,{children:(s=e==null?void 0:e.recentTransactions)!=null&&s.length?n.jsx("div",{className:"space-y-4",children:e.recentTransactions.slice(0,6).map(o=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-gray-50/50 hover:bg-gray-100/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full ${o.type==="cashback"?"bg-[#3db54e]/10":"bg-blue-100"}`,children:o.type==="cashback"?n.jsx(KT,{className:"h-5 w-5 text-[#3db54e]"}):n.jsx(xS,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:o.store}),n.jsx("p",{className:"text-xs text-gray-500",children:o.date}),n.jsx(xt,{variant:"secondary",className:`mt-1 text-xs ${o.status==="completed"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:o.status==="completed"?"Concluída":"Pendente"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:r(o.amount)}),o.cashback>0&&n.jsxs("p",{className:"text-sm text-[#3db54e] font-medium",children:["+",r(o.cashback)," cashback"]})]})]},o.id))}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Xl,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma transação ainda"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Comece a usar o Vale Cashback para ganhar dinheiro de volta"}),n.jsx(Rt,{href:"/client/stores",children:n.jsx(J,{className:"bg-[#3db54e] hover:bg-[#36a146]",children:"Explorar Lojas"})})]})})]})}),n.jsx(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.7},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(al,{className:"h-5 w-5 text-yellow-500"}),"Lojas Favoritas"]})}),n.jsx(ae,{children:(i=e==null?void 0:e.topStores)!=null&&i.length?n.jsxs("div",{className:"space-y-4",children:[e.topStores.slice(0,5).map((o,l)=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-r from-[#f58220] to-[#e37718] flex items-center justify-center text-white font-semibold",children:o.name.charAt(0)}),l<3&&n.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-yellow-400 rounded-full flex items-center justify-center",children:n.jsx(al,{className:"h-3 w-3 text-white"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium text-sm",children:o.name}),n.jsx("p",{className:"text-xs text-gray-500",children:o.category}),n.jsxs(xt,{className:"mt-1 bg-[#3db54e]/10 text-[#3db54e] text-xs",children:[o.cashbackRate,"% cashback"]})]})]},o.id)),n.jsx(Rt,{href:"/client/stores",children:n.jsx(J,{variant:"outline",size:"sm",className:"w-full mt-4",children:"Ver Todas as Lojas"})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(al,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Descubra lojas parceiras"}),n.jsx(Rt,{href:"/client/stores",children:n.jsx(J,{size:"sm",variant:"outline",children:"Explorar Lojas"})})]})})]})})]}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(mw,{className:"h-5 w-5"}),"Ações Rápidas"]})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsx(Rt,{href:"/client/scanner",children:n.jsxs(J,{variant:"outline",className:"h-24 flex-col gap-3 w-full hover:border-[#3db54e] hover:text-[#3db54e] hover:bg-[#3db54e]/5 transition-all",children:[n.jsx(bo,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium",children:"Pagar com QR"})]})}),n.jsx(Rt,{href:"/client/transfers",children:n.jsxs(J,{variant:"outline",className:"h-24 flex-col gap-3 w-full hover:border-[#f58220] hover:text-[#f58220] hover:bg-[#f58220]/5 transition-all",children:[n.jsx(xS,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium",children:"Transferir"})]})}),n.jsx(Rt,{href:"/client/referrals",children:n.jsxs(J,{variant:"outline",className:"h-24 flex-col gap-3 w-full hover:border-purple-600 hover:text-purple-600 hover:bg-purple-600/5 transition-all",children:[n.jsx(Qt,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium",children:"Indicar Amigo"})]})}),n.jsx(Rt,{href:"/client/stores",children:n.jsxs(J,{variant:"outline",className:"h-24 flex-col gap-3 w-full hover:border-yellow-500 hover:text-yellow-600 hover:bg-yellow-500/5 transition-all",children:[n.jsx(Ui,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium",children:"Ver Ofertas"})]})}),n.jsx(Rt,{href:"/client/qr-code",children:n.jsxs(J,{variant:"outline",className:"h-24 flex-col gap-3 w-full hover:border-blue-500 hover:text-blue-600 hover:bg-blue-500/5 transition-all",children:[n.jsx(Pn,{className:"h-8 w-8"}),n.jsx("span",{className:"text-sm font-medium",children:"Meu QR Code"})]})})]})})]})})]})})}const ge=E.forwardRef(({className:e,type:t,...r},a)=>n.jsx("input",{type:t,className:Ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...r}));ge.displayName="Input";var Sfe="Label",aU=E.forwardRef((e,t)=>n.jsx(ht.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));aU.displayName=Sfe;var sU=aU;const Afe=j0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=E.forwardRef(({className:e,...t},r)=>n.jsx(sU,{ref:r,className:Ue(Afe(),e),...t}));Le.displayName=sU.displayName;const Bs=E.forwardRef(({className:e,...t},r)=>n.jsx("textarea",{className:Ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));Bs.displayName="Textarea";var Efe=Object.defineProperty,T1=Object.getOwnPropertySymbols,iU=Object.prototype.hasOwnProperty,oU=Object.prototype.propertyIsEnumerable,gM=(e,t,r)=>t in e?Efe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rA=(e,t)=>{for(var r in t||(t={}))iU.call(t,r)&&gM(e,r,t[r]);if(T1)for(var r of T1(t))oU.call(t,r)&&gM(e,r,t[r]);return e},nA=(e,t)=>{var r={};for(var a in e)iU.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&T1)for(var a of T1(e))t.indexOf(a)<0&&oU.call(e,a)&&(r[a]=e[a]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var th;(e=>{const t=class hr{constructor(d,u,f,p){if(this.version=d,this.errorCorrectionLevel=u,this.modules=[],this.isFunction=[],d<hr.MIN_VERSION||d>hr.MAX_VERSION)throw new RangeError("Version value out of range");if(p<-1||p>7)throw new RangeError("Mask value out of range");this.size=d*4+17;let x=[];for(let j=0;j<this.size;j++)x.push(!1);for(let j=0;j<this.size;j++)this.modules.push(x.slice()),this.isFunction.push(x.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(f);if(this.drawCodewords(y),p==-1){let j=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const C=this.getPenaltyScore();C<j&&(p=w,j=C),this.applyMask(w)}}s(0<=p&&p<=7),this.mask=p,this.applyMask(p),this.drawFormatBits(p),this.isFunction=[]}static encodeText(d,u){const f=e.QrSegment.makeSegments(d);return hr.encodeSegments(f,u)}static encodeBinary(d,u){const f=e.QrSegment.makeBytes(d);return hr.encodeSegments([f],u)}static encodeSegments(d,u,f=1,p=40,x=-1,y=!0){if(!(hr.MIN_VERSION<=f&&f<=p&&p<=hr.MAX_VERSION)||x<-1||x>7)throw new RangeError("Invalid value");let j,w;for(j=f;;j++){const _=hr.getNumDataCodewords(j,u)*8,I=o.getTotalBits(d,j);if(I<=_){w=I;break}if(j>=p)throw new RangeError("Data too long")}for(const _ of[hr.Ecc.MEDIUM,hr.Ecc.QUARTILE,hr.Ecc.HIGH])y&&w<=hr.getNumDataCodewords(j,_)*8&&(u=_);let C=[];for(const _ of d){r(_.mode.modeBits,4,C),r(_.numChars,_.mode.numCharCountBits(j),C);for(const I of _.getData())C.push(I)}s(C.length==w);const N=hr.getNumDataCodewords(j,u)*8;s(C.length<=N),r(0,Math.min(4,N-C.length),C),r(0,(8-C.length%8)%8,C),s(C.length%8==0);for(let _=236;C.length<N;_^=253)r(_,8,C);let S=[];for(;S.length*8<C.length;)S.push(0);return C.forEach((_,I)=>S[I>>>3]|=_<<7-(I&7)),new hr(j,u,S,x)}getModule(d,u){return 0<=d&&d<this.size&&0<=u&&u<this.size&&this.modules[u][d]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const d=this.getAlignmentPatternPositions(),u=d.length;for(let f=0;f<u;f++)for(let p=0;p<u;p++)f==0&&p==0||f==0&&p==u-1||f==u-1&&p==0||this.drawAlignmentPattern(d[f],d[p]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(d){const u=this.errorCorrectionLevel.formatBits<<3|d;let f=u;for(let x=0;x<10;x++)f=f<<1^(f>>>9)*1335;const p=(u<<10|f)^21522;s(p>>>15==0);for(let x=0;x<=5;x++)this.setFunctionModule(8,x,a(p,x));this.setFunctionModule(8,7,a(p,6)),this.setFunctionModule(8,8,a(p,7)),this.setFunctionModule(7,8,a(p,8));for(let x=9;x<15;x++)this.setFunctionModule(14-x,8,a(p,x));for(let x=0;x<8;x++)this.setFunctionModule(this.size-1-x,8,a(p,x));for(let x=8;x<15;x++)this.setFunctionModule(8,this.size-15+x,a(p,x));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let d=this.version;for(let f=0;f<12;f++)d=d<<1^(d>>>11)*7973;const u=this.version<<12|d;s(u>>>18==0);for(let f=0;f<18;f++){const p=a(u,f),x=this.size-11+f%3,y=Math.floor(f/3);this.setFunctionModule(x,y,p),this.setFunctionModule(y,x,p)}}drawFinderPattern(d,u){for(let f=-4;f<=4;f++)for(let p=-4;p<=4;p++){const x=Math.max(Math.abs(p),Math.abs(f)),y=d+p,j=u+f;0<=y&&y<this.size&&0<=j&&j<this.size&&this.setFunctionModule(y,j,x!=2&&x!=4)}}drawAlignmentPattern(d,u){for(let f=-2;f<=2;f++)for(let p=-2;p<=2;p++)this.setFunctionModule(d+p,u+f,Math.max(Math.abs(p),Math.abs(f))!=1)}setFunctionModule(d,u,f){this.modules[u][d]=f,this.isFunction[u][d]=!0}addEccAndInterleave(d){const u=this.version,f=this.errorCorrectionLevel;if(d.length!=hr.getNumDataCodewords(u,f))throw new RangeError("Invalid argument");const p=hr.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][u],x=hr.ECC_CODEWORDS_PER_BLOCK[f.ordinal][u],y=Math.floor(hr.getNumRawDataModules(u)/8),j=p-y%p,w=Math.floor(y/p);let C=[];const N=hr.reedSolomonComputeDivisor(x);for(let _=0,I=0;_<p;_++){let T=d.slice(I,I+w-x+(_<j?0:1));I+=T.length;const M=hr.reedSolomonComputeRemainder(T,N);_<j&&T.push(0),C.push(T.concat(M))}let S=[];for(let _=0;_<C[0].length;_++)C.forEach((I,T)=>{(_!=w-x||T>=j)&&S.push(I[_])});return s(S.length==y),S}drawCodewords(d){if(d.length!=Math.floor(hr.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let u=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let p=0;p<this.size;p++)for(let x=0;x<2;x++){const y=f-x,w=(f+1&2)==0?this.size-1-p:p;!this.isFunction[w][y]&&u<d.length*8&&(this.modules[w][y]=a(d[u>>>3],7-(u&7)),u++)}}s(u==d.length*8)}applyMask(d){if(d<0||d>7)throw new RangeError("Mask value out of range");for(let u=0;u<this.size;u++)for(let f=0;f<this.size;f++){let p;switch(d){case 0:p=(f+u)%2==0;break;case 1:p=u%2==0;break;case 2:p=f%3==0;break;case 3:p=(f+u)%3==0;break;case 4:p=(Math.floor(f/3)+Math.floor(u/2))%2==0;break;case 5:p=f*u%2+f*u%3==0;break;case 6:p=(f*u%2+f*u%3)%2==0;break;case 7:p=((f+u)%2+f*u%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[u][f]&&p&&(this.modules[u][f]=!this.modules[u][f])}}getPenaltyScore(){let d=0;for(let x=0;x<this.size;x++){let y=!1,j=0,w=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[x][C]==y?(j++,j==5?d+=hr.PENALTY_N1:j>5&&d++):(this.finderPenaltyAddHistory(j,w),y||(d+=this.finderPenaltyCountPatterns(w)*hr.PENALTY_N3),y=this.modules[x][C],j=1);d+=this.finderPenaltyTerminateAndCount(y,j,w)*hr.PENALTY_N3}for(let x=0;x<this.size;x++){let y=!1,j=0,w=[0,0,0,0,0,0,0];for(let C=0;C<this.size;C++)this.modules[C][x]==y?(j++,j==5?d+=hr.PENALTY_N1:j>5&&d++):(this.finderPenaltyAddHistory(j,w),y||(d+=this.finderPenaltyCountPatterns(w)*hr.PENALTY_N3),y=this.modules[C][x],j=1);d+=this.finderPenaltyTerminateAndCount(y,j,w)*hr.PENALTY_N3}for(let x=0;x<this.size-1;x++)for(let y=0;y<this.size-1;y++){const j=this.modules[x][y];j==this.modules[x][y+1]&&j==this.modules[x+1][y]&&j==this.modules[x+1][y+1]&&(d+=hr.PENALTY_N2)}let u=0;for(const x of this.modules)u=x.reduce((y,j)=>y+(j?1:0),u);const f=this.size*this.size,p=Math.ceil(Math.abs(u*20-f*10)/f)-1;return s(0<=p&&p<=9),d+=p*hr.PENALTY_N4,s(0<=d&&d<=2568888),d}getAlignmentPatternPositions(){if(this.version==1)return[];{const d=Math.floor(this.version/7)+2,u=this.version==32?26:Math.ceil((this.version*4+4)/(d*2-2))*2;let f=[6];for(let p=this.size-7;f.length<d;p-=u)f.splice(1,0,p);return f}}static getNumRawDataModules(d){if(d<hr.MIN_VERSION||d>hr.MAX_VERSION)throw new RangeError("Version number out of range");let u=(16*d+128)*d+64;if(d>=2){const f=Math.floor(d/7)+2;u-=(25*f-10)*f-55,d>=7&&(u-=36)}return s(208<=u&&u<=29648),u}static getNumDataCodewords(d,u){return Math.floor(hr.getNumRawDataModules(d)/8)-hr.ECC_CODEWORDS_PER_BLOCK[u.ordinal][d]*hr.NUM_ERROR_CORRECTION_BLOCKS[u.ordinal][d]}static reedSolomonComputeDivisor(d){if(d<1||d>255)throw new RangeError("Degree out of range");let u=[];for(let p=0;p<d-1;p++)u.push(0);u.push(1);let f=1;for(let p=0;p<d;p++){for(let x=0;x<u.length;x++)u[x]=hr.reedSolomonMultiply(u[x],f),x+1<u.length&&(u[x]^=u[x+1]);f=hr.reedSolomonMultiply(f,2)}return u}static reedSolomonComputeRemainder(d,u){let f=u.map(p=>0);for(const p of d){const x=p^f.shift();f.push(0),u.forEach((y,j)=>f[j]^=hr.reedSolomonMultiply(y,x))}return f}static reedSolomonMultiply(d,u){if(d>>>8||u>>>8)throw new RangeError("Byte out of range");let f=0;for(let p=7;p>=0;p--)f=f<<1^(f>>>7)*285,f^=(u>>>p&1)*d;return s(f>>>8==0),f}finderPenaltyCountPatterns(d){const u=d[1];s(u<=this.size*3);const f=u>0&&d[2]==u&&d[3]==u*3&&d[4]==u&&d[5]==u;return(f&&d[0]>=u*4&&d[6]>=u?1:0)+(f&&d[6]>=u*4&&d[0]>=u?1:0)}finderPenaltyTerminateAndCount(d,u,f){return d&&(this.finderPenaltyAddHistory(u,f),u=0),u+=this.size,this.finderPenaltyAddHistory(u,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(d,u){u[0]==0&&(d+=this.size),u.pop(),u.unshift(d)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function r(l,d,u){if(d<0||d>31||l>>>d)throw new RangeError("Value out of range");for(let f=d-1;f>=0;f--)u.push(l>>>f&1)}function a(l,d){return(l>>>d&1)!=0}function s(l){if(!l)throw new Error("Assertion error")}const i=class Rn{constructor(d,u,f){if(this.mode=d,this.numChars=u,this.bitData=f,u<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(d){let u=[];for(const f of d)r(f,8,u);return new Rn(Rn.Mode.BYTE,d.length,u)}static makeNumeric(d){if(!Rn.isNumeric(d))throw new RangeError("String contains non-numeric characters");let u=[];for(let f=0;f<d.length;){const p=Math.min(d.length-f,3);r(parseInt(d.substring(f,f+p),10),p*3+1,u),f+=p}return new Rn(Rn.Mode.NUMERIC,d.length,u)}static makeAlphanumeric(d){if(!Rn.isAlphanumeric(d))throw new RangeError("String contains unencodable characters in alphanumeric mode");let u=[],f;for(f=0;f+2<=d.length;f+=2){let p=Rn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(f))*45;p+=Rn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(f+1)),r(p,11,u)}return f<d.length&&r(Rn.ALPHANUMERIC_CHARSET.indexOf(d.charAt(f)),6,u),new Rn(Rn.Mode.ALPHANUMERIC,d.length,u)}static makeSegments(d){return d==""?[]:Rn.isNumeric(d)?[Rn.makeNumeric(d)]:Rn.isAlphanumeric(d)?[Rn.makeAlphanumeric(d)]:[Rn.makeBytes(Rn.toUtf8ByteArray(d))]}static makeEci(d){let u=[];if(d<0)throw new RangeError("ECI assignment value out of range");if(d<128)r(d,8,u);else if(d<16384)r(2,2,u),r(d,14,u);else if(d<1e6)r(6,3,u),r(d,21,u);else throw new RangeError("ECI assignment value out of range");return new Rn(Rn.Mode.ECI,0,u)}static isNumeric(d){return Rn.NUMERIC_REGEX.test(d)}static isAlphanumeric(d){return Rn.ALPHANUMERIC_REGEX.test(d)}getData(){return this.bitData.slice()}static getTotalBits(d,u){let f=0;for(const p of d){const x=p.mode.numCharCountBits(u);if(p.numChars>=1<<x)return 1/0;f+=4+x+p.bitData.length}return f}static toUtf8ByteArray(d){d=encodeURI(d);let u=[];for(let f=0;f<d.length;f++)d.charAt(f)!="%"?u.push(d.charCodeAt(f)):(u.push(parseInt(d.substring(f+1,f+3),16)),f+=2);return u}};i.NUMERIC_REGEX=/^[0-9]*$/,i.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,i.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let o=i;e.QrSegment=i})(th||(th={}));(e=>{(t=>{const r=class{constructor(s,i){this.ordinal=s,this.formatBits=i}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),t.Ecc=r})(e.QrCode||(e.QrCode={}))})(th||(th={}));(e=>{(t=>{const r=class{constructor(s,i){this.modeBits=s,this.numBitsCharCount=i}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),t.Mode=r})(e.QrSegment||(e.QrSegment={}))})(th||(th={}));var uf=th;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var Tfe={L:uf.QrCode.Ecc.LOW,M:uf.QrCode.Ecc.MEDIUM,Q:uf.QrCode.Ecc.QUARTILE,H:uf.QrCode.Ecc.HIGH},lU=128,cU="L",dU="#FFFFFF",uU="#000000",hU=!1,fU=1,_fe=4,Pfe=0,Ofe=.1;function mU(e,t=0){const r=[];return e.forEach(function(a,s){let i=null;a.forEach(function(o,l){if(!o&&i!==null){r.push(`M${i+t} ${s+t}h${l-i}v1H${i+t}z`),i=null;return}if(l===a.length-1){if(!o)return;i===null?r.push(`M${l+t},${s+t} h1v1H${l+t}z`):r.push(`M${i+t},${s+t} h${l+1-i}v1H${i+t}z`);return}o&&i===null&&(i=l)})}),r.join("")}function pU(e,t){return e.slice().map((r,a)=>a<t.y||a>=t.y+t.h?r:r.map((s,i)=>i<t.x||i>=t.x+t.w?s:!1))}function kfe(e,t,r,a){if(a==null)return null;const s=e.length+r*2,i=Math.floor(t*Ofe),o=s/t,l=(a.width||i)*o,d=(a.height||i)*o,u=a.x==null?e.length/2-l/2:a.x*o,f=a.y==null?e.length/2-d/2:a.y*o,p=a.opacity==null?1:a.opacity;let x=null;if(a.excavate){let j=Math.floor(u),w=Math.floor(f),C=Math.ceil(l+u-j),N=Math.ceil(d+f-w);x={x:j,y:w,w:C,h:N}}const y=a.crossOrigin;return{x:u,y:f,h:d,w:l,excavation:x,opacity:p,crossOrigin:y}}function Ife(e,t){return t!=null?Math.max(Math.floor(t),0):e?_fe:Pfe}function xU({value:e,level:t,minVersion:r,includeMargin:a,marginSize:s,imageSettings:i,size:o,boostLevel:l}){let d=Q.useMemo(()=>{const j=(Array.isArray(e)?e:[e]).reduce((w,C)=>(w.push(...uf.QrSegment.makeSegments(C)),w),[]);return uf.QrCode.encodeSegments(j,Tfe[t],r,void 0,void 0,l)},[e,t,r,l]);const{cells:u,margin:f,numCells:p,calculatedImageSettings:x}=Q.useMemo(()=>{let y=d.getModules();const j=Ife(a,s),w=y.length+j*2,C=kfe(y,o,j,i);return{cells:y,margin:j,numCells:w,calculatedImageSettings:C}},[d,o,i,a,s]);return{qrcode:d,margin:f,cells:u,numCells:p,calculatedImageSettings:x}}var Mfe=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),gU=Q.forwardRef(function(t,r){const a=t,{value:s,size:i=lU,level:o=cU,bgColor:l=dU,fgColor:d=uU,includeMargin:u=hU,minVersion:f=fU,boostLevel:p,marginSize:x,imageSettings:y}=a,w=nA(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:C}=w,N=nA(w,["style"]),S=y==null?void 0:y.src,_=Q.useRef(null),I=Q.useRef(null),T=Q.useCallback($=>{_.current=$,typeof r=="function"?r($):r&&(r.current=$)},[r]),[M,O]=Q.useState(!1),{margin:D,cells:R,numCells:V,calculatedImageSettings:z}=xU({value:s,level:o,minVersion:f,boostLevel:p,includeMargin:u,marginSize:x,imageSettings:y,size:i});Q.useEffect(()=>{if(_.current!=null){const $=_.current,L=$.getContext("2d");if(!L)return;let H=R;const G=I.current,Y=z!=null&&G!==null&&G.complete&&G.naturalHeight!==0&&G.naturalWidth!==0;Y&&z.excavation!=null&&(H=pU(R,z.excavation));const te=window.devicePixelRatio||1;$.height=$.width=i*te;const X=i/V*te;L.scale(X,X),L.fillStyle=l,L.fillRect(0,0,V,V),L.fillStyle=d,Mfe?L.fill(new Path2D(mU(H,D))):R.forEach(function(fe,re){fe.forEach(function(se,Te){se&&L.fillRect(Te+D,re+D,1,1)})}),z&&(L.globalAlpha=z.opacity),Y&&L.drawImage(G,z.x+D,z.y+D,z.w,z.h)}}),Q.useEffect(()=>{O(!1)},[S]);const B=rA({height:i,width:i},C);let q=null;return S!=null&&(q=Q.createElement("img",{src:S,key:S,style:{display:"none"},onLoad:()=>{O(!0)},ref:I,crossOrigin:z==null?void 0:z.crossOrigin})),Q.createElement(Q.Fragment,null,Q.createElement("canvas",rA({style:B,height:i,width:i,ref:T,role:"img"},N)),q)});gU.displayName="QRCodeCanvas";var w3=Q.forwardRef(function(t,r){const a=t,{value:s,size:i=lU,level:o=cU,bgColor:l=dU,fgColor:d=uU,includeMargin:u=hU,minVersion:f=fU,boostLevel:p,title:x,marginSize:y,imageSettings:j}=a,w=nA(a,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:C,cells:N,numCells:S,calculatedImageSettings:_}=xU({value:s,level:o,minVersion:f,boostLevel:p,includeMargin:u,marginSize:y,imageSettings:j,size:i});let I=N,T=null;j!=null&&_!=null&&(_.excavation!=null&&(I=pU(N,_.excavation)),T=Q.createElement("image",{href:j.src,height:_.h,width:_.w,x:_.x+C,y:_.y+C,preserveAspectRatio:"none",opacity:_.opacity,crossOrigin:_.crossOrigin}));const M=mU(I,C);return Q.createElement("svg",rA({height:i,width:i,viewBox:`0 0 ${S} ${S}`,ref:r,role:"img"},w),!!x&&Q.createElement("title",null,x),Q.createElement("path",{fill:l,d:`M0,0 h${S}v${S}H0z`,shapeRendering:"crispEdges"}),Q.createElement("path",{fill:d,d:M,shapeRendering:"crispEdges"}),T)});w3.displayName="QRCodeSVG";function Rfe(){const[e,t]=E.useState(""),[r,a]=E.useState(""),[s,i]=E.useState(!1),[o,l]=E.useState(null),{toast:d}=rr(),{data:u}=Nt({queryKey:["/api/merchant/payment-stats"]}),{data:f}=Nt({queryKey:["/api/merchant/qr-codes"]}),p=Zt({mutationFn:async C=>({id:`qr_${Date.now()}`,amount:C.amount,description:C.description,status:"active",created_at:new Date().toISOString(),expires_at:new Date(Date.now()+864e5).toISOString(),qr_code_url:`https://vale-cashback.com/pay/${Date.now()}`}),onSuccess:C=>{l(C),i(!0),Ut.invalidateQueries({queryKey:["/api/merchant/qr-codes"]}),d({title:"QR Code gerado com sucesso!",description:"Seu código de pagamento está pronto para uso."})},onError:()=>{d({title:"Erro ao gerar QR Code",description:"Tente novamente em alguns instantes.",variant:"destructive"})}}),x=C=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(C),y=()=>{if(!e||parseFloat(e)<=0){d({title:"Valor inválido",description:"Digite um valor maior que zero.",variant:"destructive"});return}p.mutate({amount:parseFloat(e),description:r||"Pagamento"})},j=()=>{o!=null&&o.qr_code_url&&(navigator.clipboard.writeText(o.qr_code_url),d({title:"Link copiado!",description:"O link do QR Code foi copiado para a área de transferência."}))},w=n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{onClick:()=>i(!1),variant:"outline",className:"gap-2",children:[n.jsx(Pn,{className:"h-4 w-4"}),"Novo QR Code"]}),n.jsx(Rt,{href:"/merchant/sales",children:n.jsxs(J,{className:"gap-2 bg-[#3db54e] hover:bg-[#36a146]",children:[n.jsx(lc,{className:"h-4 w-4"}),"Ver Vendas"]})})]});return n.jsx(E1,{title:"Sistema de Pagamento QR",subtitle:"Gere códigos QR para receber pagamentos instantâneos",actions:w,children:n.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(ne,{className:"border-[#3db54e]/20 bg-gradient-to-r from-[#3db54e]/5 to-[#36a146]/5",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Vendas Hoje"}),n.jsx(Hr,{className:"h-5 w-5 text-[#3db54e]"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x((u==null?void 0:u.todaySales)||0)}),n.jsxs("p",{className:"text-xs text-[#3db54e] mt-1 font-medium",children:["+",(u==null?void 0:u.monthlyGrowth)||0,"% vs mês passado"]})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Pagamentos Pendentes"}),n.jsx(Vn,{className:"h-5 w-5 text-yellow-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(u==null?void 0:u.pendingPayments)||0}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Aguardando confirmação"})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Ticket Médio"}),n.jsx(Yu,{className:"h-5 w-5 text-blue-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x((u==null?void 0:u.averageTicket)||0)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Por transação"})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Total de Vendas"}),n.jsx(lc,{className:"h-5 w-5 text-purple-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:x((u==null?void 0:u.totalSales)||0)}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Acumulado"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"lg:col-span-1",children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Ite,{className:"h-5 w-5 text-[#f58220]"}),"Gerar QR Code"]})}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"amount",children:"Valor (R$)"}),n.jsx(ge,{id:"amount",type:"number",placeholder:"0,00",value:e,onChange:C=>t(C.target.value),className:"text-lg font-semibold"})]}),n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"description",children:"Descrição (opcional)"}),n.jsx(Bs,{id:"description",placeholder:"Descrição do pagamento...",value:r,onChange:C=>a(C.target.value),rows:3})]}),n.jsx(J,{onClick:y,disabled:p.isPending,className:"w-full bg-[#3db54e] hover:bg-[#36a146]",size:"lg",children:p.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Vn,{className:"h-4 w-4 mr-2 animate-spin"}),"Gerando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Gerar QR Code"]})})]})]})}),n.jsx(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"lg:col-span-2",children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(bo,{className:"h-5 w-5 text-blue-600"}),s&&o?"QR Code Gerado":"Seu QR Code aparecerá aqui"]})}),n.jsx(ae,{children:s&&o?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"p-6 bg-white rounded-lg border-2 border-gray-200",children:n.jsx(w3,{value:o.qr_code_url,size:200,level:"M",includeMargin:!1})}),n.jsxs("div",{className:"text-center space-y-2",children:[n.jsx("p",{className:"text-2xl font-bold text-[#3db54e]",children:x(o.amount)}),n.jsx("p",{className:"text-gray-600",children:o.description}),n.jsx(xt,{className:`${o.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:o.status==="active"?"Ativo":"Aguardando"})]})]}),n.jsxs("div",{className:"flex gap-2 justify-center",children:[n.jsxs(J,{variant:"outline",onClick:j,children:[n.jsx(nm,{className:"h-4 w-4 mr-2"}),"Copiar Link"]}),n.jsxs(J,{variant:"outline",children:[n.jsx(im,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),n.jsxs(J,{variant:"outline",children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Download"]})]}),n.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[n.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Como usar:"}),n.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[n.jsx("li",{children:"• Mostre este QR Code para o cliente"}),n.jsx("li",{children:"• Cliente escaneia com o app Vale Cashback"}),n.jsx("li",{children:"• Pagamento é processado instantaneamente"}),n.jsx("li",{children:"• Você recebe notificação de confirmação"})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Pn,{className:"h-16 w-16 text-gray-300 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Pronto para gerar QR Code"}),n.jsx("p",{className:"text-gray-500",children:'Preencha o valor e clique em "Gerar QR Code" para começar'})]})})]})})]}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(ea,{className:"h-5 w-5 text-gray-600"}),"QR Codes Recentes"]}),n.jsx(Rt,{href:"/merchant/qr-codes",children:n.jsx(J,{variant:"outline",size:"sm",children:"Ver Todos"})})]})}),n.jsx(ae,{children:f!=null&&f.length?n.jsx("div",{className:"space-y-4",children:f.slice(0,5).map(C=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`p-3 rounded-full ${C.status==="completed"?"bg-green-100":C.status==="active"?"bg-blue-100":"bg-gray-100"}`,children:C.status==="completed"?n.jsx(Jn,{className:"h-5 w-5 text-green-600"}):C.status==="active"?n.jsx(Vn,{className:"h-5 w-5 text-blue-600"}):n.jsx(Ls,{className:"h-5 w-5 text-gray-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:C.description}),n.jsx("p",{className:"text-xs text-gray-500",children:C.created_at})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:x(C.amount)}),n.jsx(xt,{variant:"secondary",className:`${C.status==="completed"?"bg-green-100 text-green-700":C.status==="active"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:C.status==="completed"?"Pago":C.status==="active"?"Ativo":"Expirado"})]})]},C.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum QR Code gerado ainda"})]})})]})})]})})}function Dfe(){const[e,t]=E.useState(""),{data:r}=Nt({queryKey:["/api/admin/stats"]}),{data:a}=Nt({queryKey:["/api/admin/recent-activity"]}),{data:s}=Nt({queryKey:["/api/admin/users-summary"]}),{data:i}=Nt({queryKey:["/api/admin/pending-approvals"]}),o=f=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(f),l=f=>{switch(f){case"transaction":return n.jsx(Hr,{className:"h-4 w-4 text-green-600"});case"withdrawal":return n.jsx(ta,{className:"h-4 w-4 text-blue-600"});case"user_registration":return n.jsx(Qt,{className:"h-4 w-4 text-purple-600"});case"merchant_approval":return n.jsx(Cr,{className:"h-4 w-4 text-orange-600"});default:return n.jsx(Pi,{className:"h-4 w-4 text-gray-600"})}},d=f=>{const p={active:{color:"bg-green-100 text-green-700",label:"Ativo"},pending:{color:"bg-yellow-100 text-yellow-700",label:"Pendente"},suspended:{color:"bg-red-100 text-red-700",label:"Suspenso"},completed:{color:"bg-green-100 text-green-700",label:"Concluído"},processing:{color:"bg-blue-100 text-blue-700",label:"Processando"}},x=p[f]||p.pending;return n.jsx(xt,{className:x.color,children:x.label})},u=n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Rt,{href:"/admin/users",children:n.jsxs(J,{variant:"outline",className:"gap-2",children:[n.jsx(Qt,{className:"h-4 w-4"}),"Gerenciar Usuários"]})}),n.jsx(Rt,{href:"/admin/reports",children:n.jsxs(J,{className:"gap-2 bg-[#3db54e] hover:bg-[#36a146]",children:[n.jsx(lc,{className:"h-4 w-4"}),"Relatórios"]})})]});return n.jsx(E1,{title:"Painel Administrativo",subtitle:"Visão geral completa do sistema Vale Cashback",actions:u,children:n.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:n.jsxs(ne,{className:"border-[#3db54e]/20 bg-gradient-to-r from-[#3db54e]/5 to-[#36a146]/5",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Total de Usuários"}),n.jsx(Qt,{className:"h-5 w-5 text-[#3db54e]"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.totalUsers)||93}),n.jsxs("p",{className:"text-xs text-[#3db54e] mt-1 font-medium",children:["+",(r==null?void 0:r.monthlyGrowth)||12,"% este mês"]})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:n.jsxs(ne,{className:"border-[#f58220]/20 bg-gradient-to-r from-[#f58220]/5 to-[#e37718]/5",children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Lojistas Ativos"}),n.jsx(Cr,{className:"h-5 w-5 text-[#f58220]"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:(r==null?void 0:r.totalMerchants)||26}),n.jsxs("p",{className:"text-xs text-[#f58220] mt-1 font-medium",children:[(r==null?void 0:r.pendingApprovals)||3," aguardando aprovação"]})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Volume Total"}),n.jsx(Hr,{className:"h-5 w-5 text-purple-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o((r==null?void 0:r.totalVolume)||34330.42)}),n.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[(r==null?void 0:r.totalTransactions)||10," transações"]})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium text-gray-600",children:"Saldo Disponível"}),n.jsx(ta,{className:"h-5 w-5 text-blue-600"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o(1539.92)}),n.jsx("p",{className:"text-xs text-blue-600 mt-1 font-medium",children:"65 usuários com saldo"})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Xu,{className:"h-5 w-5 text-yellow-500"}),"Aprovações Pendentes"]}),n.jsx(xt,{className:"bg-yellow-100 text-yellow-700",children:(i==null?void 0:i.length)||3})]})}),n.jsx(ae,{children:i!=null&&i.length?n.jsxs("div",{className:"space-y-4",children:[i.slice(0,3).map(f=>n.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-yellow-50/50",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"p-2 rounded-full bg-yellow-100",children:n.jsx(Cr,{className:"h-4 w-4 text-yellow-600"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:f.merchantName}),n.jsx("p",{className:"text-xs text-gray-500",children:f.businessName}),n.jsx("p",{className:"text-xs text-gray-400",children:f.submittedAt})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{size:"sm",className:"bg-[#3db54e] hover:bg-[#36a146]",children:[n.jsx(e4,{className:"h-3 w-3 mr-1"}),"Aprovar"]}),n.jsxs(J,{size:"sm",variant:"outline",children:[n.jsx(ea,{className:"h-3 w-3 mr-1"}),"Revisar"]})]})]},f.id)),n.jsx(Rt,{href:"/admin/merchants",children:n.jsx(J,{variant:"outline",size:"sm",className:"w-full",children:"Ver Todas as Aprovações"})})]}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Jn,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhuma aprovação pendente"})]})})]})}),n.jsx(Se.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Pi,{className:"h-5 w-5 text-blue-600"}),"Atividade Recente"]})}),n.jsx(ae,{children:a!=null&&a.length?n.jsx("div",{className:"space-y-4",children:a.slice(0,5).map(f=>n.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("div",{className:"p-2 rounded-full bg-gray-100",children:l(f.type)}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium",children:f.action}),n.jsx("p",{className:"text-xs text-gray-500",children:f.user}),n.jsx("p",{className:"text-xs text-gray-400",children:f.timestamp})]}),n.jsxs("div",{className:"text-right",children:[f.amount&&n.jsx("p",{className:"text-sm font-semibold text-gray-900",children:o(f.amount)}),d(f.status)]})]},f.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Pi,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhuma atividade recente"})]})})]})})]}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Qt,{className:"h-5 w-5 text-gray-600"}),"Usuários do Sistema"]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),n.jsx(ge,{placeholder:"Buscar usuários...",value:e,onChange:f=>t(f.target.value),className:"pl-10 w-64"})]}),n.jsx(Rt,{href:"/admin/users",children:n.jsx(J,{variant:"outline",size:"sm",children:"Ver Todos"})})]})]})}),n.jsx(ae,{children:s!=null&&s.length?n.jsx("div",{className:"space-y-2",children:s.filter(f=>f.name.toLowerCase().includes(e.toLowerCase())||f.email.toLowerCase().includes(e.toLowerCase())).slice(0,8).map(f=>n.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border hover:bg-gray-50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-semibold ${f.type==="admin"?"bg-red-500":f.type==="merchant"?"bg-[#f58220]":"bg-[#3db54e]"}`,children:f.name.charAt(0)}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-sm",children:f.name}),n.jsx("p",{className:"text-xs text-gray-500",children:f.email}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(xt,{variant:"secondary",className:"text-xs",children:f.type==="admin"?"Admin":f.type==="merchant"?"Lojista":"Cliente"}),d(f.status)]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold text-gray-900",children:o(f.balance)}),n.jsx("p",{className:"text-xs text-gray-500",children:f.lastActivity})]})]},f.id))}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-500",children:"Nenhum usuário encontrado"})]})})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Sx,{className:"h-5 w-5"}),"Ações Administrativas"]})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Rt,{href:"/admin/users",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-[#3db54e] hover:text-[#3db54e] hover:bg-[#3db54e]/5",children:[n.jsx(Qt,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Gerenciar Usuários"})]})}),n.jsx(Rt,{href:"/admin/merchants",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-[#f58220] hover:text-[#f58220] hover:bg-[#f58220]/5",children:[n.jsx(Cr,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Aprovar Lojistas"})]})}),n.jsx(Rt,{href:"/admin/transactions",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-purple-600 hover:text-purple-600 hover:bg-purple-600/5",children:[n.jsx(Hr,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Transações"})]})}),n.jsx(Rt,{href:"/admin/reports",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-blue-600 hover:text-blue-600 hover:bg-blue-600/5",children:[n.jsx(lc,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Relatórios"})]})}),n.jsx(Rt,{href:"/admin/withdrawals",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-green-600 hover:text-green-600 hover:bg-green-600/5",children:[n.jsx(ta,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Processar Saques"})]})}),n.jsx(Rt,{href:"/admin/settings",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-gray-600 hover:text-gray-600 hover:bg-gray-600/5",children:[n.jsx(yo,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Configurações"})]})}),n.jsx(Rt,{href:"/admin/brand-settings",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-orange-600 hover:text-orange-600 hover:bg-orange-600/5",children:[n.jsx(Bi,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Marca e Visual"})]})}),n.jsx(Rt,{href:"/admin/logs",children:n.jsxs(J,{variant:"outline",className:"h-20 flex-col gap-2 w-full hover:border-red-600 hover:text-red-600 hover:bg-red-600/5",children:[n.jsx(Bi,{className:"h-6 w-6"}),n.jsx("span",{className:"text-sm",children:"Logs do Sistema"})]})})]})})]})})]})})}function Lfe(){const e=navigator.userAgent.toLowerCase();return/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/.test(e)}function vU(){const e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)?"ios":/android/.test(e)?"android":/windows/.test(e)?"windows":/macintosh|mac os x/.test(e)?"mac":/linux/.test(e)?"linux":null}function Vv(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0}function Ffe(){"serviceWorker"in navigator?window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("Service Worker registrado com sucesso:",e.scope)}).catch(e=>{console.error("Erro ao registrar Service Worker:",e)})}):console.warn("Service Worker não é suportado neste navegador")}var j3="Dialog",[yU,PBe]=va(j3),[Bfe,Mo]=yU(j3),bU=e=>{const{__scopeDialog:t,children:r,open:a,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=E.useRef(null),d=E.useRef(null),[u=!1,f]=zs({prop:a,defaultProp:s,onChange:i});return n.jsx(Bfe,{scope:t,triggerRef:l,contentRef:d,contentId:ii(),titleId:ii(),descriptionId:ii(),open:u,onOpenChange:f,onOpenToggle:E.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};bU.displayName=j3;var wU="DialogTrigger",jU=E.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Mo(wU,r),i=qt(t,s.triggerRef);return n.jsx(ht.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":S3(s.open),...a,ref:i,onClick:ze(e.onClick,s.onOpenToggle)})});jU.displayName=wU;var N3="DialogPortal",[$fe,NU]=yU(N3,{forceMount:void 0}),CU=e=>{const{__scopeDialog:t,forceMount:r,children:a,container:s}=e,i=Mo(N3,t);return n.jsx($fe,{scope:t,forceMount:r,children:E.Children.map(a,o=>n.jsx(sa,{present:r||i.open,children:n.jsx(Km,{asChild:!0,container:s,children:o})}))})};CU.displayName=N3;var _1="DialogOverlay",SU=E.forwardRef((e,t)=>{const r=NU(_1,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Mo(_1,e.__scopeDialog);return i.modal?n.jsx(sa,{present:a||i.open,children:n.jsx(zfe,{...s,ref:t})}):null});SU.displayName=_1;var Vfe=Nd("DialogOverlay.RemoveScroll"),zfe=E.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Mo(_1,r);return n.jsx(E0,{as:Vfe,allowPinchZoom:!0,shards:[s.contentRef],children:n.jsx(ht.div,{"data-state":S3(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),rh="DialogContent",AU=E.forwardRef((e,t)=>{const r=NU(rh,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,i=Mo(rh,e.__scopeDialog);return n.jsx(sa,{present:a||i.open,children:i.modal?n.jsx(Ufe,{...s,ref:t}):n.jsx(Wfe,{...s,ref:t})})});AU.displayName=rh;var Ufe=E.forwardRef((e,t)=>{const r=Mo(rh,e.__scopeDialog),a=E.useRef(null),s=qt(t,r.contentRef,a);return E.useEffect(()=>{const i=a.current;if(i)return Sw(i)},[]),n.jsx(EU,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ze(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ze(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ze(e.onFocusOutside,i=>i.preventDefault())})}),Wfe=E.forwardRef((e,t)=>{const r=Mo(rh,e.__scopeDialog),a=E.useRef(!1),s=E.useRef(!1);return n.jsx(EU,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(a.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:i=>{var d,u;(d=e.onInteractOutside)==null||d.call(e,i),i.defaultPrevented||(a.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),EU=E.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Mo(rh,r),d=E.useRef(null),u=qt(t,d);return Nw(),n.jsxs(n.Fragment,{children:[n.jsx(A0,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:i,children:n.jsx(mh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":S3(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),n.jsxs(n.Fragment,{children:[n.jsx(Hfe,{titleId:l.titleId}),n.jsx(Gfe,{contentRef:d,descriptionId:l.descriptionId})]})]})}),C3="DialogTitle",TU=E.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Mo(C3,r);return n.jsx(ht.h2,{id:s.titleId,...a,ref:t})});TU.displayName=C3;var _U="DialogDescription",PU=E.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Mo(_U,r);return n.jsx(ht.p,{id:s.descriptionId,...a,ref:t})});PU.displayName=_U;var OU="DialogClose",kU=E.forwardRef((e,t)=>{const{__scopeDialog:r,...a}=e,s=Mo(OU,r);return n.jsx(ht.button,{type:"button",...a,ref:t,onClick:ze(e.onClick,()=>s.onOpenChange(!1))})});kU.displayName=OU;function S3(e){return e?"open":"closed"}var IU="DialogTitleWarning",[OBe,MU]=wee(IU,{contentName:rh,titleName:C3,docsSlug:"dialog"}),Hfe=({titleId:e})=>{const t=MU(IU),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return E.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},qfe="DialogDescriptionWarning",Gfe=({contentRef:e,descriptionId:t})=>{const a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${MU(qfe).contentName}}.`;return E.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null},Kfe=bU,Yfe=jU,Xfe=CU,RU=SU,DU=AU,LU=TU,FU=PU,BU=kU;const wn=Kfe,Qfe=Yfe,Zfe=Xfe,zv=BU,$U=E.forwardRef(({className:e,...t},r)=>n.jsx(RU,{ref:r,className:Ue("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));$U.displayName=RU.displayName;const un=E.forwardRef(({className:e,children:t,...r},a)=>n.jsxs(Zfe,{children:[n.jsx($U,{}),n.jsxs(DU,{ref:a,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,n.jsxs(BU,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[n.jsx(ph,{className:"h-4 w-4"}),n.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));un.displayName=DU.displayName;const hn=({className:e,...t})=>n.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});hn.displayName="DialogHeader";const Aa=({className:e,...t})=>n.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Aa.displayName="DialogFooter";const fn=E.forwardRef(({className:e,...t},r)=>n.jsx(LU,{ref:r,className:Ue("text-lg font-semibold leading-none tracking-tight",e),...t}));fn.displayName=LU.displayName;const jn=E.forwardRef(({className:e,...t},r)=>n.jsx(FU,{ref:r,className:Ue("text-sm text-muted-foreground",e),...t}));jn.displayName=FU.displayName;let Fc=null;window.deferredPromptGlobal=Fc;function Jfe(){const[e,t]=E.useState(!1),[r,a]=E.useState(!1),[s,i]=E.useState(null),[o,l]=E.useState(!0),[d,u]=E.useState(!1),[f,p]=E.useState(!1);bs();const{toast:x}=rr();E.useEffect(()=>{const O=vU();if(i(O),console.log("ModernPWAInstall: Sistema operacional detectado:",O),Vv()){console.log("ModernPWAInstall: App já está instalado como PWA");return}const R=q=>{q.preventDefault(),console.log("ModernPWAInstall: BeforeInstallPrompt capturado!",q),Fc=q,window.deferredPromptGlobal=Fc,l(!0),setTimeout(()=>{d||t(!0)},3e3)},V=()=>{console.log("ModernPWAInstall: App instalado com sucesso!"),t(!1),a(!1),Fc=null,x({title:"Aplicativo instalado!",description:"Vale Cashback foi adicionado à sua tela inicial."})},z=()=>{!e&&!Vv&&!d&&(localStorage.getItem("user-session-started")?(console.log("ModernPWAInstall: Permitindo instalação após interação do usuário"),localStorage.setItem("user-interaction-detected","true"),document.removeEventListener("click",z)):localStorage.setItem("user-session-started","true"))};if(window.addEventListener("beforeinstallprompt",R),window.addEventListener("appinstalled",V),document.addEventListener("click",z),document.cookie.includes("connect.sid")){const q=setTimeout(()=>{!d&&!Vv&&!e&&t(!0)},5e3);return()=>{clearTimeout(q),window.removeEventListener("beforeinstallprompt",R),window.removeEventListener("appinstalled",V),document.removeEventListener("click",z)}}return()=>{window.removeEventListener("beforeinstallprompt",R),window.removeEventListener("appinstalled",V),document.removeEventListener("click",z)}},[d,e,x]),E.useEffect(()=>{window.showModernInstallBanner=j;const O=()=>{try{document.querySelectorAll('a[href="/downloads"]').forEach(R=>{const V=R.parentElement;V&&(V.style.display="none")})}catch(D){console.error("Erro ao limpar páginas de download:",D)}};if(document.readyState==="complete")O();else return window.addEventListener("load",O),()=>window.removeEventListener("load",O)},[]);const y=async()=>{if(console.log("Tentando instalar app PWA nativamente..."),p(!0),Fc){try{Fc.prompt();const{outcome:O}=await Fc.userChoice;console.log(`Usuário ${O==="accepted"?"aceitou":"recusou"} a instalação`),O==="accepted"?(t(!1),a(!1),x({title:"Instalação em andamento",description:"O Vale Cashback está sendo adicionado à sua tela inicial."})):x({title:"Instalação cancelada",description:"Você pode instalar o app a qualquer momento pelo menu.",variant:"destructive"})}catch(O){console.error("Erro no prompt de instalação:",O),x({title:"Erro na instalação",description:"Houve um problema ao instalar o aplicativo. Tente novamente.",variant:"destructive"})}Fc=null}else a(!0);p(!1)},j=()=>{t(!0),u(!1)},w=()=>{t(!1),u(!0),localStorage.setItem("pwa-install-dismissed","true")},C=()=>{a(!0),t(!1)},N=async()=>{if(navigator.share)try{await navigator.share({title:"Vale Cashback",text:"Instale o Vale Cashback para gerenciar suas finanças de forma fácil e rápida!",url:window.location.href}),x({title:"Link compartilhado!",description:"Use a opção 'Adicionar à Tela Inicial' para instalar o app."})}catch(O){console.error("Erro ao compartilhar:",O)}else C()};if(d||Vv()||!e&&!r)return null;const S=s==="ios",I=S?"ios":s==="android"?"android":"desktop",T=()=>n.jsx("div",{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:bottom-4 md:w-96 z-50 pwa-install-banner",children:n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow-xl border p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary text-primary-foreground flex items-center justify-center pwa-icon-pulse",children:n.jsx(Pa,{className:"h-6 w-6"})}),n.jsxs("div",{className:"ml-3",children:[n.jsx("h3",{className:"font-semibold",children:"Instale o Vale Cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Acesse mais rápido, offline e com melhor experiência."})]})]}),n.jsx(J,{variant:"ghost",size:"icon",onClick:w,className:"h-8 w-8 -mt-1 -mr-1 pwa-close-btn",children:n.jsx(ph,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"flex space-x-2 mt-3",children:S?n.jsxs(n.Fragment,{children:[n.jsxs(J,{variant:"outline",className:"flex-1 pwa-install-btn",onClick:N,children:[n.jsx(im,{className:"h-4 w-4 mr-2"}),"Compartilhar"]}),n.jsxs(J,{className:"flex-1 pwa-install-btn",onClick:C,children:[n.jsx(mw,{className:"h-4 w-4 mr-2"}),"Instalar"]})]}):n.jsxs(n.Fragment,{children:[n.jsxs(J,{variant:"outline",className:"flex-1 pwa-install-btn",onClick:C,children:[n.jsx(am,{className:"h-4 w-4 mr-2"}),"Como instalar"]}),n.jsxs(J,{className:"flex-1 pwa-install-btn",onClick:y,disabled:f,children:[f?n.jsx("div",{className:"pwa-install-progress mr-2 w-4"}):n.jsx(H2,{className:"h-4 w-4 mr-2"}),"Instalar App"]})]})})]})}),M=n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{className:"sm:max-w-md",onClick:O=>O.stopPropagation(),children:[n.jsxs(hn,{children:[n.jsxs(fn,{className:"flex items-center gap-2",children:[n.jsx(bo,{className:"h-5 w-5 text-primary"}),"Instale o Vale Cashback no seu dispositivo"]}),n.jsx(jn,{children:"Siga as instruções abaixo para instalar o aplicativo e aproveitar todos os recursos."})]}),n.jsxs(Dr,{defaultValue:I,className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3",children:[n.jsxs($e,{value:"ios",className:"flex items-center gap-1",children:[n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M16.4 1.4C13.4 1.4 12.7 3.2 10.7 3.2C8.6 3.2 6.7 1.4 4.6 1.4C2.5 1.4 0 3.2 0 7.3C0 11.3 4.4 17.7 7.8 17.7C9.7 17.7 10.6 16.3 12.8 16.3C14.9 16.3 15.7 17.7 17.7 17.7C20.6 17.7 24 12.7 24 7.3C23.9 3.2 21.6 1.4 16.4 1.4Z",fill:"currentColor"}),n.jsx("path",{d:"M14.4 0C13.8 0.9 13.5 2 13.5 3.2C13.5 5.5 14.5 7.5 16.1 8.5C16.6 7.6 17 6.5 17 5.2C17 2.9 15.9 0.9 14.4 0Z",fill:"currentColor"})]}),"iOS"]}),n.jsxs($e,{value:"android",className:"flex items-center gap-1",children:[n.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{d:"M17.5051 7.46332V16.0916C17.5051 16.6139 17.0834 17.0355 16.5611 17.0355H15.9508V20.1866C15.9508 21.1888 15.1392 22.0004 14.137 22.0004C13.1348 22.0004 12.3232 21.1888 12.3232 20.1866V17.0355H11.6763V20.1866C11.6763 21.1888 10.8647 22.0004 9.86248 22.0004C8.86029 22.0004 8.04868 21.1888 8.04868 20.1866V17.0355H7.43844C6.9161 17.0355 6.49448 16.6139 6.49448 16.0916V7.46332H17.5051ZM3.94752 7.46332C4.94971 7.46332 5.76133 8.27493 5.76133 9.27712V14.2778C5.76133 15.28 4.94971 16.0916 3.94752 16.0916C2.94533 16.0916 2.13372 15.28 2.13372 14.2778V9.27712C2.13372 8.27493 2.94533 7.46332 3.94752 7.46332ZM20.0521 7.46332C21.0543 7.46332 21.8659 8.27493 21.8659 9.27712V14.2778C21.8659 15.28 21.0543 16.0916 20.0521 16.0916C19.0499 16.0916 18.2383 15.28 18.2383 14.2778V9.27712C18.2383 8.27493 19.0499 7.46332 20.0521 7.46332ZM15.2316 2.06026L16.6212 0.67067C16.8134 0.47845 16.8134 0.167814 16.6212 -0.0244027C16.429 -0.21662 16.1183 -0.21662 15.9261 -0.0244027L14.3774 1.52423C13.6309 1.17866 12.8316 0.986877 11.9995 0.986877C11.1679 0.986877 10.3685 1.17866 9.62201 1.52423L8.07331 -0.0244027C7.88109 -0.21662 7.57046 -0.21662 7.37824 -0.0244027C7.18602 0.167814 7.18602 0.47845 7.37824 0.67067L8.76783 2.06026C7.35429 3.11171 6.44138 4.79525 6.44138 6.67903C6.44138 6.74057 6.44285 6.8016 6.44529 6.86212H17.5542C17.5566 6.8016 17.5581 6.74057 17.5581 6.67903C17.5581 4.79525 16.6452 3.11171 15.2316 2.06026ZM9.86248 4.25424C9.50757 4.25424 9.21983 3.9665 9.21983 3.61159C9.21983 3.25668 9.50757 2.96895 9.86248 2.96895C10.2174 2.96895 10.5051 3.25668 10.5051 3.61159C10.5051 3.9665 10.2174 4.25424 9.86248 4.25424ZM14.137 4.25424C13.7821 4.25424 13.4944 3.9665 13.4944 3.61159C13.4944 3.25668 13.7821 2.96895 14.137 2.96895C14.4919 2.96895 14.7797 3.25668 14.7797 3.61159C14.7797 3.9665 14.4919 4.25424 14.137 4.25424Z",fill:"currentColor"})}),"Android"]}),n.jsxs($e,{value:"desktop",children:[n.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M20 4H4C2.89543 4 2 4.89543 2 6V18C2 19.1046 2.89543 20 4 20H20C21.1046 20 22 19.1046 22 18V6C22 4.89543 21.1046 4 20 4Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),n.jsx("path",{d:"M2 8H22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Desktop"]})]}),n.jsx(Ze,{value:"ios",className:"pt-4 pwa-page-transition",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Abra o site no Safari"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"O Vale Cashback só pode ser instalado usando o navegador Safari no iOS."}),n.jsx("div",{className:"mt-1 p-2 bg-muted rounded-md",children:n.jsx("small",{className:"text-xs text-muted-foreground",children:"Se você está usando outro navegador, copie o link e abra no Safari"})})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Toque no botão de compartilhamento"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Toque no ícone de compartilhamento ",n.jsx("span",{className:"inline-block border rounded-md px-2 py-1",children:"⮭"})," na parte inferior (iPhone) ou superior (iPad) do navegador."]})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Adicione à tela de início"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Role para baixo e toque em "Adicionar à Tela de Início" e confirme tocando em "Adicionar".'})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Abra o aplicativo"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Toque no ícone do Vale Cashback na sua tela de início para abrir o aplicativo."})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsxs(J,{className:"w-full pwa-install-btn",onClick:N,children:[n.jsx(im,{className:"h-4 w-4 mr-2"}),"Compartilhar para instalar"]})})]})}),n.jsx(Ze,{value:"android",className:"pt-4 pwa-page-transition",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Abra o site no Chrome"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Para melhor experiência, use o Google Chrome para instalar o Vale Cashback."})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Toque no menu"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Toque no menu (três pontos) no canto superior direito do Chrome."})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Instale o aplicativo"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Selecione "Instalar aplicativo" ou "Adicionar à tela inicial" e confirme a instalação.'})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"4"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Abra o aplicativo"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Toque no ícone do Vale Cashback na sua tela inicial para abrir o aplicativo."})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsxs(J,{className:"w-full pwa-install-btn",onClick:y,disabled:f,children:[f?n.jsx("div",{className:"pwa-install-progress mr-2 w-4"}):n.jsx(H2,{className:"h-4 w-4 mr-2"}),"Instalar o Vale Cashback"]})})]})}),n.jsx(Ze,{value:"desktop",className:"pt-4 pwa-page-transition",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"1"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Localize o ícone de instalação"}),n.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["No Chrome, Edge ou Opera, procure o ícone de instalação ",n.jsx("span",{className:"inline-block border rounded-md px-1",children:"+"})," na barra de endereço."]})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"2"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Clique para instalar"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Clique no ícone e selecione "Instalar" na janela que aparecer.'})]})]}),n.jsxs("div",{className:"grid grid-cols-[32px_1fr] gap-3 items-start pwa-instructions-step rounded-lg p-2",children:[n.jsx("div",{className:"bg-primary text-primary-foreground rounded-full h-7 w-7 flex items-center justify-center text-sm font-medium",children:"3"}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Confirme a instalação"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:'Clique em "Instalar" no diálogo de confirmação que aparecer.'})]})]}),n.jsx("div",{className:"mt-6 flex justify-center",children:n.jsxs(J,{className:"w-full pwa-install-btn",onClick:y,disabled:f,children:[f?n.jsx("div",{className:"pwa-install-progress mr-2 w-4"}):n.jsx(H2,{className:"h-4 w-4 mr-2"}),"Instalar o Vale Cashback"]})})]})})]}),n.jsxs(Aa,{className:"flex flex-col sm:flex-row sm:justify-between sm:space-x-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>a(!1),className:"mb-2 sm:mb-0",children:"Fechar"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Instale para receber notificações e usar sem internet!"})]})]})});return n.jsxs(n.Fragment,{children:[e&&n.jsx(T,{}),r&&M]})}function A3({children:e,title:t,description:r,footer:a,showHero:s=!0}){return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[n.jsx(jd,{children:n.jsxs("title",{children:[t," | Vale Cashback"]})}),n.jsxs("div",{className:"flex flex-1 flex-col md:flex-row",children:[n.jsxs("div",{className:"hidden md:flex bg-gradient-to-br from-blue-800 via-blue-700 to-blue-600 py-8 px-6 flex-1 flex-col justify-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgzMCkiPjxyZWN0IHg9IjAiIHk9IjAiIHdpZHRoPSIyMCIgaGVpZ2h0PSIyMCIgZmlsbD0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIvPjwvcGF0dGVybj48L2RlZnM+PHJlY3QgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0idXJsKCNwYXR0ZXJuKSIvPjwvc3ZnPg==')] opacity-20"}),n.jsxs("div",{className:"relative z-10 max-w-xl mx-auto text-white",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("div",{className:"flex items-center justify-center mb-6",children:n.jsx("img",{src:"/LOGO-VALE-CASHBACK.SEM-FUNDO.png",alt:"Vale Cashback Logo",className:"h-52 w-auto",style:{maxWidth:"100%",filter:"brightness(0) invert(1)"}})}),n.jsx("div",{className:"h-1 w-20 bg-orange-400 rounded-full mb-6"})]}),n.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Programa de cashback e fidelidade completo"}),n.jsx("p",{className:"text-blue-100 mb-10 text-lg",children:"Conectamos lojistas e clientes em uma plataforma de fidelidade com cashback, referências e muito mais."}),n.jsxs("div",{className:"space-y-6 mb-10",children:[n.jsxs("div",{className:"flex items-center bg-white/10 p-4 rounded-lg backdrop-blur-sm transition-all hover:bg-white/20",children:[n.jsx("div",{className:"bg-orange-400 p-3 rounded-full text-white mr-4",children:n.jsx(Mr,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg",children:"Cashback em todas as compras"}),n.jsx("p",{className:"text-blue-100",children:"Ganhe dinheiro de volta em todas as compras nas lojas participantes."})]})]}),n.jsxs("div",{className:"flex items-center bg-white/10 p-4 rounded-lg backdrop-blur-sm transition-all hover:bg-white/20",children:[n.jsx("div",{className:"bg-orange-400 p-3 rounded-full text-white mr-4",children:n.jsx(Qt,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg",children:"Sistema de indicação com bonificações"}),n.jsx("p",{className:"text-blue-100",children:"Indique amigos e ganhe bônus de cashback em cada indicação."})]})]}),n.jsxs("div",{className:"flex items-center bg-white/10 p-4 rounded-lg backdrop-blur-sm transition-all hover:bg-white/20",children:[n.jsx("div",{className:"bg-orange-400 p-3 rounded-full text-white mr-4",children:n.jsx(Cr,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg",children:"Plataforma para lojistas"}),n.jsx("p",{className:"text-blue-100",children:"Ferramentas completas para gerenciar vendas e fidelizar clientes."})]})]}),n.jsxs("div",{className:"flex items-center bg-white/10 p-4 rounded-lg backdrop-blur-sm transition-all hover:bg-white/20",children:[n.jsx("div",{className:"bg-orange-400 p-3 rounded-full text-white mr-4",children:n.jsx(lc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg",children:"Relatórios e análises detalhadas"}),n.jsx("p",{className:"text-blue-100",children:"Acompanhe seu saldo e suas transações com relatórios completos."})]})]})]}),n.jsxs("div",{className:"text-sm text-blue-200",children:["© Vale Cashback ",new Date().getFullYear()," - Todos os direitos reservados"]})]})]}),n.jsx("div",{className:"flex-1 flex items-center justify-center p-6 bg-gray-50",children:n.jsxs(ne,{className:"w-full max-w-md shadow-lg border-0",children:[n.jsx("div",{className:"md:hidden flex justify-center items-center mt-4 mb-2",children:n.jsx("img",{src:"/LOGO-VALE-CASHBACK.SEM-FUNDO.png",alt:"Vale Cashback Logo",className:"h-24 w-auto"})}),n.jsxs(de,{className:"pb-2",children:[n.jsx(ue,{className:"text-2xl font-bold text-center text-gray-800",children:t}),r&&n.jsx(Re,{className:"text-center text-gray-500 text-base",children:r})]}),n.jsx(ae,{children:e}),a&&n.jsx(jr,{className:"border-t border-gray-100 pt-4 text-center flex flex-col",children:a})]})})]})]})}var F0=e=>e.type==="checkbox",bu=e=>e instanceof Date,us=e=>e==null;const VU=e=>typeof e=="object";var Yn=e=>!us(e)&&!Array.isArray(e)&&VU(e)&&!bu(e),zU=e=>Yn(e)&&e.target?F0(e.target)?e.target.checked:e.target.value:e,eme=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,UU=(e,t)=>e.has(eme(t)),tme=e=>{const t=e.constructor&&e.constructor.prototype;return Yn(t)&&t.hasOwnProperty("isPrototypeOf")},E3=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Da(e){let t;const r=Array.isArray(e),a=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(E3&&(e instanceof Blob||a))&&(r||Yn(e)))if(t=r?[]:{},!r&&!tme(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Da(e[s]));else return e;return t}var Hw=e=>Array.isArray(e)?e.filter(Boolean):[],qn=e=>e===void 0,nt=(e,t,r)=>{if(!t||!Yn(e))return r;const a=Hw(t.split(/[,[\].]+?/)).reduce((s,i)=>us(s)?s:s[i],e);return qn(a)||a===e?qn(e[t])?r:e[t]:a},Js=e=>typeof e=="boolean",T3=e=>/^\w*$/.test(e),WU=e=>Hw(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Ir=(e,t,r)=>{let a=-1;const s=T3(t)?[t]:WU(t),i=s.length,o=i-1;for(;++a<i;){const l=s[a];let d=r;if(a!==o){const u=e[l];d=Yn(u)||Array.isArray(u)?u:isNaN(+s[a+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=d,e=e[l]}};const P1={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},po={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ol={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HU=Q.createContext(null),qw=()=>Q.useContext(HU),rme=e=>{const{children:t,...r}=e;return Q.createElement(HU.Provider,{value:r},t)};var qU=(e,t,r,a=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==po.all&&(t._proxyFormState[o]=!a||po.all),r&&(r[o]=!0),e[o]}});return s};function nme(e){const t=qw(),{control:r=t.control,disabled:a,name:s,exact:i}=e||{},[o,l]=Q.useState(r._formState),d=Q.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Q.useRef(s);return u.current=s,Q.useEffect(()=>r._subscribe({name:u.current,formState:d.current,exact:i,callback:f=>{!a&&l({...r._formState,...f})}}),[r,a,i]),Q.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),Q.useMemo(()=>qU(o,r,d.current,!1),[o,r])}var el=e=>typeof e=="string",GU=(e,t,r,a,s)=>el(e)?(a&&t.watch.add(e),nt(r,e,s)):Array.isArray(e)?e.map(i=>(a&&t.watch.add(i),nt(r,i))):(a&&(t.watchAll=!0),r);function ame(e){const t=qw(),{control:r=t.control,name:a,defaultValue:s,disabled:i,exact:o}=e||{},l=Q.useRef(a),d=Q.useRef(s);l.current=a,Q.useEffect(()=>r._subscribe({name:l.current,formState:{values:!0},exact:o,callback:p=>!i&&f(GU(l.current,r._names,p.values||r._formValues,!1,d.current))}),[r,i,o]);const[u,f]=Q.useState(r._getWatch(a,s));return Q.useEffect(()=>r._removeUnmounted()),u}function sme(e){const t=qw(),{name:r,disabled:a,control:s=t.control,shouldUnregister:i}=e,o=UU(s._names.array,r),l=ame({control:s,name:r,defaultValue:nt(s._formValues,r,nt(s._defaultValues,r,e.defaultValue)),exact:!0}),d=nme({control:s,name:r,exact:!0}),u=Q.useRef(e),f=Q.useRef(s.register(r,{...e.rules,value:l,...Js(e.disabled)?{disabled:e.disabled}:{}})),p=Q.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!nt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!nt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!nt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!nt(d.validatingFields,r)},error:{enumerable:!0,get:()=>nt(d.errors,r)}}),[d,r]),x=Q.useCallback(C=>f.current.onChange({target:{value:zU(C),name:r},type:P1.CHANGE}),[r]),y=Q.useCallback(()=>f.current.onBlur({target:{value:nt(s._formValues,r),name:r},type:P1.BLUR}),[r,s._formValues]),j=Q.useCallback(C=>{const N=nt(s._fields,r);N&&C&&(N._f.ref={focus:()=>C.focus(),select:()=>C.select(),setCustomValidity:S=>C.setCustomValidity(S),reportValidity:()=>C.reportValidity()})},[s._fields,r]),w=Q.useMemo(()=>({name:r,value:l,...Js(a)||d.disabled?{disabled:d.disabled||a}:{},onChange:x,onBlur:y,ref:j}),[r,a,d.disabled,x,y,j,l]);return Q.useEffect(()=>{const C=s._options.shouldUnregister||i;s.register(r,{...u.current.rules,...Js(u.current.disabled)?{disabled:u.current.disabled}:{}});const N=(S,_)=>{const I=nt(s._fields,S);I&&I._f&&(I._f.mount=_)};if(N(r,!0),C){const S=Da(nt(s._options.defaultValues,r));Ir(s._defaultValues,r,S),qn(nt(s._formValues,r))&&Ir(s._formValues,r,S)}return!o&&s.register(r),()=>{(o?C&&!s._state.action:C)?s.unregister(r):N(r,!1)}},[r,s,o,i]),Q.useEffect(()=>{s._setDisabledField({disabled:a,name:r})},[a,r,s]),Q.useMemo(()=>({field:w,formState:d,fieldState:p}),[w,d,p])}const ime=e=>e.render(sme(e));var KU=(e,t,r,a,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[a]:s||!0}}:{},Px=e=>Array.isArray(e)?e:[e],vM=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},aA=e=>us(e)||!VU(e);function Wc(e,t){if(aA(e)||aA(t))return e===t;if(bu(e)&&bu(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(const s of r){const i=e[s];if(!a.includes(s))return!1;if(s!=="ref"){const o=t[s];if(bu(i)&&bu(o)||Yn(i)&&Yn(o)||Array.isArray(i)&&Array.isArray(o)?!Wc(i,o):i!==o)return!1}}return!0}var os=e=>Yn(e)&&!Object.keys(e).length,_3=e=>e.type==="file",xo=e=>typeof e=="function",O1=e=>{if(!E3)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},YU=e=>e.type==="select-multiple",P3=e=>e.type==="radio",ome=e=>P3(e)||F0(e),wN=e=>O1(e)&&e.isConnected;function lme(e,t){const r=t.slice(0,-1).length;let a=0;for(;a<r;)e=qn(e)?a++:e[t[a++]];return e}function cme(e){for(const t in e)if(e.hasOwnProperty(t)&&!qn(e[t]))return!1;return!0}function da(e,t){const r=Array.isArray(t)?t:T3(t)?[t]:WU(t),a=r.length===1?e:lme(e,r),s=r.length-1,i=r[s];return a&&delete a[i],s!==0&&(Yn(a)&&os(a)||Array.isArray(a)&&cme(a))&&da(e,r.slice(0,-1)),e}var XU=e=>{for(const t in e)if(xo(e[t]))return!0;return!1};function k1(e,t={}){const r=Array.isArray(e);if(Yn(e)||r)for(const a in e)Array.isArray(e[a])||Yn(e[a])&&!XU(e[a])?(t[a]=Array.isArray(e[a])?[]:{},k1(e[a],t[a])):us(e[a])||(t[a]=!0);return t}function QU(e,t,r){const a=Array.isArray(e);if(Yn(e)||a)for(const s in e)Array.isArray(e[s])||Yn(e[s])&&!XU(e[s])?qn(t)||aA(r[s])?r[s]=Array.isArray(e[s])?k1(e[s],[]):{...k1(e[s])}:QU(e[s],us(t)?{}:t[s],r[s]):r[s]=!Wc(e[s],t[s]);return r}var $p=(e,t)=>QU(e,t,k1(t));const yM={value:!1,isValid:!1},bM={value:!0,isValid:!0};var ZU=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!qn(e[0].attributes.value)?qn(e[0].value)||e[0].value===""?bM:{value:e[0].value,isValid:!0}:bM:yM}return yM},JU=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:a})=>qn(e)?e:t?e===""?NaN:e&&+e:r&&el(e)?new Date(e):a?a(e):e;const wM={isValid:!1,value:null};var eW=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,wM):wM;function jM(e){const t=e.ref;return _3(t)?t.files:P3(t)?eW(e.refs).value:YU(t)?[...t.selectedOptions].map(({value:r})=>r):F0(t)?ZU(e.refs).value:JU(qn(t.value)?e.ref.value:t.value,e)}var dme=(e,t,r,a)=>{const s={};for(const i of e){const o=nt(t,i);o&&Ir(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:a}},I1=e=>e instanceof RegExp,Vp=e=>qn(e)?e:I1(e)?e.source:Yn(e)?I1(e.value)?e.value.source:e.value:e,NM=e=>({isOnSubmit:!e||e===po.onSubmit,isOnBlur:e===po.onBlur,isOnChange:e===po.onChange,isOnAll:e===po.all,isOnTouch:e===po.onTouched});const CM="AsyncFunction";var ume=e=>!!e&&!!e.validate&&!!(xo(e.validate)&&e.validate.constructor.name===CM||Yn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===CM)),hme=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),SM=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(a=>e.startsWith(a)&&/^\.\w+/.test(e.slice(a.length))));const Ox=(e,t,r,a)=>{for(const s of r||Object.keys(e)){const i=nt(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!a)return!0;if(o.ref&&t(o.ref,o.name)&&!a)return!0;if(Ox(l,t))break}else if(Yn(l)&&Ox(l,t))break}}};function AM(e,t,r){const a=nt(e,r);if(a||T3(r))return{error:a,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=nt(t,i),l=nt(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};s.pop()}return{name:r}}var fme=(e,t,r,a)=>{r(e);const{name:s,...i}=e;return os(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!a||po.all))},mme=(e,t,r)=>!e||!t||e===t||Px(e).some(a=>a&&(r?a===t:a.startsWith(t)||t.startsWith(a))),pme=(e,t,r,a,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?a.isOnBlur:s.isOnBlur)?!e:(r?a.isOnChange:s.isOnChange)?e:!0,xme=(e,t)=>!Hw(nt(e,t)).length&&da(e,t),gme=(e,t,r)=>{const a=Px(nt(e,r));return Ir(a,"root",t[r]),Ir(e,r,a),e},Py=e=>el(e);function EM(e,t,r="validate"){if(Py(e)||Array.isArray(e)&&e.every(Py)||Js(e)&&!e)return{type:r,message:Py(e)?e:"",ref:t}}var Vh=e=>Yn(e)&&!I1(e)?e:{value:e,message:""},TM=async(e,t,r,a,s,i)=>{const{ref:o,refs:l,required:d,maxLength:u,minLength:f,min:p,max:x,pattern:y,validate:j,name:w,valueAsNumber:C,mount:N}=e._f,S=nt(r,w);if(!N||t.has(w))return{};const _=l?l[0]:o,I=B=>{s&&_.reportValidity&&(_.setCustomValidity(Js(B)?"":B||""),_.reportValidity())},T={},M=P3(o),O=F0(o),D=M||O,R=(C||_3(o))&&qn(o.value)&&qn(S)||O1(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,V=KU.bind(null,w,a,T),z=(B,q,$,L=Ol.maxLength,H=Ol.minLength)=>{const G=B?q:$;T[w]={type:B?L:H,message:G,ref:o,...V(B?L:H,G)}};if(i?!Array.isArray(S)||!S.length:d&&(!D&&(R||us(S))||Js(S)&&!S||O&&!ZU(l).isValid||M&&!eW(l).isValid)){const{value:B,message:q}=Py(d)?{value:!!d,message:d}:Vh(d);if(B&&(T[w]={type:Ol.required,message:q,ref:_,...V(Ol.required,q)},!a))return I(q),T}if(!R&&(!us(p)||!us(x))){let B,q;const $=Vh(x),L=Vh(p);if(!us(S)&&!isNaN(S)){const H=o.valueAsNumber||S&&+S;us($.value)||(B=H>$.value),us(L.value)||(q=H<L.value)}else{const H=o.valueAsDate||new Date(S),G=X=>new Date(new Date().toDateString()+" "+X),Y=o.type=="time",te=o.type=="week";el($.value)&&S&&(B=Y?G(S)>G($.value):te?S>$.value:H>new Date($.value)),el(L.value)&&S&&(q=Y?G(S)<G(L.value):te?S<L.value:H<new Date(L.value))}if((B||q)&&(z(!!B,$.message,L.message,Ol.max,Ol.min),!a))return I(T[w].message),T}if((u||f)&&!R&&(el(S)||i&&Array.isArray(S))){const B=Vh(u),q=Vh(f),$=!us(B.value)&&S.length>+B.value,L=!us(q.value)&&S.length<+q.value;if(($||L)&&(z($,B.message,q.message),!a))return I(T[w].message),T}if(y&&!R&&el(S)){const{value:B,message:q}=Vh(y);if(I1(B)&&!S.match(B)&&(T[w]={type:Ol.pattern,message:q,ref:o,...V(Ol.pattern,q)},!a))return I(q),T}if(j){if(xo(j)){const B=await j(S,r),q=EM(B,_);if(q&&(T[w]={...q,...V(Ol.validate,q.message)},!a))return I(q.message),T}else if(Yn(j)){let B={};for(const q in j){if(!os(B)&&!a)break;const $=EM(await j[q](S,r),_,q);$&&(B={...$,...V(q,$.message)},I($.message),a&&(T[w]=B))}if(!os(B)&&(T[w]={ref:_,...B},!a))return T}}return I(!0),T};const vme={mode:po.onSubmit,reValidateMode:po.onChange,shouldFocusError:!0};function yme(e={}){let t={...vme,...e},r={submitCount:0,isDirty:!1,isLoading:xo(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const a={};let s=Yn(t.defaultValues)||Yn(t.values)?Da(t.values||t.defaultValues)||{}:{},i=t.shouldUnregister?{}:Da(s),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const x={array:vM(),state:vM()},y=NM(t.mode),j=NM(t.reValidateMode),w=t.criteriaMode===po.all,C=ie=>xe=>{clearTimeout(u),u=setTimeout(ie,xe)},N=async ie=>{if(!t.disabled&&(f.isValid||p.isValid||ie)){const xe=t.resolver?os((await R()).errors):await z(a,!0);xe!==r.isValid&&x.state.next({isValid:xe})}},S=(ie,xe)=>{!t.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((ie||Array.from(l.mount)).forEach(Ne=>{Ne&&(xe?Ir(r.validatingFields,Ne,xe):da(r.validatingFields,Ne))}),x.state.next({validatingFields:r.validatingFields,isValidating:!os(r.validatingFields)}))},_=(ie,xe=[],Ne,et,Ye=!0,Ke=!0)=>{if(et&&Ne&&!t.disabled){if(o.action=!0,Ke&&Array.isArray(nt(a,ie))){const ct=Ne(nt(a,ie),et.argA,et.argB);Ye&&Ir(a,ie,ct)}if(Ke&&Array.isArray(nt(r.errors,ie))){const ct=Ne(nt(r.errors,ie),et.argA,et.argB);Ye&&Ir(r.errors,ie,ct),xme(r.errors,ie)}if((f.touchedFields||p.touchedFields)&&Ke&&Array.isArray(nt(r.touchedFields,ie))){const ct=Ne(nt(r.touchedFields,ie),et.argA,et.argB);Ye&&Ir(r.touchedFields,ie,ct)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=$p(s,i)),x.state.next({name:ie,isDirty:q(ie,xe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Ir(i,ie,xe)},I=(ie,xe)=>{Ir(r.errors,ie,xe),x.state.next({errors:r.errors})},T=ie=>{r.errors=ie,x.state.next({errors:r.errors,isValid:!1})},M=(ie,xe,Ne,et)=>{const Ye=nt(a,ie);if(Ye){const Ke=nt(i,ie,qn(Ne)?nt(s,ie):Ne);qn(Ke)||et&&et.defaultChecked||xe?Ir(i,ie,xe?Ke:jM(Ye._f)):H(ie,Ke),o.mount&&N()}},O=(ie,xe,Ne,et,Ye)=>{let Ke=!1,ct=!1;const Vt={name:ie};if(!t.disabled){if(!Ne||et){(f.isDirty||p.isDirty)&&(ct=r.isDirty,r.isDirty=Vt.isDirty=q(),Ke=ct!==Vt.isDirty);const Cn=Wc(nt(s,ie),xe);ct=!!nt(r.dirtyFields,ie),Cn?da(r.dirtyFields,ie):Ir(r.dirtyFields,ie,!0),Vt.dirtyFields=r.dirtyFields,Ke=Ke||(f.dirtyFields||p.dirtyFields)&&ct!==!Cn}if(Ne){const Cn=nt(r.touchedFields,ie);Cn||(Ir(r.touchedFields,ie,Ne),Vt.touchedFields=r.touchedFields,Ke=Ke||(f.touchedFields||p.touchedFields)&&Cn!==Ne)}Ke&&Ye&&x.state.next(Vt)}return Ke?Vt:{}},D=(ie,xe,Ne,et)=>{const Ye=nt(r.errors,ie),Ke=(f.isValid||p.isValid)&&Js(xe)&&r.isValid!==xe;if(t.delayError&&Ne?(d=C(()=>I(ie,Ne)),d(t.delayError)):(clearTimeout(u),d=null,Ne?Ir(r.errors,ie,Ne):da(r.errors,ie)),(Ne?!Wc(Ye,Ne):Ye)||!os(et)||Ke){const ct={...et,...Ke&&Js(xe)?{isValid:xe}:{},errors:r.errors,name:ie};r={...r,...ct},x.state.next(ct)}},R=async ie=>{S(ie,!0);const xe=await t.resolver(i,t.context,dme(ie||l.mount,a,t.criteriaMode,t.shouldUseNativeValidation));return S(ie),xe},V=async ie=>{const{errors:xe}=await R(ie);if(ie)for(const Ne of ie){const et=nt(xe,Ne);et?Ir(r.errors,Ne,et):da(r.errors,Ne)}else r.errors=xe;return xe},z=async(ie,xe,Ne={valid:!0})=>{for(const et in ie){const Ye=ie[et];if(Ye){const{_f:Ke,...ct}=Ye;if(Ke){const Vt=l.array.has(Ke.name),Cn=Ye._f&&ume(Ye._f);Cn&&f.validatingFields&&S([et],!0);const zn=await TM(Ye,l.disabled,i,w,t.shouldUseNativeValidation&&!xe,Vt);if(Cn&&f.validatingFields&&S([et]),zn[Ke.name]&&(Ne.valid=!1,xe))break;!xe&&(nt(zn,Ke.name)?Vt?gme(r.errors,zn,Ke.name):Ir(r.errors,Ke.name,zn[Ke.name]):da(r.errors,Ke.name))}!os(ct)&&await z(ct,xe,Ne)}}return Ne.valid},B=()=>{for(const ie of l.unMount){const xe=nt(a,ie);xe&&(xe._f.refs?xe._f.refs.every(Ne=>!wN(Ne)):!wN(xe._f.ref))&&Ae(ie)}l.unMount=new Set},q=(ie,xe)=>!t.disabled&&(ie&&xe&&Ir(i,ie,xe),!Wc(re(),s)),$=(ie,xe,Ne)=>GU(ie,l,{...o.mount?i:qn(xe)?s:el(ie)?{[ie]:xe}:xe},Ne,xe),L=ie=>Hw(nt(o.mount?i:s,ie,t.shouldUnregister?nt(s,ie,[]):[])),H=(ie,xe,Ne={})=>{const et=nt(a,ie);let Ye=xe;if(et){const Ke=et._f;Ke&&(!Ke.disabled&&Ir(i,ie,JU(xe,Ke)),Ye=O1(Ke.ref)&&us(xe)?"":xe,YU(Ke.ref)?[...Ke.ref.options].forEach(ct=>ct.selected=Ye.includes(ct.value)):Ke.refs?F0(Ke.ref)?Ke.refs.length>1?Ke.refs.forEach(ct=>(!ct.defaultChecked||!ct.disabled)&&(ct.checked=Array.isArray(Ye)?!!Ye.find(Vt=>Vt===ct.value):Ye===ct.value)):Ke.refs[0]&&(Ke.refs[0].checked=!!Ye):Ke.refs.forEach(ct=>ct.checked=ct.value===Ye):_3(Ke.ref)?Ke.ref.value="":(Ke.ref.value=Ye,Ke.ref.type||x.state.next({name:ie,values:Da(i)})))}(Ne.shouldDirty||Ne.shouldTouch)&&O(ie,Ye,Ne.shouldTouch,Ne.shouldDirty,!0),Ne.shouldValidate&&fe(ie)},G=(ie,xe,Ne)=>{for(const et in xe){const Ye=xe[et],Ke=`${ie}.${et}`,ct=nt(a,Ke);(l.array.has(ie)||Yn(Ye)||ct&&!ct._f)&&!bu(Ye)?G(Ke,Ye,Ne):H(Ke,Ye,Ne)}},Y=(ie,xe,Ne={})=>{const et=nt(a,ie),Ye=l.array.has(ie),Ke=Da(xe);Ir(i,ie,Ke),Ye?(x.array.next({name:ie,values:Da(i)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&Ne.shouldDirty&&x.state.next({name:ie,dirtyFields:$p(s,i),isDirty:q(ie,Ke)})):et&&!et._f&&!us(Ke)?G(ie,Ke,Ne):H(ie,Ke,Ne),SM(ie,l)&&x.state.next({...r}),x.state.next({name:o.mount?ie:void 0,values:Da(i)})},te=async ie=>{o.mount=!0;const xe=ie.target;let Ne=xe.name,et=!0;const Ye=nt(a,Ne),Ke=ct=>{et=Number.isNaN(ct)||bu(ct)&&isNaN(ct.getTime())||Wc(ct,nt(i,Ne,ct))};if(Ye){let ct,Vt;const Cn=xe.type?jM(Ye._f):zU(ie),zn=ie.type===P1.BLUR||ie.type===P1.FOCUS_OUT,Hj=!hme(Ye._f)&&!t.resolver&&!nt(r.errors,Ne)&&!Ye._f.deps||pme(zn,nt(r.touchedFields,Ne),r.isSubmitted,j,y),pn=SM(Ne,l,zn);Ir(i,Ne,Cn),zn?(Ye._f.onBlur&&Ye._f.onBlur(ie),d&&d(0)):Ye._f.onChange&&Ye._f.onChange(ie);const Xe=O(Ne,Cn,zn),Un=!os(Xe)||pn;if(!zn&&x.state.next({name:Ne,type:ie.type,values:Da(i)}),Hj)return(f.isValid||p.isValid)&&(t.mode==="onBlur"?zn&&N():zn||N()),Un&&x.state.next({name:Ne,...pn?{}:Xe});if(!zn&&pn&&x.state.next({...r}),t.resolver){const{errors:Or}=await R([Ne]);if(Ke(Cn),et){const xn=AM(r.errors,a,Ne),jc=AM(Or,a,xn.name||Ne);ct=jc.error,Ne=jc.name,Vt=os(Or)}}else S([Ne],!0),ct=(await TM(Ye,l.disabled,i,w,t.shouldUseNativeValidation))[Ne],S([Ne]),Ke(Cn),et&&(ct?Vt=!1:(f.isValid||p.isValid)&&(Vt=await z(a,!0)));et&&(Ye._f.deps&&fe(Ye._f.deps),D(Ne,Vt,ct,Xe))}},X=(ie,xe)=>{if(nt(r.errors,xe)&&ie.focus)return ie.focus(),1},fe=async(ie,xe={})=>{let Ne,et;const Ye=Px(ie);if(t.resolver){const Ke=await V(qn(ie)?ie:Ye);Ne=os(Ke),et=ie?!Ye.some(ct=>nt(Ke,ct)):Ne}else ie?(et=(await Promise.all(Ye.map(async Ke=>{const ct=nt(a,Ke);return await z(ct&&ct._f?{[Ke]:ct}:ct)}))).every(Boolean),!(!et&&!r.isValid)&&N()):et=Ne=await z(a);return x.state.next({...!el(ie)||(f.isValid||p.isValid)&&Ne!==r.isValid?{}:{name:ie},...t.resolver||!ie?{isValid:Ne}:{},errors:r.errors}),xe.shouldFocus&&!et&&Ox(a,X,ie?Ye:l.mount),et},re=ie=>{const xe={...o.mount?i:s};return qn(ie)?xe:el(ie)?nt(xe,ie):ie.map(Ne=>nt(xe,Ne))},se=(ie,xe)=>({invalid:!!nt((xe||r).errors,ie),isDirty:!!nt((xe||r).dirtyFields,ie),error:nt((xe||r).errors,ie),isValidating:!!nt(r.validatingFields,ie),isTouched:!!nt((xe||r).touchedFields,ie)}),Te=ie=>{ie&&Px(ie).forEach(xe=>da(r.errors,xe)),x.state.next({errors:ie?r.errors:{}})},vt=(ie,xe,Ne)=>{const et=(nt(a,ie,{_f:{}})._f||{}).ref,Ye=nt(r.errors,ie)||{},{ref:Ke,message:ct,type:Vt,...Cn}=Ye;Ir(r.errors,ie,{...Cn,...xe,ref:et}),x.state.next({name:ie,errors:r.errors,isValid:!1}),Ne&&Ne.shouldFocus&&et&&et.focus&&et.focus()},Me=(ie,xe)=>xo(ie)?x.state.subscribe({next:Ne=>ie($(void 0,xe),Ne)}):$(ie,xe,!0),he=ie=>x.state.subscribe({next:xe=>{mme(ie.name,xe.name,ie.exact)&&fme(xe,ie.formState||f,ot,ie.reRenderRoot)&&ie.callback({values:{...i},...r,...xe})}}).unsubscribe,rt=ie=>(o.mount=!0,p={...p,...ie.formState},he({...ie,formState:p})),Ae=(ie,xe={})=>{for(const Ne of ie?Px(ie):l.mount)l.mount.delete(Ne),l.array.delete(Ne),xe.keepValue||(da(a,Ne),da(i,Ne)),!xe.keepError&&da(r.errors,Ne),!xe.keepDirty&&da(r.dirtyFields,Ne),!xe.keepTouched&&da(r.touchedFields,Ne),!xe.keepIsValidating&&da(r.validatingFields,Ne),!t.shouldUnregister&&!xe.keepDefaultValue&&da(s,Ne);x.state.next({values:Da(i)}),x.state.next({...r,...xe.keepDirty?{isDirty:q()}:{}}),!xe.keepIsValid&&N()},Je=({disabled:ie,name:xe})=>{(Js(ie)&&o.mount||ie||l.disabled.has(xe))&&(ie?l.disabled.add(xe):l.disabled.delete(xe))},Ge=(ie,xe={})=>{let Ne=nt(a,ie);const et=Js(xe.disabled)||Js(t.disabled);return Ir(a,ie,{...Ne||{},_f:{...Ne&&Ne._f?Ne._f:{ref:{name:ie}},name:ie,mount:!0,...xe}}),l.mount.add(ie),Ne?Je({disabled:Js(xe.disabled)?xe.disabled:t.disabled,name:ie}):M(ie,!0,xe.value),{...et?{disabled:xe.disabled||t.disabled}:{},...t.progressive?{required:!!xe.required,min:Vp(xe.min),max:Vp(xe.max),minLength:Vp(xe.minLength),maxLength:Vp(xe.maxLength),pattern:Vp(xe.pattern)}:{},name:ie,onChange:te,onBlur:te,ref:Ye=>{if(Ye){Ge(ie,xe),Ne=nt(a,ie);const Ke=qn(Ye.value)&&Ye.querySelectorAll&&Ye.querySelectorAll("input,select,textarea")[0]||Ye,ct=ome(Ke),Vt=Ne._f.refs||[];if(ct?Vt.find(Cn=>Cn===Ke):Ke===Ne._f.ref)return;Ir(a,ie,{_f:{...Ne._f,...ct?{refs:[...Vt.filter(wN),Ke,...Array.isArray(nt(s,ie))?[{}]:[]],ref:{type:Ke.type,name:ie}}:{ref:Ke}}}),M(ie,!1,void 0,Ke)}else Ne=nt(a,ie,{}),Ne._f&&(Ne._f.mount=!1),(t.shouldUnregister||xe.shouldUnregister)&&!(UU(l.array,ie)&&o.action)&&l.unMount.add(ie)}}},je=()=>t.shouldFocusError&&Ox(a,X,l.mount),it=ie=>{Js(ie)&&(x.state.next({disabled:ie}),Ox(a,(xe,Ne)=>{const et=nt(a,Ne);et&&(xe.disabled=et._f.disabled||ie,Array.isArray(et._f.refs)&&et._f.refs.forEach(Ye=>{Ye.disabled=et._f.disabled||ie}))},0,!1))},wt=(ie,xe)=>async Ne=>{let et;Ne&&(Ne.preventDefault&&Ne.preventDefault(),Ne.persist&&Ne.persist());let Ye=Da(i);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Ke,values:ct}=await R();r.errors=Ke,Ye=ct}else await z(a);if(l.disabled.size)for(const Ke of l.disabled)Ir(Ye,Ke,void 0);if(da(r.errors,"root"),os(r.errors)){x.state.next({errors:{}});try{await ie(Ye,Ne)}catch(Ke){et=Ke}}else xe&&await xe({...r.errors},Ne),je(),setTimeout(je);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:os(r.errors)&&!et,submitCount:r.submitCount+1,errors:r.errors}),et)throw et},nr=(ie,xe={})=>{nt(a,ie)&&(qn(xe.defaultValue)?Y(ie,Da(nt(s,ie))):(Y(ie,xe.defaultValue),Ir(s,ie,Da(xe.defaultValue))),xe.keepTouched||da(r.touchedFields,ie),xe.keepDirty||(da(r.dirtyFields,ie),r.isDirty=xe.defaultValue?q(ie,Da(nt(s,ie))):q()),xe.keepError||(da(r.errors,ie),f.isValid&&N()),x.state.next({...r}))},pr=(ie,xe={})=>{const Ne=ie?Da(ie):s,et=Da(Ne),Ye=os(ie),Ke=Ye?s:et;if(xe.keepDefaultValues||(s=Ne),!xe.keepValues){if(xe.keepDirtyValues){const ct=new Set([...l.mount,...Object.keys($p(s,i))]);for(const Vt of Array.from(ct))nt(r.dirtyFields,Vt)?Ir(Ke,Vt,nt(i,Vt)):Y(Vt,nt(Ke,Vt))}else{if(E3&&qn(ie))for(const ct of l.mount){const Vt=nt(a,ct);if(Vt&&Vt._f){const Cn=Array.isArray(Vt._f.refs)?Vt._f.refs[0]:Vt._f.ref;if(O1(Cn)){const zn=Cn.closest("form");if(zn){zn.reset();break}}}}for(const ct of l.mount)Y(ct,nt(Ke,ct))}i=Da(Ke),x.array.next({values:{...Ke}}),x.state.next({values:{...Ke}})}l={mount:xe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues,o.watch=!!t.shouldUnregister,x.state.next({submitCount:xe.keepSubmitCount?r.submitCount:0,isDirty:Ye?!1:xe.keepDirty?r.isDirty:!!(xe.keepDefaultValues&&!Wc(ie,s)),isSubmitted:xe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ye?{}:xe.keepDirtyValues?xe.keepDefaultValues&&i?$p(s,i):r.dirtyFields:xe.keepDefaultValues&&ie?$p(s,ie):xe.keepDirty?r.dirtyFields:{},touchedFields:xe.keepTouched?r.touchedFields:{},errors:xe.keepErrors?r.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Gt=(ie,xe)=>pr(xo(ie)?ie(i):ie,xe),Ee=(ie,xe={})=>{const Ne=nt(a,ie),et=Ne&&Ne._f;if(et){const Ye=et.refs?et.refs[0]:et.ref;Ye.focus&&(Ye.focus(),xe.shouldSelect&&xo(Ye.select)&&Ye.select())}},ot=ie=>{r={...r,...ie}},st={control:{register:Ge,unregister:Ae,getFieldState:se,handleSubmit:wt,setError:vt,_subscribe:he,_runSchema:R,_getWatch:$,_getDirty:q,_setValid:N,_setFieldArray:_,_setDisabledField:Je,_setErrors:T,_getFieldArray:L,_reset:pr,_resetDefaultValues:()=>xo(t.defaultValues)&&t.defaultValues().then(ie=>{Gt(ie,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:B,_disableForm:it,_subjects:x,_proxyFormState:f,get _fields(){return a},get _formValues(){return i},get _state(){return o},set _state(ie){o=ie},get _defaultValues(){return s},get _names(){return l},set _names(ie){l=ie},get _formState(){return r},get _options(){return t},set _options(ie){t={...t,...ie}}},subscribe:rt,trigger:fe,register:Ge,handleSubmit:wt,watch:Me,setValue:Y,getValues:re,reset:Gt,resetField:nr,clearErrors:Te,unregister:Ae,setError:vt,setFocus:Ee,getFieldState:se};return{...st,formControl:st}}function Ea(e={}){const t=Q.useRef(void 0),r=Q.useRef(void 0),[a,s]=Q.useState({isDirty:!1,isValidating:!1,isLoading:xo(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:xo(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:yme(e),formState:a},e.formControl&&e.defaultValues&&!xo(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const i=t.current.control;return i._options=e,Q.useLayoutEffect(()=>i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0}),[i]),Q.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),Q.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==a.isDirty&&i._subjects.state.next({isDirty:o})}},[i,a.isDirty]),Q.useEffect(()=>{e.values&&!Wc(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,s(o=>({...o}))):i._resetDefaultValues()},[e.values,i]),Q.useEffect(()=>{e.errors&&!os(e.errors)&&i._setErrors(e.errors)},[e.errors,i]),Q.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),Q.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[e.shouldUnregister,i]),t.current.formState=qU(a,i),t.current}const _M=(e,t,r)=>{if(e&&"reportValidity"in e){const a=nt(r,t);e.setCustomValidity(a&&a.message||""),e.reportValidity()}},tW=(e,t)=>{for(const r in t.fields){const a=t.fields[r];a&&a.ref&&"reportValidity"in a.ref?_M(a.ref,r,e):a.refs&&a.refs.forEach(s=>_M(s,r,e))}},bme=(e,t)=>{t.shouldUseNativeValidation&&tW(e,t);const r={};for(const a in e){const s=nt(t.fields,a),i=Object.assign(e[a]||{},{ref:s&&s.ref});if(wme(t.names||Object.keys(e),a)){const o=Object.assign({},nt(r,a));Ir(o,"root",i),Ir(r,a,o)}else Ir(r,a,i)}return r},wme=(e,t)=>e.some(r=>r.startsWith(t+"."));var jme=function(e,t){for(var r={};e.length;){var a=e[0],s=a.code,i=a.message,o=a.path.join(".");if(!r[o])if("unionErrors"in a){var l=a.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in a&&a.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return e.push(p)})}),t){var d=r[o].types,u=d&&d[a.code];r[o]=KU(o,t,r,s,u?[].concat(u,a.message):a.message)}e.shift()}return r},Ta=function(e,t,r){return r===void 0&&(r={}),function(a,s,i){try{return Promise.resolve(function(o,l){try{var d=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](a,t)).then(function(u){return i.shouldUseNativeValidation&&tW({},i),{errors:{},values:r.raw?a:u}})}catch(u){return l(u)}return d&&d.then?d.then(void 0,l):d}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:bme(jme(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},yr;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=a,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(yr||(yr={}));var sA;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(sA||(sA={}));const ut=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Bl=e=>{switch(typeof e){case"undefined":return ut.undefined;case"string":return ut.string;case"number":return isNaN(e)?ut.nan:ut.number;case"boolean":return ut.boolean;case"function":return ut.function;case"bigint":return ut.bigint;case"symbol":return ut.symbol;case"object":return Array.isArray(e)?ut.array:e===null?ut.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ut.promise:typeof Map<"u"&&e instanceof Map?ut.map:typeof Set<"u"&&e instanceof Set?ut.set:typeof Date<"u"&&e instanceof Date?ut.date:ut.object;default:return ut.unknown}},Ve=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Nme=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ci extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},a={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)a._errors.push(r(o));else{let l=a,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],d++}}};return s(this),a}static assert(t){if(!(t instanceof ci))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},a=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):a.push(t(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}}ci.create=e=>new ci(e);const pm=(e,t)=>{let r;switch(e.code){case Ve.invalid_type:e.received===ut.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ve.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,yr.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:r=`Unrecognized key(s) in object: ${yr.joinValues(e.keys,", ")}`;break;case Ve.invalid_union:r="Invalid input";break;case Ve.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${yr.joinValues(e.options)}`;break;case Ve.invalid_enum_value:r=`Invalid enum value. Expected ${yr.joinValues(e.options)}, received '${e.received}'`;break;case Ve.invalid_arguments:r="Invalid function arguments";break;case Ve.invalid_return_type:r="Invalid function return type";break;case Ve.invalid_date:r="Invalid date";break;case Ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:yr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ve.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ve.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ve.custom:r="Invalid input";break;case Ve.invalid_intersection_types:r="Intersection results could not be merged";break;case Ve.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ve.not_finite:r="Number must be finite";break;default:r=t.defaultError,yr.assertNever(e)}return{message:r}};let rW=pm;function Cme(e){rW=e}function M1(){return rW}const R1=e=>{const{data:t,path:r,errorMaps:a,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const d=a.filter(u=>!!u).slice().reverse();for(const u of d)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}},Sme=[];function at(e,t){const r=M1(),a=R1({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===pm?void 0:pm].filter(s=>!!s)});e.common.issues.push(a)}class rs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const a=[];for(const s of r){if(s.status==="aborted")return Wt;s.status==="dirty"&&t.dirty(),a.push(s.value)}return{status:t.value,value:a}}static async mergeObjectAsync(t,r){const a=[];for(const s of r){const i=await s.key,o=await s.value;a.push({key:i,value:o})}return rs.mergeObjectSync(t,a)}static mergeObjectSync(t,r){const a={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Wt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(a[i.value]=o.value)}return{status:t.value,value:a}}}const Wt=Object.freeze({status:"aborted"}),hf=e=>({status:"dirty",value:e}),gs=e=>({status:"valid",value:e}),iA=e=>e.status==="aborted",oA=e=>e.status==="dirty",nh=e=>e.status==="valid",xg=e=>typeof Promise<"u"&&e instanceof Promise;function D1(e,t,r,a){if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function nW(e,t,r,a,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var yt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(yt||(yt={}));var dx,ux;class yl{constructor(t,r,a,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const PM=(e,t)=>{if(nh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new ci(e.common.issues);return this._error=r,this._error}}};function Jt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:a,description:s}=e;if(t&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{var d,u;const{message:f}=e;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(d=f??a)!==null&&d!==void 0?d:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(u=f??r)!==null&&u!==void 0?u:l.defaultError}},description:s}}class or{get description(){return this._def.description}_getType(t){return Bl(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Bl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new rs,ctx:{common:t.parent.common,data:t.data,parsedType:Bl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(xg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const a=this.safeParse(t,r);if(a.success)return a.data;throw a.error}safeParse(t,r){var a;const s={common:{issues:[],async:(a=r==null?void 0:r.async)!==null&&a!==void 0?a:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bl(t)},i=this._parseSync({data:t,path:s.path,parent:s});return PM(s,i)}"~validate"(t){var r,a;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bl(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:s});return nh(i)?{value:i.value}:{issues:s.common.issues}}catch(i){!((a=(r=i==null?void 0:i.message)===null||r===void 0?void 0:r.toLowerCase())===null||a===void 0)&&a.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(i=>nh(i)?{value:i.value}:{issues:s.common.issues})}async parseAsync(t,r){const a=await this.safeParseAsync(t,r);if(a.success)return a.data;throw a.error}async safeParseAsync(t,r){const a={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Bl(t)},s=this._parse({data:t,path:a.path,parent:a}),i=await(xg(s)?s:Promise.resolve(s));return PM(a,i)}refine(t,r){const a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:Ve.custom,...a(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((a,s)=>t(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(t){return new ko({schema:this,typeName:$t.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return cl.create(this,this._def)}nullable(){return Id.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ao.create(this)}promise(){return gm.create(this,this._def)}or(t){return bg.create([this,t],this._def)}and(t){return wg.create(this,t,this._def)}transform(t){return new ko({...Jt(this._def),schema:this,typeName:$t.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ag({...Jt(this._def),innerType:this,defaultValue:r,typeName:$t.ZodDefault})}brand(){return new O3({typeName:$t.ZodBranded,type:this,...Jt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Eg({...Jt(this._def),innerType:this,catchValue:r,typeName:$t.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return B0.create(this,t)}readonly(){return Tg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ame=/^c[^\s-]{8,}$/i,Eme=/^[0-9a-z]+$/,Tme=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_me=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pme=/^[a-z0-9_-]{21}$/i,Ome=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kme=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ime=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Mme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jN;const Rme=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Dme=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lme=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Fme=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Bme=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,$me=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,aW="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vme=new RegExp(`^${aW}$`);function sW(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function zme(e){return new RegExp(`^${sW(e)}$`)}function iW(e){let t=`${aW}T${sW(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Ume(e,t){return!!((t==="v4"||!t)&&Rme.test(e)||(t==="v6"||!t)&&Lme.test(e))}function Wme(e,t){if(!Ome.test(e))return!1;try{const[r]=e.split("."),a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function Hme(e,t){return!!((t==="v4"||!t)&&Dme.test(e)||(t==="v6"||!t)&&Fme.test(e))}class wo extends or{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ut.string){const i=this._getOrReturnCtx(t);return at(i,{code:Ve.invalid_type,expected:ut.string,received:i.parsedType}),Wt}const a=new rs;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?at(s,{code:Ve.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&at(s,{code:Ve.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")Ime.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"email",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")jN||(jN=new RegExp(Mme,"u")),jN.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"emoji",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")_me.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"uuid",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")Pme.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"nanoid",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")Ame.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"cuid",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")Eme.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"cuid2",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")Tme.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"ulid",code:Ve.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),at(s,{validation:"url",code:Ve.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"regex",code:Ve.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?iW(i).test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?Vme.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?zme(i).test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?kme.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"duration",code:Ve.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?Ume(t.data,i.version)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"ip",code:Ve.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?Wme(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"jwt",code:Ve.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?Hme(t.data,i.version)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"cidr",code:Ve.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?Bme.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"base64",code:Ve.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?$me.test(t.data)||(s=this._getOrReturnCtx(t,s),at(s,{validation:"base64url",code:Ve.invalid_string,message:i.message}),a.dirty()):yr.assertNever(i);return{status:a.value,value:t.data}}_regex(t,r,a){return this.refinement(s=>t.test(s),{validation:r,code:Ve.invalid_string,...yt.errToObj(a)})}_addCheck(t){return new wo({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...yt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...yt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...yt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...yt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...yt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...yt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...yt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...yt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...yt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...yt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...yt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...yt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...yt.errToObj(t)})}datetime(t){var r,a;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(a=t==null?void 0:t.local)!==null&&a!==void 0?a:!1,...yt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...yt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...yt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...yt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...yt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...yt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...yt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...yt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...yt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...yt.errToObj(r)})}nonempty(t){return this.min(1,yt.errToObj(t))}trim(){return new wo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new wo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wo.create=e=>{var t;return new wo({checks:[],typeName:$t.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Jt(e)})};function qme(e,t){const r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=r>a?r:a,i=parseInt(e.toFixed(s).replace(".","")),o=parseInt(t.toFixed(s).replace(".",""));return i%o/Math.pow(10,s)}class Pd extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ut.number){const i=this._getOrReturnCtx(t);return at(i,{code:Ve.invalid_type,expected:ut.number,received:i.parsedType}),Wt}let a;const s=new rs;for(const i of this._def.checks)i.kind==="int"?yr.isInteger(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qme(t.data,i.value)!==0&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.not_finite,message:i.message}),s.dirty()):yr.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,a,s){return new Pd({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:yt.toString(s)}]})}_addCheck(t){return new Pd({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:yt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:yt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(t===null||a.value<t)&&(t=a.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Pd.create=e=>new Pd({checks:[],typeName:$t.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});class Od extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ut.bigint)return this._getInvalidInput(t);let a;const s=new rs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(t,a),at(a,{code:Ve.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):yr.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ve.invalid_type,expected:ut.bigint,received:r.parsedType}),Wt}gte(t,r){return this.setLimit("min",t,!0,yt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,yt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,yt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,yt.toString(r))}setLimit(t,r,a,s){return new Od({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:a,message:yt.toString(s)}]})}_addCheck(t){return new Od({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:yt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Od.create=e=>{var t;return new Od({checks:[],typeName:$t.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Jt(e)})};class gg extends or{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ut.boolean){const a=this._getOrReturnCtx(t);return at(a,{code:Ve.invalid_type,expected:ut.boolean,received:a.parsedType}),Wt}return gs(t.data)}}gg.create=e=>new gg({typeName:$t.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Jt(e)});class ah extends or{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ut.date){const i=this._getOrReturnCtx(t);return at(i,{code:Ve.invalid_type,expected:ut.date,received:i.parsedType}),Wt}if(isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return at(i,{code:Ve.invalid_date}),Wt}const a=new rs;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),at(s,{code:Ve.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):yr.assertNever(i);return{status:a.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ah({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:yt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:yt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ah.create=e=>new ah({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:$t.ZodDate,...Jt(e)});class L1 extends or{_parse(t){if(this._getType(t)!==ut.symbol){const a=this._getOrReturnCtx(t);return at(a,{code:Ve.invalid_type,expected:ut.symbol,received:a.parsedType}),Wt}return gs(t.data)}}L1.create=e=>new L1({typeName:$t.ZodSymbol,...Jt(e)});class vg extends or{_parse(t){if(this._getType(t)!==ut.undefined){const a=this._getOrReturnCtx(t);return at(a,{code:Ve.invalid_type,expected:ut.undefined,received:a.parsedType}),Wt}return gs(t.data)}}vg.create=e=>new vg({typeName:$t.ZodUndefined,...Jt(e)});class yg extends or{_parse(t){if(this._getType(t)!==ut.null){const a=this._getOrReturnCtx(t);return at(a,{code:Ve.invalid_type,expected:ut.null,received:a.parsedType}),Wt}return gs(t.data)}}yg.create=e=>new yg({typeName:$t.ZodNull,...Jt(e)});class xm extends or{constructor(){super(...arguments),this._any=!0}_parse(t){return gs(t.data)}}xm.create=e=>new xm({typeName:$t.ZodAny,...Jt(e)});class Lu extends or{constructor(){super(...arguments),this._unknown=!0}_parse(t){return gs(t.data)}}Lu.create=e=>new Lu({typeName:$t.ZodUnknown,...Jt(e)});class fc extends or{_parse(t){const r=this._getOrReturnCtx(t);return at(r,{code:Ve.invalid_type,expected:ut.never,received:r.parsedType}),Wt}}fc.create=e=>new fc({typeName:$t.ZodNever,...Jt(e)});class F1 extends or{_parse(t){if(this._getType(t)!==ut.undefined){const a=this._getOrReturnCtx(t);return at(a,{code:Ve.invalid_type,expected:ut.void,received:a.parsedType}),Wt}return gs(t.data)}}F1.create=e=>new F1({typeName:$t.ZodVoid,...Jt(e)});class Ao extends or{_parse(t){const{ctx:r,status:a}=this._processInputParams(t),s=this._def;if(r.parsedType!==ut.array)return at(r,{code:Ve.invalid_type,expected:ut.array,received:r.parsedType}),Wt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(at(r,{code:o?Ve.too_big:Ve.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(at(r,{code:Ve.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(at(r,{code:Ve.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new yl(r,o,r.path,l)))).then(o=>rs.mergeArray(a,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new yl(r,o,r.path,l)));return rs.mergeArray(a,i)}get element(){return this._def.type}min(t,r){return new Ao({...this._def,minLength:{value:t,message:yt.toString(r)}})}max(t,r){return new Ao({...this._def,maxLength:{value:t,message:yt.toString(r)}})}length(t,r){return new Ao({...this._def,exactLength:{value:t,message:yt.toString(r)}})}nonempty(t){return this.min(1,t)}}Ao.create=(e,t)=>new Ao({type:e,minLength:null,maxLength:null,exactLength:null,typeName:$t.ZodArray,...Jt(t)});function qh(e){if(e instanceof An){const t={};for(const r in e.shape){const a=e.shape[r];t[r]=cl.create(qh(a))}return new An({...e._def,shape:()=>t})}else return e instanceof Ao?new Ao({...e._def,type:qh(e.element)}):e instanceof cl?cl.create(qh(e.unwrap())):e instanceof Id?Id.create(qh(e.unwrap())):e instanceof bl?bl.create(e.items.map(t=>qh(t))):e}class An extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=yr.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==ut.object){const u=this._getOrReturnCtx(t);return at(u,{code:Ve.invalid_type,expected:ut.object,received:u.parsedType}),Wt}const{status:a,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof fc&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const d=[];for(const u of o){const f=i[u],p=s.data[u];d.push({key:{status:"valid",value:u},value:f._parse(new yl(s,p,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof fc){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)d.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(u==="strict")l.length>0&&(at(s,{code:Ve.unrecognized_keys,keys:l}),a.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const p=s.data[f];d.push({key:{status:"valid",value:f},value:u._parse(new yl(s,p,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of d){const p=await f.key,x=await f.value;u.push({key:p,value:x,alwaysSet:f.alwaysSet})}return u}).then(u=>rs.mergeObjectSync(a,u)):rs.mergeObjectSync(a,d)}get shape(){return this._def.shape()}strict(t){return yt.errToObj,new An({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,a)=>{var s,i,o,l;const d=(o=(i=(s=this._def).errorMap)===null||i===void 0?void 0:i.call(s,r,a).message)!==null&&o!==void 0?o:a.defaultError;return r.code==="unrecognized_keys"?{message:(l=yt.errToObj(t).message)!==null&&l!==void 0?l:d}:{message:d}}}:{}})}strip(){return new An({...this._def,unknownKeys:"strip"})}passthrough(){return new An({...this._def,unknownKeys:"passthrough"})}extend(t){return new An({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new An({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:$t.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new An({...this._def,catchall:t})}pick(t){const r={};return yr.objectKeys(t).forEach(a=>{t[a]&&this.shape[a]&&(r[a]=this.shape[a])}),new An({...this._def,shape:()=>r})}omit(t){const r={};return yr.objectKeys(this.shape).forEach(a=>{t[a]||(r[a]=this.shape[a])}),new An({...this._def,shape:()=>r})}deepPartial(){return qh(this)}partial(t){const r={};return yr.objectKeys(this.shape).forEach(a=>{const s=this.shape[a];t&&!t[a]?r[a]=s:r[a]=s.optional()}),new An({...this._def,shape:()=>r})}required(t){const r={};return yr.objectKeys(this.shape).forEach(a=>{if(t&&!t[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof cl;)i=i._def.innerType;r[a]=i}}),new An({...this._def,shape:()=>r})}keyof(){return oW(yr.objectKeys(this.shape))}}An.create=(e,t)=>new An({shape:()=>e,unknownKeys:"strip",catchall:fc.create(),typeName:$t.ZodObject,...Jt(t)});An.strictCreate=(e,t)=>new An({shape:()=>e,unknownKeys:"strict",catchall:fc.create(),typeName:$t.ZodObject,...Jt(t)});An.lazycreate=(e,t)=>new An({shape:e,unknownKeys:"strip",catchall:fc.create(),typeName:$t.ZodObject,...Jt(t)});class bg extends or{_parse(t){const{ctx:r}=this._processInputParams(t),a=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new ci(l.ctx.common.issues));return at(r,{code:Ve.invalid_union,unionErrors:o}),Wt}if(r.common.async)return Promise.all(a.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const d of a){const u={...r,common:{...r.common,issues:[]},parent:null},f=d._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!i&&(i={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(d=>new ci(d));return at(r,{code:Ve.invalid_union,unionErrors:l}),Wt}}get options(){return this._def.options}}bg.create=(e,t)=>new bg({options:e,typeName:$t.ZodUnion,...Jt(t)});const Rl=e=>e instanceof Ng?Rl(e.schema):e instanceof ko?Rl(e.innerType()):e instanceof Cg?[e.value]:e instanceof kd?e.options:e instanceof Sg?yr.objectValues(e.enum):e instanceof Ag?Rl(e._def.innerType):e instanceof vg?[void 0]:e instanceof yg?[null]:e instanceof cl?[void 0,...Rl(e.unwrap())]:e instanceof Id?[null,...Rl(e.unwrap())]:e instanceof O3||e instanceof Tg?Rl(e.unwrap()):e instanceof Eg?Rl(e._def.innerType):[];class Gw extends or{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.object)return at(r,{code:Ve.invalid_type,expected:ut.object,received:r.parsedType}),Wt;const a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(at(r,{code:Ve.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Wt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,a){const s=new Map;for(const i of r){const o=Rl(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const l of o){if(s.has(l))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(l)}`);s.set(l,i)}}return new Gw({typeName:$t.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Jt(a)})}}function lA(e,t){const r=Bl(e),a=Bl(t);if(e===t)return{valid:!0,data:e};if(r===ut.object&&a===ut.object){const s=yr.objectKeys(t),i=yr.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const d=lA(e[l],t[l]);if(!d.valid)return{valid:!1};o[l]=d.data}return{valid:!0,data:o}}else if(r===ut.array&&a===ut.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],d=lA(o,l);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===ut.date&&a===ut.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class wg extends or{_parse(t){const{status:r,ctx:a}=this._processInputParams(t),s=(i,o)=>{if(iA(i)||iA(o))return Wt;const l=lA(i.value,o.value);return l.valid?((oA(i)||oA(o))&&r.dirty(),{status:r.value,value:l.data}):(at(a,{code:Ve.invalid_intersection_types}),Wt)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}wg.create=(e,t,r)=>new wg({left:e,right:t,typeName:$t.ZodIntersection,...Jt(r)});class bl extends or{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==ut.array)return at(a,{code:Ve.invalid_type,expected:ut.array,received:a.parsedType}),Wt;if(a.data.length<this._def.items.length)return at(a,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Wt;!this._def.rest&&a.data.length>this._def.items.length&&(at(a,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...a.data].map((o,l)=>{const d=this._def.items[l]||this._def.rest;return d?d._parse(new yl(a,o,a.path,l)):null}).filter(o=>!!o);return a.common.async?Promise.all(i).then(o=>rs.mergeArray(r,o)):rs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new bl({...this._def,rest:t})}}bl.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bl({items:e,typeName:$t.ZodTuple,rest:null,...Jt(t)})};class jg extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==ut.object)return at(a,{code:Ve.invalid_type,expected:ut.object,received:a.parsedType}),Wt;const s=[],i=this._def.keyType,o=this._def.valueType;for(const l in a.data)s.push({key:i._parse(new yl(a,l,a.path,l)),value:o._parse(new yl(a,a.data[l],a.path,l)),alwaysSet:l in a.data});return a.common.async?rs.mergeObjectAsync(r,s):rs.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,a){return r instanceof or?new jg({keyType:t,valueType:r,typeName:$t.ZodRecord,...Jt(a)}):new jg({keyType:wo.create(),valueType:t,typeName:$t.ZodRecord,...Jt(r)})}}class B1 extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==ut.map)return at(a,{code:Ve.invalid_type,expected:ut.map,received:a.parsedType}),Wt;const s=this._def.keyType,i=this._def.valueType,o=[...a.data.entries()].map(([l,d],u)=>({key:s._parse(new yl(a,l,a.path,[u,"key"])),value:i._parse(new yl(a,d,a.path,[u,"value"]))}));if(a.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,f=await d.value;if(u.status==="aborted"||f.status==="aborted")return Wt;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const d of o){const u=d.key,f=d.value;if(u.status==="aborted"||f.status==="aborted")return Wt;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}B1.create=(e,t,r)=>new B1({valueType:t,keyType:e,typeName:$t.ZodMap,...Jt(r)});class sh extends or{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.parsedType!==ut.set)return at(a,{code:Ve.invalid_type,expected:ut.set,received:a.parsedType}),Wt;const s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(at(a,{code:Ve.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(at(a,{code:Ve.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(d){const u=new Set;for(const f of d){if(f.status==="aborted")return Wt;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...a.data.values()].map((d,u)=>i._parse(new yl(a,d,a.path,u)));return a.common.async?Promise.all(l).then(d=>o(d)):o(l)}min(t,r){return new sh({...this._def,minSize:{value:t,message:yt.toString(r)}})}max(t,r){return new sh({...this._def,maxSize:{value:t,message:yt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}sh.create=(e,t)=>new sh({valueType:e,minSize:null,maxSize:null,typeName:$t.ZodSet,...Jt(t)});class Of extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.function)return at(r,{code:Ve.invalid_type,expected:ut.function,received:r.parsedType}),Wt;function a(l,d){return R1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,M1(),pm].filter(u=>!!u),issueData:{code:Ve.invalid_arguments,argumentsError:d}})}function s(l,d){return R1({data:l,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,M1(),pm].filter(u=>!!u),issueData:{code:Ve.invalid_return_type,returnTypeError:d}})}const i={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof gm){const l=this;return gs(async function(...d){const u=new ci([]),f=await l._def.args.parseAsync(d,i).catch(y=>{throw u.addIssue(a(d,y)),u}),p=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(p,i).catch(y=>{throw u.addIssue(s(p,y)),u})})}else{const l=this;return gs(function(...d){const u=l._def.args.safeParse(d,i);if(!u.success)throw new ci([a(d,u.error)]);const f=Reflect.apply(o,this,u.data),p=l._def.returns.safeParse(f,i);if(!p.success)throw new ci([s(f,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Of({...this._def,args:bl.create(t).rest(Lu.create())})}returns(t){return new Of({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,a){return new Of({args:t||bl.create([]).rest(Lu.create()),returns:r||Lu.create(),typeName:$t.ZodFunction,...Jt(a)})}}class Ng extends or{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ng.create=(e,t)=>new Ng({getter:e,typeName:$t.ZodLazy,...Jt(t)});class Cg extends or{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return at(r,{received:r.data,code:Ve.invalid_literal,expected:this._def.value}),Wt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Cg.create=(e,t)=>new Cg({value:e,typeName:$t.ZodLiteral,...Jt(t)});function oW(e,t){return new kd({values:e,typeName:$t.ZodEnum,...Jt(t)})}class kd extends or{constructor(){super(...arguments),dx.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),a=this._def.values;return at(r,{expected:yr.joinValues(a),received:r.parsedType,code:Ve.invalid_type}),Wt}if(D1(this,dx)||nW(this,dx,new Set(this._def.values)),!D1(this,dx).has(t.data)){const r=this._getOrReturnCtx(t),a=this._def.values;return at(r,{received:r.data,code:Ve.invalid_enum_value,options:a}),Wt}return gs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return kd.create(t,{...this._def,...r})}exclude(t,r=this._def){return kd.create(this.options.filter(a=>!t.includes(a)),{...this._def,...r})}}dx=new WeakMap;kd.create=oW;class Sg extends or{constructor(){super(...arguments),ux.set(this,void 0)}_parse(t){const r=yr.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(t);if(a.parsedType!==ut.string&&a.parsedType!==ut.number){const s=yr.objectValues(r);return at(a,{expected:yr.joinValues(s),received:a.parsedType,code:Ve.invalid_type}),Wt}if(D1(this,ux)||nW(this,ux,new Set(yr.getValidEnumValues(this._def.values))),!D1(this,ux).has(t.data)){const s=yr.objectValues(r);return at(a,{received:a.data,code:Ve.invalid_enum_value,options:s}),Wt}return gs(t.data)}get enum(){return this._def.values}}ux=new WeakMap;Sg.create=(e,t)=>new Sg({values:e,typeName:$t.ZodNativeEnum,...Jt(t)});class gm extends or{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ut.promise&&r.common.async===!1)return at(r,{code:Ve.invalid_type,expected:ut.promise,received:r.parsedType}),Wt;const a=r.parsedType===ut.promise?r.data:Promise.resolve(r.data);return gs(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gm.create=(e,t)=>new gm({type:e,typeName:$t.ZodPromise,...Jt(t)});class ko extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===$t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:a}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{at(a,o),o.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(a.data,i);if(a.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Wt;const d=await this._def.schema._parseAsync({data:l,path:a.path,parent:a});return d.status==="aborted"?Wt:d.status==="dirty"||r.value==="dirty"?hf(d.value):d});{if(r.value==="aborted")return Wt;const l=this._def.schema._parseSync({data:o,path:a.path,parent:a});return l.status==="aborted"?Wt:l.status==="dirty"||r.value==="dirty"?hf(l.value):l}}if(s.type==="refinement"){const o=l=>{const d=s.refinement(l,i);if(a.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(a.common.async===!1){const l=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?Wt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(l=>l.status==="aborted"?Wt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(a.common.async===!1){const o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!nh(o))return o;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>nh(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):o);yr.assertNever(s)}}ko.create=(e,t,r)=>new ko({schema:e,typeName:$t.ZodEffects,effect:t,...Jt(r)});ko.createWithPreprocess=(e,t,r)=>new ko({schema:t,effect:{type:"preprocess",transform:e},typeName:$t.ZodEffects,...Jt(r)});class cl extends or{_parse(t){return this._getType(t)===ut.undefined?gs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}cl.create=(e,t)=>new cl({innerType:e,typeName:$t.ZodOptional,...Jt(t)});class Id extends or{_parse(t){return this._getType(t)===ut.null?gs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Id.create=(e,t)=>new Id({innerType:e,typeName:$t.ZodNullable,...Jt(t)});class Ag extends or{_parse(t){const{ctx:r}=this._processInputParams(t);let a=r.data;return r.parsedType===ut.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ag.create=(e,t)=>new Ag({innerType:e,typeName:$t.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Jt(t)});class Eg extends or{_parse(t){const{ctx:r}=this._processInputParams(t),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return xg(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ci(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ci(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Eg.create=(e,t)=>new Eg({innerType:e,typeName:$t.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Jt(t)});class $1 extends or{_parse(t){if(this._getType(t)!==ut.nan){const a=this._getOrReturnCtx(t);return at(a,{code:Ve.invalid_type,expected:ut.nan,received:a.parsedType}),Wt}return{status:"valid",value:t.data}}}$1.create=e=>new $1({typeName:$t.ZodNaN,...Jt(e)});const Gme=Symbol("zod_brand");class O3 extends or{_parse(t){const{ctx:r}=this._processInputParams(t),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}}class B0 extends or{_parse(t){const{status:r,ctx:a}=this._processInputParams(t);if(a.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Wt:i.status==="dirty"?(r.dirty(),hf(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{const s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Wt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(t,r){return new B0({in:t,out:r,typeName:$t.ZodPipeline})}}class Tg extends or{_parse(t){const r=this._def.innerType._parse(t),a=s=>(nh(s)&&(s.value=Object.freeze(s.value)),s);return xg(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}}Tg.create=(e,t)=>new Tg({innerType:e,typeName:$t.ZodReadonly,...Jt(t)});function OM(e,t){const r=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof r=="string"?{message:r}:r}function lW(e,t={},r){return e?xm.create().superRefine((a,s)=>{var i,o;const l=e(a);if(l instanceof Promise)return l.then(d=>{var u,f;if(!d){const p=OM(t,a),x=(f=(u=p.fatal)!==null&&u!==void 0?u:r)!==null&&f!==void 0?f:!0;s.addIssue({code:"custom",...p,fatal:x})}});if(!l){const d=OM(t,a),u=(o=(i=d.fatal)!==null&&i!==void 0?i:r)!==null&&o!==void 0?o:!0;s.addIssue({code:"custom",...d,fatal:u})}}):xm.create()}const Kme={object:An.lazycreate};var $t;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})($t||($t={}));const Yme=(e,t={message:`Input not instance of ${e.name}`})=>lW(r=>r instanceof e,t),Ei=wo.create,cW=Pd.create,Xme=$1.create,Qme=Od.create,dW=gg.create,Zme=ah.create,Jme=L1.create,epe=vg.create,tpe=yg.create,rpe=xm.create,npe=Lu.create,ape=fc.create,spe=F1.create,ipe=Ao.create,uW=An.create,ope=An.strictCreate,lpe=bg.create,cpe=Gw.create,dpe=wg.create,upe=bl.create,hpe=jg.create,fpe=B1.create,mpe=sh.create,ppe=Of.create,xpe=Ng.create,gpe=Cg.create,vpe=kd.create,ype=Sg.create,bpe=gm.create,kM=ko.create,wpe=cl.create,jpe=Id.create,Npe=ko.createWithPreprocess,Cpe=B0.create,Spe=()=>Ei().optional(),Ape=()=>cW().optional(),Epe=()=>dW().optional(),Tpe={string:e=>wo.create({...e,coerce:!0}),number:e=>Pd.create({...e,coerce:!0}),boolean:e=>gg.create({...e,coerce:!0}),bigint:e=>Od.create({...e,coerce:!0}),date:e=>ah.create({...e,coerce:!0})},_pe=Wt;var we=Object.freeze({__proto__:null,defaultErrorMap:pm,setErrorMap:Cme,getErrorMap:M1,makeIssue:R1,EMPTY_PATH:Sme,addIssueToContext:at,ParseStatus:rs,INVALID:Wt,DIRTY:hf,OK:gs,isAborted:iA,isDirty:oA,isValid:nh,isAsync:xg,get util(){return yr},get objectUtil(){return sA},ZodParsedType:ut,getParsedType:Bl,ZodType:or,datetimeRegex:iW,ZodString:wo,ZodNumber:Pd,ZodBigInt:Od,ZodBoolean:gg,ZodDate:ah,ZodSymbol:L1,ZodUndefined:vg,ZodNull:yg,ZodAny:xm,ZodUnknown:Lu,ZodNever:fc,ZodVoid:F1,ZodArray:Ao,ZodObject:An,ZodUnion:bg,ZodDiscriminatedUnion:Gw,ZodIntersection:wg,ZodTuple:bl,ZodRecord:jg,ZodMap:B1,ZodSet:sh,ZodFunction:Of,ZodLazy:Ng,ZodLiteral:Cg,ZodEnum:kd,ZodNativeEnum:Sg,ZodPromise:gm,ZodEffects:ko,ZodTransformer:ko,ZodOptional:cl,ZodNullable:Id,ZodDefault:Ag,ZodCatch:Eg,ZodNaN:$1,BRAND:Gme,ZodBranded:O3,ZodPipeline:B0,ZodReadonly:Tg,custom:lW,Schema:or,ZodSchema:or,late:Kme,get ZodFirstPartyTypeKind(){return $t},coerce:Tpe,any:rpe,array:ipe,bigint:Qme,boolean:dW,date:Zme,discriminatedUnion:cpe,effect:kM,enum:vpe,function:ppe,instanceof:Yme,intersection:dpe,lazy:xpe,literal:gpe,map:fpe,nan:Xme,nativeEnum:ype,never:ape,null:tpe,nullable:jpe,number:cW,object:uW,oboolean:Epe,onumber:Ape,optional:wpe,ostring:Spe,pipeline:Cpe,preprocess:Npe,promise:bpe,record:hpe,set:mpe,strictObject:ope,string:Ei,symbol:Jme,transformer:kM,tuple:upe,undefined:epe,union:lpe,unknown:npe,void:spe,NEVER:_pe,ZodIssueCode:Ve,quotelessJson:Nme,ZodError:ci});const $a=rme,hW=E.createContext({}),Ie=({...e})=>n.jsx(hW.Provider,{value:{name:e.name},children:n.jsx(ime,{...e})}),Kw=()=>{const e=E.useContext(hW),t=E.useContext(fW),{getFieldState:r,formState:a}=qw(),s=r(e.name,a);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:i}=t;return{id:i,name:e.name,formItemId:`${i}-form-item`,formDescriptionId:`${i}-form-item-description`,formMessageId:`${i}-form-item-message`,...s}},fW=E.createContext({}),Pe=E.forwardRef(({className:e,...t},r)=>{const a=E.useId();return n.jsx(fW.Provider,{value:{id:a},children:n.jsx("div",{ref:r,className:Ue("space-y-2",e),...t})})});Pe.displayName="FormItem";const Oe=E.forwardRef(({className:e,...t},r)=>{const{error:a,formItemId:s}=Kw();return n.jsx(Le,{ref:r,className:Ue(a&&"text-destructive",e),htmlFor:s,...t})});Oe.displayName="FormLabel";const ke=E.forwardRef(({...e},t)=>{const{error:r,formItemId:a,formDescriptionId:s,formMessageId:i}=Kw();return n.jsx(pF,{ref:t,id:a,"aria-describedby":r?`${s} ${i}`:`${s}`,"aria-invalid":!!r,...e})});ke.displayName="FormControl";const Pt=E.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:a}=Kw();return n.jsx("p",{ref:r,id:a,className:Ue("text-sm text-muted-foreground",e),...t})});Pt.displayName="FormDescription";const tt=E.forwardRef(({className:e,children:t,...r},a)=>{const{error:s,formMessageId:i}=Kw(),o=s?String((s==null?void 0:s.message)??""):t;return o?n.jsx("p",{ref:a,id:i,className:Ue("text-sm font-medium text-destructive",e),...r,children:o}):null});tt.displayName="FormMessage";function NN(){const[e,t]=E.useState("client"),{login:r,loading:a}=Oa(),{t:s}=bs(),i=we.object({email:we.string().email({message:s("errors.invalidEmail")}),password:we.string().min(6,{message:s("errors.passwordLength")})}),o=Ea({resolver:Ta(i),defaultValues:{email:"",password:""}}),l=async p=>{try{await r(p.email,p.password,e)}catch(x){console.error("Login error:",x),o.setError("root",{type:"manual",message:s("errors.loginFailed")})}},d=()=>{window.location.href="/welcome"},u={client:{icon:n.jsx(ir,{className:"h-5 w-5"}),label:s("auth.clientLogin"),bgColor:"bg-white",hoverBgColor:"hover:bg-gray-50",activeBgColor:"bg-[#3db54e]",textColor:"text-[#3db54e]",activeTextColor:"text-white",borderColor:"border-[#3db54e]/30",buttonColor:"bg-[#3db54e] hover:bg-[#36a146]"},merchant:{icon:n.jsx(Cr,{className:"h-5 w-5"}),label:s("auth.merchantLogin"),bgColor:"bg-white",hoverBgColor:"hover:bg-gray-50",activeBgColor:"bg-[#f58220]",textColor:"text-[#f58220]",activeTextColor:"text-white",borderColor:"border-[#f58220]/30",buttonColor:"bg-[#f58220] hover:bg-[#e37718]"},admin:{icon:n.jsx(JT,{className:"h-5 w-5"}),label:s("auth.adminLogin"),bgColor:"bg-white",hoverBgColor:"hover:bg-gray-50",activeBgColor:"bg-blue-600",textColor:"text-blue-600",activeTextColor:"text-white",borderColor:"border-blue-200",buttonColor:"bg-blue-600 hover:bg-blue-700"}},f=u[e];return n.jsxs(A3,{title:s("auth.loginTitle"),description:s("auth.loginDescription"),children:[n.jsx("div",{className:"mb-8",children:n.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:Object.entries(u).map(([p,x])=>{const y=p===e;return n.jsxs("button",{type:"button",onClick:()=>t(p),className:`relative flex flex-col items-center justify-center p-4 rounded-lg border transition-all duration-300 ${y?`${x.activeBgColor} ${x.activeTextColor} border-transparent shadow-md`:`${x.bgColor} ${x.textColor} ${x.borderColor} ${x.hoverBgColor}`}`,children:[y&&n.jsx(Se.div,{layoutId:"activeBackground",className:"absolute inset-0 rounded-lg",initial:!1,transition:{type:"spring",duration:.5}}),n.jsxs("div",{className:"relative z-10 flex flex-col items-center",children:[n.jsx("div",{className:`rounded-full p-2 mb-2 ${y?"bg-white/20":"bg-white"}`,children:x.icon}),n.jsx("span",{className:"text-sm font-medium",children:x.label})]})]},p)})})}),n.jsx($a,{...o,children:n.jsxs("form",{onSubmit:o.handleSubmit(l),className:"space-y-5",children:[n.jsx(Ie,{control:o.control,name:"email",render:({field:p})=>n.jsxs(Pe,{children:[n.jsx(Oe,{className:"text-gray-600",children:s("auth.email")}),n.jsx(ke,{children:n.jsx(ge,{type:"email",placeholder:"",className:"h-11 px-4",...p,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:o.control,name:"password",render:({field:p})=>n.jsxs(Pe,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Oe,{className:"text-gray-600",children:s("auth.password")}),n.jsx(Rt,{href:"/auth/forgot-password",className:"text-sm text-[#f58220] hover:underline",children:s("auth.forgotPassword")})]}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"",className:"h-11 px-4",...p,disabled:a})}),n.jsx(tt,{})]})}),o.formState.errors.root&&n.jsx("div",{className:"text-sm text-red-500 font-medium mt-2 text-center",children:o.formState.errors.root.message}),n.jsx(J,{type:"submit",className:`w-full h-11 mt-5 transition-all duration-300 ${f.buttonColor}`,disabled:a,children:a?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(lt,{className:"mr-2 h-5 w-5 animate-spin"}),n.jsx("span",{children:s("auth.processing")})]}):n.jsx("div",{className:"flex items-center justify-center",children:n.jsxs("span",{children:[s("auth.loginAs")," ",f.label]})})})]})}),n.jsxs("div",{className:"mt-6 text-center",children:[n.jsxs("p",{className:"text-sm text-gray-500",children:[s("auth.noAccount")," ",n.jsx(Rt,{href:"/auth/register",className:"text-[#3db54e] font-medium hover:underline transition-colors",children:s("auth.signUp")})]}),n.jsx("button",{onClick:d,className:"mt-4 text-sm text-[#f58220] hover:underline cursor-pointer transition-colors",children:"Ver telas de boas-vindas"})]})]})}function Ppe(e){return we.object({name:we.string().min(3,{message:e("validation.nameTooShort")}),email:we.string().email({message:e("errors.invalidEmail")}),phone:we.string().min(10,{message:e("validation.invalidPhone")}).optional(),invitationCode:we.string().optional(),securityQuestion:we.string().min(1,{message:e("validation.selectSecurityQuestion")}),securityAnswer:we.string().min(2,{message:e("validation.provideSecurityAnswer")}),password:we.string().min(6,{message:e("errors.passwordLength")}),confirmPassword:we.string().min(6,{message:e("errors.passwordLength")})}).refine(t=>t.password===t.confirmPassword,{message:e("validation.passwordMismatch"),path:["confirmPassword"]})}function Ope(e){return we.object({name:we.string().min(3,{message:e("validation.nameTooShort")}),email:we.string().email({message:e("errors.invalidEmail")}),phone:we.string().min(10,{message:e("validation.invalidPhone")}).optional(),storeName:we.string().min(3,{message:e("validation.storeNameTooShort")}),category:we.string().min(1,{message:e("validation.selectCategory")}),companyLogo:we.any().optional(),invitationCode:we.string().optional(),securityQuestion:we.string().min(1,{message:e("validation.selectSecurityQuestion")}),securityAnswer:we.string().min(2,{message:e("validation.provideSecurityAnswer")}),password:we.string().min(6,{message:e("errors.passwordLength")}),confirmPassword:we.string().min(6,{message:e("errors.passwordLength")})}).refine(t=>t.password===t.confirmPassword,{message:e("validation.passwordMismatch"),path:["confirmPassword"]})}function IM(){const[e,t]=E.useState("client"),{register:r,loading:a}=Oa(),{t:s}=bs();rr();const[i,o]=E.useState("idle"),[l,d]=E.useState("idle"),[u,f]=E.useState(null),[p,x]=E.useState(null),y=E.useCallback(async T=>{if(!T||!T.includes("@")){o("idle");return}o("checking");try{const M=await fetch("/api/auth/check-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:T})});if(M.ok){const O=await M.json();o(O.exists?"taken":"available")}}catch{o("idle")}},[]),j=E.useCallback(async T=>{if(!T||T.length<10){d("idle");return}d("checking");try{const M=await fetch("/api/auth/check-phone",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:T})});if(M.ok){const O=await M.json();d(O.exists?"taken":"available")}}catch{d("idle")}},[]),w=Ppe(s),C=Ope(s),N=Ea({resolver:Ta(w),defaultValues:{name:"",email:"",phone:"",invitationCode:"",securityQuestion:"",securityAnswer:"",password:"",confirmPassword:""}}),S=Ea({resolver:Ta(C),defaultValues:{name:"",email:"",phone:"",storeName:"",category:"",companyLogo:"",invitationCode:"",securityQuestion:"",securityAnswer:"",password:"",confirmPassword:""}}),_=async T=>{try{await r({...T,type:"client"})}catch(M){console.error("Register error:",M)}},I=async T=>{try{await r({...T,type:"merchant"})}catch(M){console.error("Register error:",M)}};return n.jsxs(A3,{title:s("auth.registerTitle"),description:s("auth.registerDescription"),children:[n.jsxs(Dr,{defaultValue:"client",onValueChange:T=>t(T),children:[n.jsxs(Pr,{className:"grid w-full grid-cols-2 mb-6",children:[n.jsx($e,{value:"client",children:s("auth.client")}),n.jsx($e,{value:"merchant",children:s("auth.merchant")})]}),n.jsx(Ze,{value:"client",children:n.jsx($a,{...N,children:n.jsxs("form",{onSubmit:N.handleSubmit(_),className:"space-y-4",children:[n.jsx(Ie,{control:N.control,name:"name",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:s("auth.fullName")}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:N.control,name:"email",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"E-mail"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"email",placeholder:"",...T,disabled:a,onChange:M=>{T.onChange(M),u&&clearTimeout(u);const O=setTimeout(()=>{y(M.target.value)},1e3);f(O)}}),i==="checking"&&n.jsx(lt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"}),i==="taken"&&n.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-red-500"}),i==="available"&&n.jsx(Jn,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500"})]})}),i==="taken"&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Este email já está em uso"}),i==="available"&&n.jsx("p",{className:"text-sm text-green-500 mt-1",children:"Email disponível"}),n.jsx(tt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ie,{control:N.control,name:"phone",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Telefone"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{placeholder:"",...T,disabled:a,onChange:M=>{T.onChange(M),p&&clearTimeout(p);const O=setTimeout(()=>{j(M.target.value)},1e3);x(O)}}),l==="checking"&&n.jsx(lt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"}),l==="taken"&&n.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-red-500"}),l==="available"&&n.jsx(Jn,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500"})]})}),l==="taken"&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Este telefone já está em uso"}),l==="available"&&n.jsx("p",{className:"text-sm text-green-500 mt-1",children:"Telefone disponível"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:N.control,name:"invitationCode",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Código de Convite"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})})]}),n.jsx(Ie,{control:N.control,name:"securityQuestion",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Pergunta de Segurança"}),n.jsx(ke,{children:n.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...T,disabled:a,children:[n.jsx("option",{value:"",children:"Selecione uma pergunta"}),n.jsx("option",{value:"Qual o nome do seu primeiro animal de estimação?",children:"Qual o nome do seu primeiro animal de estimação?"}),n.jsx("option",{value:"Qual o nome da cidade onde você nasceu?",children:"Qual o nome da cidade onde você nasceu?"}),n.jsx("option",{value:"Qual o nome do seu melhor amigo de infância?",children:"Qual o nome do seu melhor amigo de infância?"}),n.jsx("option",{value:"Qual era o nome da sua primeira escola?",children:"Qual era o nome da sua primeira escola?"}),n.jsx("option",{value:"Qual o modelo do seu primeiro carro?",children:"Qual o modelo do seu primeiro carro?"}),n.jsx("option",{value:"Qual o nome de solteira da sua mãe?",children:"Qual o nome de solteira da sua mãe?"})]})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:N.control,name:"securityAnswer",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Resposta de Segurança"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:N.control,name:"password",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:N.control,name:"confirmPassword",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Confirmar senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(J,{type:"submit",className:"w-full",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):"Cadastrar"})]})})}),n.jsx(Ze,{value:"merchant",children:n.jsx($a,{...S,children:n.jsxs("form",{onSubmit:S.handleSubmit(I),className:"space-y-4",children:[n.jsx(Ie,{control:S.control,name:"name",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome do responsável"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:S.control,name:"storeName",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome da loja"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:S.control,name:"companyLogo",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{className:"text-lg font-bold text-accent",children:"Logo da Empresa"}),n.jsxs("div",{className:"border-2 border-dashed border-accent rounded-md p-4 bg-accent/5",children:[n.jsx(ke,{children:n.jsx(ge,{type:"file",accept:"image/*",className:"bg-white cursor-pointer",onChange:M=>{var D;const O=(D=M.target.files)==null?void 0:D[0];O&&T.onChange(O.name)},disabled:a})}),n.jsx(Pt,{className:"mt-2 text-center",children:"Selecione o arquivo de imagem do logotipo da sua empresa"})]}),n.jsx(tt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ie,{control:S.control,name:"email",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"E-mail"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"email",placeholder:"",...T,disabled:a,onChange:M=>{T.onChange(M),u&&clearTimeout(u);const O=setTimeout(()=>{y(M.target.value)},1e3);f(O)}}),i==="checking"&&n.jsx(lt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"}),i==="taken"&&n.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-red-500"}),i==="available"&&n.jsx(Jn,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500"})]})}),i==="taken"&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Este email já está em uso"}),i==="available"&&n.jsx("p",{className:"text-sm text-green-500 mt-1",children:"Email disponível"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:S.control,name:"phone",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Telefone"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{placeholder:"",...T,disabled:a,onChange:M=>{T.onChange(M),p&&clearTimeout(p);const O=setTimeout(()=>{j(M.target.value)},1e3);x(O)}}),l==="checking"&&n.jsx(lt,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 animate-spin text-gray-400"}),l==="taken"&&n.jsx(Yr,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-red-500"}),l==="available"&&n.jsx(Jn,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-green-500"})]})}),l==="taken"&&n.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Este telefone já está em uso"}),l==="available"&&n.jsx("p",{className:"text-sm text-green-500 mt-1",children:"Telefone disponível"}),n.jsx(tt,{})]})})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsx(Ie,{control:S.control,name:"category",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Categoria"}),n.jsx(ke,{children:n.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...T,disabled:a,children:[n.jsx("option",{value:"",children:"Selecione uma categoria"}),n.jsx("option",{value:"restaurant",children:"Restaurante"}),n.jsx("option",{value:"market",children:"Supermercado"}),n.jsx("option",{value:"pharmacy",children:"Farmácia"}),n.jsx("option",{value:"clothing",children:"Vestuário"}),n.jsx("option",{value:"gas_station",children:"Posto de Combustível"}),n.jsx("option",{value:"other",children:"Outros"})]})}),n.jsx(tt,{})]})})}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsx(Ie,{control:S.control,name:"invitationCode",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Código de Convite"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})})}),n.jsx(Ie,{control:S.control,name:"securityQuestion",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Pergunta de Segurança"}),n.jsx(ke,{children:n.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...T,disabled:a,children:[n.jsx("option",{value:"",children:"Selecione uma pergunta"}),n.jsx("option",{value:"Qual o nome do seu primeiro animal de estimação?",children:"Qual o nome do seu primeiro animal de estimação?"}),n.jsx("option",{value:"Qual o nome da cidade onde você nasceu?",children:"Qual o nome da cidade onde você nasceu?"}),n.jsx("option",{value:"Qual o nome do seu melhor amigo de infância?",children:"Qual o nome do seu melhor amigo de infância?"}),n.jsx("option",{value:"Qual era o nome da sua primeira escola?",children:"Qual era o nome da sua primeira escola?"}),n.jsx("option",{value:"Qual o modelo do seu primeiro carro?",children:"Qual o modelo do seu primeiro carro?"}),n.jsx("option",{value:"Qual o nome de solteira da sua mãe?",children:"Qual o nome de solteira da sua mãe?"})]})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:S.control,name:"securityAnswer",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Resposta de Segurança"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:S.control,name:"password",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:S.control,name:"confirmPassword",render:({field:T})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Confirmar senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"",...T,disabled:a})}),n.jsx(tt,{})]})}),n.jsx(J,{type:"submit",variant:"default",className:"w-full bg-accent",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):"Cadastrar"})]})})})]}),n.jsx("div",{className:"mt-4 text-center",children:n.jsxs("p",{className:"text-sm",children:["Já tem uma conta?"," ",n.jsx(Rt,{href:"/auth/login",className:"text-secondary font-medium hover:underline",children:"Faça login"})]})})]})}var k3="Radio",[kpe,mW]=va(k3),[Ipe,Mpe]=kpe(k3),pW=E.forwardRef((e,t)=>{const{__scopeRadio:r,name:a,checked:s=!1,required:i,disabled:o,value:l="on",onCheck:d,form:u,...f}=e,[p,x]=E.useState(null),y=qt(t,C=>x(C)),j=E.useRef(!1),w=p?u||!!p.closest("form"):!0;return n.jsxs(Ipe,{scope:r,checked:s,disabled:o,children:[n.jsx(ht.button,{type:"button",role:"radio","aria-checked":s,"data-state":vW(s),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:y,onClick:ze(e.onClick,C=>{s||d==null||d(),w&&(j.current=C.isPropagationStopped(),j.current||C.stopPropagation())})}),w&&n.jsx(Rpe,{control:p,bubbles:!j.current,name:a,value:l,checked:s,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});pW.displayName=k3;var xW="RadioIndicator",gW=E.forwardRef((e,t)=>{const{__scopeRadio:r,forceMount:a,...s}=e,i=Mpe(xW,r);return n.jsx(sa,{present:a||i.checked,children:n.jsx(ht.span,{"data-state":vW(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})})});gW.displayName=xW;var Rpe=e=>{const{control:t,checked:r,bubbles:a=!0,...s}=e,i=E.useRef(null),o=Cw(r),l=vw(t);return E.useEffect(()=>{const d=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&p){const x=new Event("click",{bubbles:a});p.call(d,r),d.dispatchEvent(x)}},[o,r,a]),n.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function vW(e){return e?"checked":"unchecked"}var Dpe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],I3="RadioGroup",[Lpe,kBe]=va(I3,[Jm,mW]),yW=Jm(),bW=mW(),[Fpe,Bpe]=Lpe(I3),wW=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,name:a,defaultValue:s,value:i,required:o=!1,disabled:l=!1,orientation:d,dir:u,loop:f=!0,onValueChange:p,...x}=e,y=yW(r),j=xh(u),[w,C]=zs({prop:i,defaultProp:s,onChange:p});return n.jsx(Fpe,{scope:r,name:a,required:o,disabled:l,value:w,onValueChange:C,children:n.jsx(p4,{asChild:!0,...y,orientation:d,dir:j,loop:f,children:n.jsx(ht.div,{role:"radiogroup","aria-required":o,"aria-orientation":d,"data-disabled":l?"":void 0,dir:j,...x,ref:t})})})});wW.displayName=I3;var jW="RadioGroupItem",NW=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,disabled:a,...s}=e,i=Bpe(jW,r),o=i.disabled||a,l=yW(r),d=bW(r),u=E.useRef(null),f=qt(t,u),p=i.value===s.value,x=E.useRef(!1);return E.useEffect(()=>{const y=w=>{Dpe.includes(w.key)&&(x.current=!0)},j=()=>x.current=!1;return document.addEventListener("keydown",y),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",y),document.removeEventListener("keyup",j)}},[]),n.jsx(x4,{asChild:!0,...l,focusable:!o,active:p,children:n.jsx(pW,{disabled:o,required:i.required,checked:p,...d,...s,name:i.name,ref:f,onCheck:()=>i.onValueChange(s.value),onKeyDown:ze(y=>{y.key==="Enter"&&y.preventDefault()}),onFocus:ze(s.onFocus,()=>{var y;x.current&&((y=u.current)==null||y.click())})})})});NW.displayName=jW;var $pe="RadioGroupIndicator",CW=E.forwardRef((e,t)=>{const{__scopeRadioGroup:r,...a}=e,s=bW(r);return n.jsx(gW,{...s,...a,ref:t})});CW.displayName=$pe;var SW=wW,AW=NW,Vpe=CW;const EW=E.forwardRef(({className:e,...t},r)=>n.jsx(SW,{className:Ue("grid gap-2",e),...t,ref:r}));EW.displayName=SW.displayName;const cA=E.forwardRef(({className:e,...t},r)=>n.jsx(AW,{ref:r,className:Ue("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx(Vpe,{className:"flex items-center justify-center",children:n.jsx(QT,{className:"h-2.5 w-2.5 fill-current text-current"})})}));cA.displayName=AW.displayName;const zpe=we.object({email:we.string().email({message:"Email inválido"})}),Upe=we.object({email:we.string().email({message:"Email inválido"}),securityQuestion:we.string().min(1,{message:"Selecione uma pergunta"}),securityAnswer:we.string().min(1,{message:"Resposta é obrigatória"})}),Wpe=["Qual o nome do seu primeiro animal de estimação?","Qual o nome da cidade onde você nasceu?","Qual o nome do seu melhor amigo de infância?","Qual era o nome da sua primeira escola?","Qual o modelo do seu primeiro carro?","Qual o nome de solteira da sua mãe?"];function MM(){const[e,t]=E.useState("email"),[r,a]=E.useState(!1),[s,i]=E.useState(!1),[o,l]=E.useState(!1),{toast:d}=rr(),u=Ea({resolver:Ta(zpe),defaultValues:{email:""}}),f=Ea({resolver:Ta(Upe),defaultValues:{email:"",securityQuestion:"",securityAnswer:""}}),p=async y=>{a(!0);try{await St("POST","/api/auth/forgot-password",{email:y.email,method:"email"}),i(!0),d({title:"Email enviado",description:"Instruções para redefinir sua senha foram enviadas para seu email."})}catch{d({title:"Erro",description:"Não foi possível enviar o email. Verifique se o endereço está correto.",variant:"destructive"})}finally{a(!1)}},x=async y=>{a(!0);try{await St("POST","/api/auth/forgot-password",{email:y.email,method:"security-question",securityQuestion:y.securityQuestion,securityAnswer:y.securityAnswer}),l(!0),d({title:"Senha redefinida",description:"Sua senha foi redefinida com sucesso. Verifique seu email para a nova senha temporária."})}catch{d({title:"Erro",description:"Não foi possível verificar sua resposta. Verifique se as informações estão corretas.",variant:"destructive"})}finally{a(!1)}};return n.jsxs(A3,{title:"Recuperação de Senha",description:"Escolha como você deseja recuperar sua senha",showHero:!0,children:[!s&&!o?n.jsxs(n.Fragment,{children:[n.jsxs(EW,{className:"mb-6 flex flex-col space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",defaultValue:e,onValueChange:y=>t(y),children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cA,{value:"email",id:"email-method"}),n.jsxs(Le,{htmlFor:"email-method",className:"flex items-center",children:[n.jsx(Us,{className:"mr-2 h-4 w-4"}),"Recuperar por Email"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(cA,{value:"security-question",id:"security-question-method"}),n.jsxs(Le,{htmlFor:"security-question-method",className:"flex items-center",children:[n.jsx(Cx,{className:"mr-2 h-4 w-4"}),"Responder Pergunta de Segurança"]})]})]}),e==="email"?n.jsx($a,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(p),className:"space-y-4",children:[n.jsx(Ie,{control:u.control,name:"email",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Email"}),n.jsx(ke,{children:n.jsx(ge,{type:"email",placeholder:"seu@email.com",className:"h-11 px-4",...y,disabled:r})}),n.jsx(tt,{})]})}),n.jsx(J,{type:"submit",className:"w-full h-11 bg-blue-600 hover:bg-blue-700",disabled:r,children:r?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(lt,{className:"mr-2 h-5 w-5 animate-spin"}),n.jsx("span",{children:"Enviando..."})]}):n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("span",{children:"Enviar Link de Recuperação"})})})]})}):n.jsx($a,{...f,children:n.jsxs("form",{onSubmit:f.handleSubmit(x),className:"space-y-4",children:[n.jsx(Ie,{control:f.control,name:"email",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Email"}),n.jsx(ke,{children:n.jsx(ge,{type:"email",placeholder:"seu@email.com",className:"h-11 px-4",...y,disabled:r})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:f.control,name:"securityQuestion",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Pergunta de Segurança"}),n.jsxs(ur,{onValueChange:y.onChange,defaultValue:y.value,disabled:r,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione sua pergunta de segurança"})})}),n.jsx(dr,{children:Wpe.map((j,w)=>n.jsx(ve,{value:j,children:j},w))})]}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:f.control,name:"securityAnswer",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Resposta"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Sua resposta",className:"h-11 px-4",...y,disabled:r})}),n.jsx(tt,{})]})}),n.jsx(J,{type:"submit",className:"w-full h-11 bg-blue-600 hover:bg-blue-700",disabled:r,children:r?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(lt,{className:"mr-2 h-5 w-5 animate-spin"}),n.jsx("span",{children:"Verificando..."})]}):n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("span",{children:"Recuperar Senha"})})})]})})]}):s?n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(Us,{className:"h-16 w-16 text-green-500"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Verifique seu Email"}),n.jsx("p",{className:"text-gray-600",children:"Enviamos instruções para redefinir sua senha para o email fornecido. Por favor, verifique sua caixa de entrada."}),n.jsx(J,{asChild:!0,className:"mt-6",children:n.jsx(Rt,{href:"/auth",children:"Voltar para Login"})})]}):n.jsxs("div",{className:"text-center space-y-4",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(Nte,{className:"h-16 w-16 text-green-500"})}),n.jsx("h3",{className:"text-xl font-semibold",children:"Senha Redefinida"}),n.jsx("p",{className:"text-gray-600",children:"Sua senha foi redefinida com sucesso. Enviamos uma senha temporária para seu email. Use-a para fazer login e definir uma nova senha."}),n.jsx(J,{asChild:!0,className:"mt-6",children:n.jsx(Rt,{href:"/auth",children:"Ir para Login"})})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("p",{className:"text-sm text-gray-500",children:n.jsx(Rt,{href:"/auth",className:"text-blue-600 hover:underline",children:"Voltar para Login"})})})]})}function RM({fileUrl:e,fileName:t,className:r="w-full gap-2 bg-blue-600 hover:bg-blue-700",buttonText:a="Baixar Aplicativo"}){const s=i=>{i.preventDefault(),console.log(`Iniciando download de ${t} a partir de ${e}`),fetch(e).then(o=>{if(!o.ok)throw new Error(`Erro de rede: ${o.status}`);return o.blob()}).then(o=>{const l=window.URL.createObjectURL(o),d=document.createElement("a");d.style.display="none",d.href=l,d.download=t,document.body.appendChild(d),d.click(),setTimeout(()=>{document.body.removeChild(d),window.URL.revokeObjectURL(l)},100),console.log(`Download de ${t} concluído com sucesso`)}).catch(o=>{console.error("Erro durante o download:",o),alert("Não foi possível baixar o arquivo. Tente novamente ou use a versão online.")})};return n.jsx("a",{href:e,download:t,onClick:s,className:"w-full",children:n.jsxs(J,{className:r,children:[n.jsx(Pa,{size:16}),a]})})}function Hpe(){const e=vU();Lfe();let t="android";return e==="ios"?t="ios":e==="android"?t="android":e==="windows"?t="windows":e==="mac"&&(t="mac"),E.useEffect(()=>{console.log("Página de downloads visualizada em:",e)},[e]),n.jsxs("div",{className:"container mx-auto py-8 px-4",children:[n.jsxs(jd,{children:[n.jsx("title",{children:"Baixar Vale Cashback | Aplicativo de Cashback"}),n.jsx("meta",{name:"description",content:"Baixe o aplicativo Vale Cashback para Android, iOS, Windows ou Mac e tenha acesso ao seu cashback e transferências a qualquer momento."})]}),n.jsx("div",{className:"mb-6",children:n.jsx(Rt,{href:"/",children:n.jsxs(J,{variant:"ghost",className:"gap-2",children:[n.jsx(hte,{size:16}),"Voltar"]})})}),n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Baixe o Vale Cashback"}),n.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Instale o aplicativo Vale Cashback em seu dispositivo e tenha acesso ao seu cashback, transferências e muito mais, mesmo quando estiver offline."})]}),n.jsxs(Dr,{defaultValue:t,className:"w-full",children:[n.jsxs(Pr,{className:"grid grid-cols-2 md:grid-cols-4 w-full mb-8",children:[n.jsxs($e,{value:"android",className:"flex items-center gap-2",children:[n.jsx(bo,{size:16}),n.jsx("span",{children:"Android"})]}),n.jsxs($e,{value:"ios",className:"flex items-center gap-2",children:[n.jsx(W2,{size:16}),n.jsx("span",{children:"iOS"})]}),n.jsxs($e,{value:"windows",className:"flex items-center gap-2",children:[n.jsx(Pv,{size:16}),n.jsx("span",{children:"Windows"})]}),n.jsxs($e,{value:"mac",className:"flex items-center gap-2",children:[n.jsx(Pv,{size:16}),n.jsx("span",{children:"macOS"})]})]}),n.jsx(Ze,{value:"android",className:"space-y-6",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(bo,{className:"text-primary",size:24}),"Baixar para Android"]}),n.jsx(Re,{children:"Baixe e instale o aplicativo Vale Cashback em seu dispositivo Android para acessar todas as funcionalidades, mesmo offline."})]}),n.jsx(ae,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(bo,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aplicativo Mobile"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Baixe o aplicativo completo para usar em seu dispositivo Android"}),n.jsx(RM,{fileUrl:"/app-files/vale-cashback-mobile.html",fileName:"Vale-Cashback-App.html"})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(Oi,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Acessar Online"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Acesse o aplicativo online e adicione à sua tela inicial"}),n.jsx("a",{href:"/",className:"w-full",children:n.jsxs(J,{variant:"outline",className:"w-full gap-2",children:[n.jsx(Oi,{size:16}),"Acessar Online"]})})]})]})}),n.jsx(jr,{className:"flex flex-col items-start",children:n.jsx(J,{variant:"link",asChild:!0,className:"px-0",children:n.jsxs("a",{href:"/downloads/installers/android-instructions.html",target:"_blank",className:"flex items-center gap-2",children:[n.jsx(Cx,{size:16}),"Precisa de ajuda para instalar? Veja nossas instruções detalhadas",n.jsx(_o,{size:14})]})})})]})}),n.jsx(Ze,{value:"ios",className:"space-y-6",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(W2,{className:"text-primary",size:24}),"Baixar para iOS (iPhone/iPad)"]}),n.jsx(Re,{children:"Instale o aplicativo Vale Cashback em seu dispositivo iOS para ter a melhor experiência com notificações e acesso offline."})]}),n.jsx(ae,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(W2,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aplicativo Mobile"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Baixe o aplicativo completo para usar em seu iPhone ou iPad"}),n.jsx(RM,{fileUrl:"/app-files/vale-cashback-mobile.html",fileName:"Vale-Cashback-App.html"})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(Oi,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Acessar Online"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Acesse o aplicativo online e adicione à sua tela inicial"}),n.jsx("a",{href:"/",className:"w-full",children:n.jsxs(J,{variant:"outline",className:"w-full gap-2",children:[n.jsx(Oi,{size:16}),"Acessar Online"]})})]})]})}),n.jsx(jr,{className:"flex flex-col items-start",children:n.jsx(J,{variant:"link",asChild:!0,className:"px-0",children:n.jsxs("a",{href:"/downloads/installers/ios-instructions.html",target:"_blank",className:"flex items-center gap-2",children:[n.jsx(Cx,{size:16}),"Veja instruções detalhadas para instalação no iOS",n.jsx(_o,{size:14})]})})})]})}),n.jsx(Ze,{value:"windows",className:"space-y-6",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Pv,{className:"text-primary",size:24}),"Baixar para Windows"]}),n.jsx(Re,{children:"Use o Vale Cashback em seu computador com Windows para uma experiência completa."})]}),n.jsx(ae,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(vS,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aplicativo Windows"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Baixe o instalador exe e execute-o em seu computador Windows"}),n.jsx("a",{href:"/downloads/vale-cashback-windows.exe",className:"w-full",children:n.jsxs(J,{className:"w-full gap-2",children:[n.jsx(Pa,{size:16}),"Baixar .EXE"]})})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(Oi,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Versão Web"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Use a versão web no seu navegador Edge, Chrome ou Firefox"}),n.jsx(Rt,{href:"/",className:"w-full",children:n.jsxs(J,{variant:"outline",className:"w-full gap-2",children:[n.jsx(Oi,{size:16}),"Usar Versão Web"]})})]})]})})]})}),n.jsx(Ze,{value:"mac",className:"space-y-6",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Pv,{className:"text-primary",size:24}),"Baixar para macOS"]}),n.jsx(Re,{children:"Use o Vale Cashback em seu Mac para uma experiência completa e integrada."})]}),n.jsx(ae,{className:"space-y-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(vS,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aplicativo macOS"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Baixe o instalador DMG para MacOS (Intel e Apple Silicon)"}),n.jsx("a",{href:"/downloads/vale-cashback-mac.dmg",className:"w-full",children:n.jsxs(J,{className:"w-full gap-2",children:[n.jsx(Pa,{size:16}),"Baixar .DMG"]})})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 border rounded-lg",children:[n.jsx(Oi,{size:48,className:"text-primary mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Versão Web"}),n.jsx("p",{className:"text-sm text-center text-muted-foreground mb-4",children:"Use a versão web no Safari e adicione aos favoritos"}),n.jsx(Rt,{href:"/",className:"w-full",children:n.jsxs(J,{variant:"outline",className:"w-full gap-2",children:[n.jsx(Oi,{size:16}),"Usar Versão Web"]})})]})]})})]})})]}),n.jsxs("div",{className:"mt-8 bg-blue-50 border border-blue-100 rounded-lg p-6",children:[n.jsx("h2",{className:"text-xl font-semibold mb-4 text-primary",children:"Por que baixar o aplicativo?"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"flex flex-col",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-primary rounded-full p-2 text-white mt-1",children:n.jsx(bo,{size:16})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-1",children:"Acesso Offline"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Continue utilizando diversas funções mesmo sem conexão à internet."})]})]})}),n.jsx("div",{className:"flex flex-col",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-primary rounded-full p-2 text-white mt-1",children:n.jsx(Pa,{size:16})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-1",children:"Melhor Desempenho"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Navegação mais rápida e fluida do que na versão web."})]})]})}),n.jsx("div",{className:"flex flex-col",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-primary rounded-full p-2 text-white mt-1",children:n.jsx(Cx,{size:16})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-1",children:"Notificações"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba alertas sobre transações, cashback e mais."})]})]})})]})]})]})]})}function $i({title:e,value:t,icon:r,description:a,trend:s,className:i,cardClassName:o}){return n.jsx(ne,{className:Ue("overflow-hidden",o),children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:Ue("flex items-center space-x-4",i),children:[r&&n.jsx("div",{className:"flex-shrink-0",children:r}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("h2",{className:"text-2xl font-bold",children:t}),s&&n.jsxs("span",{className:Ue("ml-2 text-xs",s.positive?"text-green-600":"text-red-600"),children:[s.positive?"↑":"↓"," ",s.value,"%",n.jsx("span",{className:"ml-1 text-muted-foreground",children:s.label})]})]}),a&&n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:a})]})]})})})}function M3({children:e,columns:t=4,className:r}){return n.jsx("div",{className:Ue("grid gap-4",{"grid-cols-1 sm:grid-cols-2 lg:grid-cols-4":t===4,"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3":t===3,"grid-cols-1 sm:grid-cols-2":t===2,"grid-cols-1":t===1},r),children:e})}var qpe=Array.isArray,Ws=qpe,Gpe=typeof Vl=="object"&&Vl&&Vl.Object===Object&&Vl,TW=Gpe,Kpe=TW,Ype=typeof self=="object"&&self&&self.Object===Object&&self,Xpe=Kpe||Ype||Function("return this")(),Al=Xpe,Qpe=Al,Zpe=Qpe.Symbol,$0=Zpe,DM=$0,_W=Object.prototype,Jpe=_W.hasOwnProperty,exe=_W.toString,zp=DM?DM.toStringTag:void 0;function txe(e){var t=Jpe.call(e,zp),r=e[zp];try{e[zp]=void 0;var a=!0}catch{}var s=exe.call(e);return a&&(t?e[zp]=r:delete e[zp]),s}var rxe=txe,nxe=Object.prototype,axe=nxe.toString;function sxe(e){return axe.call(e)}var ixe=sxe,LM=$0,oxe=rxe,lxe=ixe,cxe="[object Null]",dxe="[object Undefined]",FM=LM?LM.toStringTag:void 0;function uxe(e){return e==null?e===void 0?dxe:cxe:FM&&FM in Object(e)?oxe(e):lxe(e)}var vc=uxe;function hxe(e){return e!=null&&typeof e=="object"}var yc=hxe,fxe=vc,mxe=yc,pxe="[object Symbol]";function xxe(e){return typeof e=="symbol"||mxe(e)&&fxe(e)==pxe}var sp=xxe,gxe=Ws,vxe=sp,yxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bxe=/^\w*$/;function wxe(e,t){if(gxe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||vxe(e)?!0:bxe.test(e)||!yxe.test(e)||t!=null&&e in Object(t)}var R3=wxe;function jxe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Hd=jxe;const ip=br(Hd);var Nxe=vc,Cxe=Hd,Sxe="[object AsyncFunction]",Axe="[object Function]",Exe="[object GeneratorFunction]",Txe="[object Proxy]";function _xe(e){if(!Cxe(e))return!1;var t=Nxe(e);return t==Axe||t==Exe||t==Sxe||t==Txe}var D3=_xe;const Ht=br(D3);var Pxe=Al,Oxe=Pxe["__core-js_shared__"],kxe=Oxe,CN=kxe,BM=function(){var e=/[^.]+$/.exec(CN&&CN.keys&&CN.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Ixe(e){return!!BM&&BM in e}var Mxe=Ixe,Rxe=Function.prototype,Dxe=Rxe.toString;function Lxe(e){if(e!=null){try{return Dxe.call(e)}catch{}try{return e+""}catch{}}return""}var PW=Lxe,Fxe=D3,Bxe=Mxe,$xe=Hd,Vxe=PW,zxe=/[\\^$.*+?()[\]{}|]/g,Uxe=/^\[object .+?Constructor\]$/,Wxe=Function.prototype,Hxe=Object.prototype,qxe=Wxe.toString,Gxe=Hxe.hasOwnProperty,Kxe=RegExp("^"+qxe.call(Gxe).replace(zxe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Yxe(e){if(!$xe(e)||Bxe(e))return!1;var t=Fxe(e)?Kxe:Uxe;return t.test(Vxe(e))}var Xxe=Yxe;function Qxe(e,t){return e==null?void 0:e[t]}var Zxe=Qxe,Jxe=Xxe,ege=Zxe;function tge(e,t){var r=ege(e,t);return Jxe(r)?r:void 0}var wh=tge,rge=wh,nge=rge(Object,"create"),Yw=nge,$M=Yw;function age(){this.__data__=$M?$M(null):{},this.size=0}var sge=age;function ige(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oge=ige,lge=Yw,cge="__lodash_hash_undefined__",dge=Object.prototype,uge=dge.hasOwnProperty;function hge(e){var t=this.__data__;if(lge){var r=t[e];return r===cge?void 0:r}return uge.call(t,e)?t[e]:void 0}var fge=hge,mge=Yw,pge=Object.prototype,xge=pge.hasOwnProperty;function gge(e){var t=this.__data__;return mge?t[e]!==void 0:xge.call(t,e)}var vge=gge,yge=Yw,bge="__lodash_hash_undefined__";function wge(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yge&&t===void 0?bge:t,this}var jge=wge,Nge=sge,Cge=oge,Sge=fge,Age=vge,Ege=jge;function op(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}op.prototype.clear=Nge;op.prototype.delete=Cge;op.prototype.get=Sge;op.prototype.has=Age;op.prototype.set=Ege;var Tge=op;function _ge(){this.__data__=[],this.size=0}var Pge=_ge;function Oge(e,t){return e===t||e!==e&&t!==t}var L3=Oge,kge=L3;function Ige(e,t){for(var r=e.length;r--;)if(kge(e[r][0],t))return r;return-1}var Xw=Ige,Mge=Xw,Rge=Array.prototype,Dge=Rge.splice;function Lge(e){var t=this.__data__,r=Mge(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():Dge.call(t,r,1),--this.size,!0}var Fge=Lge,Bge=Xw;function $ge(e){var t=this.__data__,r=Bge(t,e);return r<0?void 0:t[r][1]}var Vge=$ge,zge=Xw;function Uge(e){return zge(this.__data__,e)>-1}var Wge=Uge,Hge=Xw;function qge(e,t){var r=this.__data__,a=Hge(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var Gge=qge,Kge=Pge,Yge=Fge,Xge=Vge,Qge=Wge,Zge=Gge;function lp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}lp.prototype.clear=Kge;lp.prototype.delete=Yge;lp.prototype.get=Xge;lp.prototype.has=Qge;lp.prototype.set=Zge;var Qw=lp,Jge=wh,e0e=Al,t0e=Jge(e0e,"Map"),F3=t0e,VM=Tge,r0e=Qw,n0e=F3;function a0e(){this.size=0,this.__data__={hash:new VM,map:new(n0e||r0e),string:new VM}}var s0e=a0e;function i0e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var o0e=i0e,l0e=o0e;function c0e(e,t){var r=e.__data__;return l0e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Zw=c0e,d0e=Zw;function u0e(e){var t=d0e(this,e).delete(e);return this.size-=t?1:0,t}var h0e=u0e,f0e=Zw;function m0e(e){return f0e(this,e).get(e)}var p0e=m0e,x0e=Zw;function g0e(e){return x0e(this,e).has(e)}var v0e=g0e,y0e=Zw;function b0e(e,t){var r=y0e(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var w0e=b0e,j0e=s0e,N0e=h0e,C0e=p0e,S0e=v0e,A0e=w0e;function cp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}cp.prototype.clear=j0e;cp.prototype.delete=N0e;cp.prototype.get=C0e;cp.prototype.has=S0e;cp.prototype.set=A0e;var B3=cp,OW=B3,E0e="Expected a function";function $3(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(E0e);var r=function(){var a=arguments,s=t?t.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,a);return r.cache=i.set(s,o)||i,o};return r.cache=new($3.Cache||OW),r}$3.Cache=OW;var kW=$3;const T0e=br(kW);var _0e=kW,P0e=500;function O0e(e){var t=_0e(e,function(a){return r.size===P0e&&r.clear(),a}),r=t.cache;return t}var k0e=O0e,I0e=k0e,M0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R0e=/\\(\\)?/g,D0e=I0e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(M0e,function(r,a,s,i){t.push(s?i.replace(R0e,"$1"):a||r)}),t}),L0e=D0e;function F0e(e,t){for(var r=-1,a=e==null?0:e.length,s=Array(a);++r<a;)s[r]=t(e[r],r,e);return s}var V3=F0e,zM=$0,B0e=V3,$0e=Ws,V0e=sp,z0e=1/0,UM=zM?zM.prototype:void 0,WM=UM?UM.toString:void 0;function IW(e){if(typeof e=="string")return e;if($0e(e))return B0e(e,IW)+"";if(V0e(e))return WM?WM.call(e):"";var t=e+"";return t=="0"&&1/e==-z0e?"-0":t}var U0e=IW,W0e=U0e;function H0e(e){return e==null?"":W0e(e)}var MW=H0e,q0e=Ws,G0e=R3,K0e=L0e,Y0e=MW;function X0e(e,t){return q0e(e)?e:G0e(e,t)?[e]:K0e(Y0e(e))}var RW=X0e,Q0e=sp,Z0e=1/0;function J0e(e){if(typeof e=="string"||Q0e(e))return e;var t=e+"";return t=="0"&&1/e==-Z0e?"-0":t}var Jw=J0e,eve=RW,tve=Jw;function rve(e,t){t=eve(t,e);for(var r=0,a=t.length;e!=null&&r<a;)e=e[tve(t[r++])];return r&&r==a?e:void 0}var z3=rve,nve=z3;function ave(e,t,r){var a=e==null?void 0:nve(e,t);return a===void 0?r:a}var DW=ave;const di=br(DW);function sve(e){return e==null}var ive=sve;const Yt=br(ive);var ove=vc,lve=Ws,cve=yc,dve="[object String]";function uve(e){return typeof e=="string"||!lve(e)&&cve(e)&&ove(e)==dve}var hve=uve;const V0=br(hve);var LW={exports:{}},Vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U3=Symbol.for("react.element"),W3=Symbol.for("react.portal"),ej=Symbol.for("react.fragment"),tj=Symbol.for("react.strict_mode"),rj=Symbol.for("react.profiler"),nj=Symbol.for("react.provider"),aj=Symbol.for("react.context"),fve=Symbol.for("react.server_context"),sj=Symbol.for("react.forward_ref"),ij=Symbol.for("react.suspense"),oj=Symbol.for("react.suspense_list"),lj=Symbol.for("react.memo"),cj=Symbol.for("react.lazy"),mve=Symbol.for("react.offscreen"),FW;FW=Symbol.for("react.module.reference");function Zi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case U3:switch(e=e.type,e){case ej:case rj:case tj:case ij:case oj:return e;default:switch(e=e&&e.$$typeof,e){case fve:case aj:case sj:case cj:case lj:case nj:return e;default:return t}}case W3:return t}}}Vr.ContextConsumer=aj;Vr.ContextProvider=nj;Vr.Element=U3;Vr.ForwardRef=sj;Vr.Fragment=ej;Vr.Lazy=cj;Vr.Memo=lj;Vr.Portal=W3;Vr.Profiler=rj;Vr.StrictMode=tj;Vr.Suspense=ij;Vr.SuspenseList=oj;Vr.isAsyncMode=function(){return!1};Vr.isConcurrentMode=function(){return!1};Vr.isContextConsumer=function(e){return Zi(e)===aj};Vr.isContextProvider=function(e){return Zi(e)===nj};Vr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===U3};Vr.isForwardRef=function(e){return Zi(e)===sj};Vr.isFragment=function(e){return Zi(e)===ej};Vr.isLazy=function(e){return Zi(e)===cj};Vr.isMemo=function(e){return Zi(e)===lj};Vr.isPortal=function(e){return Zi(e)===W3};Vr.isProfiler=function(e){return Zi(e)===rj};Vr.isStrictMode=function(e){return Zi(e)===tj};Vr.isSuspense=function(e){return Zi(e)===ij};Vr.isSuspenseList=function(e){return Zi(e)===oj};Vr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ej||e===rj||e===tj||e===ij||e===oj||e===mve||typeof e=="object"&&e!==null&&(e.$$typeof===cj||e.$$typeof===lj||e.$$typeof===nj||e.$$typeof===aj||e.$$typeof===sj||e.$$typeof===FW||e.getModuleId!==void 0)};Vr.typeOf=Zi;LW.exports=Vr;var pve=LW.exports,xve=vc,gve=yc,vve="[object Number]";function yve(e){return typeof e=="number"||gve(e)&&xve(e)==vve}var BW=yve;const bve=br(BW);var wve=BW;function jve(e){return wve(e)&&e!=+e}var Nve=jve;const z0=br(Nve);var hs=function(t){return t===0?0:t>0?1:-1},wu=function(t){return V0(t)&&t.indexOf("%")===t.length-1},Qe=function(t){return bve(t)&&!z0(t)},xa=function(t){return Qe(t)||V0(t)},Cve=0,dp=function(t){var r=++Cve;return"".concat(t||"").concat(r)},fs=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&!V0(t))return a;var i;if(wu(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return z0(i)&&(i=a),s&&i>r&&(i=r),i},Hc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Sve=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,a={},s=0;s<r;s++)if(!a[t[s]])a[t[s]]=!0;else return!0;return!1},ti=function(t,r){return Qe(t)&&Qe(r)?function(a){return t+a*(r-t)}:function(){return r}};function V1(e,t,r){return!e||!e.length?null:e.find(function(a){return a&&(typeof t=="function"?t(a):di(a,t))===r})}function kf(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var a in t)if({}.hasOwnProperty.call(t,a)&&!{}.hasOwnProperty.call(e,a))return!1;return!0}function dA(e){"@babel/helpers - typeof";return dA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dA(e)}var Ave=["viewBox","children"],Eve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],HM=["points","pathLength"],SN={svg:Ave,polygon:HM,polyline:HM},H3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],z1=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(E.isValidElement(t)&&(a=t.props),!ip(a))return null;var s={};return Object.keys(a).forEach(function(i){H3.includes(i)&&(s[i]=r||function(o){return a[i](a,o)})}),s},Tve=function(t,r,a){return function(s){return t(r,a,s),null}},ih=function(t,r,a){if(!ip(t)||dA(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];H3.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Tve(o,r,a))}),s},_ve=["children"],Pve=["children"];function qM(e,t){if(e==null)return{};var r=Ove(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Ove(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function uA(e){"@babel/helpers - typeof";return uA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uA(e)}var GM={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Jl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},KM=null,AN=null,q3=function e(t){if(t===KM&&Array.isArray(AN))return AN;var r=[];return E.Children.forEach(t,function(a){Yt(a)||(pve.isFragment(a)?r=r.concat(e(a.props.children)):r.push(a))}),AN=r,KM=t,r};function ui(e,t){var r=[],a=[];return Array.isArray(t)?a=t.map(function(s){return Jl(s)}):a=[Jl(t)],q3(e).forEach(function(s){var i=di(s,"type.displayName")||di(s,"type.name");a.indexOf(i)!==-1&&r.push(s)}),r}function Zs(e,t){var r=ui(e,t);return r&&r[0]}var YM=function(t){if(!t||!t.props)return!1;var r=t.props,a=r.width,s=r.height;return!(!Qe(a)||a<=0||!Qe(s)||s<=0)},kve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Ive=function(t){return t&&t.type&&V0(t.type)&&kve.indexOf(t.type)>=0},Mve=function(t){return t&&uA(t)==="object"&&"clipDot"in t},Rve=function(t,r,a,s){var i,o=(i=SN==null?void 0:SN[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ht(t)&&(s&&o.includes(r)||Eve.includes(r))||a&&H3.includes(r)},kt=function(t,r,a){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(E.isValidElement(t)&&(s=t.props),!ip(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Rve((l=s)===null||l===void 0?void 0:l[o],o,r,a)&&(i[o]=s[o])}),i},hA=function e(t,r){if(t===r)return!0;var a=E.Children.count(t);if(a!==E.Children.count(r))return!1;if(a===0)return!0;if(a===1)return XM(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<a;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!XM(i,o))return!1}return!0},XM=function(t,r){if(Yt(t)&&Yt(r))return!0;if(!Yt(t)&&!Yt(r)){var a=t.props||{},s=a.children,i=qM(a,_ve),o=r.props||{},l=o.children,d=qM(o,Pve);return s&&l?kf(i,d)&&hA(s,l):!s&&!l?kf(i,d):!1}return!1},QM=function(t,r){var a=[],s={};return q3(t).forEach(function(i,o){if(Ive(i))a.push(i);else if(i){var l=Jl(i.type),d=r[l]||{},u=d.handler,f=d.once;if(u&&(!f||!s[l])){var p=u(i,l,o);a.push(p),s[l]=!0}}}),a},Dve=function(t){var r=t&&t.type;return r&&GM[r]?GM[r]:null},Lve=function(t,r){return q3(r).indexOf(t)},Fve=["children","width","height","viewBox","className","style","title","desc"];function fA(){return fA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fA.apply(this,arguments)}function Bve(e,t){if(e==null)return{};var r=$ve(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function $ve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function mA(e){var t=e.children,r=e.width,a=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,d=e.desc,u=Bve(e,Fve),f=s||{width:r,height:a,x:0,y:0},p=er("recharts-surface",i);return Q.createElement("svg",fA({},kt(u,!0,"svg"),{className:p,width:r,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Q.createElement("title",null,l),Q.createElement("desc",null,d),t)}var Vve=["children","className"];function pA(){return pA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pA.apply(this,arguments)}function zve(e,t){if(e==null)return{};var r=Uve(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Uve(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var Ar=Q.forwardRef(function(e,t){var r=e.children,a=e.className,s=zve(e,Vve),i=er("recharts-layer",a);return Q.createElement("g",pA({className:i},kt(s,!0),{ref:t}),r)}),Eo=function(t,r){for(var a=arguments.length,s=new Array(a>2?a-2:0),i=2;i<a;i++)s[i-2]=arguments[i]};function Wve(e,t,r){var a=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++a<s;)i[a]=e[a+t];return i}var Hve=Wve,qve=Hve;function Gve(e,t,r){var a=e.length;return r=r===void 0?a:r,!t&&r>=a?e:qve(e,t,r)}var Kve=Gve,Yve="\\ud800-\\udfff",Xve="\\u0300-\\u036f",Qve="\\ufe20-\\ufe2f",Zve="\\u20d0-\\u20ff",Jve=Xve+Qve+Zve,eye="\\ufe0e\\ufe0f",tye="\\u200d",rye=RegExp("["+tye+Yve+Jve+eye+"]");function nye(e){return rye.test(e)}var $W=nye;function aye(e){return e.split("")}var sye=aye,VW="\\ud800-\\udfff",iye="\\u0300-\\u036f",oye="\\ufe20-\\ufe2f",lye="\\u20d0-\\u20ff",cye=iye+oye+lye,dye="\\ufe0e\\ufe0f",uye="["+VW+"]",xA="["+cye+"]",gA="\\ud83c[\\udffb-\\udfff]",hye="(?:"+xA+"|"+gA+")",zW="[^"+VW+"]",UW="(?:\\ud83c[\\udde6-\\uddff]){2}",WW="[\\ud800-\\udbff][\\udc00-\\udfff]",fye="\\u200d",HW=hye+"?",qW="["+dye+"]?",mye="(?:"+fye+"(?:"+[zW,UW,WW].join("|")+")"+qW+HW+")*",pye=qW+HW+mye,xye="(?:"+[zW+xA+"?",xA,UW,WW,uye].join("|")+")",gye=RegExp(gA+"(?="+gA+")|"+xye+pye,"g");function vye(e){return e.match(gye)||[]}var yye=vye,bye=sye,wye=$W,jye=yye;function Nye(e){return wye(e)?jye(e):bye(e)}var Cye=Nye,Sye=Kve,Aye=$W,Eye=Cye,Tye=MW;function _ye(e){return function(t){t=Tye(t);var r=Aye(t)?Eye(t):void 0,a=r?r[0]:t.charAt(0),s=r?Sye(r,1).join(""):t.slice(1);return a[e]()+s}}var Pye=_ye,Oye=Pye,kye=Oye("toUpperCase"),Iye=kye;const dj=br(Iye);function Jr(e){return function(){return e}}const GW=Math.cos,U1=Math.sin,Ro=Math.sqrt,W1=Math.PI,uj=2*W1,vA=Math.PI,yA=2*vA,uu=1e-6,Mye=yA-uu;function KW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Rye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return KW;const r=10**t;return function(a){this._+=a[0];for(let s=1,i=a.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+a[s]}}class Dye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?KW:Rye(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,a,s){this._append`Q${+t},${+r},${this._x1=+a},${this._y1=+s}`}bezierCurveTo(t,r,a,s,i,o){this._append`C${+t},${+r},${+a},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,a,s,i){if(t=+t,r=+r,a=+a,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,d=a-t,u=s-r,f=o-t,p=l-r,x=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(x>uu)if(!(Math.abs(p*d-u*f)>uu)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let y=a-o,j=s-l,w=d*d+u*u,C=y*y+j*j,N=Math.sqrt(w),S=Math.sqrt(x),_=i*Math.tan((vA-Math.acos((w+x-C)/(2*N*S)))/2),I=_/S,T=_/N;Math.abs(I-1)>uu&&this._append`L${t+I*f},${r+I*p}`,this._append`A${i},${i},0,0,${+(p*y>f*j)},${this._x1=t+T*d},${this._y1=r+T*u}`}}arc(t,r,a,s,i,o){if(t=+t,r=+r,a=+a,o=!!o,a<0)throw new Error(`negative radius: ${a}`);let l=a*Math.cos(s),d=a*Math.sin(s),u=t+l,f=r+d,p=1^o,x=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>uu||Math.abs(this._y1-f)>uu)&&this._append`L${u},${f}`,a&&(x<0&&(x=x%yA+yA),x>Mye?this._append`A${a},${a},0,1,${p},${t-l},${r-d}A${a},${a},0,1,${p},${this._x1=u},${this._y1=f}`:x>uu&&this._append`A${a},${a},0,${+(x>=vA)},${p},${this._x1=t+a*Math.cos(i)},${this._y1=r+a*Math.sin(i)}`)}rect(t,r,a,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${a=+a}v${+s}h${-a}Z`}toString(){return this._}}function G3(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const a=Math.floor(r);if(!(a>=0))throw new RangeError(`invalid digits: ${r}`);t=a}return e},()=>new Dye(t)}function K3(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function YW(e){this._context=e}YW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hj(e){return new YW(e)}function XW(e){return e[0]}function QW(e){return e[1]}function ZW(e,t){var r=Jr(!0),a=null,s=hj,i=null,o=G3(l);e=typeof e=="function"?e:e===void 0?XW:Jr(e),t=typeof t=="function"?t:t===void 0?QW:Jr(t);function l(d){var u,f=(d=K3(d)).length,p,x=!1,y;for(a==null&&(i=s(y=o())),u=0;u<=f;++u)!(u<f&&r(p=d[u],u,d))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+e(p,u,d),+t(p,u,d));if(y)return i=null,y+""||null}return l.x=function(d){return arguments.length?(e=typeof d=="function"?d:Jr(+d),l):e},l.y=function(d){return arguments.length?(t=typeof d=="function"?d:Jr(+d),l):t},l.defined=function(d){return arguments.length?(r=typeof d=="function"?d:Jr(!!d),l):r},l.curve=function(d){return arguments.length?(s=d,a!=null&&(i=s(a)),l):s},l.context=function(d){return arguments.length?(d==null?a=i=null:i=s(a=d),l):a},l}function Uv(e,t,r){var a=null,s=Jr(!0),i=null,o=hj,l=null,d=G3(u);e=typeof e=="function"?e:e===void 0?XW:Jr(+e),t=typeof t=="function"?t:Jr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?QW:Jr(+r);function u(p){var x,y,j,w=(p=K3(p)).length,C,N=!1,S,_=new Array(w),I=new Array(w);for(i==null&&(l=o(S=d())),x=0;x<=w;++x){if(!(x<w&&s(C=p[x],x,p))===N)if(N=!N)y=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),j=x-1;j>=y;--j)l.point(_[j],I[j]);l.lineEnd(),l.areaEnd()}N&&(_[x]=+e(C,x,p),I[x]=+t(C,x,p),l.point(a?+a(C,x,p):_[x],r?+r(C,x,p):I[x]))}if(S)return l=null,S+""||null}function f(){return ZW().defined(s).curve(o).context(i)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Jr(+p),a=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Jr(+p),u):e},u.x1=function(p){return arguments.length?(a=p==null?null:typeof p=="function"?p:Jr(+p),u):a},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Jr(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Jr(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Jr(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(a).y(t)},u.defined=function(p){return arguments.length?(s=typeof p=="function"?p:Jr(!!p),u):s},u.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),u):o},u.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),u):i},u}class JW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Lye(e){return new JW(e,!0)}function Fye(e){return new JW(e,!1)}const Y3={draw(e,t){const r=Ro(t/W1);e.moveTo(r,0),e.arc(0,0,r,0,uj)}},Bye={draw(e,t){const r=Ro(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eH=Ro(1/3),$ye=eH*2,Vye={draw(e,t){const r=Ro(t/$ye),a=r*eH;e.moveTo(0,-r),e.lineTo(a,0),e.lineTo(0,r),e.lineTo(-a,0),e.closePath()}},zye={draw(e,t){const r=Ro(t),a=-r/2;e.rect(a,a,r,r)}},Uye=.8908130915292852,tH=U1(W1/10)/U1(7*W1/10),Wye=U1(uj/10)*tH,Hye=-GW(uj/10)*tH,qye={draw(e,t){const r=Ro(t*Uye),a=Wye*r,s=Hye*r;e.moveTo(0,-r),e.lineTo(a,s);for(let i=1;i<5;++i){const o=uj*i/5,l=GW(o),d=U1(o);e.lineTo(d*r,-l*r),e.lineTo(l*a-d*s,d*a+l*s)}e.closePath()}},EN=Ro(3),Gye={draw(e,t){const r=-Ro(t/(EN*3));e.moveTo(0,r*2),e.lineTo(-EN*r,-r),e.lineTo(EN*r,-r),e.closePath()}},Ni=-.5,Ci=Ro(3)/2,bA=1/Ro(12),Kye=(bA/2+1)*3,Yye={draw(e,t){const r=Ro(t/Kye),a=r/2,s=r*bA,i=a,o=r*bA+r,l=-i,d=o;e.moveTo(a,s),e.lineTo(i,o),e.lineTo(l,d),e.lineTo(Ni*a-Ci*s,Ci*a+Ni*s),e.lineTo(Ni*i-Ci*o,Ci*i+Ni*o),e.lineTo(Ni*l-Ci*d,Ci*l+Ni*d),e.lineTo(Ni*a+Ci*s,Ni*s-Ci*a),e.lineTo(Ni*i+Ci*o,Ni*o-Ci*i),e.lineTo(Ni*l+Ci*d,Ni*d-Ci*l),e.closePath()}};function Xye(e,t){let r=null,a=G3(s);e=typeof e=="function"?e:Jr(e||Y3),t=typeof t=="function"?t:Jr(t===void 0?64:+t);function s(){let i;if(r||(r=i=a()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Jr(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Jr(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function H1(){}function q1(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rH(e){this._context=e}rH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:q1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Qye(e){return new rH(e)}function nH(e){this._context=e}nH.prototype={areaStart:H1,areaEnd:H1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Zye(e){return new nH(e)}function aH(e){this._context=e}aH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,a=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,a):this._context.moveTo(r,a);break;case 3:this._point=4;default:q1(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Jye(e){return new aH(e)}function sH(e){this._context=e}sH.prototype={areaStart:H1,areaEnd:H1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function e1e(e){return new sH(e)}function ZM(e){return e<0?-1:1}function JM(e,t,r){var a=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(a||s<0&&-0),o=(r-e._y1)/(s||a<0&&-0),l=(i*s+o*a)/(a+s);return(ZM(i)+ZM(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function e5(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function TN(e,t,r){var a=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-a)/3;e._context.bezierCurveTo(a+l,s+l*t,i-l,o-l*r,i,o)}function G1(e){this._context=e}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:TN(this,this._t0,e5(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,TN(this,e5(this,r=JM(this,e,t)),r);break;default:TN(this,this._t0,r=JM(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iH(e){this._context=new oH(e)}(iH.prototype=Object.create(G1.prototype)).point=function(e,t){G1.prototype.point.call(this,t,e)};function oH(e){this._context=e}oH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,a,s,i){this._context.bezierCurveTo(t,e,a,r,i,s)}};function t1e(e){return new G1(e)}function r1e(e){return new iH(e)}function lH(e){this._context=e}lH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var a=t5(e),s=t5(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(a[0][i],s[0][i],a[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function t5(e){var t,r=e.length-1,a,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)a=s[t]/i[t-1],i[t]-=a,o[t]-=a*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function n1e(e){return new lH(e)}function fj(e,t){this._context=e,this._t=t}fj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function a1e(e){return new fj(e,.5)}function s1e(e){return new fj(e,0)}function i1e(e){return new fj(e,1)}function vm(e,t){if((o=e.length)>1)for(var r=1,a,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],a=0;a<l;++a)i[a][1]+=i[a][0]=isNaN(s[a][1])?s[a][0]:s[a][1]}function wA(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function o1e(e,t){return e[t]}function l1e(e){const t=[];return t.key=e,t}function c1e(){var e=Jr([]),t=wA,r=vm,a=o1e;function s(i){var o=Array.from(e.apply(this,arguments),l1e),l,d=o.length,u=-1,f;for(const p of i)for(l=0,++u;l<d;++l)(o[l][u]=[0,+a(p,o[l].key,u,i)]).data=p;for(l=0,f=K3(t(o));l<d;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Jr(Array.from(i)),s):e},s.value=function(i){return arguments.length?(a=typeof i=="function"?i:Jr(+i),s):a},s.order=function(i){return arguments.length?(t=i==null?wA:typeof i=="function"?i:Jr(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??vm,s):r},s}function d1e(e,t){if((a=e.length)>0){for(var r,a,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<a;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<a;++r)e[r][s][1]/=o}vm(e,t)}}function u1e(e,t){if((s=e.length)>0){for(var r=0,a=e[t[0]],s,i=a.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;a[r][1]+=a[r][0]=-l/2}vm(e,t)}}function h1e(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,a=1,s,i,o;a<i;++a){for(var l=0,d=0,u=0;l<o;++l){for(var f=e[t[l]],p=f[a][1]||0,x=f[a-1][1]||0,y=(p-x)/2,j=0;j<l;++j){var w=e[t[j]],C=w[a][1]||0,N=w[a-1][1]||0;y+=C-N}d+=p,u+=y*p}s[a-1][1]+=s[a-1][0]=r,d&&(r-=u/d)}s[a-1][1]+=s[a-1][0]=r,vm(e,t)}}function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}var f1e=["type","size","sizeType"];function jA(){return jA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jA.apply(this,arguments)}function r5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function n5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r5(Object(r),!0).forEach(function(a){m1e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function m1e(e,t,r){return t=p1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p1e(e){var t=x1e(e,"string");return _g(t)=="symbol"?t:t+""}function x1e(e,t){if(_g(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(_g(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g1e(e,t){if(e==null)return{};var r=v1e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function v1e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var cH={symbolCircle:Y3,symbolCross:Bye,symbolDiamond:Vye,symbolSquare:zye,symbolStar:qye,symbolTriangle:Gye,symbolWye:Yye},y1e=Math.PI/180,b1e=function(t){var r="symbol".concat(dj(t));return cH[r]||Y3},w1e=function(t,r,a){if(r==="area")return t;switch(a){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*y1e;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},j1e=function(t,r){cH["symbol".concat(dj(t))]=r},X3=function(t){var r=t.type,a=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,d=g1e(t,f1e),u=n5(n5({},d),{},{type:a,size:i,sizeType:l}),f=function(){var C=b1e(a),N=Xye().type(C).size(w1e(i,l,a));return N()},p=u.className,x=u.cx,y=u.cy,j=kt(u,!0);return x===+x&&y===+y&&i===+i?Q.createElement("path",jA({},j,{className:er("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(y,")"),d:f()})):null};X3.registerSymbol=j1e;function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function NA(){return NA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},NA.apply(this,arguments)}function a5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function N1e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a5(Object(r),!0).forEach(function(a){Pg(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function C1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S1e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,uH(a.key),a)}}function A1e(e,t,r){return t&&S1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E1e(e,t,r){return t=K1(t),T1e(e,dH()?Reflect.construct(t,r||[],K1(e).constructor):t.apply(e,r))}function T1e(e,t){if(t&&(ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1e(e)}function _1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function K1(e){return K1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K1(e)}function P1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},CA(e,t)}function Pg(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=O1e(e,"string");return ym(t)=="symbol"?t:t+""}function O1e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(ym(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Si=32,Q3=function(e){function t(){return C1e(this,t),E1e(this,t,arguments)}return P1e(t,e),A1e(t,[{key:"renderIcon",value:function(a){var s=this.props.inactiveColor,i=Si/2,o=Si/6,l=Si/3,d=a.inactive?s:a.color;if(a.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:a.payload.strokeDasharray,x1:0,y1:i,x2:Si,y2:i,className:"recharts-legend-icon"});if(a.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Si,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(a.type==="rect")return Q.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Si/8,"h").concat(Si,"v").concat(Si*3/4,"h").concat(-Si,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(a.legendIcon)){var u=N1e({},a);return delete u.legendIcon,Q.cloneElement(a.legendIcon,u)}return Q.createElement(X3,{fill:d,cx:i,cy:i,size:Si,sizeType:"diameter",type:a.type})}},{key:"renderItems",value:function(){var a=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,d=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:Si,height:Si},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,j){var w=y.formatter||d,C=er(Pg(Pg({"recharts-legend-item":!0},"legend-item-".concat(j),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=Ht(y.value)?null:y.value;Eo(!Ht(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=y.inactive?u:y.color;return Q.createElement("li",NA({className:C,style:p,key:"legend-item-".concat(j)},ih(a.props,y,j)),Q.createElement(mA,{width:o,height:o,viewBox:f,style:x},a.renderIcon(y)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},w?w(N,y,j):N))})}},{key:"render",value:function(){var a=this.props,s=a.payload,i=a.layout,o=a.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(E.PureComponent);Pg(Q3,"displayName","Legend");Pg(Q3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var k1e=Qw;function I1e(){this.__data__=new k1e,this.size=0}var M1e=I1e;function R1e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var D1e=R1e;function L1e(e){return this.__data__.get(e)}var F1e=L1e;function B1e(e){return this.__data__.has(e)}var $1e=B1e,V1e=Qw,z1e=F3,U1e=B3,W1e=200;function H1e(e,t){var r=this.__data__;if(r instanceof V1e){var a=r.__data__;if(!z1e||a.length<W1e-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new U1e(a)}return r.set(e,t),this.size=r.size,this}var q1e=H1e,G1e=Qw,K1e=M1e,Y1e=D1e,X1e=F1e,Q1e=$1e,Z1e=q1e;function up(e){var t=this.__data__=new G1e(e);this.size=t.size}up.prototype.clear=K1e;up.prototype.delete=Y1e;up.prototype.get=X1e;up.prototype.has=Q1e;up.prototype.set=Z1e;var hH=up,J1e="__lodash_hash_undefined__";function ebe(e){return this.__data__.set(e,J1e),this}var tbe=ebe;function rbe(e){return this.__data__.has(e)}var nbe=rbe,abe=B3,sbe=tbe,ibe=nbe;function Y1(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new abe;++t<r;)this.add(e[t])}Y1.prototype.add=Y1.prototype.push=sbe;Y1.prototype.has=ibe;var fH=Y1;function obe(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var mH=obe;function lbe(e,t){return e.has(t)}var pH=lbe,cbe=fH,dbe=mH,ube=pH,hbe=1,fbe=2;function mbe(e,t,r,a,s,i){var o=r&hbe,l=e.length,d=t.length;if(l!=d&&!(o&&d>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var p=-1,x=!0,y=r&fbe?new cbe:void 0;for(i.set(e,t),i.set(t,e);++p<l;){var j=e[p],w=t[p];if(a)var C=o?a(w,j,p,t,e,i):a(j,w,p,e,t,i);if(C!==void 0){if(C)continue;x=!1;break}if(y){if(!dbe(t,function(N,S){if(!ube(y,S)&&(j===N||s(j,N,r,a,i)))return y.push(S)})){x=!1;break}}else if(!(j===w||s(j,w,r,a,i))){x=!1;break}}return i.delete(e),i.delete(t),x}var xH=mbe,pbe=Al,xbe=pbe.Uint8Array,gbe=xbe;function vbe(e){var t=-1,r=Array(e.size);return e.forEach(function(a,s){r[++t]=[s,a]}),r}var ybe=vbe;function bbe(e){var t=-1,r=Array(e.size);return e.forEach(function(a){r[++t]=a}),r}var Z3=bbe,s5=$0,i5=gbe,wbe=L3,jbe=xH,Nbe=ybe,Cbe=Z3,Sbe=1,Abe=2,Ebe="[object Boolean]",Tbe="[object Date]",_be="[object Error]",Pbe="[object Map]",Obe="[object Number]",kbe="[object RegExp]",Ibe="[object Set]",Mbe="[object String]",Rbe="[object Symbol]",Dbe="[object ArrayBuffer]",Lbe="[object DataView]",o5=s5?s5.prototype:void 0,_N=o5?o5.valueOf:void 0;function Fbe(e,t,r,a,s,i,o){switch(r){case Lbe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Dbe:return!(e.byteLength!=t.byteLength||!i(new i5(e),new i5(t)));case Ebe:case Tbe:case Obe:return wbe(+e,+t);case _be:return e.name==t.name&&e.message==t.message;case kbe:case Mbe:return e==t+"";case Pbe:var l=Nbe;case Ibe:var d=a&Sbe;if(l||(l=Cbe),e.size!=t.size&&!d)return!1;var u=o.get(e);if(u)return u==t;a|=Abe,o.set(e,t);var f=jbe(l(e),l(t),a,s,i,o);return o.delete(e),f;case Rbe:if(_N)return _N.call(e)==_N.call(t)}return!1}var Bbe=Fbe;function $be(e,t){for(var r=-1,a=t.length,s=e.length;++r<a;)e[s+r]=t[r];return e}var gH=$be,Vbe=gH,zbe=Ws;function Ube(e,t,r){var a=t(e);return zbe(e)?a:Vbe(a,r(e))}var Wbe=Ube;function Hbe(e,t){for(var r=-1,a=e==null?0:e.length,s=0,i=[];++r<a;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var qbe=Hbe;function Gbe(){return[]}var Kbe=Gbe,Ybe=qbe,Xbe=Kbe,Qbe=Object.prototype,Zbe=Qbe.propertyIsEnumerable,l5=Object.getOwnPropertySymbols,Jbe=l5?function(e){return e==null?[]:(e=Object(e),Ybe(l5(e),function(t){return Zbe.call(e,t)}))}:Xbe,ewe=Jbe;function twe(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var rwe=twe,nwe=vc,awe=yc,swe="[object Arguments]";function iwe(e){return awe(e)&&nwe(e)==swe}var owe=iwe,c5=owe,lwe=yc,vH=Object.prototype,cwe=vH.hasOwnProperty,dwe=vH.propertyIsEnumerable,uwe=c5(function(){return arguments}())?c5:function(e){return lwe(e)&&cwe.call(e,"callee")&&!dwe.call(e,"callee")},J3=uwe,X1={exports:{}};function hwe(){return!1}var fwe=hwe;X1.exports;(function(e,t){var r=Al,a=fwe,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,d=l?l.isBuffer:void 0,u=d||a;e.exports=u})(X1,X1.exports);var yH=X1.exports,mwe=9007199254740991,pwe=/^(?:0|[1-9]\d*)$/;function xwe(e,t){var r=typeof e;return t=t??mwe,!!t&&(r=="number"||r!="symbol"&&pwe.test(e))&&e>-1&&e%1==0&&e<t}var e_=xwe,gwe=9007199254740991;function vwe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=gwe}var t_=vwe,ywe=vc,bwe=t_,wwe=yc,jwe="[object Arguments]",Nwe="[object Array]",Cwe="[object Boolean]",Swe="[object Date]",Awe="[object Error]",Ewe="[object Function]",Twe="[object Map]",_we="[object Number]",Pwe="[object Object]",Owe="[object RegExp]",kwe="[object Set]",Iwe="[object String]",Mwe="[object WeakMap]",Rwe="[object ArrayBuffer]",Dwe="[object DataView]",Lwe="[object Float32Array]",Fwe="[object Float64Array]",Bwe="[object Int8Array]",$we="[object Int16Array]",Vwe="[object Int32Array]",zwe="[object Uint8Array]",Uwe="[object Uint8ClampedArray]",Wwe="[object Uint16Array]",Hwe="[object Uint32Array]",ln={};ln[Lwe]=ln[Fwe]=ln[Bwe]=ln[$we]=ln[Vwe]=ln[zwe]=ln[Uwe]=ln[Wwe]=ln[Hwe]=!0;ln[jwe]=ln[Nwe]=ln[Rwe]=ln[Cwe]=ln[Dwe]=ln[Swe]=ln[Awe]=ln[Ewe]=ln[Twe]=ln[_we]=ln[Pwe]=ln[Owe]=ln[kwe]=ln[Iwe]=ln[Mwe]=!1;function qwe(e){return wwe(e)&&bwe(e.length)&&!!ln[ywe(e)]}var Gwe=qwe;function Kwe(e){return function(t){return e(t)}}var bH=Kwe,Q1={exports:{}};Q1.exports;(function(e,t){var r=TW,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===a,o=i&&r.process,l=function(){try{var d=s&&s.require&&s.require("util").types;return d||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Q1,Q1.exports);var Ywe=Q1.exports,Xwe=Gwe,Qwe=bH,d5=Ywe,u5=d5&&d5.isTypedArray,Zwe=u5?Qwe(u5):Xwe,wH=Zwe,Jwe=rwe,eje=J3,tje=Ws,rje=yH,nje=e_,aje=wH,sje=Object.prototype,ije=sje.hasOwnProperty;function oje(e,t){var r=tje(e),a=!r&&eje(e),s=!r&&!a&&rje(e),i=!r&&!a&&!s&&aje(e),o=r||a||s||i,l=o?Jwe(e.length,String):[],d=l.length;for(var u in e)(t||ije.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||nje(u,d)))&&l.push(u);return l}var lje=oje,cje=Object.prototype;function dje(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||cje;return e===r}var uje=dje;function hje(e,t){return function(r){return e(t(r))}}var jH=hje,fje=jH,mje=fje(Object.keys,Object),pje=mje,xje=uje,gje=pje,vje=Object.prototype,yje=vje.hasOwnProperty;function bje(e){if(!xje(e))return gje(e);var t=[];for(var r in Object(e))yje.call(e,r)&&r!="constructor"&&t.push(r);return t}var wje=bje,jje=D3,Nje=t_;function Cje(e){return e!=null&&Nje(e.length)&&!jje(e)}var U0=Cje,Sje=lje,Aje=wje,Eje=U0;function Tje(e){return Eje(e)?Sje(e):Aje(e)}var mj=Tje,_je=Wbe,Pje=ewe,Oje=mj;function kje(e){return _je(e,Oje,Pje)}var Ije=kje,h5=Ije,Mje=1,Rje=Object.prototype,Dje=Rje.hasOwnProperty;function Lje(e,t,r,a,s,i){var o=r&Mje,l=h5(e),d=l.length,u=h5(t),f=u.length;if(d!=f&&!o)return!1;for(var p=d;p--;){var x=l[p];if(!(o?x in t:Dje.call(t,x)))return!1}var y=i.get(e),j=i.get(t);if(y&&j)return y==t&&j==e;var w=!0;i.set(e,t),i.set(t,e);for(var C=o;++p<d;){x=l[p];var N=e[x],S=t[x];if(a)var _=o?a(S,N,x,t,e,i):a(N,S,x,e,t,i);if(!(_===void 0?N===S||s(N,S,r,a,i):_)){w=!1;break}C||(C=x=="constructor")}if(w&&!C){var I=e.constructor,T=t.constructor;I!=T&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof T=="function"&&T instanceof T)&&(w=!1)}return i.delete(e),i.delete(t),w}var Fje=Lje,Bje=wh,$je=Al,Vje=Bje($je,"DataView"),zje=Vje,Uje=wh,Wje=Al,Hje=Uje(Wje,"Promise"),qje=Hje,Gje=wh,Kje=Al,Yje=Gje(Kje,"Set"),NH=Yje,Xje=wh,Qje=Al,Zje=Xje(Qje,"WeakMap"),Jje=Zje,SA=zje,AA=F3,EA=qje,TA=NH,_A=Jje,CH=vc,hp=PW,f5="[object Map]",e2e="[object Object]",m5="[object Promise]",p5="[object Set]",x5="[object WeakMap]",g5="[object DataView]",t2e=hp(SA),r2e=hp(AA),n2e=hp(EA),a2e=hp(TA),s2e=hp(_A),hu=CH;(SA&&hu(new SA(new ArrayBuffer(1)))!=g5||AA&&hu(new AA)!=f5||EA&&hu(EA.resolve())!=m5||TA&&hu(new TA)!=p5||_A&&hu(new _A)!=x5)&&(hu=function(e){var t=CH(e),r=t==e2e?e.constructor:void 0,a=r?hp(r):"";if(a)switch(a){case t2e:return g5;case r2e:return f5;case n2e:return m5;case a2e:return p5;case s2e:return x5}return t});var i2e=hu,PN=hH,o2e=xH,l2e=Bbe,c2e=Fje,v5=i2e,y5=Ws,b5=yH,d2e=wH,u2e=1,w5="[object Arguments]",j5="[object Array]",Wv="[object Object]",h2e=Object.prototype,N5=h2e.hasOwnProperty;function f2e(e,t,r,a,s,i){var o=y5(e),l=y5(t),d=o?j5:v5(e),u=l?j5:v5(t);d=d==w5?Wv:d,u=u==w5?Wv:u;var f=d==Wv,p=u==Wv,x=d==u;if(x&&b5(e)){if(!b5(t))return!1;o=!0,f=!1}if(x&&!f)return i||(i=new PN),o||d2e(e)?o2e(e,t,r,a,s,i):l2e(e,t,d,r,a,s,i);if(!(r&u2e)){var y=f&&N5.call(e,"__wrapped__"),j=p&&N5.call(t,"__wrapped__");if(y||j){var w=y?e.value():e,C=j?t.value():t;return i||(i=new PN),s(w,C,r,a,i)}}return x?(i||(i=new PN),c2e(e,t,r,a,s,i)):!1}var m2e=f2e,p2e=m2e,C5=yc;function SH(e,t,r,a,s){return e===t?!0:e==null||t==null||!C5(e)&&!C5(t)?e!==e&&t!==t:p2e(e,t,r,a,SH,s)}var r_=SH,x2e=hH,g2e=r_,v2e=1,y2e=2;function b2e(e,t,r,a){var s=r.length,i=s,o=!a;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var d=l[0],u=e[d],f=l[1];if(o&&l[2]){if(u===void 0&&!(d in e))return!1}else{var p=new x2e;if(a)var x=a(u,f,d,e,t,p);if(!(x===void 0?g2e(f,u,v2e|y2e,a,p):x))return!1}}return!0}var w2e=b2e,j2e=Hd;function N2e(e){return e===e&&!j2e(e)}var AH=N2e,C2e=AH,S2e=mj;function A2e(e){for(var t=S2e(e),r=t.length;r--;){var a=t[r],s=e[a];t[r]=[a,s,C2e(s)]}return t}var E2e=A2e;function T2e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var EH=T2e,_2e=w2e,P2e=E2e,O2e=EH;function k2e(e){var t=P2e(e);return t.length==1&&t[0][2]?O2e(t[0][0],t[0][1]):function(r){return r===e||_2e(r,e,t)}}var I2e=k2e;function M2e(e,t){return e!=null&&t in Object(e)}var R2e=M2e,D2e=RW,L2e=J3,F2e=Ws,B2e=e_,$2e=t_,V2e=Jw;function z2e(e,t,r){t=D2e(t,e);for(var a=-1,s=t.length,i=!1;++a<s;){var o=V2e(t[a]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++a!=s?i:(s=e==null?0:e.length,!!s&&$2e(s)&&B2e(o,s)&&(F2e(e)||L2e(e)))}var U2e=z2e,W2e=R2e,H2e=U2e;function q2e(e,t){return e!=null&&H2e(e,t,W2e)}var G2e=q2e,K2e=r_,Y2e=DW,X2e=G2e,Q2e=R3,Z2e=AH,J2e=EH,eNe=Jw,tNe=1,rNe=2;function nNe(e,t){return Q2e(e)&&Z2e(t)?J2e(eNe(e),t):function(r){var a=Y2e(r,e);return a===void 0&&a===t?X2e(r,e):K2e(t,a,tNe|rNe)}}var aNe=nNe;function sNe(e){return e}var fp=sNe;function iNe(e){return function(t){return t==null?void 0:t[e]}}var oNe=iNe,lNe=z3;function cNe(e){return function(t){return lNe(t,e)}}var dNe=cNe,uNe=oNe,hNe=dNe,fNe=R3,mNe=Jw;function pNe(e){return fNe(e)?uNe(mNe(e)):hNe(e)}var xNe=pNe,gNe=I2e,vNe=aNe,yNe=fp,bNe=Ws,wNe=xNe;function jNe(e){return typeof e=="function"?e:e==null?yNe:typeof e=="object"?bNe(e)?vNe(e[0],e[1]):gNe(e):wNe(e)}var El=jNe;function NNe(e,t,r,a){for(var s=e.length,i=r+(a?1:-1);a?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var TH=NNe;function CNe(e){return e!==e}var SNe=CNe;function ANe(e,t,r){for(var a=r-1,s=e.length;++a<s;)if(e[a]===t)return a;return-1}var ENe=ANe,TNe=TH,_Ne=SNe,PNe=ENe;function ONe(e,t,r){return t===t?PNe(e,t,r):TNe(e,_Ne,r)}var kNe=ONe,INe=kNe;function MNe(e,t){var r=e==null?0:e.length;return!!r&&INe(e,t,0)>-1}var RNe=MNe;function DNe(e,t,r){for(var a=-1,s=e==null?0:e.length;++a<s;)if(r(t,e[a]))return!0;return!1}var LNe=DNe;function FNe(){}var BNe=FNe,ON=NH,$Ne=BNe,VNe=Z3,zNe=1/0,UNe=ON&&1/VNe(new ON([,-0]))[1]==zNe?function(e){return new ON(e)}:$Ne,WNe=UNe,HNe=fH,qNe=RNe,GNe=LNe,KNe=pH,YNe=WNe,XNe=Z3,QNe=200;function ZNe(e,t,r){var a=-1,s=qNe,i=e.length,o=!0,l=[],d=l;if(r)o=!1,s=GNe;else if(i>=QNe){var u=t?null:YNe(e);if(u)return XNe(u);o=!1,s=KNe,d=new HNe}else d=t?[]:l;e:for(;++a<i;){var f=e[a],p=t?t(f):f;if(f=r||f!==0?f:0,o&&p===p){for(var x=d.length;x--;)if(d[x]===p)continue e;t&&d.push(p),l.push(f)}else s(d,p,r)||(d!==l&&d.push(p),l.push(f))}return l}var JNe=ZNe,eCe=El,tCe=JNe;function rCe(e,t){return e&&e.length?tCe(e,eCe(t)):[]}var nCe=rCe;const S5=br(nCe);function _H(e,t,r){return t===!0?S5(e,r):Ht(t)?S5(e,t):e}function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}var aCe=["ref"];function A5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(r),!0).forEach(function(a){pj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function sCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E5(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,OH(a.key),a)}}function iCe(e,t,r){return t&&E5(e.prototype,t),r&&E5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function oCe(e,t,r){return t=Z1(t),lCe(e,PH()?Reflect.construct(t,r||[],Z1(e).constructor):t.apply(e,r))}function lCe(e,t){if(t&&(bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cCe(e)}function cCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PH=function(){return!!e})()}function Z1(e){return Z1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z1(e)}function dCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PA(e,t)}function PA(e,t){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},PA(e,t)}function pj(e,t,r){return t=OH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=uCe(e,"string");return bm(t)=="symbol"?t:t+""}function uCe(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hCe(e,t){if(e==null)return{};var r=fCe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function fCe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function mCe(e){return e.value}function pCe(e,t){if(Q.isValidElement(e))return Q.cloneElement(e,t);if(typeof e=="function")return Q.createElement(e,t);t.ref;var r=hCe(t,aCe);return Q.createElement(Q3,r)}var T5=1,ms=function(e){function t(){var r;sCe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=oCe(this,t,[].concat(s)),pj(r,"lastBoundingBox",{width:-1,height:-1}),r}return dCe(t,e),iCe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();return a.height=this.wrapperNode.offsetHeight,a.width=this.wrapperNode.offsetWidth,a}return null}},{key:"updateBBox",value:function(){var a=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>T5||Math.abs(s.height-this.lastBoundingBox.height)>T5)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,a&&a(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,a&&a(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(a){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,d=s.margin,u=s.chartWidth,f=s.chartHeight,p,x;if(!a||(a.left===void 0||a.left===null)&&(a.right===void 0||a.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();p={left:((u||0)-y.width)/2}}else p=o==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!a||(a.top===void 0||a.top===null)&&(a.bottom===void 0||a.bottom===null))if(l==="middle"){var j=this.getBBoxSnapshot();x={top:((f||0)-j.height)/2}}else x=l==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return kl(kl({},p),x)}},{key:"render",value:function(){var a=this,s=this.props,i=s.content,o=s.width,l=s.height,d=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,p=kl(kl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(d)),d);return Q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(y){a.wrapperNode=y}},pCe(i,kl(kl({},this.props),{},{payload:_H(f,u,mCe)})))}}],[{key:"getWithHeight",value:function(a,s){var i=kl(kl({},this.defaultProps),a.props),o=i.layout;return o==="vertical"&&Qe(a.props.height)?{height:a.props.height}:o==="horizontal"?{width:a.props.width||s}:null}}])}(E.PureComponent);pj(ms,"displayName","Legend");pj(ms,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var _5=$0,xCe=J3,gCe=Ws,P5=_5?_5.isConcatSpreadable:void 0;function vCe(e){return gCe(e)||xCe(e)||!!(P5&&e&&e[P5])}var yCe=vCe,bCe=gH,wCe=yCe;function kH(e,t,r,a,s){var i=-1,o=e.length;for(r||(r=wCe),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?kH(l,t-1,r,a,s):bCe(s,l):a||(s[s.length]=l)}return s}var IH=kH;function jCe(e){return function(t,r,a){for(var s=-1,i=Object(t),o=a(t),l=o.length;l--;){var d=o[e?l:++s];if(r(i[d],d,i)===!1)break}return t}}var NCe=jCe,CCe=NCe,SCe=CCe(),ACe=SCe,ECe=ACe,TCe=mj;function _Ce(e,t){return e&&ECe(e,t,TCe)}var MH=_Ce,PCe=U0;function OCe(e,t){return function(r,a){if(r==null)return r;if(!PCe(r))return e(r,a);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&a(o[i],i,o)!==!1;);return r}}var kCe=OCe,ICe=MH,MCe=kCe,RCe=MCe(ICe),n_=RCe,DCe=n_,LCe=U0;function FCe(e,t){var r=-1,a=LCe(e)?Array(e.length):[];return DCe(e,function(s,i,o){a[++r]=t(s,i,o)}),a}var RH=FCe;function BCe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var $Ce=BCe,O5=sp;function VCe(e,t){if(e!==t){var r=e!==void 0,a=e===null,s=e===e,i=O5(e),o=t!==void 0,l=t===null,d=t===t,u=O5(t);if(!l&&!u&&!i&&e>t||i&&o&&d&&!l&&!u||a&&o&&d||!r&&d||!s)return 1;if(!a&&!i&&!u&&e<t||u&&r&&s&&!a&&!i||l&&r&&s||!o&&s||!d)return-1}return 0}var zCe=VCe,UCe=zCe;function WCe(e,t,r){for(var a=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++a<o;){var d=UCe(s[a],i[a]);if(d){if(a>=l)return d;var u=r[a];return d*(u=="desc"?-1:1)}}return e.index-t.index}var HCe=WCe,kN=V3,qCe=z3,GCe=El,KCe=RH,YCe=$Ce,XCe=bH,QCe=HCe,ZCe=fp,JCe=Ws;function eSe(e,t,r){t.length?t=kN(t,function(i){return JCe(i)?function(o){return qCe(o,i.length===1?i[0]:i)}:i}):t=[ZCe];var a=-1;t=kN(t,XCe(GCe));var s=KCe(e,function(i,o,l){var d=kN(t,function(u){return u(i)});return{criteria:d,index:++a,value:i}});return YCe(s,function(i,o){return QCe(i,o,r)})}var tSe=eSe;function rSe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var nSe=rSe,aSe=nSe,k5=Math.max;function sSe(e,t,r){return t=k5(t===void 0?e.length-1:t,0),function(){for(var a=arguments,s=-1,i=k5(a.length-t,0),o=Array(i);++s<i;)o[s]=a[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=a[s];return l[t]=r(o),aSe(e,this,l)}}var iSe=sSe;function oSe(e){return function(){return e}}var lSe=oSe,cSe=wh,dSe=function(){try{var e=cSe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),DH=dSe,uSe=lSe,I5=DH,hSe=fp,fSe=I5?function(e,t){return I5(e,"toString",{configurable:!0,enumerable:!1,value:uSe(t),writable:!0})}:hSe,mSe=fSe,pSe=800,xSe=16,gSe=Date.now;function vSe(e){var t=0,r=0;return function(){var a=gSe(),s=xSe-(a-r);if(r=a,s>0){if(++t>=pSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var ySe=vSe,bSe=mSe,wSe=ySe,jSe=wSe(bSe),NSe=jSe,CSe=fp,SSe=iSe,ASe=NSe;function ESe(e,t){return ASe(SSe(e,t,CSe),e+"")}var TSe=ESe,_Se=L3,PSe=U0,OSe=e_,kSe=Hd;function ISe(e,t,r){if(!kSe(r))return!1;var a=typeof t;return(a=="number"?PSe(r)&&OSe(t,r.length):a=="string"&&t in r)?_Se(r[t],e):!1}var xj=ISe,MSe=IH,RSe=tSe,DSe=TSe,M5=xj,LSe=DSe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&M5(e,t[0],t[1])?t=[]:r>2&&M5(t[0],t[1],t[2])&&(t=[t[0]]),RSe(e,MSe(t,1),[])}),FSe=LSe;const a_=br(FSe);function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function OA(){return OA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},OA.apply(this,arguments)}function BSe(e,t){return USe(e)||zSe(e,t)||VSe(e,t)||$Se()}function $Se(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VSe(e,t){if(e){if(typeof e=="string")return R5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R5(e,t)}}function R5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zSe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function USe(e){if(Array.isArray(e))return e}function D5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function IN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(r),!0).forEach(function(a){WSe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function WSe(e,t,r){return t=HSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HSe(e){var t=qSe(e,"string");return Og(t)=="symbol"?t:t+""}function qSe(e,t){if(Og(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Og(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GSe(e){return Array.isArray(e)&&xa(e[0])&&xa(e[1])?e.join(" ~ "):e}var KSe=function(t){var r=t.separator,a=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,d=t.labelStyle,u=d===void 0?{}:d,f=t.payload,p=t.formatter,x=t.itemSorter,y=t.wrapperClassName,j=t.labelClassName,w=t.label,C=t.labelFormatter,N=t.accessibilityLayer,S=N===void 0?!1:N,_=function(){if(f&&f.length){var B={padding:0,margin:0},q=(x?a_(f,x):f).map(function($,L){if($.type==="none")return null;var H=IN({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),G=$.formatter||p||GSe,Y=$.value,te=$.name,X=Y,fe=te;if(G&&X!=null&&fe!=null){var re=G(Y,te,$,L,f);if(Array.isArray(re)){var se=BSe(re,2);X=se[0],fe=se[1]}else X=re}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:H},xa(fe)?Q.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,xa(fe)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},a):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},X),Q.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:B},q)}return null},I=IN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),T=IN({margin:0},u),M=!Yt(w),O=M?w:"",D=er("recharts-default-tooltip",y),R=er("recharts-tooltip-label",j);M&&C&&f!==void 0&&f!==null&&(O=C(w,f));var V=S?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",OA({className:D,style:I},V),Q.createElement("p",{className:R,style:T},Q.isValidElement(O)?O:"".concat(O)),_())};function kg(e){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kg(e)}function Hv(e,t,r){return t=YSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YSe(e){var t=XSe(e,"string");return kg(t)=="symbol"?t:t+""}function XSe(e,t){if(kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(kg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Up="recharts-tooltip-wrapper",QSe={visibility:"hidden"};function ZSe(e){var t=e.coordinate,r=e.translateX,a=e.translateY;return er(Up,Hv(Hv(Hv(Hv({},"".concat(Up,"-right"),Qe(r)&&t&&Qe(t.x)&&r>=t.x),"".concat(Up,"-left"),Qe(r)&&t&&Qe(t.x)&&r<t.x),"".concat(Up,"-bottom"),Qe(a)&&t&&Qe(t.y)&&a>=t.y),"".concat(Up,"-top"),Qe(a)&&t&&Qe(t.y)&&a<t.y))}function L5(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,d=e.viewBox,u=e.viewBoxDimension;if(i&&Qe(i[a]))return i[a];var f=r[a]-l-s,p=r[a]+s;if(t[a])return o[a]?f:p;if(o[a]){var x=f,y=d[a];return x<y?Math.max(p,d[a]):Math.max(f,d[a])}var j=p+l,w=d[a]+u;return j>w?Math.max(f,d[a]):Math.max(p,d[a])}function JSe(e){var t=e.translateX,r=e.translateY,a=e.useTranslate3d;return{transform:a?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function eAe(e){var t=e.allowEscapeViewBox,r=e.coordinate,a=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,d=e.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=L5({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=L5({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),u=JSe({translateX:f,translateY:p,useTranslate3d:l})):u=QSe,{cssProperties:u,cssClasses:ZSe({translateX:f,translateY:p,coordinate:r})}}function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}function F5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function B5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F5(Object(r),!0).forEach(function(a){IA(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function tAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rAe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,FH(a.key),a)}}function nAe(e,t,r){return t&&rAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aAe(e,t,r){return t=J1(t),sAe(e,LH()?Reflect.construct(t,r||[],J1(e).constructor):t.apply(e,r))}function sAe(e,t){if(t&&(wm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iAe(e)}function iAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!e})()}function J1(e){return J1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J1(e)}function oAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kA(e,t)}function kA(e,t){return kA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},kA(e,t)}function IA(e,t,r){return t=FH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FH(e){var t=lAe(e,"string");return wm(t)=="symbol"?t:t+""}function lAe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(wm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $5=1,cAe=function(e){function t(){var r;tAe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=aAe(this,t,[].concat(s)),IA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),IA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,d,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(d=r.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return oAe(t,e),nAe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var a=this.wrapperNode.getBoundingClientRect();(Math.abs(a.width-this.state.lastBoundingBox.width)>$5||Math.abs(a.height-this.state.lastBoundingBox.height)>$5)&&this.setState({lastBoundingBox:{width:a.width,height:a.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var a,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((a=this.props.coordinate)===null||a===void 0?void 0:a.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.children,f=s.coordinate,p=s.hasPayload,x=s.isAnimationActive,y=s.offset,j=s.position,w=s.reverseDirection,C=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,_=eAe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:y,position:j,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:C,viewBox:N}),I=_.cssClasses,T=_.cssProperties,M=B5(B5({transition:x&&i?"transform ".concat(l,"ms ").concat(d):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},S);return Q.createElement("div",{tabIndex:-1,className:I,style:M,ref:function(D){a.wrapperNode=D}},u)}}])}(E.PureComponent),dAe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},dl={isSsr:dAe(),get:function(t){return dl[t]},set:function(t,r){if(typeof t=="string")dl[t]=r;else{var a=Object.keys(t);a&&a.length&&a.forEach(function(s){dl[s]=t[s]})}}};function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function V5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function z5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(r),!0).forEach(function(a){s_(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function uAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hAe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$H(a.key),a)}}function fAe(e,t,r){return t&&hAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function mAe(e,t,r){return t=eb(t),pAe(e,BH()?Reflect.construct(t,r||[],eb(e).constructor):t.apply(e,r))}function pAe(e,t){if(t&&(jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xAe(e)}function xAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BH=function(){return!!e})()}function eb(e){return eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eb(e)}function gAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MA(e,t)}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},MA(e,t)}function s_(e,t,r){return t=$H(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=vAe(e,"string");return jm(t)=="symbol"?t:t+""}function vAe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(jm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yAe(e){return e.dataKey}function bAe(e,t){return Q.isValidElement(e)?Q.cloneElement(e,t):typeof e=="function"?Q.createElement(e,t):Q.createElement(KSe,t)}var Gn=function(e){function t(){return uAe(this,t),mAe(this,t,arguments)}return gAe(t,e),fAe(t,[{key:"render",value:function(){var a=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,d=s.animationEasing,u=s.content,f=s.coordinate,p=s.filterNull,x=s.isAnimationActive,y=s.offset,j=s.payload,w=s.payloadUniqBy,C=s.position,N=s.reverseDirection,S=s.useTranslate3d,_=s.viewBox,I=s.wrapperStyle,T=j??[];p&&T.length&&(T=_H(j.filter(function(O){return O.value!=null&&(O.hide!==!0||a.props.includeHidden)}),w,yAe));var M=T.length>0;return Q.createElement(cAe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:d,isAnimationActive:x,active:i,coordinate:f,hasPayload:M,offset:y,position:C,reverseDirection:N,useTranslate3d:S,viewBox:_,wrapperStyle:I},bAe(u,z5(z5({},this.props),{},{payload:T})))}}])}(E.PureComponent);s_(Gn,"displayName","Tooltip");s_(Gn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!dl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var wAe=Al,jAe=function(){return wAe.Date.now()},NAe=jAe,CAe=/\s/;function SAe(e){for(var t=e.length;t--&&CAe.test(e.charAt(t)););return t}var AAe=SAe,EAe=AAe,TAe=/^\s+/;function _Ae(e){return e&&e.slice(0,EAe(e)+1).replace(TAe,"")}var PAe=_Ae,OAe=PAe,U5=Hd,kAe=sp,W5=NaN,IAe=/^[-+]0x[0-9a-f]+$/i,MAe=/^0b[01]+$/i,RAe=/^0o[0-7]+$/i,DAe=parseInt;function LAe(e){if(typeof e=="number")return e;if(kAe(e))return W5;if(U5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=U5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=OAe(e);var r=MAe.test(e);return r||RAe.test(e)?DAe(e.slice(2),r?2:8):IAe.test(e)?W5:+e}var VH=LAe,FAe=Hd,MN=NAe,H5=VH,BAe="Expected a function",$Ae=Math.max,VAe=Math.min;function zAe(e,t,r){var a,s,i,o,l,d,u=0,f=!1,p=!1,x=!0;if(typeof e!="function")throw new TypeError(BAe);t=H5(t)||0,FAe(r)&&(f=!!r.leading,p="maxWait"in r,i=p?$Ae(H5(r.maxWait)||0,t):i,x="trailing"in r?!!r.trailing:x);function y(M){var O=a,D=s;return a=s=void 0,u=M,o=e.apply(D,O),o}function j(M){return u=M,l=setTimeout(N,t),f?y(M):o}function w(M){var O=M-d,D=M-u,R=t-O;return p?VAe(R,i-D):R}function C(M){var O=M-d,D=M-u;return d===void 0||O>=t||O<0||p&&D>=i}function N(){var M=MN();if(C(M))return S(M);l=setTimeout(N,w(M))}function S(M){return l=void 0,x&&a?y(M):(a=s=void 0,o)}function _(){l!==void 0&&clearTimeout(l),u=0,a=d=s=l=void 0}function I(){return l===void 0?o:S(MN())}function T(){var M=MN(),O=C(M);if(a=arguments,s=this,d=M,O){if(l===void 0)return j(d);if(p)return clearTimeout(l),l=setTimeout(N,t),y(d)}return l===void 0&&(l=setTimeout(N,t)),o}return T.cancel=_,T.flush=I,T}var UAe=zAe,WAe=UAe,HAe=Hd,qAe="Expected a function";function GAe(e,t,r){var a=!0,s=!0;if(typeof e!="function")throw new TypeError(qAe);return HAe(r)&&(a="leading"in r?!!r.leading:a,s="trailing"in r?!!r.trailing:s),WAe(e,t,{leading:a,maxWait:t,trailing:s})}var KAe=GAe;const zH=br(KAe);function Ig(e){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ig(e)}function q5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q5(Object(r),!0).forEach(function(a){YAe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function YAe(e,t,r){return t=XAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XAe(e){var t=QAe(e,"string");return Ig(t)=="symbol"?t:t+""}function QAe(e,t){if(Ig(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ig(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZAe(e,t){return rEe(e)||tEe(e,t)||eEe(e,t)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eEe(e,t){if(e){if(typeof e=="string")return G5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G5(e,t)}}function G5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function tEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rEe(e){if(Array.isArray(e))return e}var Ii=E.forwardRef(function(e,t){var r=e.aspect,a=e.initialDimension,s=a===void 0?{width:-1,height:-1}:a,i=e.width,o=i===void 0?"100%":i,l=e.height,d=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,p=e.minHeight,x=e.maxHeight,y=e.children,j=e.debounce,w=j===void 0?0:j,C=e.id,N=e.className,S=e.onResize,_=e.style,I=_===void 0?{}:_,T=E.useRef(null),M=E.useRef();M.current=S,E.useImperativeHandle(t,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var O=E.useState({containerWidth:s.width,containerHeight:s.height}),D=ZAe(O,2),R=D[0],V=D[1],z=E.useCallback(function(q,$){V(function(L){var H=Math.round(q),G=Math.round($);return L.containerWidth===H&&L.containerHeight===G?L:{containerWidth:H,containerHeight:G}})},[]);E.useEffect(function(){var q=function(te){var X,fe=te[0].contentRect,re=fe.width,se=fe.height;z(re,se),(X=M.current)===null||X===void 0||X.call(M,re,se)};w>0&&(q=zH(q,w,{trailing:!0,leading:!1}));var $=new ResizeObserver(q),L=T.current.getBoundingClientRect(),H=L.width,G=L.height;return z(H,G),$.observe(T.current),function(){$.disconnect()}},[z,w]);var B=E.useMemo(function(){var q=R.containerWidth,$=R.containerHeight;if(q<0||$<0)return null;Eo(wu(o)||wu(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,d),Eo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var L=wu(o)?q:o,H=wu(d)?$:d;r&&r>0&&(L?H=L/r:H&&(L=H*r),x&&H>x&&(H=x)),Eo(L>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,H,o,d,f,p,r);var G=!Array.isArray(y)&&Jl(y.type).endsWith("Chart");return Q.Children.map(y,function(Y){return Q.isValidElement(Y)?E.cloneElement(Y,qv({width:L,height:H},G?{style:qv({height:"100%",width:"100%",maxHeight:H,maxWidth:L},Y.props.style)}:{})):Y})},[r,y,d,x,p,f,R,o]);return Q.createElement("div",{id:C?"".concat(C):void 0,className:er("recharts-responsive-container",N),style:qv(qv({},I),{},{width:o,height:d,minWidth:f,minHeight:p,maxHeight:x}),ref:T},B)}),xd=function(t){return null};xd.displayName="Cell";function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function K5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function RA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K5(Object(r),!0).forEach(function(a){nEe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K5(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function nEe(e,t,r){return t=aEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aEe(e){var t=sEe(e,"string");return Mg(t)=="symbol"?t:t+""}function sEe(e,t){if(Mg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Mg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zh={widthCache:{},cacheCount:0},iEe=2e3,oEe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Y5="recharts_measurement_span";function lEe(e){var t=RA({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var kx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||dl.isSsr)return{width:0,height:0};var a=lEe(r),s=JSON.stringify({text:t,copyStyle:a});if(zh.widthCache[s])return zh.widthCache[s];try{var i=document.getElementById(Y5);i||(i=document.createElement("span"),i.setAttribute("id",Y5),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=RA(RA({},oEe),a);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),d={width:l.width,height:l.height};return zh.widthCache[s]=d,++zh.cacheCount>iEe&&(zh.cacheCount=0,zh.widthCache={}),d}catch{return{width:0,height:0}}},cEe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}function tb(e,t){return fEe(e)||hEe(e,t)||uEe(e,t)||dEe()}function dEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uEe(e,t){if(e){if(typeof e=="string")return X5(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X5(e,t)}}function X5(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function hEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fEe(e){if(Array.isArray(e))return e}function mEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Q5(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,xEe(a.key),a)}}function pEe(e,t,r){return t&&Q5(e.prototype,t),r&&Q5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xEe(e){var t=gEe(e,"string");return Rg(t)=="symbol"?t:t+""}function gEe(e,t){if(Rg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(Rg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Z5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,J5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vEe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yEe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,UH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bEe=Object.keys(UH),ff="NaN";function wEe(e,t){return e*UH[t]}var Gv=function(){function e(t,r){mEe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!vEe.test(r)&&(this.num=NaN,this.unit=""),bEe.includes(r)&&(this.num=wEe(t,r),this.unit="px")}return pEe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var a,s=(a=yEe.exec(r))!==null&&a!==void 0?a:[],i=tb(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function WH(e){if(e.includes(ff))return ff;for(var t=e;t.includes("*")||t.includes("/");){var r,a=(r=Z5.exec(t))!==null&&r!==void 0?r:[],s=tb(a,4),i=s[1],o=s[2],l=s[3],d=Gv.parse(i??""),u=Gv.parse(l??""),f=o==="*"?d.multiply(u):d.divide(u);if(f.isNaN())return ff;t=t.replace(Z5,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,x=(p=J5.exec(t))!==null&&p!==void 0?p:[],y=tb(x,4),j=y[1],w=y[2],C=y[3],N=Gv.parse(j??""),S=Gv.parse(C??""),_=w==="+"?N.add(S):N.subtract(S);if(_.isNaN())return ff;t=t.replace(J5,_.toString())}return t}var eR=/\(([^()]*)\)/;function jEe(e){for(var t=e;t.includes("(");){var r=eR.exec(t),a=tb(r,2),s=a[1];t=t.replace(eR,WH(s))}return t}function NEe(e){var t=e.replace(/\s+/g,"");return t=jEe(t),t=WH(t),t}function CEe(e){try{return NEe(e)}catch{return ff}}function RN(e){var t=CEe(e.slice(5,-1));return t===ff?"":t}var SEe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AEe=["dx","dy","angle","className","breakAll"];function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},DA.apply(this,arguments)}function tR(e,t){if(e==null)return{};var r=EEe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function EEe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function rR(e,t){return OEe(e)||PEe(e,t)||_Ee(e,t)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ee(e,t){if(e){if(typeof e=="string")return nR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function PEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function OEe(e){if(Array.isArray(e))return e}var HH=/[ \f\n\r\t\v\u2028\u2029]+/,qH=function(t){var r=t.children,a=t.breakAll,s=t.style;try{var i=[];Yt(r)||(a?i=r.toString().split(""):i=r.toString().split(HH));var o=i.map(function(d){return{word:d,width:kx(d,s).width}}),l=a?0:kx(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},kEe=function(t,r,a,s,i){var o=t.maxLines,l=t.children,d=t.style,u=t.breakAll,f=Qe(o),p=l,x=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce(function(H,G){var Y=G.word,te=G.width,X=H[H.length-1];if(X&&(s==null||i||X.width+te+a<Number(s)))X.words.push(Y),X.width+=te+a;else{var fe={words:[Y],width:te};H.push(fe)}return H},[])},y=x(r),j=function(L){return L.reduce(function(H,G){return H.width>G.width?H:G})};if(!f)return y;for(var w="…",C=function(L){var H=p.slice(0,L),G=qH({breakAll:u,style:d,children:H+w}).wordsWithComputedWidth,Y=x(G),te=Y.length>o||j(Y).width>Number(s);return[te,Y]},N=0,S=p.length-1,_=0,I;N<=S&&_<=p.length-1;){var T=Math.floor((N+S)/2),M=T-1,O=C(M),D=rR(O,2),R=D[0],V=D[1],z=C(T),B=rR(z,1),q=B[0];if(!R&&!q&&(N=T+1),R&&q&&(S=T-1),!R&&q){I=V;break}_++}return I||y},aR=function(t){var r=Yt(t)?[]:t.toString().split(HH);return[{words:r}]},IEe=function(t){var r=t.width,a=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||a)&&!dl.isSsr){var d,u,f=qH({breakAll:o,children:s,style:i});if(f){var p=f.wordsWithComputedWidth,x=f.spaceWidth;d=p,u=x}else return aR(s);return kEe({breakAll:o,children:s,maxLines:l,style:i},d,u,r,a)}return aR(s)},sR="#808080",oh=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,d=t.capHeight,u=d===void 0?"0.71em":d,f=t.scaleToFit,p=f===void 0?!1:f,x=t.textAnchor,y=x===void 0?"start":x,j=t.verticalAnchor,w=j===void 0?"end":j,C=t.fill,N=C===void 0?sR:C,S=tR(t,SEe),_=E.useMemo(function(){return IEe({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:p,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,p,S.style,S.width]),I=S.dx,T=S.dy,M=S.angle,O=S.className,D=S.breakAll,R=tR(S,AEe);if(!xa(a)||!xa(i))return null;var V=a+(Qe(I)?I:0),z=i+(Qe(T)?T:0),B;switch(w){case"start":B=RN("calc(".concat(u,")"));break;case"middle":B=RN("calc(".concat((_.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:B=RN("calc(".concat(_.length-1," * -").concat(l,")"));break}var q=[];if(p){var $=_[0].width,L=S.width;q.push("scale(".concat((Qe(L)?L/$:1)/$,")"))}return M&&q.push("rotate(".concat(M,", ").concat(V,", ").concat(z,")")),q.length&&(R.transform=q.join(" ")),Q.createElement("text",DA({},kt(R,!0),{x:V,y:z,className:er("recharts-text",O),textAnchor:y,fill:N.includes("url")?sR:N}),_.map(function(H,G){var Y=H.words.join(D?"":" ");return Q.createElement("tspan",{x:V,dy:G===0?B:l,key:"".concat(Y,"-").concat(G)},Y)}))};function gd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MEe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function i_(e){let t,r,a;e.length!==2?(t=gd,r=(l,d)=>gd(e(l),d),a=(l,d)=>e(l)-d):(t=e===gd||e===MEe?e:REe,r=e,a=e);function s(l,d,u=0,f=l.length){if(u<f){if(t(d,d)!==0)return f;do{const p=u+f>>>1;r(l[p],d)<0?u=p+1:f=p}while(u<f)}return u}function i(l,d,u=0,f=l.length){if(u<f){if(t(d,d)!==0)return f;do{const p=u+f>>>1;r(l[p],d)<=0?u=p+1:f=p}while(u<f)}return u}function o(l,d,u=0,f=l.length){const p=s(l,d,u,f-1);return p>u&&a(l[p-1],d)>-a(l[p],d)?p-1:p}return{left:s,center:o,right:i}}function REe(){return 0}function GH(e){return e===null?NaN:+e}function*DEe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LEe=i_(gd),W0=LEe.right;i_(GH).center;class iR extends Map{constructor(t,r=$Ee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[a,s]of t)this.set(a,s)}get(t){return super.get(oR(this,t))}has(t){return super.has(oR(this,t))}set(t,r){return super.set(FEe(this,t),r)}delete(t){return super.delete(BEe(this,t))}}function oR({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):r}function FEe({_intern:e,_key:t},r){const a=t(r);return e.has(a)?e.get(a):(e.set(a,r),r)}function BEe({_intern:e,_key:t},r){const a=t(r);return e.has(a)&&(r=e.get(a),e.delete(a)),r}function $Ee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VEe(e=gd){if(e===gd)return KH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const a=e(t,r);return a||a===0?a:(e(r,r)===0)-(e(t,t)===0)}}function KH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zEe=Math.sqrt(50),UEe=Math.sqrt(10),WEe=Math.sqrt(2);function rb(e,t,r){const a=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(a)),i=a/Math.pow(10,s),o=i>=zEe?10:i>=UEe?5:i>=WEe?2:1;let l,d,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),d=Math.round(t*u),l/u<e&&++l,d/u>t&&--d,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),d=Math.round(t/u),l*u<e&&++l,d*u>t&&--d),d<l&&.5<=r&&r<2?rb(e,t,r*2):[l,d,u]}function LA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const a=t<e,[s,i,o]=a?rb(t,e,r):rb(e,t,r);if(!(i>=s))return[];const l=i-s+1,d=new Array(l);if(a)if(o<0)for(let u=0;u<l;++u)d[u]=(i-u)/-o;else for(let u=0;u<l;++u)d[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)d[u]=(s+u)/-o;else for(let u=0;u<l;++u)d[u]=(s+u)*o;return d}function FA(e,t,r){return t=+t,e=+e,r=+r,rb(e,t,r)[2]}function BA(e,t,r){t=+t,e=+e,r=+r;const a=t<e,s=a?FA(t,e,r):FA(e,t,r);return(a?-1:1)*(s<0?1/-s:s)}function lR(e,t){let r;for(const a of e)a!=null&&(r<a||r===void 0&&a>=a)&&(r=a);return r}function cR(e,t){let r;for(const a of e)a!=null&&(r>a||r===void 0&&a>=a)&&(r=a);return r}function YH(e,t,r=0,a=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),a=Math.floor(Math.min(e.length-1,a)),!(r<=t&&t<=a))return e;for(s=s===void 0?KH:VEe(s);a>r;){if(a-r>600){const d=a-r+1,u=t-r+1,f=Math.log(d),p=.5*Math.exp(2*f/3),x=.5*Math.sqrt(f*p*(d-p)/d)*(u-d/2<0?-1:1),y=Math.max(r,Math.floor(t-u*p/d+x)),j=Math.min(a,Math.floor(t+(d-u)*p/d+x));YH(e,t,y,j,s)}const i=e[t];let o=r,l=a;for(Wp(e,r,t),s(e[a],i)>0&&Wp(e,r,a);o<l;){for(Wp(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Wp(e,r,l):(++l,Wp(e,l,a)),l<=t&&(r=l+1),t<=l&&(a=l-1)}return e}function Wp(e,t,r){const a=e[t];e[t]=e[r],e[r]=a}function HEe(e,t,r){if(e=Float64Array.from(DEe(e)),!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return cR(e);if(t>=1)return lR(e);var a,s=(a-1)*t,i=Math.floor(s),o=lR(YH(e,i).subarray(0,i+1)),l=cR(e.subarray(i+1));return o+(l-o)*(s-i)}}function qEe(e,t,r=GH){if(!(!(a=e.length)||isNaN(t=+t))){if(t<=0||a<2)return+r(e[0],0,e);if(t>=1)return+r(e[a-1],a-1,e);var a,s=(a-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function GEe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var a=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++a<s;)i[a]=e+a*r;return i}function Ji(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function bc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const $A=Symbol("implicit");function o_(){var e=new iR,t=[],r=[],a=$A;function s(i){let o=e.get(i);if(o===void 0){if(a!==$A)return a;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iR;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return o_(t,r).unknown(a)},Ji.apply(s,arguments),s}function Dg(){var e=o_().unknown(void 0),t=e.domain,r=e.range,a=0,s=1,i,o,l=!1,d=0,u=0,f=.5;delete e.unknown;function p(){var x=t().length,y=s<a,j=y?s:a,w=y?a:s;i=(w-j)/Math.max(1,x-d+u*2),l&&(i=Math.floor(i)),j+=(w-j-i*(x-d))*f,o=i*(1-d),l&&(j=Math.round(j),o=Math.round(o));var C=GEe(x).map(function(N){return j+i*N});return r(y?C.reverse():C)}return e.domain=function(x){return arguments.length?(t(x),p()):t()},e.range=function(x){return arguments.length?([a,s]=x,a=+a,s=+s,p()):[a,s]},e.rangeRound=function(x){return[a,s]=x,a=+a,s=+s,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(x){return arguments.length?(l=!!x,p()):l},e.padding=function(x){return arguments.length?(d=Math.min(1,u=+x),p()):d},e.paddingInner=function(x){return arguments.length?(d=Math.min(1,x),p()):d},e.paddingOuter=function(x){return arguments.length?(u=+x,p()):u},e.align=function(x){return arguments.length?(f=Math.max(0,Math.min(1,x)),p()):f},e.copy=function(){return Dg(t(),[a,s]).round(l).paddingInner(d).paddingOuter(u).align(f)},Ji.apply(p(),arguments)}function XH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return XH(t())},e}function Ix(){return XH(Dg.apply(null,arguments).paddingInner(1))}function l_(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function QH(e,t){var r=Object.create(e.prototype);for(var a in t)r[a]=t[a];return r}function H0(){}var Lg=.7,nb=1/Lg,If="\\s*([+-]?\\d+)\\s*",Fg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ul="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",KEe=/^#([0-9a-f]{3,8})$/,YEe=new RegExp(`^rgb\\(${If},${If},${If}\\)$`),XEe=new RegExp(`^rgb\\(${ul},${ul},${ul}\\)$`),QEe=new RegExp(`^rgba\\(${If},${If},${If},${Fg}\\)$`),ZEe=new RegExp(`^rgba\\(${ul},${ul},${ul},${Fg}\\)$`),JEe=new RegExp(`^hsl\\(${Fg},${ul},${ul}\\)$`),eTe=new RegExp(`^hsla\\(${Fg},${ul},${ul},${Fg}\\)$`),dR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l_(H0,Bg,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uR,formatHex:uR,formatHex8:tTe,formatHsl:rTe,formatRgb:hR,toString:hR});function uR(){return this.rgb().formatHex()}function tTe(){return this.rgb().formatHex8()}function rTe(){return ZH(this).formatHsl()}function hR(){return this.rgb().formatRgb()}function Bg(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=KEe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fR(t):r===3?new Is(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Kv(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Kv(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YEe.exec(e))?new Is(t[1],t[2],t[3],1):(t=XEe.exec(e))?new Is(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QEe.exec(e))?Kv(t[1],t[2],t[3],t[4]):(t=ZEe.exec(e))?Kv(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JEe.exec(e))?xR(t[1],t[2]/100,t[3]/100,1):(t=eTe.exec(e))?xR(t[1],t[2]/100,t[3]/100,t[4]):dR.hasOwnProperty(e)?fR(dR[e]):e==="transparent"?new Is(NaN,NaN,NaN,0):null}function fR(e){return new Is(e>>16&255,e>>8&255,e&255,1)}function Kv(e,t,r,a){return a<=0&&(e=t=r=NaN),new Is(e,t,r,a)}function nTe(e){return e instanceof H0||(e=Bg(e)),e?(e=e.rgb(),new Is(e.r,e.g,e.b,e.opacity)):new Is}function VA(e,t,r,a){return arguments.length===1?nTe(e):new Is(e,t,r,a??1)}function Is(e,t,r,a){this.r=+e,this.g=+t,this.b=+r,this.opacity=+a}l_(Is,VA,QH(H0,{brighter(e){return e=e==null?nb:Math.pow(nb,e),new Is(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Lg:Math.pow(Lg,e),new Is(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Is(Fu(this.r),Fu(this.g),Fu(this.b),ab(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mR,formatHex:mR,formatHex8:aTe,formatRgb:pR,toString:pR}));function mR(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}`}function aTe(){return`#${ju(this.r)}${ju(this.g)}${ju(this.b)}${ju((isNaN(this.opacity)?1:this.opacity)*255)}`}function pR(){const e=ab(this.opacity);return`${e===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${e===1?")":`, ${e})`}`}function ab(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ju(e){return e=Fu(e),(e<16?"0":"")+e.toString(16)}function xR(e,t,r,a){return a<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new go(e,t,r,a)}function ZH(e){if(e instanceof go)return new go(e.h,e.s,e.l,e.opacity);if(e instanceof H0||(e=Bg(e)),!e)return new go;if(e instanceof go)return e;e=e.rgb();var t=e.r/255,r=e.g/255,a=e.b/255,s=Math.min(t,r,a),i=Math.max(t,r,a),o=NaN,l=i-s,d=(i+s)/2;return l?(t===i?o=(r-a)/l+(r<a)*6:r===i?o=(a-t)/l+2:o=(t-r)/l+4,l/=d<.5?i+s:2-i-s,o*=60):l=d>0&&d<1?0:o,new go(o,l,d,e.opacity)}function sTe(e,t,r,a){return arguments.length===1?ZH(e):new go(e,t,r,a??1)}function go(e,t,r,a){this.h=+e,this.s=+t,this.l=+r,this.opacity=+a}l_(go,sTe,QH(H0,{brighter(e){return e=e==null?nb:Math.pow(nb,e),new go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Lg:Math.pow(Lg,e),new go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,a=r+(r<.5?r:1-r)*t,s=2*r-a;return new Is(DN(e>=240?e-240:e+120,s,a),DN(e,s,a),DN(e<120?e+240:e-120,s,a),this.opacity)},clamp(){return new go(gR(this.h),Yv(this.s),Yv(this.l),ab(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ab(this.opacity);return`${e===1?"hsl(":"hsla("}${gR(this.h)}, ${Yv(this.s)*100}%, ${Yv(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gR(e){return e=(e||0)%360,e<0?e+360:e}function Yv(e){return Math.max(0,Math.min(1,e||0))}function DN(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const c_=e=>()=>e;function iTe(e,t){return function(r){return e+r*t}}function oTe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(a){return Math.pow(e+a*t,r)}}function lTe(e){return(e=+e)==1?JH:function(t,r){return r-t?oTe(t,r,e):c_(isNaN(t)?r:t)}}function JH(e,t){var r=t-e;return r?iTe(e,r):c_(isNaN(e)?t:e)}const vR=function e(t){var r=lTe(t);function a(s,i){var o=r((s=VA(s)).r,(i=VA(i)).r),l=r(s.g,i.g),d=r(s.b,i.b),u=JH(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=d(f),s.opacity=u(f),s+""}}return a.gamma=e,a}(1);function cTe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,a=t.slice(),s;return function(i){for(s=0;s<r;++s)a[s]=e[s]*(1-i)+t[s]*i;return a}}function dTe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uTe(e,t){var r=t?t.length:0,a=e?Math.min(r,e.length):0,s=new Array(a),i=new Array(r),o;for(o=0;o<a;++o)s[o]=mp(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<a;++o)i[o]=s[o](l);return i}}function hTe(e,t){var r=new Date;return e=+e,t=+t,function(a){return r.setTime(e*(1-a)+t*a),r}}function sb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fTe(e,t){var r={},a={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=mp(e[s],t[s]):a[s]=t[s];return function(i){for(s in r)a[s]=r[s](i);return a}}var zA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LN=new RegExp(zA.source,"g");function mTe(e){return function(){return e}}function pTe(e){return function(t){return e(t)+""}}function xTe(e,t){var r=zA.lastIndex=LN.lastIndex=0,a,s,i,o=-1,l=[],d=[];for(e=e+"",t=t+"";(a=zA.exec(e))&&(s=LN.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(a=a[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,d.push({i:o,x:sb(a,s)})),r=LN.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?d[0]?pTe(d[0].x):mTe(t):(t=d.length,function(u){for(var f=0,p;f<t;++f)l[(p=d[f]).i]=p.x(u);return l.join("")})}function mp(e,t){var r=typeof t,a;return t==null||r==="boolean"?c_(t):(r==="number"?sb:r==="string"?(a=Bg(t))?(t=a,vR):xTe:t instanceof Bg?vR:t instanceof Date?hTe:dTe(t)?cTe:Array.isArray(t)?uTe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fTe:sb)(e,t)}function d_(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gTe(e,t){t===void 0&&(t=e,e=mp);for(var r=0,a=t.length-1,s=t[0],i=new Array(a<0?0:a);r<a;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(a-1,Math.floor(o*=a)));return i[l](o-l)}}function vTe(e){return function(){return e}}function ib(e){return+e}var yR=[0,1];function ps(e){return e}function UA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vTe(isNaN(t)?NaN:.5)}function yTe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(a){return Math.max(e,Math.min(t,a))}}function bTe(e,t,r){var a=e[0],s=e[1],i=t[0],o=t[1];return s<a?(a=UA(s,a),i=r(o,i)):(a=UA(a,s),i=r(i,o)),function(l){return i(a(l))}}function wTe(e,t,r){var a=Math.min(e.length,t.length)-1,s=new Array(a),i=new Array(a),o=-1;for(e[a]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<a;)s[o]=UA(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var d=W0(e,l,1,a)-1;return i[d](s[d](l))}}function q0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gj(){var e=yR,t=yR,r=mp,a,s,i,o=ps,l,d,u;function f(){var x=Math.min(e.length,t.length);return o!==ps&&(o=yTe(e[0],e[x-1])),l=x>2?wTe:bTe,d=u=null,p}function p(x){return x==null||isNaN(x=+x)?i:(d||(d=l(e.map(a),t,r)))(a(o(x)))}return p.invert=function(x){return o(s((u||(u=l(t,e.map(a),sb)))(x)))},p.domain=function(x){return arguments.length?(e=Array.from(x,ib),f()):e.slice()},p.range=function(x){return arguments.length?(t=Array.from(x),f()):t.slice()},p.rangeRound=function(x){return t=Array.from(x),r=d_,f()},p.clamp=function(x){return arguments.length?(o=x?!0:ps,f()):o!==ps},p.interpolate=function(x){return arguments.length?(r=x,f()):r},p.unknown=function(x){return arguments.length?(i=x,p):i},function(x,y){return a=x,s=y,f()}}function u_(){return gj()(ps,ps)}function jTe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ob(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,a=e.slice(0,r);return[a.length>1?a[0]+a.slice(2):a,+e.slice(r+1)]}function Nm(e){return e=ob(Math.abs(e)),e?e[1]:NaN}function NTe(e,t){return function(r,a){for(var s=r.length,i=[],o=0,l=e[0],d=0;s>0&&l>0&&(d+l+1>a&&(l=Math.max(1,a-d)),i.push(r.substring(s-=l,s+l)),!((d+=l+1)>a));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function CTe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var STe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $g(e){if(!(t=STe.exec(e)))throw new Error("invalid format: "+e);var t;return new h_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}$g.prototype=h_.prototype;function h_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ATe(e){e:for(var t=e.length,r=1,a=-1,s;r<t;++r)switch(e[r]){case".":a=s=r;break;case"0":a===0&&(a=r),s=r;break;default:if(!+e[r])break e;a>0&&(a=0);break}return a>0?e.slice(0,a)+e.slice(s+1):e}var eq;function ETe(e,t){var r=ob(e,t);if(!r)return e+"";var a=r[0],s=r[1],i=s-(eq=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=a.length;return i===o?a:i>o?a+new Array(i-o+1).join("0"):i>0?a.slice(0,i)+"."+a.slice(i):"0."+new Array(1-i).join("0")+ob(e,Math.max(0,t+i-1))[0]}function bR(e,t){var r=ob(e,t);if(!r)return e+"";var a=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+a:a.length>s+1?a.slice(0,s+1)+"."+a.slice(s+1):a+new Array(s-a.length+2).join("0")}const wR={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jTe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bR(e*100,t),r:bR,s:ETe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jR(e){return e}var NR=Array.prototype.map,CR=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function TTe(e){var t=e.grouping===void 0||e.thousands===void 0?jR:NTe(NR.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",a=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?jR:CTe(NR.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function u(p){p=$g(p);var x=p.fill,y=p.align,j=p.sign,w=p.symbol,C=p.zero,N=p.width,S=p.comma,_=p.precision,I=p.trim,T=p.type;T==="n"?(S=!0,T="g"):wR[T]||(_===void 0&&(_=12),I=!0,T="g"),(C||x==="0"&&y==="=")&&(C=!0,x="0",y="=");var M=w==="$"?r:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",O=w==="$"?a:/[%p]/.test(T)?o:"",D=wR[T],R=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function V(z){var B=M,q=O,$,L,H;if(T==="c")q=D(z)+q,z="";else{z=+z;var G=z<0||1/z<0;if(z=isNaN(z)?d:D(Math.abs(z),_),I&&(z=ATe(z)),G&&+z==0&&j!=="+"&&(G=!1),B=(G?j==="("?j:l:j==="-"||j==="("?"":j)+B,q=(T==="s"?CR[8+eq/3]:"")+q+(G&&j==="("?")":""),R){for($=-1,L=z.length;++$<L;)if(H=z.charCodeAt($),48>H||H>57){q=(H===46?s+z.slice($+1):z.slice($))+q,z=z.slice(0,$);break}}}S&&!C&&(z=t(z,1/0));var Y=B.length+z.length+q.length,te=Y<N?new Array(N-Y+1).join(x):"";switch(S&&C&&(z=t(te+z,te.length?N-q.length:1/0),te=""),y){case"<":z=B+z+q+te;break;case"=":z=B+te+z+q;break;case"^":z=te.slice(0,Y=te.length>>1)+B+z+q+te.slice(Y);break;default:z=te+B+z+q;break}return i(z)}return V.toString=function(){return p+""},V}function f(p,x){var y=u((p=$g(p),p.type="f",p)),j=Math.max(-8,Math.min(8,Math.floor(Nm(x)/3)))*3,w=Math.pow(10,-j),C=CR[8+j/3];return function(N){return y(w*N)+C}}return{format:u,formatPrefix:f}}var Xv,f_,tq;_Te({thousands:",",grouping:[3],currency:["$",""]});function _Te(e){return Xv=TTe(e),f_=Xv.format,tq=Xv.formatPrefix,Xv}function PTe(e){return Math.max(0,-Nm(Math.abs(e)))}function OTe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nm(t)/3)))*3-Nm(Math.abs(e)))}function kTe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nm(t)-Nm(e))+1}function rq(e,t,r,a){var s=BA(e,t,r),i;switch(a=$g(a??",f"),a.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return a.precision==null&&!isNaN(i=OTe(s,o))&&(a.precision=i),tq(a,o)}case"":case"e":case"g":case"p":case"r":{a.precision==null&&!isNaN(i=kTe(s,Math.max(Math.abs(e),Math.abs(t))))&&(a.precision=i-(a.type==="e"));break}case"f":case"%":{a.precision==null&&!isNaN(i=PTe(s))&&(a.precision=i-(a.type==="%")*2);break}}return f_(a)}function qd(e){var t=e.domain;return e.ticks=function(r){var a=t();return LA(a[0],a[a.length-1],r??10)},e.tickFormat=function(r,a){var s=t();return rq(s[0],s[s.length-1],r??10,a)},e.nice=function(r){r==null&&(r=10);var a=t(),s=0,i=a.length-1,o=a[s],l=a[i],d,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=FA(o,l,r),u===d)return a[s]=o,a[i]=l,t(a);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;d=u}return e},e}function lb(){var e=u_();return e.copy=function(){return q0(e,lb())},Ji.apply(e,arguments),qd(e)}function nq(e){var t;function r(a){return a==null||isNaN(a=+a)?t:a}return r.invert=r,r.domain=r.range=function(a){return arguments.length?(e=Array.from(a,ib),r):e.slice()},r.unknown=function(a){return arguments.length?(t=a,r):t},r.copy=function(){return nq(e).unknown(t)},e=arguments.length?Array.from(e,ib):[0,1],qd(r)}function aq(e,t){e=e.slice();var r=0,a=e.length-1,s=e[r],i=e[a],o;return i<s&&(o=r,r=a,a=o,o=s,s=i,i=o),e[r]=t.floor(s),e[a]=t.ceil(i),e}function SR(e){return Math.log(e)}function AR(e){return Math.exp(e)}function ITe(e){return-Math.log(-e)}function MTe(e){return-Math.exp(-e)}function RTe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function DTe(e){return e===10?RTe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LTe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ER(e){return(t,r)=>-e(-t,r)}function m_(e){const t=e(SR,AR),r=t.domain;let a=10,s,i;function o(){return s=LTe(a),i=DTe(a),r()[0]<0?(s=ER(s),i=ER(i),e(ITe,MTe)):e(SR,AR),t}return t.base=function(l){return arguments.length?(a=+l,o()):a},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const d=r();let u=d[0],f=d[d.length-1];const p=f<u;p&&([u,f]=[f,u]);let x=s(u),y=s(f),j,w;const C=l==null?10:+l;let N=[];if(!(a%1)&&y-x<C){if(x=Math.floor(x),y=Math.ceil(y),u>0){for(;x<=y;++x)for(j=1;j<a;++j)if(w=x<0?j/i(-x):j*i(x),!(w<u)){if(w>f)break;N.push(w)}}else for(;x<=y;++x)for(j=a-1;j>=1;--j)if(w=x>0?j/i(-x):j*i(x),!(w<u)){if(w>f)break;N.push(w)}N.length*2<C&&(N=LA(u,f,C))}else N=LA(x,y,Math.min(y-x,C)).map(i);return p?N.reverse():N},t.tickFormat=(l,d)=>{if(l==null&&(l=10),d==null&&(d=a===10?"s":","),typeof d!="function"&&(!(a%1)&&(d=$g(d)).precision==null&&(d.trim=!0),d=f_(d)),l===1/0)return d;const u=Math.max(1,a*l/t.ticks().length);return f=>{let p=f/i(Math.round(s(f)));return p*a<a-.5&&(p*=a),p<=u?d(f):""}},t.nice=()=>r(aq(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function sq(){const e=m_(gj()).domain([1,10]);return e.copy=()=>q0(e,sq()).base(e.base()),Ji.apply(e,arguments),e}function TR(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function _R(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function p_(e){var t=1,r=e(TR(t),_R(t));return r.constant=function(a){return arguments.length?e(TR(t=+a),_R(t)):t},qd(r)}function iq(){var e=p_(gj());return e.copy=function(){return q0(e,iq()).constant(e.constant())},Ji.apply(e,arguments)}function PR(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FTe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BTe(e){return e<0?-e*e:e*e}function x_(e){var t=e(ps,ps),r=1;function a(){return r===1?e(ps,ps):r===.5?e(FTe,BTe):e(PR(r),PR(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,a()):r},qd(t)}function g_(){var e=x_(gj());return e.copy=function(){return q0(e,g_()).exponent(e.exponent())},Ji.apply(e,arguments),e}function $Te(){return g_.apply(null,arguments).exponent(.5)}function OR(e){return Math.sign(e)*e*e}function VTe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oq(){var e=u_(),t=[0,1],r=!1,a;function s(i){var o=VTe(e(i));return isNaN(o)?a:r?Math.round(o):o}return s.invert=function(i){return e.invert(OR(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,ib)).map(OR)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(a=i,s):a},s.copy=function(){return oq(e.domain(),t).round(r).clamp(e.clamp()).unknown(a)},Ji.apply(s,arguments),qd(s)}function lq(){var e=[],t=[],r=[],a;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=qEe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?a:t[W0(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(gd),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(a=o,i):a},i.quantiles=function(){return r.slice()},i.copy=function(){return lq().domain(e).range(t).unknown(a)},Ji.apply(i,arguments)}function cq(){var e=0,t=1,r=1,a=[.5],s=[0,1],i;function o(d){return d!=null&&d<=d?s[W0(a,d,0,r)]:i}function l(){var d=-1;for(a=new Array(r);++d<r;)a[d]=((d+1)*t-(d-r)*e)/(r+1);return o}return o.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,l()):[e,t]},o.range=function(d){return arguments.length?(r=(s=Array.from(d)).length-1,l()):s.slice()},o.invertExtent=function(d){var u=s.indexOf(d);return u<0?[NaN,NaN]:u<1?[e,a[0]]:u>=r?[a[r-1],t]:[a[u-1],a[u]]},o.unknown=function(d){return arguments.length&&(i=d),o},o.thresholds=function(){return a.slice()},o.copy=function(){return cq().domain([e,t]).range(s).unknown(i)},Ji.apply(qd(o),arguments)}function dq(){var e=[.5],t=[0,1],r,a=1;function s(i){return i!=null&&i<=i?t[W0(e,i,0,a)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),a=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),a=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return dq().domain(e).range(t).unknown(r)},Ji.apply(s,arguments)}const FN=new Date,BN=new Date;function ya(e,t,r,a){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const d=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return d;let u;do d.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return d},s.filter=i=>ya(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(FN.setTime(+i),BN.setTime(+o),e(FN),e(BN),Math.floor(r(FN,BN))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(a?o=>a(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const cb=ya(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ya(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cb);cb.range;const Wl=1e3,Vi=Wl*60,Hl=Vi*60,mc=Hl*24,v_=mc*7,kR=mc*30,$N=mc*365,Nu=ya(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Wl)},(e,t)=>(t-e)/Wl,e=>e.getUTCSeconds());Nu.range;const y_=ya(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getMinutes());y_.range;const b_=ya(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Vi)},(e,t)=>(t-e)/Vi,e=>e.getUTCMinutes());b_.range;const w_=ya(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Wl-e.getMinutes()*Vi)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getHours());w_.range;const j_=ya(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCHours());j_.range;const G0=ya(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Vi)/mc,e=>e.getDate()-1);G0.range;const vj=ya(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>e.getUTCDate()-1);vj.range;const uq=ya(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/mc,e=>Math.floor(e/mc));uq.range;function jh(e){return ya(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Vi)/v_)}const yj=jh(0),db=jh(1),zTe=jh(2),UTe=jh(3),Cm=jh(4),WTe=jh(5),HTe=jh(6);yj.range;db.range;zTe.range;UTe.range;Cm.range;WTe.range;HTe.range;function Nh(e){return ya(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/v_)}const bj=Nh(0),ub=Nh(1),qTe=Nh(2),GTe=Nh(3),Sm=Nh(4),KTe=Nh(5),YTe=Nh(6);bj.range;ub.range;qTe.range;GTe.range;Sm.range;KTe.range;YTe.range;const N_=ya(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());N_.range;const C_=ya(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C_.range;const pc=ya(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());pc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ya(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});pc.range;const xc=ya(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());xc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ya(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});xc.range;function hq(e,t,r,a,s,i){const o=[[Nu,1,Wl],[Nu,5,5*Wl],[Nu,15,15*Wl],[Nu,30,30*Wl],[i,1,Vi],[i,5,5*Vi],[i,15,15*Vi],[i,30,30*Vi],[s,1,Hl],[s,3,3*Hl],[s,6,6*Hl],[s,12,12*Hl],[a,1,mc],[a,2,2*mc],[r,1,v_],[t,1,kR],[t,3,3*kR],[e,1,$N]];function l(u,f,p){const x=f<u;x&&([u,f]=[f,u]);const y=p&&typeof p.range=="function"?p:d(u,f,p),j=y?y.range(u,+f+1):[];return x?j.reverse():j}function d(u,f,p){const x=Math.abs(f-u)/p,y=i_(([,,C])=>C).right(o,x);if(y===o.length)return e.every(BA(u/$N,f/$N,p));if(y===0)return cb.every(Math.max(BA(u,f,p),1));const[j,w]=o[x/o[y-1][2]<o[y][2]/x?y-1:y];return j.every(w)}return[l,d]}const[XTe,QTe]=hq(xc,C_,bj,uq,j_,b_),[ZTe,JTe]=hq(pc,N_,yj,G0,w_,y_);function VN(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function zN(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Hp(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function e4e(e){var t=e.dateTime,r=e.date,a=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,d=e.shortMonths,u=qp(s),f=Gp(s),p=qp(i),x=Gp(i),y=qp(o),j=Gp(o),w=qp(l),C=Gp(l),N=qp(d),S=Gp(d),_={a:G,A:Y,b:te,B:X,c:null,d:FR,e:FR,f:N4e,g:I4e,G:R4e,H:b4e,I:w4e,j:j4e,L:fq,m:C4e,M:S4e,p:fe,q:re,Q:VR,s:zR,S:A4e,u:E4e,U:T4e,V:_4e,w:P4e,W:O4e,x:null,X:null,y:k4e,Y:M4e,Z:D4e,"%":$R},I={a:se,A:Te,b:vt,B:Me,c:null,d:BR,e:BR,f:$4e,g:X4e,G:Z4e,H:L4e,I:F4e,j:B4e,L:pq,m:V4e,M:z4e,p:he,q:rt,Q:VR,s:zR,S:U4e,u:W4e,U:H4e,V:q4e,w:G4e,W:K4e,x:null,X:null,y:Y4e,Y:Q4e,Z:J4e,"%":$R},T={a:V,A:z,b:B,B:q,c:$,d:DR,e:DR,f:x4e,g:RR,G:MR,H:LR,I:LR,j:h4e,L:p4e,m:u4e,M:f4e,p:R,q:d4e,Q:v4e,s:y4e,S:m4e,u:s4e,U:i4e,V:o4e,w:a4e,W:l4e,x:L,X:H,y:RR,Y:MR,Z:c4e,"%":g4e};_.x=M(r,_),_.X=M(a,_),_.c=M(t,_),I.x=M(r,I),I.X=M(a,I),I.c=M(t,I);function M(Ae,Je){return function(Ge){var je=[],it=-1,wt=0,nr=Ae.length,pr,Gt,Ee;for(Ge instanceof Date||(Ge=new Date(+Ge));++it<nr;)Ae.charCodeAt(it)===37&&(je.push(Ae.slice(wt,it)),(Gt=IR[pr=Ae.charAt(++it)])!=null?pr=Ae.charAt(++it):Gt=pr==="e"?" ":"0",(Ee=Je[pr])&&(pr=Ee(Ge,Gt)),je.push(pr),wt=it+1);return je.push(Ae.slice(wt,it)),je.join("")}}function O(Ae,Je){return function(Ge){var je=Hp(1900,void 0,1),it=D(je,Ae,Ge+="",0),wt,nr;if(it!=Ge.length)return null;if("Q"in je)return new Date(je.Q);if("s"in je)return new Date(je.s*1e3+("L"in je?je.L:0));if(Je&&!("Z"in je)&&(je.Z=0),"p"in je&&(je.H=je.H%12+je.p*12),je.m===void 0&&(je.m="q"in je?je.q:0),"V"in je){if(je.V<1||je.V>53)return null;"w"in je||(je.w=1),"Z"in je?(wt=zN(Hp(je.y,0,1)),nr=wt.getUTCDay(),wt=nr>4||nr===0?ub.ceil(wt):ub(wt),wt=vj.offset(wt,(je.V-1)*7),je.y=wt.getUTCFullYear(),je.m=wt.getUTCMonth(),je.d=wt.getUTCDate()+(je.w+6)%7):(wt=VN(Hp(je.y,0,1)),nr=wt.getDay(),wt=nr>4||nr===0?db.ceil(wt):db(wt),wt=G0.offset(wt,(je.V-1)*7),je.y=wt.getFullYear(),je.m=wt.getMonth(),je.d=wt.getDate()+(je.w+6)%7)}else("W"in je||"U"in je)&&("w"in je||(je.w="u"in je?je.u%7:"W"in je?1:0),nr="Z"in je?zN(Hp(je.y,0,1)).getUTCDay():VN(Hp(je.y,0,1)).getDay(),je.m=0,je.d="W"in je?(je.w+6)%7+je.W*7-(nr+5)%7:je.w+je.U*7-(nr+6)%7);return"Z"in je?(je.H+=je.Z/100|0,je.M+=je.Z%100,zN(je)):VN(je)}}function D(Ae,Je,Ge,je){for(var it=0,wt=Je.length,nr=Ge.length,pr,Gt;it<wt;){if(je>=nr)return-1;if(pr=Je.charCodeAt(it++),pr===37){if(pr=Je.charAt(it++),Gt=T[pr in IR?Je.charAt(it++):pr],!Gt||(je=Gt(Ae,Ge,je))<0)return-1}else if(pr!=Ge.charCodeAt(je++))return-1}return je}function R(Ae,Je,Ge){var je=u.exec(Je.slice(Ge));return je?(Ae.p=f.get(je[0].toLowerCase()),Ge+je[0].length):-1}function V(Ae,Je,Ge){var je=y.exec(Je.slice(Ge));return je?(Ae.w=j.get(je[0].toLowerCase()),Ge+je[0].length):-1}function z(Ae,Je,Ge){var je=p.exec(Je.slice(Ge));return je?(Ae.w=x.get(je[0].toLowerCase()),Ge+je[0].length):-1}function B(Ae,Je,Ge){var je=N.exec(Je.slice(Ge));return je?(Ae.m=S.get(je[0].toLowerCase()),Ge+je[0].length):-1}function q(Ae,Je,Ge){var je=w.exec(Je.slice(Ge));return je?(Ae.m=C.get(je[0].toLowerCase()),Ge+je[0].length):-1}function $(Ae,Je,Ge){return D(Ae,t,Je,Ge)}function L(Ae,Je,Ge){return D(Ae,r,Je,Ge)}function H(Ae,Je,Ge){return D(Ae,a,Je,Ge)}function G(Ae){return o[Ae.getDay()]}function Y(Ae){return i[Ae.getDay()]}function te(Ae){return d[Ae.getMonth()]}function X(Ae){return l[Ae.getMonth()]}function fe(Ae){return s[+(Ae.getHours()>=12)]}function re(Ae){return 1+~~(Ae.getMonth()/3)}function se(Ae){return o[Ae.getUTCDay()]}function Te(Ae){return i[Ae.getUTCDay()]}function vt(Ae){return d[Ae.getUTCMonth()]}function Me(Ae){return l[Ae.getUTCMonth()]}function he(Ae){return s[+(Ae.getUTCHours()>=12)]}function rt(Ae){return 1+~~(Ae.getUTCMonth()/3)}return{format:function(Ae){var Je=M(Ae+="",_);return Je.toString=function(){return Ae},Je},parse:function(Ae){var Je=O(Ae+="",!1);return Je.toString=function(){return Ae},Je},utcFormat:function(Ae){var Je=M(Ae+="",I);return Je.toString=function(){return Ae},Je},utcParse:function(Ae){var Je=O(Ae+="",!0);return Je.toString=function(){return Ae},Je}}}var IR={"-":"",_:" ",0:"0"},ka=/^\s*\d+/,t4e=/^%/,r4e=/[\\^$*+?|[\]().{}]/g;function Er(e,t,r){var a=e<0?"-":"",s=(a?-e:e)+"",i=s.length;return a+(i<r?new Array(r-i+1).join(t)+s:s)}function n4e(e){return e.replace(r4e,"\\$&")}function qp(e){return new RegExp("^(?:"+e.map(n4e).join("|")+")","i")}function Gp(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function a4e(e,t,r){var a=ka.exec(t.slice(r,r+1));return a?(e.w=+a[0],r+a[0].length):-1}function s4e(e,t,r){var a=ka.exec(t.slice(r,r+1));return a?(e.u=+a[0],r+a[0].length):-1}function i4e(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.U=+a[0],r+a[0].length):-1}function o4e(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.V=+a[0],r+a[0].length):-1}function l4e(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.W=+a[0],r+a[0].length):-1}function MR(e,t,r){var a=ka.exec(t.slice(r,r+4));return a?(e.y=+a[0],r+a[0].length):-1}function RR(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.y=+a[0]+(+a[0]>68?1900:2e3),r+a[0].length):-1}function c4e(e,t,r){var a=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return a?(e.Z=a[1]?0:-(a[2]+(a[3]||"00")),r+a[0].length):-1}function d4e(e,t,r){var a=ka.exec(t.slice(r,r+1));return a?(e.q=a[0]*3-3,r+a[0].length):-1}function u4e(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.m=a[0]-1,r+a[0].length):-1}function DR(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.d=+a[0],r+a[0].length):-1}function h4e(e,t,r){var a=ka.exec(t.slice(r,r+3));return a?(e.m=0,e.d=+a[0],r+a[0].length):-1}function LR(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.H=+a[0],r+a[0].length):-1}function f4e(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.M=+a[0],r+a[0].length):-1}function m4e(e,t,r){var a=ka.exec(t.slice(r,r+2));return a?(e.S=+a[0],r+a[0].length):-1}function p4e(e,t,r){var a=ka.exec(t.slice(r,r+3));return a?(e.L=+a[0],r+a[0].length):-1}function x4e(e,t,r){var a=ka.exec(t.slice(r,r+6));return a?(e.L=Math.floor(a[0]/1e3),r+a[0].length):-1}function g4e(e,t,r){var a=t4e.exec(t.slice(r,r+1));return a?r+a[0].length:-1}function v4e(e,t,r){var a=ka.exec(t.slice(r));return a?(e.Q=+a[0],r+a[0].length):-1}function y4e(e,t,r){var a=ka.exec(t.slice(r));return a?(e.s=+a[0],r+a[0].length):-1}function FR(e,t){return Er(e.getDate(),t,2)}function b4e(e,t){return Er(e.getHours(),t,2)}function w4e(e,t){return Er(e.getHours()%12||12,t,2)}function j4e(e,t){return Er(1+G0.count(pc(e),e),t,3)}function fq(e,t){return Er(e.getMilliseconds(),t,3)}function N4e(e,t){return fq(e,t)+"000"}function C4e(e,t){return Er(e.getMonth()+1,t,2)}function S4e(e,t){return Er(e.getMinutes(),t,2)}function A4e(e,t){return Er(e.getSeconds(),t,2)}function E4e(e){var t=e.getDay();return t===0?7:t}function T4e(e,t){return Er(yj.count(pc(e)-1,e),t,2)}function mq(e){var t=e.getDay();return t>=4||t===0?Cm(e):Cm.ceil(e)}function _4e(e,t){return e=mq(e),Er(Cm.count(pc(e),e)+(pc(e).getDay()===4),t,2)}function P4e(e){return e.getDay()}function O4e(e,t){return Er(db.count(pc(e)-1,e),t,2)}function k4e(e,t){return Er(e.getFullYear()%100,t,2)}function I4e(e,t){return e=mq(e),Er(e.getFullYear()%100,t,2)}function M4e(e,t){return Er(e.getFullYear()%1e4,t,4)}function R4e(e,t){var r=e.getDay();return e=r>=4||r===0?Cm(e):Cm.ceil(e),Er(e.getFullYear()%1e4,t,4)}function D4e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Er(t/60|0,"0",2)+Er(t%60,"0",2)}function BR(e,t){return Er(e.getUTCDate(),t,2)}function L4e(e,t){return Er(e.getUTCHours(),t,2)}function F4e(e,t){return Er(e.getUTCHours()%12||12,t,2)}function B4e(e,t){return Er(1+vj.count(xc(e),e),t,3)}function pq(e,t){return Er(e.getUTCMilliseconds(),t,3)}function $4e(e,t){return pq(e,t)+"000"}function V4e(e,t){return Er(e.getUTCMonth()+1,t,2)}function z4e(e,t){return Er(e.getUTCMinutes(),t,2)}function U4e(e,t){return Er(e.getUTCSeconds(),t,2)}function W4e(e){var t=e.getUTCDay();return t===0?7:t}function H4e(e,t){return Er(bj.count(xc(e)-1,e),t,2)}function xq(e){var t=e.getUTCDay();return t>=4||t===0?Sm(e):Sm.ceil(e)}function q4e(e,t){return e=xq(e),Er(Sm.count(xc(e),e)+(xc(e).getUTCDay()===4),t,2)}function G4e(e){return e.getUTCDay()}function K4e(e,t){return Er(ub.count(xc(e)-1,e),t,2)}function Y4e(e,t){return Er(e.getUTCFullYear()%100,t,2)}function X4e(e,t){return e=xq(e),Er(e.getUTCFullYear()%100,t,2)}function Q4e(e,t){return Er(e.getUTCFullYear()%1e4,t,4)}function Z4e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sm(e):Sm.ceil(e),Er(e.getUTCFullYear()%1e4,t,4)}function J4e(){return"+0000"}function $R(){return"%"}function VR(e){return+e}function zR(e){return Math.floor(+e/1e3)}var Uh,gq,vq;e3e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function e3e(e){return Uh=e4e(e),gq=Uh.format,Uh.parse,vq=Uh.utcFormat,Uh.utcParse,Uh}function t3e(e){return new Date(e)}function r3e(e){return e instanceof Date?+e:+new Date(+e)}function S_(e,t,r,a,s,i,o,l,d,u){var f=u_(),p=f.invert,x=f.domain,y=u(".%L"),j=u(":%S"),w=u("%I:%M"),C=u("%I %p"),N=u("%a %d"),S=u("%b %d"),_=u("%B"),I=u("%Y");function T(M){return(d(M)<M?y:l(M)<M?j:o(M)<M?w:i(M)<M?C:a(M)<M?s(M)<M?N:S:r(M)<M?_:I)(M)}return f.invert=function(M){return new Date(p(M))},f.domain=function(M){return arguments.length?x(Array.from(M,r3e)):x().map(t3e)},f.ticks=function(M){var O=x();return e(O[0],O[O.length-1],M??10)},f.tickFormat=function(M,O){return O==null?T:u(O)},f.nice=function(M){var O=x();return(!M||typeof M.range!="function")&&(M=t(O[0],O[O.length-1],M??10)),M?x(aq(O,M)):f},f.copy=function(){return q0(f,S_(e,t,r,a,s,i,o,l,d,u))},f}function n3e(){return Ji.apply(S_(ZTe,JTe,pc,N_,yj,G0,w_,y_,Nu,gq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function a3e(){return Ji.apply(S_(XTe,QTe,xc,C_,bj,vj,j_,b_,Nu,vq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wj(){var e=0,t=1,r,a,s,i,o=ps,l=!1,d;function u(p){return p==null||isNaN(p=+p)?d:o(s===0?.5:(p=(i(p)-r)*s,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=i(e=+e),a=i(t=+t),s=r===a?0:1/(a-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(x){var y,j;return arguments.length?([y,j]=x,o=p(y,j),u):[o(0),o(1)]}}return u.range=f(mp),u.rangeRound=f(d_),u.unknown=function(p){return arguments.length?(d=p,u):d},function(p){return i=p,r=p(e),a=p(t),s=r===a?0:1/(a-r),u}}function Gd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yq(){var e=qd(wj()(ps));return e.copy=function(){return Gd(e,yq())},bc.apply(e,arguments)}function bq(){var e=m_(wj()).domain([1,10]);return e.copy=function(){return Gd(e,bq()).base(e.base())},bc.apply(e,arguments)}function wq(){var e=p_(wj());return e.copy=function(){return Gd(e,wq()).constant(e.constant())},bc.apply(e,arguments)}function A_(){var e=x_(wj());return e.copy=function(){return Gd(e,A_()).exponent(e.exponent())},bc.apply(e,arguments)}function s3e(){return A_.apply(null,arguments).exponent(.5)}function jq(){var e=[],t=ps;function r(a){if(a!=null&&!isNaN(a=+a))return t((W0(e,a,1)-1)/(e.length-1))}return r.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let s of a)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(gd),r},r.interpolator=function(a){return arguments.length?(t=a,r):t},r.range=function(){return e.map((a,s)=>t(s/(e.length-1)))},r.quantiles=function(a){return Array.from({length:a+1},(s,i)=>HEe(e,i/a))},r.copy=function(){return jq(t).domain(e)},bc.apply(r,arguments)}function jj(){var e=0,t=.5,r=1,a=1,s,i,o,l,d,u=ps,f,p=!1,x;function y(w){return isNaN(w=+w)?x:(w=.5+((w=+f(w))-i)*(a*w<a*i?l:d),u(p?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,r]=w,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),a=i<s?-1:1,y):[e,t,r]},y.clamp=function(w){return arguments.length?(p=!!w,y):p},y.interpolator=function(w){return arguments.length?(u=w,y):u};function j(w){return function(C){var N,S,_;return arguments.length?([N,S,_]=C,u=gTe(w,[N,S,_]),y):[u(0),u(.5),u(1)]}}return y.range=j(mp),y.rangeRound=j(d_),y.unknown=function(w){return arguments.length?(x=w,y):x},function(w){return f=w,s=w(e),i=w(t),o=w(r),l=s===i?0:.5/(i-s),d=i===o?0:.5/(o-i),a=i<s?-1:1,y}}function Nq(){var e=qd(jj()(ps));return e.copy=function(){return Gd(e,Nq())},bc.apply(e,arguments)}function Cq(){var e=m_(jj()).domain([.1,1,10]);return e.copy=function(){return Gd(e,Cq()).base(e.base())},bc.apply(e,arguments)}function Sq(){var e=p_(jj());return e.copy=function(){return Gd(e,Sq()).constant(e.constant())},bc.apply(e,arguments)}function E_(){var e=x_(jj());return e.copy=function(){return Gd(e,E_()).exponent(e.exponent())},bc.apply(e,arguments)}function i3e(){return E_.apply(null,arguments).exponent(.5)}const UR=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dg,scaleDiverging:Nq,scaleDivergingLog:Cq,scaleDivergingPow:E_,scaleDivergingSqrt:i3e,scaleDivergingSymlog:Sq,scaleIdentity:nq,scaleImplicit:$A,scaleLinear:lb,scaleLog:sq,scaleOrdinal:o_,scalePoint:Ix,scalePow:g_,scaleQuantile:lq,scaleQuantize:cq,scaleRadial:oq,scaleSequential:yq,scaleSequentialLog:bq,scaleSequentialPow:A_,scaleSequentialQuantile:jq,scaleSequentialSqrt:s3e,scaleSequentialSymlog:wq,scaleSqrt:$Te,scaleSymlog:iq,scaleThreshold:dq,scaleTime:n3e,scaleUtc:a3e,tickFormat:rq},Symbol.toStringTag,{value:"Module"}));var o3e=sp;function l3e(e,t,r){for(var a=-1,s=e.length;++a<s;){var i=e[a],o=t(i);if(o!=null&&(l===void 0?o===o&&!o3e(o):r(o,l)))var l=o,d=i}return d}var Nj=l3e;function c3e(e,t){return e>t}var Aq=c3e,d3e=Nj,u3e=Aq,h3e=fp;function f3e(e){return e&&e.length?d3e(e,h3e,u3e):void 0}var m3e=f3e;const Cj=br(m3e);function p3e(e,t){return e<t}var Eq=p3e,x3e=Nj,g3e=Eq,v3e=fp;function y3e(e){return e&&e.length?x3e(e,v3e,g3e):void 0}var b3e=y3e;const Sj=br(b3e);var w3e=V3,j3e=El,N3e=RH,C3e=Ws;function S3e(e,t){var r=C3e(e)?w3e:N3e;return r(e,j3e(t))}var A3e=S3e,E3e=IH,T3e=A3e;function _3e(e,t){return E3e(T3e(e,t),1)}var P3e=_3e;const O3e=br(P3e);var k3e=r_;function I3e(e,t){return k3e(e,t)}var M3e=I3e;const K0=br(M3e);var pp=1e9,R3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},__,Nn=!0,Xi="[DecimalError] ",Bu=Xi+"Invalid argument: ",T_=Xi+"Exponent out of range: ",xp=Math.floor,fu=Math.pow,D3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ri,ja=1e7,cn=7,Tq=9007199254740991,hb=xp(Tq/cn),gt={};gt.absoluteValue=gt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};gt.comparedTo=gt.cmp=function(e){var t,r,a,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(a=i.d.length,s=e.d.length,t=0,r=a<s?a:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return a===s?0:a>s^i.s<0?1:-1};gt.decimalPlaces=gt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*cn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};gt.dividedBy=gt.div=function(e){return ec(this,new this.constructor(e))};gt.dividedToIntegerBy=gt.idiv=function(e){var t=this,r=t.constructor;return Xr(ec(t,new r(e),0,1),r.precision)};gt.equals=gt.eq=function(e){return!this.cmp(e)};gt.exponent=function(){return aa(this)};gt.greaterThan=gt.gt=function(e){return this.cmp(e)>0};gt.greaterThanOrEqualTo=gt.gte=function(e){return this.cmp(e)>=0};gt.isInteger=gt.isint=function(){return this.e>this.d.length-2};gt.isNegative=gt.isneg=function(){return this.s<0};gt.isPositive=gt.ispos=function(){return this.s>0};gt.isZero=function(){return this.s===0};gt.lessThan=gt.lt=function(e){return this.cmp(e)<0};gt.lessThanOrEqualTo=gt.lte=function(e){return this.cmp(e)<1};gt.logarithm=gt.log=function(e){var t,r=this,a=r.constructor,s=a.precision,i=s+5;if(e===void 0)e=new a(10);else if(e=new a(e),e.s<1||e.eq(ri))throw Error(Xi+"NaN");if(r.s<1)throw Error(Xi+(r.s?"NaN":"-Infinity"));return r.eq(ri)?new a(0):(Nn=!1,t=ec(Vg(r,i),Vg(e,i),i),Nn=!0,Xr(t,s))};gt.minus=gt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Oq(t,e):_q(t,(e.s=-e.s,e))};gt.modulo=gt.mod=function(e){var t,r=this,a=r.constructor,s=a.precision;if(e=new a(e),!e.s)throw Error(Xi+"NaN");return r.s?(Nn=!1,t=ec(r,e,0,1).times(e),Nn=!0,r.minus(t)):Xr(new a(r),s)};gt.naturalExponential=gt.exp=function(){return Pq(this)};gt.naturalLogarithm=gt.ln=function(){return Vg(this)};gt.negated=gt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};gt.plus=gt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_q(t,e):Oq(t,(e.s=-e.s,e))};gt.precision=gt.sd=function(e){var t,r,a,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bu+e);if(t=aa(s)+1,a=s.d.length-1,r=a*cn+1,a=s.d[a],a){for(;a%10==0;a/=10)r--;for(a=s.d[0];a>=10;a/=10)r++}return e&&t>r?t:r};gt.squareRoot=gt.sqrt=function(){var e,t,r,a,s,i,o,l=this,d=l.constructor;if(l.s<1){if(!l.s)return new d(0);throw Error(Xi+"NaN")}for(e=aa(l),Nn=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=tl(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=xp((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),a=new d(t)):a=new d(s.toString()),r=d.precision,s=o=r+3;;)if(i=a,a=i.plus(ec(l,i,o+2)).times(.5),tl(i.d).slice(0,o)===(t=tl(a.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Xr(i,r+1,0),i.times(i).eq(l)){a=i;break}}else if(t!="9999")break;o+=4}return Nn=!0,Xr(a,r)};gt.times=gt.mul=function(e){var t,r,a,s,i,o,l,d,u,f=this,p=f.constructor,x=f.d,y=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,d=x.length,u=y.length,d<u&&(i=x,x=y,y=i,o=d,d=u,u=o),i=[],o=d+u,a=o;a--;)i.push(0);for(a=u;--a>=0;){for(t=0,s=d+a;s>a;)l=i[s]+y[a]*x[s-a-1]+t,i[s--]=l%ja|0,t=l/ja|0;i[s]=(i[s]+t)%ja|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Nn?Xr(e,p.precision):e};gt.toDecimalPlaces=gt.todp=function(e,t){var r=this,a=r.constructor;return r=new a(r),e===void 0?r:(wl(e,0,pp),t===void 0?t=a.rounding:wl(t,0,8),Xr(r,e+aa(r)+1,t))};gt.toExponential=function(e,t){var r,a=this,s=a.constructor;return e===void 0?r=lh(a,!0):(wl(e,0,pp),t===void 0?t=s.rounding:wl(t,0,8),a=Xr(new s(a),e+1,t),r=lh(a,!0,e+1)),r};gt.toFixed=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?lh(s):(wl(e,0,pp),t===void 0?t=i.rounding:wl(t,0,8),a=Xr(new i(s),e+aa(s)+1,t),r=lh(a.abs(),!1,e+aa(a)+1),s.isneg()&&!s.isZero()?"-"+r:r)};gt.toInteger=gt.toint=function(){var e=this,t=e.constructor;return Xr(new t(e),aa(e)+1,t.rounding)};gt.toNumber=function(){return+this};gt.toPower=gt.pow=function(e){var t,r,a,s,i,o,l=this,d=l.constructor,u=12,f=+(e=new d(e));if(!e.s)return new d(ri);if(l=new d(l),!l.s){if(e.s<1)throw Error(Xi+"Infinity");return l}if(l.eq(ri))return l;if(a=d.precision,e.eq(ri))return Xr(l,a);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=Tq){for(s=new d(ri),t=Math.ceil(a/cn+4),Nn=!1;r%2&&(s=s.times(l),HR(s.d,t)),r=xp(r/2),r!==0;)l=l.times(l),HR(l.d,t);return Nn=!0,e.s<0?new d(ri).div(s):Xr(s,a)}}else if(i<0)throw Error(Xi+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Nn=!1,s=e.times(Vg(l,a+u)),Nn=!0,s=Pq(s),s.s=i,s};gt.toPrecision=function(e,t){var r,a,s=this,i=s.constructor;return e===void 0?(r=aa(s),a=lh(s,r<=i.toExpNeg||r>=i.toExpPos)):(wl(e,1,pp),t===void 0?t=i.rounding:wl(t,0,8),s=Xr(new i(s),e,t),r=aa(s),a=lh(s,e<=r||r<=i.toExpNeg,e)),a};gt.toSignificantDigits=gt.tosd=function(e,t){var r=this,a=r.constructor;return e===void 0?(e=a.precision,t=a.rounding):(wl(e,1,pp),t===void 0?t=a.rounding:wl(t,0,8)),Xr(new a(r),e,t)};gt.toString=gt.valueOf=gt.val=gt.toJSON=gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=aa(e),r=e.constructor;return lh(e,t<=r.toExpNeg||t>=r.toExpPos)};function _q(e,t){var r,a,s,i,o,l,d,u,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Nn?Xr(t,p):t;if(d=e.d,u=t.d,o=e.e,s=t.e,d=d.slice(),i=o-s,i){for(i<0?(a=d,i=-i,l=u.length):(a=u,s=o,l=d.length),o=Math.ceil(p/cn),l=o>l?o+1:l+1,i>l&&(i=l,a.length=1),a.reverse();i--;)a.push(0);a.reverse()}for(l=d.length,i=u.length,l-i<0&&(i=l,a=u,u=d,d=a),r=0;i;)r=(d[--i]=d[i]+u[i]+r)/ja|0,d[i]%=ja;for(r&&(d.unshift(r),++s),l=d.length;d[--l]==0;)d.pop();return t.d=d,t.e=s,Nn?Xr(t,p):t}function wl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bu+e)}function tl(e){var t,r,a,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)a=e[t]+"",r=cn-a.length,r&&(i+=Vc(r)),i+=a;o=e[t],a=o+"",r=cn-a.length,r&&(i+=Vc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ec=function(){function e(a,s){var i,o=0,l=a.length;for(a=a.slice();l--;)i=a[l]*s+o,a[l]=i%ja|0,o=i/ja|0;return o&&a.unshift(o),a}function t(a,s,i,o){var l,d;if(i!=o)d=i>o?1:-1;else for(l=d=0;l<i;l++)if(a[l]!=s[l]){d=a[l]>s[l]?1:-1;break}return d}function r(a,s,i){for(var o=0;i--;)a[i]-=o,o=a[i]<s[i]?1:0,a[i]=o*ja+a[i]-s[i];for(;!a[0]&&a.length>1;)a.shift()}return function(a,s,i,o){var l,d,u,f,p,x,y,j,w,C,N,S,_,I,T,M,O,D,R=a.constructor,V=a.s==s.s?1:-1,z=a.d,B=s.d;if(!a.s)return new R(a);if(!s.s)throw Error(Xi+"Division by zero");for(d=a.e-s.e,O=B.length,T=z.length,y=new R(V),j=y.d=[],u=0;B[u]==(z[u]||0);)++u;if(B[u]>(z[u]||0)&&--d,i==null?S=i=R.precision:o?S=i+(aa(a)-aa(s))+1:S=i,S<0)return new R(0);if(S=S/cn+2|0,u=0,O==1)for(f=0,B=B[0],S++;(u<T||f)&&S--;u++)_=f*ja+(z[u]||0),j[u]=_/B|0,f=_%B|0;else{for(f=ja/(B[0]+1)|0,f>1&&(B=e(B,f),z=e(z,f),O=B.length,T=z.length),I=O,w=z.slice(0,O),C=w.length;C<O;)w[C++]=0;D=B.slice(),D.unshift(0),M=B[0],B[1]>=ja/2&&++M;do f=0,l=t(B,w,O,C),l<0?(N=w[0],O!=C&&(N=N*ja+(w[1]||0)),f=N/M|0,f>1?(f>=ja&&(f=ja-1),p=e(B,f),x=p.length,C=w.length,l=t(p,w,x,C),l==1&&(f--,r(p,O<x?D:B,x))):(f==0&&(l=f=1),p=B.slice()),x=p.length,x<C&&p.unshift(0),r(w,p,C),l==-1&&(C=w.length,l=t(B,w,O,C),l<1&&(f++,r(w,O<C?D:B,C))),C=w.length):l===0&&(f++,w=[0]),j[u++]=f,l&&w[0]?w[C++]=z[I]||0:(w=[z[I]],C=1);while((I++<T||w[0]!==void 0)&&S--)}return j[0]||j.shift(),y.e=d,Xr(y,o?i+aa(y)+1:i)}}();function Pq(e,t){var r,a,s,i,o,l,d=0,u=0,f=e.constructor,p=f.precision;if(aa(e)>16)throw Error(T_+aa(e));if(!e.s)return new f(ri);for(t==null?(Nn=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(a=Math.log(fu(2,u))/Math.LN10*2+5|0,l+=a,r=s=i=new f(ri),f.precision=l;;){if(s=Xr(s.times(e),l),r=r.times(++d),o=i.plus(ec(s,r,l)),tl(o.d).slice(0,l)===tl(i.d).slice(0,l)){for(;u--;)i=Xr(i.times(i),l);return f.precision=p,t==null?(Nn=!0,Xr(i,p)):i}i=o}}function aa(e){for(var t=e.e*cn,r=e.d[0];r>=10;r/=10)t++;return t}function UN(e,t,r){if(t>e.LN10.sd())throw Nn=!0,r&&(e.precision=r),Error(Xi+"LN10 precision limit exceeded");return Xr(new e(e.LN10),t)}function Vc(e){for(var t="";e--;)t+="0";return t}function Vg(e,t){var r,a,s,i,o,l,d,u,f,p=1,x=10,y=e,j=y.d,w=y.constructor,C=w.precision;if(y.s<1)throw Error(Xi+(y.s?"NaN":"-Infinity"));if(y.eq(ri))return new w(0);if(t==null?(Nn=!1,u=C):u=t,y.eq(10))return t==null&&(Nn=!0),UN(w,u);if(u+=x,w.precision=u,r=tl(j),a=r.charAt(0),i=aa(y),Math.abs(i)<15e14){for(;a<7&&a!=1||a==1&&r.charAt(1)>3;)y=y.times(e),r=tl(y.d),a=r.charAt(0),p++;i=aa(y),a>1?(y=new w("0."+r),i++):y=new w(a+"."+r.slice(1))}else return d=UN(w,u+2,C).times(i+""),y=Vg(new w(a+"."+r.slice(1)),u-x).plus(d),w.precision=C,t==null?(Nn=!0,Xr(y,C)):y;for(l=o=y=ec(y.minus(ri),y.plus(ri),u),f=Xr(y.times(y),u),s=3;;){if(o=Xr(o.times(f),u),d=l.plus(ec(o,new w(s),u)),tl(d.d).slice(0,u)===tl(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(UN(w,u+2,C).times(i+""))),l=ec(l,new w(p),u),w.precision=C,t==null?(Nn=!0,Xr(l,C)):l;l=d,s+=2}}function WR(e,t){var r,a,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(a=t.search(/e/i))>0?(r<0&&(r=a),r+=+t.slice(a+1),t=t.substring(0,a)):r<0&&(r=t.length),a=0;t.charCodeAt(a)===48;)++a;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(a,s),t){if(s-=a,r=r-a-1,e.e=xp(r/cn),e.d=[],a=(r+1)%cn,r<0&&(a+=cn),a<s){for(a&&e.d.push(+t.slice(0,a)),s-=cn;a<s;)e.d.push(+t.slice(a,a+=cn));t=t.slice(a),a=cn-t.length}else a-=s;for(;a--;)t+="0";if(e.d.push(+t),Nn&&(e.e>hb||e.e<-hb))throw Error(T_+r)}else e.s=0,e.e=0,e.d=[0];return e}function Xr(e,t,r){var a,s,i,o,l,d,u,f,p=e.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(a=t-o,a<0)a+=cn,s=t,u=p[f=0];else{if(f=Math.ceil((a+1)/cn),i=p.length,f>=i)return e;for(u=i=p[f],o=1;i>=10;i/=10)o++;a%=cn,s=a-cn+o}if(r!==void 0&&(i=fu(10,o-s-1),l=u/i%10|0,d=t<0||p[f+1]!==void 0||u%i,d=r<4?(l||d)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||d||r==6&&(a>0?s>0?u/fu(10,o-s):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return d?(i=aa(e),p.length=1,t=t-i-1,p[0]=fu(10,(cn-t%cn)%cn),e.e=xp(-t/cn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(a==0?(p.length=f,i=1,f--):(p.length=f+1,i=fu(10,cn-a),p[f]=s>0?(u/fu(10,o-s)%fu(10,s)|0)*i:0),d)for(;;)if(f==0){(p[0]+=i)==ja&&(p[0]=1,++e.e);break}else{if(p[f]+=i,p[f]!=ja)break;p[f--]=0,i=1}for(a=p.length;p[--a]===0;)p.pop();if(Nn&&(e.e>hb||e.e<-hb))throw Error(T_+aa(e));return e}function Oq(e,t){var r,a,s,i,o,l,d,u,f,p,x=e.constructor,y=x.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new x(e),Nn?Xr(t,y):t;if(d=e.d,p=t.d,a=t.e,u=e.e,d=d.slice(),o=u-a,o){for(f=o<0,f?(r=d,o=-o,l=p.length):(r=p,a=u,l=d.length),s=Math.max(Math.ceil(y/cn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=d.length,l=p.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(d[s]!=p[s]){f=d[s]<p[s];break}o=0}for(f&&(r=d,d=p,p=r,t.s=-t.s),l=d.length,s=p.length-l;s>0;--s)d[l++]=0;for(s=p.length;s>o;){if(d[--s]<p[s]){for(i=s;i&&d[--i]===0;)d[i]=ja-1;--d[i],d[s]+=ja}d[s]-=p[s]}for(;d[--l]===0;)d.pop();for(;d[0]===0;d.shift())--a;return d[0]?(t.d=d,t.e=a,Nn?Xr(t,y):t):new x(0)}function lh(e,t,r){var a,s=aa(e),i=tl(e.d),o=i.length;return t?(r&&(a=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Vc(a):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Vc(-s-1)+i,r&&(a=r-o)>0&&(i+=Vc(a))):s>=o?(i+=Vc(s+1-o),r&&(a=r-s-1)>0&&(i=i+"."+Vc(a))):((a=s+1)<o&&(i=i.slice(0,a)+"."+i.slice(a)),r&&(a=r-o)>0&&(s+1===o&&(i+="."),i+=Vc(a))),e.s<0?"-"+i:i}function HR(e,t){if(e.length>t)return e.length=t,!0}function kq(e){var t,r,a;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return WR(o,i.toString())}else if(typeof i!="string")throw Error(Bu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,D3e.test(i))WR(o,i);else throw Error(Bu+i)}if(s.prototype=gt,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=kq,s.config=s.set=L3e,e===void 0&&(e={}),e)for(a=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<a.length;)e.hasOwnProperty(r=a[t++])||(e[r]=this[r]);return s.config(e),s}function L3e(e){if(!e||typeof e!="object")throw Error(Xi+"Object expected");var t,r,a,s=["precision",1,pp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((a=e[r=s[t]])!==void 0)if(xp(a)===a&&a>=s[t+1]&&a<=s[t+2])this[r]=a;else throw Error(Bu+r+": "+a);if((a=e[r="LN10"])!==void 0)if(a==Math.LN10)this[r]=new this(a);else throw Error(Bu+r+": "+a);return this}var __=kq(R3e);ri=new __(1);const Wr=__;function F3e(e){return z3e(e)||V3e(e)||$3e(e)||B3e()}function B3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $3e(e,t){if(e){if(typeof e=="string")return WA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WA(e,t)}}function V3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function z3e(e){if(Array.isArray(e))return WA(e)}function WA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var U3e=function(t){return t},Iq={"@@functional/placeholder":!0},Mq=function(t){return t===Iq},qR=function(t){return function r(){return arguments.length===0||arguments.length===1&&Mq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},W3e=function e(t,r){return t===1?r:qR(function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Iq}).length;return o>=t?r.apply(void 0,s):e(t-o,qR(function(){for(var l=arguments.length,d=new Array(l),u=0;u<l;u++)d[u]=arguments[u];var f=s.map(function(p){return Mq(p)?d.shift():p});return r.apply(void 0,F3e(f).concat(d))}))})},Aj=function(t){return W3e(t.length,t)},HA=function(t,r){for(var a=[],s=t;s<r;++s)a[s-t]=s;return a},H3e=Aj(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),q3e=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];if(!r.length)return U3e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,d){return d(l)},i.apply(void 0,arguments))}},qA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Rq=function(t){var r=null,a=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,d){return l===r[d]})||(r=i,a=t.apply(void 0,i)),a}};function G3e(e){var t;return e===0?t=1:t=Math.floor(new Wr(e).abs().log(10).toNumber())+1,t}function K3e(e,t,r){for(var a=new Wr(e),s=0,i=[];a.lt(t)&&s<1e5;)i.push(a.toNumber()),a=a.add(r),s++;return i}var Y3e=Aj(function(e,t,r){var a=+e,s=+t;return a+r*(s-a)}),X3e=Aj(function(e,t,r){var a=t-+e;return a=a||1/0,(r-e)/a}),Q3e=Aj(function(e,t,r){var a=t-+e;return a=a||1/0,Math.max(0,Math.min(1,(r-e)/a))});const Ej={rangeStep:K3e,getDigitCount:G3e,interpolateNumber:Y3e,uninterpolateNumber:X3e,uninterpolateTruncation:Q3e};function GA(e){return e_e(e)||J3e(e)||Dq(e)||Z3e()}function Z3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J3e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function e_e(e){if(Array.isArray(e))return KA(e)}function zg(e,t){return n_e(e)||r_e(e,t)||Dq(e,t)||t_e()}function t_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dq(e,t){if(e){if(typeof e=="string")return KA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KA(e,t)}}function KA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function r_e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(a=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(d){s=!0,i=d}finally{try{!a&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function n_e(e){if(Array.isArray(e))return e}function Lq(e){var t=zg(e,2),r=t[0],a=t[1],s=r,i=a;return r>a&&(s=a,i=r),[s,i]}function Fq(e,t,r){if(e.lte(0))return new Wr(0);var a=Ej.getDigitCount(e.toNumber()),s=new Wr(10).pow(a),i=e.div(s),o=a!==1?.05:.1,l=new Wr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),d=l.mul(s);return t?d:new Wr(Math.ceil(d))}function a_e(e,t,r){var a=1,s=new Wr(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(a=new Wr(10).pow(Ej.getDigitCount(e)-1),s=new Wr(Math.floor(s.div(a).toNumber())).mul(a)):i>1&&(s=new Wr(Math.floor(e)))}else e===0?s=new Wr(Math.floor((t-1)/2)):r||(s=new Wr(Math.floor(e)));var o=Math.floor((t-1)/2),l=q3e(H3e(function(d){return s.add(new Wr(d-o).mul(a)).toNumber()}),HA);return l(0,t)}function Bq(e,t,r,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Wr(0),tickMin:new Wr(0),tickMax:new Wr(0)};var i=Fq(new Wr(t).sub(e).div(r-1),a,s),o;e<=0&&t>=0?o=new Wr(0):(o=new Wr(e).add(t).div(2),o=o.sub(new Wr(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),d=Math.ceil(new Wr(t).sub(o).div(i).toNumber()),u=l+d+1;return u>r?Bq(e,t,r,a,s+1):(u<r&&(d=t>0?d+(r-u):d,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Wr(l).mul(i)),tickMax:o.add(new Wr(d).mul(i))})}function s_e(e){var t=zg(e,2),r=t[0],a=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Lq([r,a]),d=zg(l,2),u=d[0],f=d[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(GA(HA(0,s-1).map(function(){return 1/0}))):[].concat(GA(HA(0,s-1).map(function(){return-1/0})),[f]);return r>a?qA(p):p}if(u===f)return a_e(u,s,i);var x=Bq(u,f,o,i),y=x.step,j=x.tickMin,w=x.tickMax,C=Ej.rangeStep(j,w.add(new Wr(.1).mul(y)),y);return r>a?qA(C):C}function i_e(e,t){var r=zg(e,2),a=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Lq([a,s]),l=zg(o,2),d=l[0],u=l[1];if(d===-1/0||u===1/0)return[a,s];if(d===u)return[d];var f=Math.max(t,2),p=Fq(new Wr(u).sub(d).div(f-1),i,0),x=[].concat(GA(Ej.rangeStep(new Wr(d),new Wr(u).sub(new Wr(.99).mul(p)),p)),[u]);return a>s?qA(x):x}var o_e=Rq(s_e),l_e=Rq(i_e),c_e="Invariant failed";function ch(e,t){throw new Error(c_e)}var d_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function fb(){return fb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fb.apply(this,arguments)}function u_e(e,t){return p_e(e)||m_e(e,t)||f_e(e,t)||h_e()}function h_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f_e(e,t){if(e){if(typeof e=="string")return GR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(e,t)}}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function m_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function p_e(e){if(Array.isArray(e))return e}function x_e(e,t){if(e==null)return{};var r=g_e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function g_e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function v_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zq(a.key),a)}}function b_e(e,t,r){return t&&y_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w_e(e,t,r){return t=mb(t),j_e(e,$q()?Reflect.construct(t,r||[],mb(e).constructor):t.apply(e,r))}function j_e(e,t){if(t&&(Am(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N_e(e)}function N_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($q=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mb(e)}function C_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},YA(e,t)}function Vq(e,t,r){return t=zq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=S_e(e,"string");return Am(t)=="symbol"?t:t+""}function S_e(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Am(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y0=function(e){function t(){return v_e(this,t),w_e(this,t,arguments)}return C_e(t,e),b_e(t,[{key:"render",value:function(){var a=this.props,s=a.offset,i=a.layout,o=a.width,l=a.dataKey,d=a.data,u=a.dataPointFormatter,f=a.xAxis,p=a.yAxis,x=x_e(a,d_e),y=kt(x,!1);this.props.direction==="x"&&f.type!=="number"&&ch();var j=d.map(function(w){var C=u(w,l),N=C.x,S=C.y,_=C.value,I=C.errorVal;if(!I)return null;var T=[],M,O;if(Array.isArray(I)){var D=u_e(I,2);M=D[0],O=D[1]}else M=O=I;if(i==="vertical"){var R=f.scale,V=S+s,z=V+o,B=V-o,q=R(_-M),$=R(_+O);T.push({x1:$,y1:z,x2:$,y2:B}),T.push({x1:q,y1:V,x2:$,y2:V}),T.push({x1:q,y1:z,x2:q,y2:B})}else if(i==="horizontal"){var L=p.scale,H=N+s,G=H-o,Y=H+o,te=L(_-M),X=L(_+O);T.push({x1:G,y1:X,x2:Y,y2:X}),T.push({x1:H,y1:te,x2:H,y2:X}),T.push({x1:G,y1:te,x2:Y,y2:te})}return Q.createElement(Ar,fb({className:"recharts-errorBar",key:"bar-".concat(T.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},y),T.map(function(fe){return Q.createElement("line",fb({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return Q.createElement(Ar,{className:"recharts-errorBars"},j)}}])}(Q.Component);Vq(Y0,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Vq(Y0,"displayName","ErrorBar");function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(a){A_e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function A_e(e,t,r){return t=E_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E_e(e){var t=T_e(e,"string");return Ug(t)=="symbol"?t:t+""}function T_e(e,t){if(Ug(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Ug(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uq=function(t){var r=t.children,a=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=Zs(r,ms);if(!o)return null;var l=ms.defaultProps,d=l!==void 0?ru(ru({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(a||[]).reduce(function(f,p){var x=p.item,y=p.props,j=y.sectors||y.data||[];return f.concat(j.map(function(w){return{type:o.props.iconType||x.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(a||[]).map(function(f){var p=f.item,x=p.type.defaultProps,y=x!==void 0?ru(ru({},x),p.props):{},j=y.dataKey,w=y.name,C=y.legendType,N=y.hide;return{inactive:N,dataKey:j,type:d.iconType||C||"square",color:P_(p),value:w||j,payload:y}}),ru(ru(ru({},d),ms.getWithHeight(o,s)),{},{payload:u,item:o})};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}function YR(e){return k_e(e)||O_e(e)||P_e(e)||__e()}function __e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P_e(e,t){if(e){if(typeof e=="string")return XA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(e,t)}}function O_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k_e(e){if(Array.isArray(e))return XA(e)}function XA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(a){Mf(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Mf(e,t,r){return t=I_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I_e(e){var t=M_e(e,"string");return Wg(t)=="symbol"?t:t+""}function M_e(e,t){if(Wg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Wg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ma(e,t,r){return Yt(e)||Yt(t)?r:xa(t)?di(e,t,r):Ht(t)?t(e):r}function Mx(e,t,r,a){var s=O3e(e,function(l){return ma(l,t)});if(r==="number"){var i=s.filter(function(l){return Qe(l)||parseFloat(l)});return i.length?[Sj(i),Cj(i)]:[1/0,-1/0]}var o=a?s.filter(function(l){return!Yt(l)}):s;return o.map(function(l){return xa(l)||l instanceof Date?l:""})}var R_e=function(t){var r,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=a==null?void 0:a.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,p=s[u].coordinate,x=u>=l-1?s[0].coordinate:s[u+1].coordinate,y=void 0;if(hs(p-f)!==hs(x-p)){var j=[];if(hs(x-p)===hs(d[1]-d[0])){y=x;var w=p+d[1]-d[0];j[0]=Math.min(w,(w+f)/2),j[1]=Math.max(w,(w+f)/2)}else{y=f;var C=x+d[1]-d[0];j[0]=Math.min(p,(C+p)/2),j[1]=Math.max(p,(C+p)/2)}var N=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(t>N[0]&&t<=N[1]||t>=j[0]&&t<=j[1]){o=s[u].index;break}}else{var S=Math.min(f,x),_=Math.max(f,x);if(t>(S+p)/2&&t<=(_+p)/2){o=s[u].index;break}}}else for(var I=0;I<l;I++)if(I===0&&t<=(a[I].coordinate+a[I+1].coordinate)/2||I>0&&I<l-1&&t>(a[I].coordinate+a[I-1].coordinate)/2&&t<=(a[I].coordinate+a[I+1].coordinate)/2||I===l-1&&t>(a[I].coordinate+a[I-1].coordinate)/2){o=a[I].index;break}return o},P_=function(t){var r,a=t,s=a.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?$n($n({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,d;switch(s){case"Line":d=o;break;case"Area":case"Radar":d=o&&o!=="none"?o:l;break;default:d=l;break}return d},D_e=function(t){var r=t.barSize,a=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),d=0,u=l.length;d<u;d++)for(var f=i[l[d]].stackGroups,p=Object.keys(f),x=0,y=p.length;x<y;x++){var j=f[p[x]],w=j.items,C=j.cateAxisId,N=w.filter(function(O){return Jl(O.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,_=S!==void 0?$n($n({},S),N[0].props):N[0].props,I=_.barSize,T=_[C];o[T]||(o[T]=[]);var M=Yt(I)?r:I;o[T].push({item:N[0],stackList:N.slice(1),barSize:Yt(M)?void 0:fs(M,a,0)})}}return o},L_e=function(t){var r=t.barGap,a=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,d=o.length;if(d<1)return null;var u=fs(r,s,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var x=!1,y=s/d,j=o.reduce(function(I,T){return I+T.barSize||0},0);j+=(d-1)*u,j>=s&&(j-=(d-1)*u,u=0),j>=s&&y>0&&(x=!0,y*=.9,j=d*y);var w=(s-j)/2>>0,C={offset:w-u,size:0};f=o.reduce(function(I,T){var M={item:T.item,position:{offset:C.offset+C.size+u,size:x?y:T.barSize}},O=[].concat(YR(I),[M]);return C=O[O.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(D){O.push({item:D,position:C})}),O},p)}else{var N=fs(a,s,0,!0);s-2*N-(d-1)*u<=0&&(u=0);var S=(s-2*N-(d-1)*u)/d;S>1&&(S>>=0);var _=l===+l?Math.min(S,l):S;f=o.reduce(function(I,T,M){var O=[].concat(YR(I),[{item:T.item,position:{offset:N+(S+u)*M+(S-_)/2,size:_}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(D){O.push({item:D,position:O[O.length-1].position})}),O},p)}return f},F_e=function(t,r,a,s){var i=a.children,o=a.width,l=a.margin,d=o-(l.left||0)-(l.right||0),u=Uq({children:i,legendWidth:d});if(u){var f=s||{},p=f.width,x=f.height,y=u.align,j=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&j==="middle")&&y!=="center"&&Qe(t[y]))return $n($n({},t),{},Mf({},y,t[y]+(p||0)));if((w==="horizontal"||w==="vertical"&&y==="center")&&j!=="middle"&&Qe(t[j]))return $n($n({},t),{},Mf({},j,t[j]+(x||0)))}return t},B_e=function(t,r,a){return Yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||a==="x"?r==="xAxis":a==="y"?r==="yAxis":!0},Wq=function(t,r,a,s,i){var o=r.props.children,l=ui(o,Y0).filter(function(u){return B_e(s,i,u.props.direction)});if(l&&l.length){var d=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var p=ma(f,a);if(Yt(p))return u;var x=Array.isArray(p)?[Sj(p),Cj(p)]:[p,p],y=d.reduce(function(j,w){var C=ma(f,w,0),N=x[0]-Math.abs(Array.isArray(C)?C[0]:C),S=x[1]+Math.abs(Array.isArray(C)?C[1]:C);return[Math.min(N,j[0]),Math.max(S,j[1])]},[1/0,-1/0]);return[Math.min(y[0],u[0]),Math.max(y[1],u[1])]},[1/0,-1/0])}return null},$_e=function(t,r,a,s,i){var o=r.map(function(l){return Wq(t,l,a,i,s)}).filter(function(l){return!Yt(l)});return o&&o.length?o.reduce(function(l,d){return[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]):null},Hq=function(t,r,a,s,i){var o=r.map(function(d){var u=d.props.dataKey;return a==="number"&&u&&Wq(t,d,u,s)||Mx(t,u,a,i)});if(a==="number")return o.reduce(function(d,u){return[Math.min(d[0],u[0]),Math.max(d[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(d,u){for(var f=0,p=u.length;f<p;f++)l[u[f]]||(l[u[f]]=!0,d.push(u[f]));return d},[])},qq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Gq=function(t,r,a,s){if(s)return t.map(function(d){return d.coordinate});var i,o,l=t.map(function(d){return d.coordinate===r&&(i=!0),d.coordinate===a&&(o=!0),d.coordinate});return i||l.push(r),o||l.push(a),l},ql=function(t,r,a){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||a)&&o==="category"&&s.bandwidth?s.bandwidth()/d:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?hs(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var x=i?i.indexOf(p):p;return{coordinate:s(x)+u,value:p,offset:u}});return f.filter(function(p){return!z0(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,x){return{coordinate:s(p)+u,value:p,index:x,offset:u}}):s.ticks&&!a?s.ticks(t.tickCount).map(function(p){return{coordinate:s(p)+u,value:p,offset:u}}):s.domain().map(function(p,x){return{coordinate:s(p)+u,value:i?i[p]:p,index:x,offset:u}})},WN=new WeakMap,Qv=function(t,r){if(typeof r!="function")return t;WN.has(t)||WN.set(t,new WeakMap);var a=WN.get(t);if(a.has(r))return a.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return a.set(r,s),s},Kq=function(t,r,a){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Dg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:lb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?{scale:Ix(),realScaleType:"point"}:i==="category"?{scale:Dg(),realScaleType:"band"}:{scale:lb(),realScaleType:"linear"};if(V0(s)){var d="scale".concat(dj(s));return{scale:(UR[d]||Ix)(),realScaleType:UR[d]?d:"point"}}return Ht(s)?{scale:s}:{scale:Ix(),realScaleType:"point"}},QR=1e-4,Yq=function(t){var r=t.domain();if(!(!r||r.length<=2)){var a=r.length,s=t.range(),i=Math.min(s[0],s[1])-QR,o=Math.max(s[0],s[1])+QR,l=t(r[0]),d=t(r[a-1]);(l<i||l>o||d<i||d>o)&&t.domain([r[0],r[a-1]])}},V_e=function(t,r){if(!t)return null;for(var a=0,s=t.length;a<s;a++)if(t[a].item===r)return t[a].position;return null},z_e=function(t,r){if(!r||r.length!==2||!Qe(r[0])||!Qe(r[1]))return t;var a=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Qe(t[0])||t[0]<a)&&(i[0]=a),(!Qe(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<a&&(i[1]=a),i},U_e=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0,l=0;l<r;++l){var d=z0(t[l][a][1])?t[l][a][0]:t[l][a][1];d>=0?(t[l][a][0]=i,t[l][a][1]=i+d,i=t[l][a][1]):(t[l][a][0]=o,t[l][a][1]=o+d,o=t[l][a][1])}},W_e=function(t){var r=t.length;if(!(r<=0))for(var a=0,s=t[0].length;a<s;++a)for(var i=0,o=0;o<r;++o){var l=z0(t[o][a][1])?t[o][a][0]:t[o][a][1];l>=0?(t[o][a][0]=i,t[o][a][1]=i+l,i=t[o][a][1]):(t[o][a][0]=0,t[o][a][1]=0)}},H_e={sign:U_e,expand:d1e,none:vm,silhouette:u1e,wiggle:h1e,positive:W_e},q_e=function(t,r,a){var s=r.map(function(l){return l.props.dataKey}),i=H_e[a],o=c1e().keys(s).value(function(l,d){return+ma(l,d,0)}).order(wA).offset(i);return o(t)},G_e=function(t,r,a,s,i,o){if(!t)return null;var l=o?r.reverse():r,d={},u=l.reduce(function(p,x){var y,j=(y=x.type)!==null&&y!==void 0&&y.defaultProps?$n($n({},x.type.defaultProps),x.props):x.props,w=j.stackId,C=j.hide;if(C)return p;var N=j[a],S=p[N]||{hasStack:!1,stackGroups:{}};if(xa(w)){var _=S.stackGroups[w]||{numericAxisId:a,cateAxisId:s,items:[]};_.items.push(x),S.hasStack=!0,S.stackGroups[w]=_}else S.stackGroups[dp("_stackId_")]={numericAxisId:a,cateAxisId:s,items:[x]};return $n($n({},p),{},Mf({},N,S))},d),f={};return Object.keys(u).reduce(function(p,x){var y=u[x];if(y.hasStack){var j={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(w,C){var N=y.stackGroups[C];return $n($n({},w),{},Mf({},C,{numericAxisId:a,cateAxisId:s,items:N.items,stackedData:q_e(t,N.items,i)}))},j)}return $n($n({},p),{},Mf({},x,y))},f)},Xq=function(t,r){var a=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,d=a||r.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=o_e(u,i,l);return t.domain([Sj(f),Cj(f)]),{niceTicks:f}}if(i&&s==="number"){var p=t.domain(),x=l_e(p,i,l);return{niceTicks:x}}return null};function ZR(e){var t=e.axis,r=e.ticks,a=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Yt(s[t.dataKey])){var l=V1(r,"value",s[t.dataKey]);if(l)return l.coordinate+a/2}return r[i]?r[i].coordinate+a/2:null}var d=ma(s,Yt(o)?t.dataKey:o);return Yt(d)?null:t.scale(d)}var JR=function(t){var r=t.axis,a=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return a[l]?a[l].coordinate+s:null;var d=ma(o,r.dataKey,r.domain[l]);return Yt(d)?null:r.scale(d)-i/2+s},K_e=function(t){var r=t.numericAxis,a=r.scale.domain();if(r.type==="number"){var s=Math.min(a[0],a[1]),i=Math.max(a[0],a[1]);return s<=0&&i>=0?0:i<0?i:s}return a[0]},Y_e=function(t,r){var a,s=(a=t.type)!==null&&a!==void 0&&a.defaultProps?$n($n({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(xa(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},X_e=function(t){return t.reduce(function(r,a){return[Sj(a.concat([r[0]]).filter(Qe)),Cj(a.concat([r[1]]).filter(Qe))]},[1/0,-1/0])},Qq=function(t,r,a){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,d=l.reduce(function(u,f){var p=X_e(f.slice(r,a+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},e8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,t8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=function(t,r,a){if(Ht(t))return t(r,a);if(!Array.isArray(t))return r;var s=[];if(Qe(t[0]))s[0]=a?t[0]:Math.min(t[0],r[0]);else if(e8.test(t[0])){var i=+e8.exec(t[0])[1];s[0]=r[0]-i}else Ht(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Qe(t[1]))s[1]=a?t[1]:Math.max(t[1],r[1]);else if(t8.test(t[1])){var o=+t8.exec(t[1])[1];s[1]=r[1]+o}else Ht(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},pb=function(t,r,a){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!a||s>0)return s}if(t&&r&&r.length>=2){for(var i=a_(r,function(p){return p.coordinate}),o=1/0,l=1,d=i.length;l<d;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return a?void 0:0},r8=function(t,r,a){return!t||!t.length||K0(t,di(a,"type.defaultProps.domain"))?r:t},Zq=function(t,r){var a=t.type.defaultProps?$n($n({},t.type.defaultProps),t.props):t.props,s=a.dataKey,i=a.name,o=a.unit,l=a.formatter,d=a.tooltipType,u=a.chartType,f=a.hide;return $n($n({},kt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:P_(t),value:ma(r,s),type:d,payload:r,chartType:u,hide:f})};function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function n8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n8(Object(r),!0).forEach(function(a){Jq(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Jq(e,t,r){return t=Q_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q_e(e){var t=Z_e(e,"string");return Hg(t)=="symbol"?t:t+""}function Z_e(e,t){if(Hg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Hg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_e(e,t){return nPe(e)||rPe(e,t)||tPe(e,t)||ePe()}function ePe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tPe(e,t){if(e){if(typeof e=="string")return a8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a8(e,t)}}function a8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function rPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nPe(e){if(Array.isArray(e))return e}var xb=Math.PI/180,aPe=function(t){return t*180/Math.PI},tn=function(t,r,a,s){return{x:t+Math.cos(-xb*s)*a,y:r+Math.sin(-xb*s)*a}},eG=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(a.left||0)-(a.right||0)),Math.abs(r-(a.top||0)-(a.bottom||0)))/2},sPe=function(t,r,a,s,i){var o=t.width,l=t.height,d=t.startAngle,u=t.endAngle,f=fs(t.cx,o,o/2),p=fs(t.cy,l,l/2),x=eG(o,l,a),y=fs(t.innerRadius,x,0),j=fs(t.outerRadius,x,x*.8),w=Object.keys(r);return w.reduce(function(C,N){var S=r[N],_=S.domain,I=S.reversed,T;if(Yt(S.range))s==="angleAxis"?T=[d,u]:s==="radiusAxis"&&(T=[y,j]),I&&(T=[T[1],T[0]]);else{T=S.range;var M=T,O=J_e(M,2);d=O[0],u=O[1]}var D=Kq(S,i),R=D.realScaleType,V=D.scale;V.domain(_).range(T),Yq(V);var z=Xq(V,Ll(Ll({},S),{},{realScaleType:R})),B=Ll(Ll(Ll({},S),z),{},{range:T,radius:j,realScaleType:R,scale:V,cx:f,cy:p,innerRadius:y,outerRadius:j,startAngle:d,endAngle:u});return Ll(Ll({},C),{},Jq({},N,B))},{})},iPe=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(a-i,2)+Math.pow(s-o,2))},oPe=function(t,r){var a=t.x,s=t.y,i=r.cx,o=r.cy,l=iPe({x:a,y:s},{x:i,y:o});if(l<=0)return{radius:l};var d=(a-i)/l,u=Math.acos(d);return s>o&&(u=2*Math.PI-u),{radius:l,angle:aPe(u),angleInRadian:u}},lPe=function(t){var r=t.startAngle,a=t.endAngle,s=Math.floor(r/360),i=Math.floor(a/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:a-o*360}},cPe=function(t,r){var a=r.startAngle,s=r.endAngle,i=Math.floor(a/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},s8=function(t,r){var a=t.x,s=t.y,i=oPe({x:a,y:s},r),o=i.radius,l=i.angle,d=r.innerRadius,u=r.outerRadius;if(o<d||o>u)return!1;if(o===0)return!0;var f=lPe(r),p=f.startAngle,x=f.endAngle,y=l,j;if(p<=x){for(;y>x;)y-=360;for(;y<p;)y+=360;j=y>=p&&y<=x}else{for(;y>p;)y-=360;for(;y<x;)y+=360;j=y>=x&&y<=p}return j?Ll(Ll({},r),{},{radius:o,angle:cPe(y,r)}):null},tG=function(t){return!E.isValidElement(t)&&!Ht(t)&&typeof t!="boolean"?t.className:""};function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}var dPe=["offset"];function uPe(e){return pPe(e)||mPe(e)||fPe(e)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fPe(e,t){if(e){if(typeof e=="string")return ZA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZA(e,t)}}function mPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pPe(e){if(Array.isArray(e))return ZA(e)}function ZA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function xPe(e,t){if(e==null)return{};var r=gPe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function gPe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function i8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i8(Object(r),!0).forEach(function(a){vPe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function vPe(e,t,r){return t=yPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yPe(e){var t=bPe(e,"string");return qg(t)=="symbol"?t:t+""}function bPe(e,t){if(qg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(qg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Gg.apply(this,arguments)}var wPe=function(t){var r=t.value,a=t.formatter,s=Yt(t.children)?r:t.children;return Ht(a)?a(s):s},jPe=function(t,r){var a=hs(r-t),s=Math.min(Math.abs(r-t),360);return a*s},NPe=function(t,r,a){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,d=i,u=d.cx,f=d.cy,p=d.innerRadius,x=d.outerRadius,y=d.startAngle,j=d.endAngle,w=d.clockWise,C=(p+x)/2,N=jPe(y,j),S=N>=0?1:-1,_,I;s==="insideStart"?(_=y+S*o,I=w):s==="insideEnd"?(_=j-S*o,I=!w):s==="end"&&(_=j+S*o,I=w),I=N<=0?I:!I;var T=tn(u,f,C,_),M=tn(u,f,C,_+(I?1:-1)*359),O="M".concat(T.x,",").concat(T.y,`
    A`).concat(C,",").concat(C,",0,1,").concat(I?0:1,`,
    `).concat(M.x,",").concat(M.y),D=Yt(t.id)?dp("recharts-radial-line-"):t.id;return Q.createElement("text",Gg({},a,{dominantBaseline:"central",className:er("recharts-radial-bar-label",l)}),Q.createElement("defs",null,Q.createElement("path",{id:D,d:O})),Q.createElement("textPath",{xlinkHref:"#".concat(D)},r))},CPe=function(t){var r=t.viewBox,a=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,d=i.innerRadius,u=i.outerRadius,f=i.startAngle,p=i.endAngle,x=(f+p)/2;if(s==="outside"){var y=tn(o,l,u+a,x),j=y.x,w=y.y;return{x:j,y:w,textAnchor:j>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var C=(d+u)/2,N=tn(o,l,C,x),S=N.x,_=N.y;return{x:S,y:_,textAnchor:"middle",verticalAnchor:"middle"}},SPe=function(t){var r=t.viewBox,a=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,d=o.y,u=o.width,f=o.height,p=f>=0?1:-1,x=p*s,y=p>0?"end":"start",j=p>0?"start":"end",w=u>=0?1:-1,C=w*s,N=w>0?"end":"start",S=w>0?"start":"end";if(i==="top"){var _={x:l+u/2,y:d-p*s,textAnchor:"middle",verticalAnchor:y};return ca(ca({},_),a?{height:Math.max(d-a.y,0),width:u}:{})}if(i==="bottom"){var I={x:l+u/2,y:d+f+x,textAnchor:"middle",verticalAnchor:j};return ca(ca({},I),a?{height:Math.max(a.y+a.height-(d+f),0),width:u}:{})}if(i==="left"){var T={x:l-C,y:d+f/2,textAnchor:N,verticalAnchor:"middle"};return ca(ca({},T),a?{width:Math.max(T.x-a.x,0),height:f}:{})}if(i==="right"){var M={x:l+u+C,y:d+f/2,textAnchor:S,verticalAnchor:"middle"};return ca(ca({},M),a?{width:Math.max(a.x+a.width-M.x,0),height:f}:{})}var O=a?{width:u,height:f}:{};return i==="insideLeft"?ca({x:l+C,y:d+f/2,textAnchor:S,verticalAnchor:"middle"},O):i==="insideRight"?ca({x:l+u-C,y:d+f/2,textAnchor:N,verticalAnchor:"middle"},O):i==="insideTop"?ca({x:l+u/2,y:d+x,textAnchor:"middle",verticalAnchor:j},O):i==="insideBottom"?ca({x:l+u/2,y:d+f-x,textAnchor:"middle",verticalAnchor:y},O):i==="insideTopLeft"?ca({x:l+C,y:d+x,textAnchor:S,verticalAnchor:j},O):i==="insideTopRight"?ca({x:l+u-C,y:d+x,textAnchor:N,verticalAnchor:j},O):i==="insideBottomLeft"?ca({x:l+C,y:d+f-x,textAnchor:S,verticalAnchor:y},O):i==="insideBottomRight"?ca({x:l+u-C,y:d+f-x,textAnchor:N,verticalAnchor:y},O):ip(i)&&(Qe(i.x)||wu(i.x))&&(Qe(i.y)||wu(i.y))?ca({x:l+fs(i.x,u),y:d+fs(i.y,f),textAnchor:"end",verticalAnchor:"end"},O):ca({x:l+u/2,y:d+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},APe=function(t){return"cx"in t&&Qe(t.cx)};function Ca(e){var t=e.offset,r=t===void 0?5:t,a=xPe(e,dPe),s=ca({offset:r},a),i=s.viewBox,o=s.position,l=s.value,d=s.children,u=s.content,f=s.className,p=f===void 0?"":f,x=s.textBreakAll;if(!i||Yt(l)&&Yt(d)&&!E.isValidElement(u)&&!Ht(u))return null;if(E.isValidElement(u))return E.cloneElement(u,s);var y;if(Ht(u)){if(y=E.createElement(u,s),E.isValidElement(y))return y}else y=wPe(s);var j=APe(i),w=kt(s,!0);if(j&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NPe(s,y,w);var C=j?CPe(s):SPe(s);return Q.createElement(oh,Gg({className:er("recharts-label",p)},w,C,{breakAll:x}),y)}Ca.displayName="Label";var rG=function(t){var r=t.cx,a=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,d=t.radius,u=t.innerRadius,f=t.outerRadius,p=t.x,x=t.y,y=t.top,j=t.left,w=t.width,C=t.height,N=t.clockWise,S=t.labelViewBox;if(S)return S;if(Qe(w)&&Qe(C)){if(Qe(p)&&Qe(x))return{x:p,y:x,width:w,height:C};if(Qe(y)&&Qe(j))return{x:y,y:j,width:w,height:C}}return Qe(p)&&Qe(x)?{x:p,y:x,width:0,height:0}:Qe(r)&&Qe(a)?{cx:r,cy:a,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||d||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},EPe=function(t,r){return t?t===!0?Q.createElement(Ca,{key:"label-implicit",viewBox:r}):xa(t)?Q.createElement(Ca,{key:"label-implicit",viewBox:r,value:t}):E.isValidElement(t)?t.type===Ca?E.cloneElement(t,{key:"label-implicit",viewBox:r}):Q.createElement(Ca,{key:"label-implicit",content:t,viewBox:r}):Ht(t)?Q.createElement(Ca,{key:"label-implicit",content:t,viewBox:r}):ip(t)?Q.createElement(Ca,Gg({viewBox:r},t,{key:"label-implicit"})):null:null},TPe=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&a&&!t.label)return null;var s=t.children,i=rG(t),o=ui(s,Ca).map(function(d,u){return E.cloneElement(d,{viewBox:r||i,key:"label-".concat(u)})});if(!a)return o;var l=EPe(t.label,r||i);return[l].concat(uPe(o))};Ca.parseViewBox=rG;Ca.renderCallByParent=TPe;function _Pe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var PPe=_Pe;const OPe=br(PPe);function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}var kPe=["valueAccessor"],IPe=["data","dataKey","clockWise","id","textBreakAll"];function MPe(e){return FPe(e)||LPe(e)||DPe(e)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DPe(e,t){if(e){if(typeof e=="string")return JA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JA(e,t)}}function LPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FPe(e){if(Array.isArray(e))return JA(e)}function JA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function gb(){return gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gb.apply(this,arguments)}function o8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function l8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o8(Object(r),!0).forEach(function(a){BPe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BPe(e,t,r){return t=$Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Pe(e){var t=VPe(e,"string");return Kg(t)=="symbol"?t:t+""}function VPe(e,t){if(Kg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Kg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e,t){if(e==null)return{};var r=zPe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function zPe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var UPe=function(t){return Array.isArray(t.value)?OPe(t.value):t.value};function tc(e){var t=e.valueAccessor,r=t===void 0?UPe:t,a=c8(e,kPe),s=a.data,i=a.dataKey,o=a.clockWise,l=a.id,d=a.textBreakAll,u=c8(a,IPe);return!s||!s.length?null:Q.createElement(Ar,{className:"recharts-label-list"},s.map(function(f,p){var x=Yt(i)?r(f,p):ma(f&&f.payload,i),y=Yt(l)?{}:{id:"".concat(l,"-").concat(p)};return Q.createElement(Ca,gb({},kt(f,!0),u,y,{parentViewBox:f.parentViewBox,value:x,textBreakAll:d,viewBox:Ca.parseViewBox(Yt(o)?f:l8(l8({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}tc.displayName="LabelList";function WPe(e,t){return e?e===!0?Q.createElement(tc,{key:"labelList-implicit",data:t}):Q.isValidElement(e)||Ht(e)?Q.createElement(tc,{key:"labelList-implicit",data:t,content:e}):ip(e)?Q.createElement(tc,gb({data:t},e,{key:"labelList-implicit"})):null:null}function HPe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var a=e.children,s=ui(a,tc).map(function(o,l){return E.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=WPe(e.label,t);return[i].concat(MPe(s))}tc.renderCallByParent=HPe;function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function eE(){return eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},eE.apply(this,arguments)}function d8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function u8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d8(Object(r),!0).forEach(function(a){qPe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function qPe(e,t,r){return t=GPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GPe(e){var t=KPe(e,"string");return Yg(t)=="symbol"?t:t+""}function KPe(e,t){if(Yg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Yg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YPe=function(t,r){var a=hs(r-t),s=Math.min(Math.abs(r-t),359.999);return a*s},Zv=function(t){var r=t.cx,a=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,d=t.cornerRadius,u=t.cornerIsExternal,f=d*(l?1:-1)+s,p=Math.asin(d/f)/xb,x=u?i:i+o*p,y=tn(r,a,f,x),j=tn(r,a,s,x),w=u?i-o*p:i,C=tn(r,a,f*Math.cos(p*xb),w);return{center:y,circleTangency:j,lineTangency:C,theta:p}},nG=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,d=YPe(o,l),u=o+d,f=tn(r,a,i,o),p=tn(r,a,i,u),x="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(s>0){var y=tn(r,a,s,o),j=tn(r,a,s,u);x+="L ".concat(j.x,",").concat(j.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=u),`,
            `).concat(y.x,",").concat(y.y," Z")}else x+="L ".concat(r,",").concat(a," Z");return x},XPe=function(t){var r=t.cx,a=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,d=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,p=hs(f-u),x=Zv({cx:r,cy:a,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:d}),y=x.circleTangency,j=x.lineTangency,w=x.theta,C=Zv({cx:r,cy:a,radius:i,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:d}),N=C.circleTangency,S=C.lineTangency,_=C.theta,I=d?Math.abs(u-f):Math.abs(u-f)-w-_;if(I<0)return l?"M ".concat(j.x,",").concat(j.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nG({cx:r,cy:a,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var T="M ".concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(s>0){var M=Zv({cx:r,cy:a,radius:s,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),O=M.circleTangency,D=M.lineTangency,R=M.theta,V=Zv({cx:r,cy:a,radius:s,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),z=V.circleTangency,B=V.lineTangency,q=V.theta,$=d?Math.abs(u-f):Math.abs(u-f)-R-q;if($<0&&o===0)return"".concat(T,"L").concat(r,",").concat(a,"Z");T+="L".concat(B.x,",").concat(B.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,").concat(+($>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(D.x,",").concat(D.y,"Z")}else T+="L".concat(r,",").concat(a,"Z");return T},QPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},aG=function(t){var r=u8(u8({},QPe),t),a=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,d=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,x=r.className;if(o<i||f===p)return null;var y=er("recharts-sector",x),j=o-i,w=fs(l,j,0,!0),C;return w>0&&Math.abs(f-p)<360?C=XPe({cx:a,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,j/2),forceCornerRadius:d,cornerIsExternal:u,startAngle:f,endAngle:p}):C=nG({cx:a,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:p}),Q.createElement("path",eE({},kt(r,!0),{className:y,d:C,role:"img"}))};function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function tE(){return tE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},tE.apply(this,arguments)}function h8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function f8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h8(Object(r),!0).forEach(function(a){ZPe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function ZPe(e,t,r){return t=JPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JPe(e){var t=eOe(e,"string");return Xg(t)=="symbol"?t:t+""}function eOe(e,t){if(Xg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Xg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m8={curveBasisClosed:Zye,curveBasisOpen:Jye,curveBasis:Qye,curveBumpX:Lye,curveBumpY:Fye,curveLinearClosed:e1e,curveLinear:hj,curveMonotoneX:t1e,curveMonotoneY:r1e,curveNatural:n1e,curveStep:a1e,curveStepAfter:i1e,curveStepBefore:s1e},Jv=function(t){return t.x===+t.x&&t.y===+t.y},Kp=function(t){return t.x},Yp=function(t){return t.y},tOe=function(t,r){if(Ht(t))return t;var a="curve".concat(dj(t));return(a==="curveMonotone"||a==="curveBump")&&r?m8["".concat(a).concat(r==="vertical"?"Y":"X")]:m8[a]||hj},rOe=function(t){var r=t.type,a=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,d=t.connectNulls,u=d===void 0?!1:d,f=tOe(a,l),p=u?i.filter(function(w){return Jv(w)}):i,x;if(Array.isArray(o)){var y=u?o.filter(function(w){return Jv(w)}):o,j=p.map(function(w,C){return f8(f8({},w),{},{base:y[C]})});return l==="vertical"?x=Uv().y(Yp).x1(Kp).x0(function(w){return w.base.x}):x=Uv().x(Kp).y1(Yp).y0(function(w){return w.base.y}),x.defined(Jv).curve(f),x(j)}return l==="vertical"&&Qe(o)?x=Uv().y(Yp).x1(Kp).x0(o):Qe(o)?x=Uv().x(Kp).y1(Yp).y0(o):x=ZW().x(Kp).y(Yp),x.defined(Jv).curve(f),x(p)},vb=function(t){var r=t.className,a=t.points,s=t.path,i=t.pathRef;if((!a||!a.length)&&!s)return null;var o=a&&a.length?rOe(t):s;return Q.createElement("path",tE({},kt(t,!1),z1(t),{className:er("recharts-curve",r),d:o,ref:i}))},nOe=Object.getOwnPropertyNames,aOe=Object.getOwnPropertySymbols,sOe=Object.prototype.hasOwnProperty;function p8(e,t){return function(a,s,i){return e(a,s,i)&&t(a,s,i)}}function ey(e){return function(r,a,s){if(!r||!a||typeof r!="object"||typeof a!="object")return e(r,a,s);var i=s.cache,o=i.get(r),l=i.get(a);if(o&&l)return o===a&&l===r;i.set(r,a),i.set(a,r);var d=e(r,a,s);return i.delete(r),i.delete(a),d}}function x8(e){return nOe(e).concat(aOe(e))}var iOe=Object.hasOwn||function(e,t){return sOe.call(e,t)};function Ch(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var oOe="__v",lOe="__o",cOe="_owner",g8=Object.getOwnPropertyDescriptor,v8=Object.keys;function dOe(e,t,r){var a=e.length;if(t.length!==a)return!1;for(;a-- >0;)if(!r.equals(e[a],t[a],a,a,e,t,r))return!1;return!0}function uOe(e,t){return Ch(e.getTime(),t.getTime())}function hOe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function fOe(e,t){return e===t}function y8(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.entries(),o,l,d=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,p=0;(l=u.next())&&!l.done;){if(s[p]){p++;continue}var x=o.value,y=l.value;if(r.equals(x[0],y[0],d,p,e,t,r)&&r.equals(x[1],y[1],x[0],y[0],e,t,r)){f=s[p]=!0;break}p++}if(!f)return!1;d++}return!0}var mOe=Ch;function pOe(e,t,r){var a=v8(e),s=a.length;if(v8(t).length!==s)return!1;for(;s-- >0;)if(!sG(e,t,r,a[s]))return!1;return!0}function Xp(e,t,r){var a=x8(e),s=a.length;if(x8(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=a[s],!sG(e,t,r,i)||(o=g8(e,i),l=g8(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function xOe(e,t){return Ch(e.valueOf(),t.valueOf())}function gOe(e,t){return e.source===t.source&&e.flags===t.flags}function b8(e,t,r){var a=e.size;if(a!==t.size)return!1;if(!a)return!0;for(var s=new Array(a),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var d=t.values(),u=!1,f=0;(l=d.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function vOe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function yOe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function sG(e,t,r,a){return(a===cOe||a===lOe||a===oOe)&&(e.$$typeof||t.$$typeof)?!0:iOe(t,a)&&r.equals(e[a],t[a],a,a,e,t,r)}var bOe="[object Arguments]",wOe="[object Boolean]",jOe="[object Date]",NOe="[object Error]",COe="[object Map]",SOe="[object Number]",AOe="[object Object]",EOe="[object RegExp]",TOe="[object Set]",_Oe="[object String]",POe="[object URL]",OOe=Array.isArray,w8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,j8=Object.assign,kOe=Object.prototype.toString.call.bind(Object.prototype.toString);function IOe(e){var t=e.areArraysEqual,r=e.areDatesEqual,a=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,p=e.areTypedArraysEqual,x=e.areUrlsEqual;return function(j,w,C){if(j===w)return!0;if(j==null||w==null)return!1;var N=typeof j;if(N!==typeof w)return!1;if(N!=="object")return N==="number"?o(j,w,C):N==="function"?s(j,w,C):!1;var S=j.constructor;if(S!==w.constructor)return!1;if(S===Object)return l(j,w,C);if(OOe(j))return t(j,w,C);if(w8!=null&&w8(j))return p(j,w,C);if(S===Date)return r(j,w,C);if(S===RegExp)return u(j,w,C);if(S===Map)return i(j,w,C);if(S===Set)return f(j,w,C);var _=kOe(j);return _===jOe?r(j,w,C):_===EOe?u(j,w,C):_===COe?i(j,w,C):_===TOe?f(j,w,C):_===AOe?typeof j.then!="function"&&typeof w.then!="function"&&l(j,w,C):_===POe?x(j,w,C):_===NOe?a(j,w,C):_===bOe?l(j,w,C):_===wOe||_===SOe||_===_Oe?d(j,w,C):!1}}function MOe(e){var t=e.circular,r=e.createCustomConfig,a=e.strict,s={areArraysEqual:a?Xp:dOe,areDatesEqual:uOe,areErrorsEqual:hOe,areFunctionsEqual:fOe,areMapsEqual:a?p8(y8,Xp):y8,areNumbersEqual:mOe,areObjectsEqual:a?Xp:pOe,arePrimitiveWrappersEqual:xOe,areRegExpsEqual:gOe,areSetsEqual:a?p8(b8,Xp):b8,areTypedArraysEqual:a?Xp:vOe,areUrlsEqual:yOe};if(r&&(s=j8({},s,r(s))),t){var i=ey(s.areArraysEqual),o=ey(s.areMapsEqual),l=ey(s.areObjectsEqual),d=ey(s.areSetsEqual);s=j8({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:d})}return s}function ROe(e){return function(t,r,a,s,i,o,l){return e(t,r,l)}}function DOe(e){var t=e.circular,r=e.comparator,a=e.createState,s=e.equals,i=e.strict;if(a)return function(d,u){var f=a(),p=f.cache,x=p===void 0?t?new WeakMap:void 0:p,y=f.meta;return r(d,u,{cache:x,equals:s,meta:y,strict:i})};if(t)return function(d,u){return r(d,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,u){return r(d,u,o)}}var LOe=Kd();Kd({strict:!0});Kd({circular:!0});Kd({circular:!0,strict:!0});Kd({createInternalComparator:function(){return Ch}});Kd({strict:!0,createInternalComparator:function(){return Ch}});Kd({circular:!0,createInternalComparator:function(){return Ch}});Kd({circular:!0,createInternalComparator:function(){return Ch},strict:!0});function Kd(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,a=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=MOe(e),d=IOe(l),u=a?a(d):ROe(d);return DOe({circular:r,comparator:d,createState:s,equals:u,strict:o})}function FOe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function N8(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,a=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):FOe(s)};requestAnimationFrame(a)}function rE(e){"@babel/helpers - typeof";return rE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rE(e)}function BOe(e){return UOe(e)||zOe(e)||VOe(e)||$Oe()}function $Oe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VOe(e,t){if(e){if(typeof e=="string")return C8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C8(e,t)}}function C8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function zOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UOe(e){if(Array.isArray(e))return e}function WOe(){var e={},t=function(){return null},r=!1,a=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=BOe(o),d=l[0],u=l.slice(1);if(typeof d=="number"){N8(s.bind(null,u),d);return}s(d),N8(s.bind(null,u));return}rE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,a(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Qg(e){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qg(e)}function S8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function A8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S8(Object(r),!0).forEach(function(a){iG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function iG(e,t,r){return t=HOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HOe(e){var t=qOe(e,"string");return Qg(t)==="symbol"?t:String(t)}function qOe(e,t){if(Qg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Qg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GOe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(a,s){return a.filter(function(i){return s.includes(i)})})},KOe=function(t){return t},YOe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rx=function(t,r){return Object.keys(r).reduce(function(a,s){return A8(A8({},a),{},iG({},s,t(s,r[s])))},{})},E8=function(t,r,a){return t.map(function(s){return"".concat(YOe(s)," ").concat(r,"ms ").concat(a)}).join(",")};function XOe(e,t){return JOe(e)||ZOe(e,t)||oG(e,t)||QOe()}function QOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function JOe(e){if(Array.isArray(e))return e}function eke(e){return nke(e)||rke(e)||oG(e)||tke()}function tke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return nE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nE(e,t)}}function rke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nke(e){if(Array.isArray(e))return nE(e)}function nE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var yb=1e-4,lG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},cG=function(t,r){return t.map(function(a,s){return a*Math.pow(r,s)}).reduce(function(a,s){return a+s})},T8=function(t,r){return function(a){var s=lG(t,r);return cG(s,a)}},ake=function(t,r){return function(a){var s=lG(t,r),i=[].concat(eke(s.map(function(o,l){return o*l}).slice(1)),[0]);return cG(i,a)}},_8=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var d=r[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var u=d[1].split(")")[0].split(",").map(function(C){return parseFloat(C)}),f=XOe(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var p=T8(s,o),x=T8(i,l),y=ake(s,o),j=function(N){return N>1?1:N<0?0:N},w=function(N){for(var S=N>1?1:N,_=S,I=0;I<8;++I){var T=p(_)-S,M=y(_);if(Math.abs(T-S)<yb||M<yb)return x(_);_=j(_-T/M)}return x(_)};return w.isStepper=!1,w},ske=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,a=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,d=function(f,p,x){var y=-(f-p)*a,j=x*i,w=x+(y-j)*l/1e3,C=x*l/1e3+f;return Math.abs(C-p)<yb&&Math.abs(w)<yb?[p,0]:[C,w]};return d.isStepper=!0,d.dt=l,d},ike=function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _8(s);case"spring":return ske();default:if(s.split("(")[0]==="cubic-bezier")return _8(s)}return typeof s=="function"?s:null};function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function P8(e){return cke(e)||lke(e)||dG(e)||oke()}function oke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cke(e){if(Array.isArray(e))return sE(e)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function La(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(a){aE(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function aE(e,t,r){return t=dke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dke(e){var t=uke(e,"string");return Zg(t)==="symbol"?t:String(t)}function uke(e,t){if(Zg(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Zg(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hke(e,t){return pke(e)||mke(e,t)||dG(e,t)||fke()}function fke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dG(e,t){if(e){if(typeof e=="string")return sE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sE(e,t)}}function sE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function mke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pke(e){if(Array.isArray(e))return e}var bb=function(t,r,a){return t+(r-t)*a},iE=function(t){var r=t.from,a=t.to;return r!==a},xke=function e(t,r,a){var s=Rx(function(i,o){if(iE(o)){var l=t(o.from,o.to,o.velocity),d=hke(l,2),u=d[0],f=d[1];return La(La({},o),{},{from:u,velocity:f})}return o},r);return a<1?Rx(function(i,o){return iE(o)?La(La({},o),{},{velocity:bb(o.velocity,s[i].velocity,a),from:bb(o.from,s[i].from,a)}):o},r):e(t,s,a-1)};const gke=function(e,t,r,a,s){var i=GOe(e,t),o=i.reduce(function(C,N){return La(La({},C),{},aE({},N,[e[N],t[N]]))},{}),l=i.reduce(function(C,N){return La(La({},C),{},aE({},N,{from:e[N],velocity:0,to:t[N]}))},{}),d=-1,u,f,p=function(){return null},x=function(){return Rx(function(N,S){return S.from},l)},y=function(){return!Object.values(l).filter(iE).length},j=function(N){u||(u=N);var S=N-u,_=S/r.dt;l=xke(r,l,_),s(La(La(La({},e),t),x())),u=N,y()||(d=requestAnimationFrame(p))},w=function(N){f||(f=N);var S=(N-f)/a,_=Rx(function(T,M){return bb.apply(void 0,P8(M).concat([r(S)]))},o);if(s(La(La(La({},e),t),_)),S<1)d=requestAnimationFrame(p);else{var I=Rx(function(T,M){return bb.apply(void 0,P8(M).concat([r(1)]))},o);s(La(La(La({},e),t),I))}};return p=r.isStepper?j:w,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(d)}}};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}var vke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function yke(e,t){if(e==null)return{};var r=bke(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function bke(e,t){if(e==null)return{};var r={},a=Object.keys(e),s,i;for(i=0;i<a.length;i++)s=a[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function HN(e){return Cke(e)||Nke(e)||jke(e)||wke()}function wke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jke(e,t){if(e){if(typeof e=="string")return oE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oE(e,t)}}function Nke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cke(e){if(Array.isArray(e))return oE(e)}function oE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function k8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k8(Object(r),!0).forEach(function(a){hx(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function hx(e,t,r){return t=uG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ske(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ake(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,uG(a.key),a)}}function Eke(e,t,r){return t&&Ake(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uG(e){var t=Tke(e,"string");return Em(t)==="symbol"?t:String(t)}function Tke(e,t){if(Em(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Em(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},lE(e,t)}function Pke(e){var t=Oke();return function(){var a=wb(e),s;if(t){var i=wb(this).constructor;s=Reflect.construct(a,arguments,i)}else s=a.apply(this,arguments);return cE(this,s)}}function cE(e,t){if(t&&(Em(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dE(e)}function dE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wb(e){return wb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},wb(e)}var jl=function(e){_ke(r,e);var t=Pke(r);function r(a,s){var i;Ske(this,r),i=t.call(this,a,s);var o=i.props,l=o.isActive,d=o.attributeName,u=o.from,f=o.to,p=o.steps,x=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(dE(i)),i.changeStyle=i.changeStyle.bind(dE(i)),!l||y<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:f}),cE(i);if(p&&p.length)i.state={style:p[0].style};else if(u){if(typeof x=="function")return i.state={style:u},cE(i);i.state={style:d?hx({},d,u):u}}else i.state={style:{}};return i}return Eke(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,d=i.attributeName,u=i.shouldReAnimate,f=i.to,p=i.from,x=this.state.style;if(l){if(!o){var y={style:d?hx({},d,f):f};this.state&&x&&(d&&x[d]!==f||!d&&x!==f)&&this.setState(y);return}if(!(LOe(s.to,f)&&s.canBegin&&s.isActive)){var j=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=j||u?p:s.to;if(this.state&&x){var C={style:d?hx({},d,w):w};(d&&x[d]!==w||!d&&x!==w)&&this.setState(C)}this.runAnimation(no(no({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,d=s.duration,u=s.easing,f=s.begin,p=s.onAnimationEnd,x=s.onAnimationStart,y=gke(o,l,ike(u),d,this.changeStyle),j=function(){i.stopJSAnimation=y()};this.manager.start([x,f,j,d,p])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,d=s.onAnimationStart,u=o[0],f=u.style,p=u.duration,x=p===void 0?0:p,y=function(w,C,N){if(N===0)return w;var S=C.duration,_=C.easing,I=_===void 0?"ease":_,T=C.style,M=C.properties,O=C.onAnimationEnd,D=N>0?o[N-1]:C,R=M||Object.keys(T);if(typeof I=="function"||I==="spring")return[].concat(HN(w),[i.runJSAnimation.bind(i,{from:D.style,to:T,duration:S,easing:I}),S]);var V=E8(R,S,I),z=no(no(no({},D.style),T),{},{transition:V});return[].concat(HN(w),[z,S,O]).filter(KOe)};return this.manager.start([d].concat(HN(o.reduce(y,[f,Math.max(x,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=WOe());var i=s.begin,o=s.duration,l=s.attributeName,d=s.to,u=s.easing,f=s.onAnimationStart,p=s.onAnimationEnd,x=s.steps,y=s.children,j=this.manager;if(this.unSubscribe=j.subscribe(this.handleStyleChange),typeof u=="function"||typeof y=="function"||u==="spring"){this.runJSAnimation(s);return}if(x.length>1){this.runStepAnimation(s);return}var w=l?hx({},l,d):d,C=E8(Object.keys(w),o,u);j.start([f,i,no(no({},w),{},{transition:C}),o,p])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=yke(s,vke),u=E.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var p=function(y){var j=y.props,w=j.style,C=w===void 0?{}:w,N=j.className,S=E.cloneElement(y,no(no({},d),{},{style:no(no({},C),f),className:N}));return S};return u===1?p(E.Children.only(i)):Q.createElement("div",null,E.Children.map(i,function(x){return p(x)}))}}]),r}(E.PureComponent);jl.displayName="Animate";jl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};jl.propTypes={from:Ct.oneOfType([Ct.object,Ct.string]),to:Ct.oneOfType([Ct.object,Ct.string]),attributeName:Ct.string,duration:Ct.number,begin:Ct.number,easing:Ct.oneOfType([Ct.string,Ct.func]),steps:Ct.arrayOf(Ct.shape({duration:Ct.number.isRequired,style:Ct.object.isRequired,easing:Ct.oneOfType([Ct.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Ct.func]),properties:Ct.arrayOf("string"),onAnimationEnd:Ct.func})),children:Ct.oneOfType([Ct.node,Ct.func]),isActive:Ct.bool,canBegin:Ct.bool,onAnimationEnd:Ct.func,shouldReAnimate:Ct.bool,onAnimationStart:Ct.func,onAnimationReStart:Ct.func};function Jg(e){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jg(e)}function jb(){return jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jb.apply(this,arguments)}function kke(e,t){return Dke(e)||Rke(e,t)||Mke(e,t)||Ike()}function Ike(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mke(e,t){if(e){if(typeof e=="string")return I8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I8(e,t)}}function I8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Rke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Dke(e){if(Array.isArray(e))return e}function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function R8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(a){Lke(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Lke(e,t,r){return t=Fke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fke(e){var t=Bke(e,"string");return Jg(t)=="symbol"?t:t+""}function Bke(e,t){if(Jg(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Jg(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D8=function(t,r,a,s,i){var o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,d=a>=0?1:-1,u=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],x=0,y=4;x<y;x++)p[x]=i[x]>o?o:i[x];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+d*p[0],",").concat(r)),f+="L ".concat(t+a-d*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+a,",").concat(r+l*p[1])),f+="L ".concat(t+a,",").concat(r+s-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+a-d*p[2],",").concat(r+s)),f+="L ".concat(t+d*p[3],",").concat(r+s),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*p[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var j=Math.min(o,i);f="M ".concat(t,",").concat(r+l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t+d*j,",").concat(r,`
            L `).concat(t+a-d*j,",").concat(r,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t+a,",").concat(r+l*j,`
            L `).concat(t+a,",").concat(r+s-l*j,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t+a-d*j,",").concat(r+s,`
            L `).concat(t+d*j,",").concat(r+s,`
            A `).concat(j,",").concat(j,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*j," Z")}else f="M ".concat(t,",").concat(r," h ").concat(a," v ").concat(s," h ").concat(-a," Z");return f},$ke=function(t,r){if(!t||!r)return!1;var a=t.x,s=t.y,i=r.x,o=r.y,l=r.width,d=r.height;if(Math.abs(l)>0&&Math.abs(d)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),p=Math.min(o,o+d),x=Math.max(o,o+d);return a>=u&&a<=f&&s>=p&&s<=x}return!1},Vke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O_=function(t){var r=R8(R8({},Vke),t),a=E.useRef(),s=E.useState(-1),i=kke(s,2),o=i[0],l=i[1];E.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var I=a.current.getTotalLength();I&&l(I)}catch{}},[]);var d=r.x,u=r.y,f=r.width,p=r.height,x=r.radius,y=r.className,j=r.animationEasing,w=r.animationDuration,C=r.animationBegin,N=r.isAnimationActive,S=r.isUpdateAnimationActive;if(d!==+d||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var _=er("recharts-rectangle",y);return S?Q.createElement(jl,{canBegin:o>0,from:{width:f,height:p,x:d,y:u},to:{width:f,height:p,x:d,y:u},duration:w,animationEasing:j,isActive:S},function(I){var T=I.width,M=I.height,O=I.x,D=I.y;return Q.createElement(jl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:w,isActive:N,easing:j},Q.createElement("path",jb({},kt(r,!0),{className:_,d:D8(O,D,T,M,x),ref:a})))}):Q.createElement("path",jb({},kt(r,!0),{className:_,d:D8(d,u,f,p,x)}))},zke=["points","className","baseLinePoints","connectNulls"];function mf(){return mf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},mf.apply(this,arguments)}function Uke(e,t){if(e==null)return{};var r=Wke(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Wke(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function L8(e){return Kke(e)||Gke(e)||qke(e)||Hke()}function Hke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qke(e,t){if(e){if(typeof e=="string")return uE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uE(e,t)}}function Gke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kke(e){if(Array.isArray(e))return uE(e)}function uE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var F8=function(t){return t&&t.x===+t.x&&t.y===+t.y},Yke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(a){F8(a)?r[r.length-1].push(a):r[r.length-1].length>0&&r.push([])}),F8(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Dx=function(t,r){var a=Yke(t);r&&(a=[a.reduce(function(i,o){return[].concat(L8(i),L8(o))},[])]);var s=a.map(function(i){return i.reduce(function(o,l,d){return"".concat(o).concat(d===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return a.length===1?"".concat(s,"Z"):s},Xke=function(t,r,a){var s=Dx(t,a);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Dx(r.reverse(),a).slice(1))},Qke=function(t){var r=t.points,a=t.className,s=t.baseLinePoints,i=t.connectNulls,o=Uke(t,zke);if(!r||!r.length)return null;var l=er("recharts-polygon",a);if(s&&s.length){var d=o.stroke&&o.stroke!=="none",u=Xke(r,s,i);return Q.createElement("g",{className:l},Q.createElement("path",mf({},kt(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),d?Q.createElement("path",mf({},kt(o,!0),{fill:"none",d:Dx(r,i)})):null,d?Q.createElement("path",mf({},kt(o,!0),{fill:"none",d:Dx(s,i)})):null)}var f=Dx(r,i);return Q.createElement("path",mf({},kt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},hE.apply(this,arguments)}var Tj=function(t){var r=t.cx,a=t.cy,s=t.r,i=t.className,o=er("recharts-dot",i);return r===+r&&a===+a&&s===+s?Q.createElement("circle",hE({},kt(t,!1),z1(t),{className:o,cx:r,cy:a,r:s})):null};function e0(e){"@babel/helpers - typeof";return e0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e0(e)}var Zke=["x","y","top","left","width","height","className"];function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},fE.apply(this,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Jke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(a){eIe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function eIe(e,t,r){return t=tIe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tIe(e){var t=rIe(e,"string");return e0(t)=="symbol"?t:t+""}function rIe(e,t){if(e0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(e0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nIe(e,t){if(e==null)return{};var r=aIe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function aIe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var sIe=function(t,r,a,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(a)},iIe=function(t){var r=t.x,a=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,d=t.left,u=d===void 0?0:d,f=t.width,p=f===void 0?0:f,x=t.height,y=x===void 0?0:x,j=t.className,w=nIe(t,Zke),C=Jke({x:a,y:i,top:l,left:u,width:p,height:y},w);return!Qe(a)||!Qe(i)||!Qe(p)||!Qe(y)||!Qe(l)||!Qe(u)?null:Q.createElement("path",fE({},kt(C,!0),{className:er("recharts-cross",j),d:sIe(a,i,p,y,l,u)}))},oIe=Nj,lIe=Aq,cIe=El;function dIe(e,t){return e&&e.length?oIe(e,cIe(t),lIe):void 0}var uIe=dIe;const hIe=br(uIe);var fIe=Nj,mIe=El,pIe=Eq;function xIe(e,t){return e&&e.length?fIe(e,mIe(t),pIe):void 0}var gIe=xIe;const vIe=br(gIe);var yIe=["cx","cy","angle","ticks","axisLine"],bIe=["ticks","tick","angle","tickFormatter","stroke"];function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function Lx(){return Lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Lx.apply(this,arguments)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(a){_j(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function V8(e,t){if(e==null)return{};var r=wIe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function wIe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function jIe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,fG(a.key),a)}}function NIe(e,t,r){return t&&z8(e.prototype,t),r&&z8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function CIe(e,t,r){return t=Nb(t),SIe(e,hG()?Reflect.construct(t,r||[],Nb(e).constructor):t.apply(e,r))}function SIe(e,t){if(t&&(Tm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AIe(e)}function AIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hG=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nb(e)}function EIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},mE(e,t)}function _j(e,t,r){return t=fG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=TIe(e,"string");return Tm(t)=="symbol"?t:t+""}function TIe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Tm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pj=function(e){function t(){return jIe(this,t),CIe(this,t,arguments)}return EIe(t,e),NIe(t,[{key:"getTickValueCoord",value:function(a){var s=a.coordinate,i=this.props,o=i.angle,l=i.cx,d=i.cy;return tn(l,d,s,o)}},{key:"getTickTextAnchor",value:function(){var a=this.props.orientation,s;switch(a){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,d=hIe(l,function(f){return f.coordinate||0}),u=vIe(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.angle,l=a.ticks,d=a.axisLine,u=V8(a,yIe),f=l.reduce(function(j,w){return[Math.min(j[0],w.coordinate),Math.max(j[1],w.coordinate)]},[1/0,-1/0]),p=tn(s,i,f[0],o),x=tn(s,i,f[1],o),y=nu(nu(nu({},kt(u,!1)),{},{fill:"none"},kt(d,!1)),{},{x1:p.x,y1:p.y,x2:x.x,y2:x.y});return Q.createElement("line",Lx({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,d=s.tickFormatter,u=s.stroke,f=V8(s,bIe),p=this.getTickTextAnchor(),x=kt(f,!1),y=kt(o,!1),j=i.map(function(w,C){var N=a.getTickValueCoord(w),S=nu(nu(nu(nu({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},x),{},{stroke:"none",fill:u},y),{},{index:C},N),{},{payload:w});return Q.createElement(Ar,Lx({className:er("recharts-polar-radius-axis-tick",tG(o)),key:"tick-".concat(w.coordinate)},ih(a.props,w,C)),t.renderTickItem(o,S,d?d(w.value,C):w.value))});return Q.createElement(Ar,{className:"recharts-polar-radius-axis-ticks"},j)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.axisLine,o=a.tick;return!s||!s.length?null:Q.createElement(Ar,{className:er("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ca.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return Q.isValidElement(a)?o=Q.cloneElement(a,s):Ht(a)?o=a(s):o=Q.createElement(oh,Lx({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(E.PureComponent);_j(Pj,"displayName","PolarRadiusAxis");_j(Pj,"axisType","radiusAxis");_j(Pj,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pu.apply(this,arguments)}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(a){Oj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,pG(a.key),a)}}function PIe(e,t,r){return t&&W8(e.prototype,t),r&&W8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OIe(e,t,r){return t=Cb(t),kIe(e,mG()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function kIe(e,t){if(t&&(_m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IIe(e)}function IIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cb(e)}function MIe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},pE(e,t)}function Oj(e,t,r){return t=pG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=RIe(e,"string");return _m(t)=="symbol"?t:t+""}function RIe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(_m(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DIe=Math.PI/180,H8=1e-5,kj=function(e){function t(){return _Ie(this,t),OIe(this,t,arguments)}return MIe(t,e),PIe(t,[{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.cx,o=s.cy,l=s.radius,d=s.orientation,u=s.tickSize,f=u||8,p=tn(i,o,l,a.coordinate),x=tn(i,o,l+(d==="inner"?-1:1)*f,a.coordinate);return{x1:p.x,y1:p.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(a){var s=this.props.orientation,i=Math.cos(-a.coordinate*DIe),o;return i>H8?o=s==="outer"?"start":"end":i<-H8?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.cx,i=a.cy,o=a.radius,l=a.axisLine,d=a.axisLineType,u=au(au({},kt(this.props,!1)),{},{fill:"none"},kt(l,!1));if(d==="circle")return Q.createElement(Tj,pu({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,p=f.map(function(x){return tn(s,i,o,x.coordinate)});return Q.createElement(Qke,pu({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var a=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,d=s.tickFormatter,u=s.stroke,f=kt(this.props,!1),p=kt(o,!1),x=au(au({},f),{},{fill:"none"},kt(l,!1)),y=i.map(function(j,w){var C=a.getTickLineCoord(j),N=a.getTickTextAnchor(j),S=au(au(au({textAnchor:N},f),{},{stroke:"none",fill:u},p),{},{index:w,payload:j,x:C.x2,y:C.y2});return Q.createElement(Ar,pu({className:er("recharts-polar-angle-axis-tick",tG(o)),key:"tick-".concat(j.coordinate)},ih(a.props,j,w)),l&&Q.createElement("line",pu({className:"recharts-polar-angle-axis-tick-line"},x,C)),o&&t.renderTickItem(o,S,d?d(j.value,w):j.value))});return Q.createElement(Ar,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var a=this.props,s=a.ticks,i=a.radius,o=a.axisLine;return i<=0||!s||!s.length?null:Q.createElement(Ar,{className:er("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(a,s,i){var o;return Q.isValidElement(a)?o=Q.cloneElement(a,s):Ht(a)?o=a(s):o=Q.createElement(oh,pu({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(E.PureComponent);Oj(kj,"displayName","PolarAngleAxis");Oj(kj,"axisType","angleAxis");Oj(kj,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var LIe=jH,FIe=LIe(Object.getPrototypeOf,Object),BIe=FIe,$Ie=vc,VIe=BIe,zIe=yc,UIe="[object Object]",WIe=Function.prototype,HIe=Object.prototype,xG=WIe.toString,qIe=HIe.hasOwnProperty,GIe=xG.call(Object);function KIe(e){if(!zIe(e)||$Ie(e)!=UIe)return!1;var t=VIe(e);if(t===null)return!0;var r=qIe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xG.call(r)==GIe}var YIe=KIe;const XIe=br(YIe);var QIe=vc,ZIe=yc,JIe="[object Boolean]";function eMe(e){return e===!0||e===!1||ZIe(e)&&QIe(e)==JIe}var tMe=eMe;const rMe=br(tMe);function t0(e){"@babel/helpers - typeof";return t0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t0(e)}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Sb.apply(this,arguments)}function nMe(e,t){return oMe(e)||iMe(e,t)||sMe(e,t)||aMe()}function aMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sMe(e,t){if(e){if(typeof e=="string")return q8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q8(e,t)}}function q8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function iMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oMe(e){if(Array.isArray(e))return e}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(a){lMe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function lMe(e,t,r){return t=cMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cMe(e){var t=dMe(e,"string");return t0(t)=="symbol"?t:t+""}function dMe(e,t){if(t0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(t0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Y8=function(t,r,a,s,i){var o=a-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+a,",").concat(r),l+="L ".concat(t+a-o/2,",").concat(r+i),l+="L ".concat(t+a-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},uMe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hMe=function(t){var r=K8(K8({},uMe),t),a=E.useRef(),s=E.useState(-1),i=nMe(s,2),o=i[0],l=i[1];E.useEffect(function(){if(a.current&&a.current.getTotalLength)try{var _=a.current.getTotalLength();_&&l(_)}catch{}},[]);var d=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,x=r.height,y=r.className,j=r.animationEasing,w=r.animationDuration,C=r.animationBegin,N=r.isUpdateAnimationActive;if(d!==+d||u!==+u||f!==+f||p!==+p||x!==+x||f===0&&p===0||x===0)return null;var S=er("recharts-trapezoid",y);return N?Q.createElement(jl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:x,x:d,y:u},to:{upperWidth:f,lowerWidth:p,height:x,x:d,y:u},duration:w,animationEasing:j,isActive:N},function(_){var I=_.upperWidth,T=_.lowerWidth,M=_.height,O=_.x,D=_.y;return Q.createElement(jl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:C,duration:w,easing:j},Q.createElement("path",Sb({},kt(r,!0),{className:S,d:Y8(O,D,I,T,M),ref:a})))}):Q.createElement("g",null,Q.createElement("path",Sb({},kt(r,!0),{className:S,d:Y8(d,u,f,p,x)})))},fMe=["option","shapeType","propTransformer","activeClassName","isActive"];function r0(e){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r0(e)}function mMe(e,t){if(e==null)return{};var r=pMe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function pMe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function X8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ab(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X8(Object(r),!0).forEach(function(a){xMe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function xMe(e,t,r){return t=gMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gMe(e){var t=vMe(e,"string");return r0(t)=="symbol"?t:t+""}function vMe(e,t){if(r0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(r0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yMe(e,t){return Ab(Ab({},t),e)}function bMe(e,t){return e==="symbols"}function Q8(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Q.createElement(O_,r);case"trapezoid":return Q.createElement(hMe,r);case"sector":return Q.createElement(aG,r);case"symbols":if(bMe(t))return Q.createElement(X3,r);break;default:return null}}function wMe(e){return E.isValidElement(e)?e.props:e}function gG(e){var t=e.option,r=e.shapeType,a=e.propTransformer,s=a===void 0?yMe:a,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,d=mMe(e,fMe),u;if(E.isValidElement(t))u=E.cloneElement(t,Ab(Ab({},d),wMe(t)));else if(Ht(t))u=t(d);else if(XIe(t)&&!rMe(t)){var f=s(t,d);u=Q.createElement(Q8,{shapeType:r,elementProps:f})}else{var p=d;u=Q.createElement(Q8,{shapeType:r,elementProps:p})}return l?Q.createElement(Ar,{className:o},u):u}function Ij(e,t){return t!=null&&"trapezoids"in e.props}function Mj(e,t){return t!=null&&"sectors"in e.props}function n0(e,t){return t!=null&&"points"in e.props}function jMe(e,t){var r,a,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(a=t.labelViewBox)===null||a===void 0?void 0:a.y)||e.y===t.y;return s&&i}function NMe(e,t){var r=e.endAngle===t.endAngle,a=e.startAngle===t.startAngle;return r&&a}function CMe(e,t){var r=e.x===t.x,a=e.y===t.y,s=e.z===t.z;return r&&a&&s}function SMe(e,t){var r;return Ij(e,t)?r=jMe:Mj(e,t)?r=NMe:n0(e,t)&&(r=CMe),r}function AMe(e,t){var r;return Ij(e,t)?r="trapezoids":Mj(e,t)?r="sectors":n0(e,t)&&(r="points"),r}function EMe(e,t){if(Ij(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mj(e,t)){var a;return(a=t.tooltipPayload)===null||a===void 0||(a=a[0])===null||a===void 0||(a=a.payload)===null||a===void 0?void 0:a.payload}return n0(e,t)?t.payload:{}}function TMe(e){var t=e.activeTooltipItem,r=e.graphicalItem,a=e.itemData,s=AMe(r,t),i=EMe(r,t),o=a.filter(function(d,u){var f=K0(i,d),p=r.props[s].filter(function(j){var w=SMe(r,t);return w(j,t)}),x=r.props[s].indexOf(p[p.length-1]),y=u===x;return f&&y}),l=a.indexOf(o[o.length-1]);return l}var Oy;function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},pf.apply(this,arguments)}function Z8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z8(Object(r),!0).forEach(function(a){Di(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function _Me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J8(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,yG(a.key),a)}}function PMe(e,t,r){return t&&J8(e.prototype,t),r&&J8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function OMe(e,t,r){return t=Eb(t),kMe(e,vG()?Reflect.construct(t,r||[],Eb(e).constructor):t.apply(e,r))}function kMe(e,t){if(t&&(Pm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IMe(e)}function IMe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vG=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Eb(e)}function MMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xE(e,t)}function xE(e,t){return xE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},xE(e,t)}function Di(e,t,r){return t=yG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=RMe(e,"string");return Pm(t)=="symbol"?t:t+""}function RMe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Pm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hi=function(e){function t(r){var a;return _Me(this,t),a=OMe(this,t,[r]),Di(a,"pieRef",null),Di(a,"sectorRefs",[]),Di(a,"id",dp("recharts-pie-")),Di(a,"handleAnimationEnd",function(){var s=a.props.onAnimationEnd;a.setState({isAnimationFinished:!0}),Ht(s)&&s()}),Di(a,"handleAnimationStart",function(){var s=a.props.onAnimationStart;a.setState({isAnimationFinished:!1}),Ht(s)&&s()}),a.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},a}return MMe(t,e),PMe(t,[{key:"isActiveIndex",value:function(a){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(a)!==-1:a===s}},{key:"hasActiveIndex",value:function(){var a=this.props.activeIndex;return Array.isArray(a)?a.length!==0:a||a===0}},{key:"renderLabels",value:function(a){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,d=i.dataKey,u=i.valueKey,f=kt(this.props,!1),p=kt(o,!1),x=kt(l,!1),y=o&&o.offsetRadius||20,j=a.map(function(w,C){var N=(w.startAngle+w.endAngle)/2,S=tn(w.cx,w.cy,w.outerRadius+y,N),_=Zr(Zr(Zr(Zr({},f),w),{},{stroke:"none"},p),{},{index:C,textAnchor:t.getTextAnchor(S.x,w.cx)},S),I=Zr(Zr(Zr(Zr({},f),w),{},{fill:"none",stroke:w.fill},x),{},{index:C,points:[tn(w.cx,w.cy,w.outerRadius,N),S]}),T=d;return Yt(d)&&Yt(u)?T="value":Yt(d)&&(T=u),Q.createElement(Ar,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(C)},l&&t.renderLabelLineItem(l,I,"line"),t.renderLabelItem(o,_,ma(w,T)))});return Q.createElement(Ar,{className:"recharts-pie-labels"},j)}},{key:"renderSectorsStatically",value:function(a){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,d=i.inactiveShape;return a.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&a.length!==1)return null;var p=s.isActiveIndex(f),x=d&&s.hasActiveIndex()?d:null,y=p?o:x,j=Zr(Zr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Q.createElement(Ar,pf({ref:function(C){C&&!s.sectorRefs.includes(C)&&s.sectorRefs.push(C)},tabIndex:-1,className:"recharts-pie-sector"},ih(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Q.createElement(gG,pf({option:y,isActive:p,shapeType:"sector"},j)))})}},{key:"renderSectorsWithAnimation",value:function(){var a=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,d=s.animationDuration,u=s.animationEasing,f=s.animationId,p=this.state,x=p.prevSectors,y=p.prevIsAnimationActive;return Q.createElement(jl,{begin:l,duration:d,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var w=j.t,C=[],N=i&&i[0],S=N.startAngle;return i.forEach(function(_,I){var T=x&&x[I],M=I>0?di(_,"paddingAngle",0):0;if(T){var O=ti(T.endAngle-T.startAngle,_.endAngle-_.startAngle),D=Zr(Zr({},_),{},{startAngle:S+M,endAngle:S+O(w)+M});C.push(D),S=D.endAngle}else{var R=_.endAngle,V=_.startAngle,z=ti(0,R-V),B=z(w),q=Zr(Zr({},_),{},{startAngle:S+M,endAngle:S+B+M});C.push(q),S=q.endAngle}}),Q.createElement(Ar,null,a.renderSectorsStatically(C))})}},{key:"attachKeyboardHandlers",value:function(a){var s=this;a.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var a=this.props,s=a.sectors,i=a.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!K0(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var a=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,d=s.label,u=s.cx,f=s.cy,p=s.innerRadius,x=s.outerRadius,y=s.isAnimationActive,j=this.state.isAnimationFinished;if(i||!o||!o.length||!Qe(u)||!Qe(f)||!Qe(p)||!Qe(x))return null;var w=er("recharts-pie",l);return Q.createElement(Ar,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){a.pieRef=N}},this.renderSectors(),d&&this.renderLabels(o),Ca.renderCallByParent(this.props,null,!1),(!y||j)&&tc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return s.prevIsAnimationActive!==a.isAnimationActive?{prevIsAnimationActive:a.isAnimationActive,prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:[],isAnimationFinished:!0}:a.isAnimationActive&&a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curSectors:a.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:a.sectors!==s.curSectors?{curSectors:a.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(a,s){return a>s?"start":a<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(a,s,i){if(Q.isValidElement(a))return Q.cloneElement(a,s);if(Ht(a))return a(s);var o=er("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return Q.createElement(vb,pf({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(a,s,i){if(Q.isValidElement(a))return Q.cloneElement(a,s);var o=i;if(Ht(a)&&(o=a(s),Q.isValidElement(o)))return o;var l=er("recharts-pie-label-text",typeof a!="boolean"&&!Ht(a)?a.className:"");return Q.createElement(oh,pf({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(E.PureComponent);Oy=hi;Di(hi,"displayName","Pie");Di(hi,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!dl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Di(hi,"parseDeltaAngle",function(e,t){var r=hs(t-e),a=Math.min(Math.abs(t-e),360);return r*a});Di(hi,"getRealPieData",function(e){var t=e.data,r=e.children,a=kt(e,!1),s=ui(r,xd);return t&&t.length?t.map(function(i,o){return Zr(Zr(Zr({payload:i},a),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Zr(Zr({},a),i.props)}):[]});Di(hi,"parseCoordinateOfPie",function(e,t){var r=t.top,a=t.left,s=t.width,i=t.height,o=eG(s,i),l=a+fs(e.cx,s,s/2),d=r+fs(e.cy,i,i/2),u=fs(e.innerRadius,o,0),f=fs(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:d,innerRadius:u,outerRadius:f,maxRadius:p}});Di(hi,"getComposedData",function(e){var t=e.item,r=e.offset,a=t.type.defaultProps!==void 0?Zr(Zr({},t.type.defaultProps),t.props):t.props,s=Oy.getRealPieData(a);if(!s||!s.length)return null;var i=a.cornerRadius,o=a.startAngle,l=a.endAngle,d=a.paddingAngle,u=a.dataKey,f=a.nameKey,p=a.valueKey,x=a.tooltipType,y=Math.abs(a.minAngle),j=Oy.parseCoordinateOfPie(a,r),w=Oy.parseDeltaAngle(o,l),C=Math.abs(w),N=u;Yt(u)&&Yt(p)?(Eo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):Yt(u)&&(Eo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=p);var S=s.filter(function(D){return ma(D,N,0)!==0}).length,_=(C>=360?S:S-1)*d,I=C-S*y-_,T=s.reduce(function(D,R){var V=ma(R,N,0);return D+(Qe(V)?V:0)},0),M;if(T>0){var O;M=s.map(function(D,R){var V=ma(D,N,0),z=ma(D,f,R),B=(Qe(V)?V:0)/T,q;R?q=O.endAngle+hs(w)*d*(V!==0?1:0):q=o;var $=q+hs(w)*((V!==0?y:0)+B*I),L=(q+$)/2,H=(j.innerRadius+j.outerRadius)/2,G=[{name:z,value:V,payload:D,dataKey:N,type:x}],Y=tn(j.cx,j.cy,H,L);return O=Zr(Zr(Zr({percent:B,cornerRadius:i,name:z,tooltipPayload:G,midAngle:L,middleRadius:H,tooltipPosition:Y},D),j),{},{value:ma(D,N),startAngle:q,endAngle:$,payload:D,paddingAngle:hs(w)*d}),O})}return Zr(Zr({},j),{},{sectors:M,data:s})});var DMe=Math.ceil,LMe=Math.max;function FMe(e,t,r,a){for(var s=-1,i=LMe(DMe((t-e)/(r||1)),0),o=Array(i);i--;)o[a?i:++s]=e,e+=r;return o}var BMe=FMe,$Me=VH,eD=1/0,VMe=17976931348623157e292;function zMe(e){if(!e)return e===0?e:0;if(e=$Me(e),e===eD||e===-eD){var t=e<0?-1:1;return t*VMe}return e===e?e:0}var bG=zMe,UMe=BMe,WMe=xj,qN=bG;function HMe(e){return function(t,r,a){return a&&typeof a!="number"&&WMe(t,r,a)&&(r=a=void 0),t=qN(t),r===void 0?(r=t,t=0):r=qN(r),a=a===void 0?t<r?1:-1:qN(a),UMe(t,r,a,e)}}var qMe=HMe,GMe=qMe,KMe=GMe(),YMe=KMe;const Tb=br(YMe);function a0(e){"@babel/helpers - typeof";return a0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function tD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function rD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(r),!0).forEach(function(a){wG(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function wG(e,t,r){return t=XMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XMe(e){var t=QMe(e,"string");return a0(t)=="symbol"?t:t+""}function QMe(e,t){if(a0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(a0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZMe=["Webkit","Moz","O","ms"],JMe=function(t,r){var a=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=ZMe.reduce(function(i,o){return rD(rD({},i),{},wG({},o+a,r))},{});return s[t]=r,s};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},_b.apply(this,arguments)}function nD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(r),!0).forEach(function(a){Ys(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function e5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aD(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,NG(a.key),a)}}function t5e(e,t,r){return t&&aD(e.prototype,t),r&&aD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r5e(e,t,r){return t=Pb(t),n5e(e,jG()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function n5e(e,t){if(t&&(Om(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a5e(e)}function a5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function s5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gE(e,t)}function gE(e,t){return gE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},gE(e,t)}function Ys(e,t,r){return t=NG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=i5e(e,"string");return Om(t)=="symbol"?t:t+""}function i5e(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Om(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o5e=function(t){var r=t.data,a=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var d=r.length,u=Ix().domain(Tb(0,d)).range([i,i+o-l]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(a),endX:u(s),scale:u,scaleValues:f}},sD=function(t){return t.changedTouches&&!!t.changedTouches.length},km=function(e){function t(r){var a;return e5e(this,t),a=r5e(this,t,[r]),Ys(a,"handleDrag",function(s){a.leaveTimer&&(clearTimeout(a.leaveTimer),a.leaveTimer=null),a.state.isTravellerMoving?a.handleTravellerMove(s):a.state.isSlideMoving&&a.handleSlideDrag(s)}),Ys(a,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&a.handleDrag(s.changedTouches[0])}),Ys(a,"handleDragEnd",function(){a.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=a.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),a.detachDragEndListener()}),Ys(a,"handleLeaveWrapper",function(){(a.state.isTravellerMoving||a.state.isSlideMoving)&&(a.leaveTimer=window.setTimeout(a.handleDragEnd,a.props.leaveTimeOut))}),Ys(a,"handleEnterSlideOrTraveller",function(){a.setState({isTextActive:!0})}),Ys(a,"handleLeaveSlideOrTraveller",function(){a.setState({isTextActive:!1})}),Ys(a,"handleSlideDragStart",function(s){var i=sD(s)?s.changedTouches[0]:s;a.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),a.attachDragEndListener()}),a.travellerDragStartHandlers={startX:a.handleTravellerDragStart.bind(a,"startX"),endX:a.handleTravellerDragStart.bind(a,"endX")},a.state={},a}return s5e(t,e),t5e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(a){var s=a.startX,i=a.endX,o=this.state.scaleValues,l=this.props,d=l.gap,u=l.data,f=u.length-1,p=Math.min(s,i),x=Math.max(s,i),y=t.getIndexInRange(o,p),j=t.getIndexInRange(o,x);return{startIndex:y-y%d,endIndex:j===f?f:j-j%d}}},{key:"getTextOfTick",value:function(a){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,d=ma(i[a],l,a);return Ht(o)?o(d,a):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(a){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,d=this.props,u=d.x,f=d.width,p=d.travellerWidth,x=d.startIndex,y=d.endIndex,j=d.onChange,w=a.pageX-i;w>0?w=Math.min(w,u+f-p-l,u+f-p-o):w<0&&(w=Math.max(w,u-o,u-l));var C=this.getIndex({startX:o+w,endX:l+w});(C.startIndex!==x||C.endIndex!==y)&&j&&j(C),this.setState({startX:o+w,endX:l+w,slideMoveStartX:a.pageX})}},{key:"handleTravellerDragStart",value:function(a,s){var i=sD(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:a,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(a){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,d=s.startX,u=this.state[o],f=this.props,p=f.x,x=f.width,y=f.travellerWidth,j=f.onChange,w=f.gap,C=f.data,N={startX:this.state.startX,endX:this.state.endX},S=a.pageX-i;S>0?S=Math.min(S,p+x-y-u):S<0&&(S=Math.max(S,p-u)),N[o]=u+S;var _=this.getIndex(N),I=_.startIndex,T=_.endIndex,M=function(){var D=C.length-1;return o==="startX"&&(l>d?I%w===0:T%w===0)||l<d&&T===D||o==="endX"&&(l>d?T%w===0:I%w===0)||l>d&&T===D};this.setState(Ys(Ys({},o,u+S),"brushMoveStartX",a.pageX),function(){j&&M()&&j(_)})}},{key:"handleTravellerMoveKeyboard",value:function(a,s){var i=this,o=this.state,l=o.scaleValues,d=o.startX,u=o.endX,f=this.state[s],p=l.indexOf(f);if(p!==-1){var x=p+a;if(!(x===-1||x>=l.length)){var y=l[x];s==="startX"&&y>=u||s==="endX"&&y<=d||this.setState(Ys({},s,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,d=a.fill,u=a.stroke;return Q.createElement("rect",{stroke:u,fill:d,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,d=a.data,u=a.children,f=a.padding,p=E.Children.only(u);return p?Q.cloneElement(p,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(a,s){var i,o,l=this,d=this.props,u=d.y,f=d.travellerWidth,p=d.height,x=d.traveller,y=d.ariaLabel,j=d.data,w=d.startIndex,C=d.endIndex,N=Math.max(a,this.props.x),S=GN(GN({},kt(this.props,!1)),{},{x:N,y:u,width:f,height:p}),_=y||"Min value: ".concat((i=j[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=j[C])===null||o===void 0?void 0:o.name);return Q.createElement(Ar,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":a,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),l.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(x,S))}},{key:"renderSlide",value:function(a,s){var i=this.props,o=i.y,l=i.height,d=i.stroke,u=i.travellerWidth,f=Math.min(a,s)+u,p=Math.max(Math.abs(s-a)-u,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var a=this.props,s=a.startIndex,i=a.endIndex,o=a.y,l=a.height,d=a.travellerWidth,u=a.stroke,f=this.state,p=f.startX,x=f.endX,y=5,j={pointerEvents:"none",fill:u};return Q.createElement(Ar,{className:"recharts-brush-texts"},Q.createElement(oh,_b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-y,y:o+l/2},j),this.getTextOfTick(s)),Q.createElement(oh,_b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+d+y,y:o+l/2},j),this.getTextOfTick(i)))}},{key:"render",value:function(){var a=this.props,s=a.data,i=a.className,o=a.children,l=a.x,d=a.y,u=a.width,f=a.height,p=a.alwaysShowText,x=this.state,y=x.startX,j=x.endX,w=x.isTextActive,C=x.isSlideMoving,N=x.isTravellerMoving,S=x.isTravellerFocused;if(!s||!s.length||!Qe(l)||!Qe(d)||!Qe(u)||!Qe(f)||u<=0||f<=0)return null;var _=er("recharts-brush",i),I=Q.Children.count(o)===1,T=JMe("userSelect","none");return Q.createElement(Ar,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(y,j),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(j,"endX"),(w||C||N||S||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(a){var s=a.x,i=a.y,o=a.width,l=a.height,d=a.stroke,u=Math.floor(i+l/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:s,y:i,width:o,height:l,fill:d,stroke:"none"}),Q.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(a,s){var i;return Q.isValidElement(a)?i=Q.cloneElement(a,s):Ht(a)?i=a(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(a,s){var i=a.data,o=a.width,l=a.x,d=a.travellerWidth,u=a.updateId,f=a.startIndex,p=a.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return GN({prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?o5e({data:i,width:o,x:l,travellerWidth:d,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([l,l+o-d]);var x=s.scale.domain().map(function(y){return s.scale(y)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(a.startIndex),endX:s.scale(a.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(a,s){for(var i=a.length,o=0,l=i-1;l-o>1;){var d=Math.floor((o+l)/2);a[d]>s?l=d:o=d}return s>=a[l]?l:o}}])}(E.PureComponent);Ys(km,"displayName","Brush");Ys(km,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var l5e=n_;function c5e(e,t){var r;return l5e(e,function(a,s,i){return r=t(a,s,i),!r}),!!r}var d5e=c5e,u5e=mH,h5e=El,f5e=d5e,m5e=Ws,p5e=xj;function x5e(e,t,r){var a=m5e(e)?u5e:f5e;return r&&p5e(e,t,r)&&(t=void 0),a(e,h5e(t))}var g5e=x5e;const v5e=br(g5e);var hl=function(t,r){var a=t.alwaysShow,s=t.ifOverflow;return a&&(s="extendDomain"),s===r},iD=DH;function y5e(e,t,r){t=="__proto__"&&iD?iD(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var b5e=y5e,w5e=b5e,j5e=MH,N5e=El;function C5e(e,t){var r={};return t=N5e(t),j5e(e,function(a,s,i){w5e(r,s,t(a,s,i))}),r}var S5e=C5e;const A5e=br(S5e);function E5e(e,t){for(var r=-1,a=e==null?0:e.length;++r<a;)if(!t(e[r],r,e))return!1;return!0}var T5e=E5e,_5e=n_;function P5e(e,t){var r=!0;return _5e(e,function(a,s,i){return r=!!t(a,s,i),r}),r}var O5e=P5e,k5e=T5e,I5e=O5e,M5e=El,R5e=Ws,D5e=xj;function L5e(e,t,r){var a=R5e(e)?k5e:I5e;return r&&D5e(e,t,r)&&(t=void 0),a(e,M5e(t))}var F5e=L5e;const CG=br(F5e);var B5e=["x","y"];function s0(e){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s0(e)}function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},vE.apply(this,arguments)}function oD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oD(Object(r),!0).forEach(function(a){$5e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function $5e(e,t,r){return t=V5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V5e(e){var t=z5e(e,"string");return s0(t)=="symbol"?t:t+""}function z5e(e,t){if(s0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(s0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U5e(e,t){if(e==null)return{};var r=W5e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function W5e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function H5e(e,t){var r=e.x,a=e.y,s=U5e(e,B5e),i="".concat(r),o=parseInt(i,10),l="".concat(a),d=parseInt(l,10),u="".concat(t.height||s.height),f=parseInt(u,10),p="".concat(t.width||s.width),x=parseInt(p,10);return Qp(Qp(Qp(Qp(Qp({},t),s),o?{x:o}:{}),d?{y:d}:{}),{},{height:f,width:x,name:t.name,radius:t.radius})}function lD(e){return Q.createElement(gG,vE({shapeType:"rectangle",propTransformer:H5e,activeClassName:"recharts-active-bar"},e))}var q5e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(a,s){if(typeof t=="number")return t;var i=typeof a=="number";return i?t(a,s):(i||ch(),r)}},G5e=["value","background"],SG;function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function K5e(e,t){if(e==null)return{};var r=Y5e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Y5e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ob.apply(this,arguments)}function cD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cD(Object(r),!0).forEach(function(a){sd(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function X5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dD(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,EG(a.key),a)}}function Q5e(e,t,r){return t&&dD(e.prototype,t),r&&dD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Z5e(e,t,r){return t=kb(t),J5e(e,AG()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function J5e(e,t){if(t&&(Im(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eRe(e)}function eRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kb(e)}function tRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yE(e,t)}function yE(e,t){return yE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},yE(e,t)}function sd(e,t,r){return t=EG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EG(e){var t=rRe(e,"string");return Im(t)=="symbol"?t:t+""}function rRe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Im(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hi=function(e){function t(){var r;X5e(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=Z5e(this,t,[].concat(s)),sd(r,"state",{isAnimationFinished:!1}),sd(r,"id",dp("recharts-bar-")),sd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),sd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return tRe(t,e),Q5e(t,[{key:"renderRectanglesStatically",value:function(a){var s=this,i=this.props,o=i.shape,l=i.dataKey,d=i.activeIndex,u=i.activeBar,f=kt(this.props,!1);return a&&a.map(function(p,x){var y=x===d,j=y?u:o,w=Qn(Qn(Qn({},f),p),{},{isActive:y,option:j,index:x,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return Q.createElement(Ar,Ob({className:"recharts-bar-rectangle"},ih(s.props,p,x),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(x)}),Q.createElement(lD,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var a=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,d=s.animationBegin,u=s.animationDuration,f=s.animationEasing,p=s.animationId,x=this.state.prevData;return Q.createElement(jl,{begin:d,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var j=y.t,w=i.map(function(C,N){var S=x&&x[N];if(S){var _=ti(S.x,C.x),I=ti(S.y,C.y),T=ti(S.width,C.width),M=ti(S.height,C.height);return Qn(Qn({},C),{},{x:_(j),y:I(j),width:T(j),height:M(j)})}if(o==="horizontal"){var O=ti(0,C.height),D=O(j);return Qn(Qn({},C),{},{y:C.y+C.height-D,height:D})}var R=ti(0,C.width),V=R(j);return Qn(Qn({},C),{},{width:V})});return Q.createElement(Ar,null,a.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var a=this.props,s=a.data,i=a.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!K0(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var a=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,d=kt(this.props.background,!1);return i.map(function(u,f){u.value;var p=u.background,x=K5e(u,G5e);if(!p)return null;var y=Qn(Qn(Qn(Qn(Qn({},x),{},{fill:"#eee"},p),d),ih(a.props,u,f)),{},{onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Q.createElement(lD,Ob({key:"background-bar-".concat(f),option:a.props.background,isActive:f===l},y))})}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,d=i.yAxis,u=i.layout,f=i.children,p=ui(f,Y0);if(!p)return null;var x=u==="vertical"?o[0].height/2:o[0].width/2,y=function(C,N){var S=Array.isArray(C.value)?C.value[1]:C.value;return{x:C.x,y:C.y,value:S,errorVal:ma(C,N)}},j={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Q.createElement(Ar,j,p.map(function(w){return Q.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,offset:x,dataPointFormatter:y})}))}},{key:"render",value:function(){var a=this.props,s=a.hide,i=a.data,o=a.className,l=a.xAxis,d=a.yAxis,u=a.left,f=a.top,p=a.width,x=a.height,y=a.isAnimationActive,j=a.background,w=a.id;if(s||!i||!i.length)return null;var C=this.state.isAnimationFinished,N=er("recharts-bar",o),S=l&&l.allowDataOverflow,_=d&&d.allowDataOverflow,I=S||_,T=Yt(w)?this.id:w;return Q.createElement(Ar,{className:N},S||_?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(T)},Q.createElement("rect",{x:S?u:u-p/2,y:_?f:f-x/2,width:S?p:p*2,height:_?x:x*2}))):null,Q.createElement(Ar,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(T,")"):null},j?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,T),(!y||C)&&tc.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curData:a.data,prevData:s.curData}:a.data!==s.curData?{curData:a.data}:null}}])}(E.PureComponent);SG=Hi;sd(Hi,"displayName","Bar");sd(Hi,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!dl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});sd(Hi,"getComposedData",function(e){var t=e.props,r=e.item,a=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,d=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,p=e.displayedData,x=e.offset,y=V_e(a,r);if(!y)return null;var j=t.layout,w=r.type.defaultProps,C=w!==void 0?Qn(Qn({},w),r.props):r.props,N=C.dataKey,S=C.children,_=C.minPointSize,I=j==="horizontal"?o:i,T=u?I.scale.domain():null,M=K_e({numericAxis:I}),O=ui(S,xd),D=p.map(function(R,V){var z,B,q,$,L,H;u?z=z_e(u[f+V],T):(z=ma(R,N),Array.isArray(z)||(z=[M,z]));var G=q5e(_,SG.defaultProps.minPointSize)(z[1],V);if(j==="horizontal"){var Y,te=[o.scale(z[0]),o.scale(z[1])],X=te[0],fe=te[1];B=JR({axis:i,ticks:l,bandSize:s,offset:y.offset,entry:R,index:V}),q=(Y=fe??X)!==null&&Y!==void 0?Y:void 0,$=y.size;var re=X-fe;if(L=Number.isNaN(re)?0:re,H={x:B,y:o.y,width:$,height:o.height},Math.abs(G)>0&&Math.abs(L)<Math.abs(G)){var se=hs(L||G)*(Math.abs(G)-Math.abs(L));q-=se,L+=se}}else{var Te=[i.scale(z[0]),i.scale(z[1])],vt=Te[0],Me=Te[1];if(B=vt,q=JR({axis:o,ticks:d,bandSize:s,offset:y.offset,entry:R,index:V}),$=Me-vt,L=y.size,H={x:i.x,y:q,width:i.width,height:L},Math.abs(G)>0&&Math.abs($)<Math.abs(G)){var he=hs($||G)*(Math.abs(G)-Math.abs($));$+=he}}return Qn(Qn(Qn({},R),{},{x:B,y:q,width:$,height:L,value:u?z:z[1],payload:R,background:H},O&&O[V]&&O[V].props),{},{tooltipPayload:[Zq(r,R)],tooltipPosition:{x:B+$/2,y:q+L/2}})});return Qn({data:D,layout:j},x)});function i0(e){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i0(e)}function nRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uD(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,TG(a.key),a)}}function aRe(e,t,r){return t&&uD(e.prototype,t),r&&uD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hD(Object(r),!0).forEach(function(a){Rj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Rj(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=sRe(e,"string");return i0(t)=="symbol"?t:t+""}function sRe(e,t){if(i0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(i0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _G=function(t,r,a,s,i){var o=t.width,l=t.height,d=t.layout,u=t.children,f=Object.keys(r),p={left:a.left,leftMirror:a.left,right:o-a.right,rightMirror:o-a.right,top:a.top,topMirror:a.top,bottom:l-a.bottom,bottomMirror:l-a.bottom},x=!!Zs(u,Hi);return f.reduce(function(y,j){var w=r[j],C=w.orientation,N=w.domain,S=w.padding,_=S===void 0?{}:S,I=w.mirror,T=w.reversed,M="".concat(C).concat(I?"Mirror":""),O,D,R,V,z;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var B=N[1]-N[0],q=1/0,$=w.categoricalDomain.sort();if($.forEach(function(Te,vt){vt>0&&(q=Math.min((Te||0)-($[vt-1]||0),q))}),Number.isFinite(q)){var L=q/B,H=w.layout==="vertical"?a.height:a.width;if(w.padding==="gap"&&(O=L*H/2),w.padding==="no-gap"){var G=fs(t.barCategoryGap,L*H),Y=L*H/2;O=Y-G-(Y-G)/H*G}}}s==="xAxis"?D=[a.left+(_.left||0)+(O||0),a.left+a.width-(_.right||0)-(O||0)]:s==="yAxis"?D=d==="horizontal"?[a.top+a.height-(_.bottom||0),a.top+(_.top||0)]:[a.top+(_.top||0)+(O||0),a.top+a.height-(_.bottom||0)-(O||0)]:D=w.range,T&&(D=[D[1],D[0]]);var te=Kq(w,i,x),X=te.scale,fe=te.realScaleType;X.domain(N).range(D),Yq(X);var re=Xq(X,co(co({},w),{},{realScaleType:fe}));s==="xAxis"?(z=C==="top"&&!I||C==="bottom"&&I,R=a.left,V=p[M]-z*w.height):s==="yAxis"&&(z=C==="left"&&!I||C==="right"&&I,R=p[M]-z*w.width,V=a.top);var se=co(co(co({},w),re),{},{realScaleType:fe,x:R,y:V,scale:X,width:s==="xAxis"?a.width:w.width,height:s==="yAxis"?a.height:w.height});return se.bandSize=pb(se,re),!w.hide&&s==="xAxis"?p[M]+=(z?-1:1)*se.height:w.hide||(p[M]+=(z?-1:1)*se.width),co(co({},y),{},Rj({},j,se))},{})},PG=function(t,r){var a=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(a,i),y:Math.min(s,o),width:Math.abs(i-a),height:Math.abs(o-s)}},iRe=function(t){var r=t.x1,a=t.y1,s=t.x2,i=t.y2;return PG({x:r,y:a},{x:s,y:i})},OG=function(){function e(t){nRe(this,e),this.scale=t}return aRe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=a.bandAware,i=a.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+d}return this.scale(r)}}},{key:"isInRange",value:function(r){var a=this.range(),s=a[0],i=a[a.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Rj(OG,"EPS",1e-4);var k_=function(t){var r=Object.keys(t).reduce(function(a,s){return co(co({},a),{},Rj({},s,OG.create(t[s])))},{});return co(co({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return A5e(s,function(d,u){return r[u].apply(d,{bandAware:o,position:l})})},isInRange:function(s){return CG(s,function(i,o){return r[o].isInRange(i)})}})};function oRe(e){return(e%180+180)%180}var lRe=function(t){var r=t.width,a=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=oRe(s),o=i*Math.PI/180,l=Math.atan(a/r),d=o>l&&o<Math.PI-l?a/Math.sin(o):r/Math.cos(o);return Math.abs(d)},cRe=El,dRe=U0,uRe=mj;function hRe(e){return function(t,r,a){var s=Object(t);if(!dRe(t)){var i=cRe(r);t=uRe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,a);return o>-1?s[i?t[o]:o]:void 0}}var fRe=hRe,mRe=bG;function pRe(e){var t=mRe(e),r=t%1;return t===t?r?t-r:t:0}var xRe=pRe,gRe=TH,vRe=El,yRe=xRe,bRe=Math.max;function wRe(e,t,r){var a=e==null?0:e.length;if(!a)return-1;var s=r==null?0:yRe(r);return s<0&&(s=bRe(a+s,0)),gRe(e,vRe(t),s)}var jRe=wRe,NRe=fRe,CRe=jRe,SRe=NRe(CRe),ARe=SRe;const ERe=br(ARe);var TRe=T0e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),I_=E.createContext(void 0),M_=E.createContext(void 0),kG=E.createContext(void 0),IG=E.createContext({}),MG=E.createContext(void 0),RG=E.createContext(0),DG=E.createContext(0),fD=function(t){var r=t.state,a=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,d=t.width,u=t.height,f=TRe(i);return Q.createElement(I_.Provider,{value:a},Q.createElement(M_.Provider,{value:s},Q.createElement(IG.Provider,{value:i},Q.createElement(kG.Provider,{value:f},Q.createElement(MG.Provider,{value:o},Q.createElement(RG.Provider,{value:u},Q.createElement(DG.Provider,{value:d},l)))))))},_Re=function(){return E.useContext(MG)},LG=function(t){var r=E.useContext(I_);r==null&&ch();var a=r[t];return a==null&&ch(),a},PRe=function(){var t=E.useContext(I_);return Hc(t)},ORe=function(){var t=E.useContext(M_),r=ERe(t,function(a){return CG(a.domain,Number.isFinite)});return r||Hc(t)},FG=function(t){var r=E.useContext(M_);r==null&&ch();var a=r[t];return a==null&&ch(),a},kRe=function(){var t=E.useContext(kG);return t},IRe=function(){return E.useContext(IG)},R_=function(){return E.useContext(DG)},D_=function(){return E.useContext(RG)};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function MRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RRe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,$G(a.key),a)}}function DRe(e,t,r){return t&&RRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LRe(e,t,r){return t=Ib(t),FRe(e,BG()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function FRe(e,t){if(t&&(Mm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BRe(e)}function BRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BG=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function $Re(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bE(e,t)}function bE(e,t){return bE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},bE(e,t)}function mD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function pD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(r),!0).forEach(function(a){L_(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function L_(e,t,r){return t=$G(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=VRe(e,"string");return Mm(t)=="symbol"?t:t+""}function VRe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Mm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zRe(e,t){return qRe(e)||HRe(e,t)||WRe(e,t)||URe()}function URe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WRe(e,t){if(e){if(typeof e=="string")return xD(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xD(e,t)}}function xD(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function HRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qRe(e){if(Array.isArray(e))return e}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},wE.apply(this,arguments)}var GRe=function(t,r){var a;return Q.isValidElement(t)?a=Q.cloneElement(t,r):Ht(t)?a=t(r):a=Q.createElement("line",wE({},r,{className:"recharts-reference-line-line"})),a},KRe=function(t,r,a,s,i,o,l,d,u){var f=i.x,p=i.y,x=i.width,y=i.height;if(a){var j=u.y,w=t.y.apply(j,{position:o});if(hl(u,"discard")&&!t.y.isInRange(w))return null;var C=[{x:f+x,y:w},{x:f,y:w}];return d==="left"?C.reverse():C}if(r){var N=u.x,S=t.x.apply(N,{position:o});if(hl(u,"discard")&&!t.x.isInRange(S))return null;var _=[{x:S,y:p+y},{x:S,y:p}];return l==="top"?_.reverse():_}if(s){var I=u.segment,T=I.map(function(M){return t.apply(M,{position:o})});return hl(u,"discard")&&v5e(T,function(M){return!t.isInRange(M)})?null:T}return null};function YRe(e){var t=e.x,r=e.y,a=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,d=e.alwaysShow,u=_Re(),f=LG(s),p=FG(i),x=kRe();if(!u||!x)return null;Eo(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=k_({x:f.scale,y:p.scale}),j=xa(t),w=xa(r),C=a&&a.length===2,N=KRe(y,j,w,C,x,e.position,f.orientation,p.orientation,e);if(!N)return null;var S=zRe(N,2),_=S[0],I=_.x,T=_.y,M=S[1],O=M.x,D=M.y,R=hl(e,"hidden")?"url(#".concat(u,")"):void 0,V=pD(pD({clipPath:R},kt(e,!0)),{},{x1:I,y1:T,x2:O,y2:D});return Q.createElement(Ar,{className:er("recharts-reference-line",l)},GRe(o,V),Ca.renderCallByParent(e,iRe({x1:I,y1:T,x2:O,y2:D})))}var F_=function(e){function t(){return MRe(this,t),LRe(this,t,arguments)}return $Re(t,e),DRe(t,[{key:"render",value:function(){return Q.createElement(YRe,this.props)}}])}(Q.Component);L_(F_,"displayName","ReferenceLine");L_(F_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},jE.apply(this,arguments)}function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function gD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function vD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(r),!0).forEach(function(a){Dj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function XRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QRe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,zG(a.key),a)}}function ZRe(e,t,r){return t&&QRe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JRe(e,t,r){return t=Mb(t),e8e(e,VG()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function e8e(e,t){if(t&&(Rm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t8e(e)}function t8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function r8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NE(e,t)}function NE(e,t){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},NE(e,t)}function Dj(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=n8e(e,"string");return Rm(t)=="symbol"?t:t+""}function n8e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Rm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a8e=function(t){var r=t.x,a=t.y,s=t.xAxis,i=t.yAxis,o=k_({x:s.scale,y:i.scale}),l=o.apply({x:r,y:a},{bandAware:!0});return hl(t,"discard")&&!o.isInRange(l)?null:l},Lj=function(e){function t(){return XRe(this,t),JRe(this,t,arguments)}return r8e(t,e),ZRe(t,[{key:"render",value:function(){var a=this.props,s=a.x,i=a.y,o=a.r,l=a.alwaysShow,d=a.clipPathId,u=xa(s),f=xa(i);if(Eo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=a8e(this.props);if(!p)return null;var x=p.x,y=p.y,j=this.props,w=j.shape,C=j.className,N=hl(this.props,"hidden")?"url(#".concat(d,")"):void 0,S=vD(vD({clipPath:N},kt(this.props,!0)),{},{cx:x,cy:y});return Q.createElement(Ar,{className:er("recharts-reference-dot",C)},t.renderDot(w,S),Ca.renderCallByParent(this.props,{x:x-o,y:y-o,width:2*o,height:2*o}))}}])}(Q.Component);Dj(Lj,"displayName","ReferenceDot");Dj(Lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dj(Lj,"renderDot",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):Ht(e)?r=e(t):r=Q.createElement(Tj,jE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},CE.apply(this,arguments)}function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function yD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function bD(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(r),!0).forEach(function(a){Fj(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function s8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i8e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,WG(a.key),a)}}function o8e(e,t,r){return t&&i8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l8e(e,t,r){return t=Rb(t),c8e(e,UG()?Reflect.construct(t,r||[],Rb(e).constructor):t.apply(e,r))}function c8e(e,t){if(t&&(Dm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d8e(e)}function d8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UG=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rb(e)}function u8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SE(e,t)}function SE(e,t){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},SE(e,t)}function Fj(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=h8e(e,"string");return Dm(t)=="symbol"?t:t+""}function h8e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Dm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f8e=function(t,r,a,s,i){var o=i.x1,l=i.x2,d=i.y1,u=i.y2,f=i.xAxis,p=i.yAxis;if(!f||!p)return null;var x=k_({x:f.scale,y:p.scale}),y={x:t?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:a?x.y.apply(d,{position:"start"}):x.y.rangeMin},j={x:r?x.x.apply(l,{position:"end"}):x.x.rangeMax,y:s?x.y.apply(u,{position:"end"}):x.y.rangeMax};return hl(i,"discard")&&(!x.isInRange(y)||!x.isInRange(j))?null:PG(y,j)},Bj=function(e){function t(){return s8e(this,t),l8e(this,t,arguments)}return u8e(t,e),o8e(t,[{key:"render",value:function(){var a=this.props,s=a.x1,i=a.x2,o=a.y1,l=a.y2,d=a.className,u=a.alwaysShow,f=a.clipPathId;Eo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=xa(s),x=xa(i),y=xa(o),j=xa(l),w=this.props.shape;if(!p&&!x&&!y&&!j&&!w)return null;var C=f8e(p,x,y,j,this.props);if(!C&&!w)return null;var N=hl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Q.createElement(Ar,{className:er("recharts-reference-area",d)},t.renderRect(w,bD(bD({clipPath:N},kt(this.props,!0)),C)),Ca.renderCallByParent(this.props,C))}}])}(Q.Component);Fj(Bj,"displayName","ReferenceArea");Fj(Bj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Fj(Bj,"renderRect",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):Ht(e)?r=e(t):r=Q.createElement(O_,CE({},t,{className:"recharts-reference-area-rect"})),r});function HG(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var a=[],s=0;s<e.length;s+=t)a.push(e[s]);return a}function m8e(e,t,r){var a={width:e.width+t.width,height:e.height+t.height};return lRe(a,r)}function p8e(e,t,r){var a=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:a?s:i,end:a?s+o:i+l}:{start:a?s+o:i+l,end:a?s:i}}function Db(e,t,r,a,s){if(e*t<e*a||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-a)>=0&&e*(t+e*i/2-s)<=0}function x8e(e,t){return HG(e,t+1)}function g8e(e,t,r,a,s){for(var i=(a||[]).slice(),o=t.start,l=t.end,d=0,u=1,f=o,p=function(){var j=a==null?void 0:a[d];if(j===void 0)return{v:HG(a,u)};var w=d,C,N=function(){return C===void 0&&(C=r(j,w)),C},S=j.coordinate,_=d===0||Db(e,S,N,f,l);_||(d=0,f=o,u+=1),_&&(f=S+e*(N()/2+s),d+=u)},x;u<=i.length;)if(x=p(),x)return x.v;return[]}function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(a){v8e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function v8e(e,t,r){return t=y8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y8e(e){var t=b8e(e,"string");return o0(t)=="symbol"?t:t+""}function b8e(e,t){if(o0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(o0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w8e(e,t,r,a,s){for(var i=(a||[]).slice(),o=i.length,l=t.start,d=t.end,u=function(x){var y=i[x],j,w=function(){return j===void 0&&(j=r(y,x)),j};if(x===o-1){var C=e*(y.coordinate+e*w()/2-d);i[x]=y=Xa(Xa({},y),{},{tickCoord:C>0?y.coordinate-C*e:y.coordinate})}else i[x]=y=Xa(Xa({},y),{},{tickCoord:y.coordinate});var N=Db(e,y.tickCoord,w,l,d);N&&(d=y.tickCoord-e*(w()/2+s),i[x]=Xa(Xa({},y),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function j8e(e,t,r,a,s,i){var o=(a||[]).slice(),l=o.length,d=t.start,u=t.end;if(i){var f=a[l-1],p=r(f,l-1),x=e*(f.coordinate+e*p/2-u);o[l-1]=f=Xa(Xa({},f),{},{tickCoord:x>0?f.coordinate-x*e:f.coordinate});var y=Db(e,f.tickCoord,function(){return p},d,u);y&&(u=f.tickCoord-e*(p/2+s),o[l-1]=Xa(Xa({},f),{},{isShow:!0}))}for(var j=i?l-1:l,w=function(S){var _=o[S],I,T=function(){return I===void 0&&(I=r(_,S)),I};if(S===0){var M=e*(_.coordinate-e*T()/2-d);o[S]=_=Xa(Xa({},_),{},{tickCoord:M<0?_.coordinate-M*e:_.coordinate})}else o[S]=_=Xa(Xa({},_),{},{tickCoord:_.coordinate});var O=Db(e,_.tickCoord,T,d,u);O&&(d=_.tickCoord+e*(T()/2+s),o[S]=Xa(Xa({},_),{},{isShow:!0}))},C=0;C<j;C++)w(C);return o}function B_(e,t,r){var a=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,d=e.interval,u=e.tickFormatter,f=e.unit,p=e.angle;if(!s||!s.length||!a)return[];if(Qe(d)||dl.isSsr)return x8e(s,typeof d=="number"&&Qe(d)?d:0);var x=[],y=l==="top"||l==="bottom"?"width":"height",j=f&&y==="width"?kx(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=function(_,I){var T=Ht(u)?u(_.value,I):_.value;return y==="width"?m8e(kx(T,{fontSize:t,letterSpacing:r}),j,p):kx(T,{fontSize:t,letterSpacing:r})[y]},C=s.length>=2?hs(s[1].coordinate-s[0].coordinate):1,N=p8e(i,C,y);return d==="equidistantPreserveStart"?g8e(C,N,w,s,o):(d==="preserveStart"||d==="preserveStartEnd"?x=j8e(C,N,w,s,o,d==="preserveStartEnd"):x=w8e(C,N,w,s,o),x.filter(function(S){return S.isShow}))}var N8e=["viewBox"],C8e=["viewBox"],S8e=["ticks"];function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},xf.apply(this,arguments)}function jD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function as(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jD(Object(r),!0).forEach(function(a){$_(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function KN(e,t){if(e==null)return{};var r=A8e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function A8e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function E8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ND(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,GG(a.key),a)}}function T8e(e,t,r){return t&&ND(e.prototype,t),r&&ND(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _8e(e,t,r){return t=Lb(t),P8e(e,qG()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function P8e(e,t){if(t&&(Lm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O8e(e)}function O8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function k8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AE(e,t)}function AE(e,t){return AE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},AE(e,t)}function $_(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=I8e(e,"string");return Lm(t)=="symbol"?t:t+""}function I8e(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Lm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gp=function(e){function t(r){var a;return E8e(this,t),a=_8e(this,t,[r]),a.state={fontSize:"",letterSpacing:""},a}return k8e(t,e),T8e(t,[{key:"shouldComponentUpdate",value:function(a,s){var i=a.viewBox,o=KN(a,N8e),l=this.props,d=l.viewBox,u=KN(l,C8e);return!kf(i,d)||!kf(o,u)||!kf(s,this.state)}},{key:"componentDidMount",value:function(){var a=this.layerReference;if(a){var s=a.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(a){var s=this.props,i=s.x,o=s.y,l=s.width,d=s.height,u=s.orientation,f=s.tickSize,p=s.mirror,x=s.tickMargin,y,j,w,C,N,S,_=p?-1:1,I=a.tickSize||f,T=Qe(a.tickCoord)?a.tickCoord:a.coordinate;switch(u){case"top":y=j=a.coordinate,C=o+ +!p*d,w=C-_*I,S=w-_*x,N=T;break;case"left":w=C=a.coordinate,j=i+ +!p*l,y=j-_*I,N=y-_*x,S=T;break;case"right":w=C=a.coordinate,j=i+ +p*l,y=j+_*I,N=y+_*x,S=T;break;default:y=j=a.coordinate,C=o+ +p*d,w=C+_*I,S=w+_*x,N=T;break}return{line:{x1:y,y1:w,x2:j,y2:C},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var a=this.props,s=a.orientation,i=a.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var a=this.props,s=a.x,i=a.y,o=a.width,l=a.height,d=a.orientation,u=a.mirror,f=a.axisLine,p=as(as(as({},kt(this.props,!1)),kt(f,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var x=+(d==="top"&&!u||d==="bottom"&&u);p=as(as({},p),{},{x1:s,y1:i+x*l,x2:s+o,y2:i+x*l})}else{var y=+(d==="left"&&!u||d==="right"&&u);p=as(as({},p),{},{x1:s+y*o,y1:i,x2:s+y*o,y2:i+l})}return Q.createElement("line",xf({},p,{className:er("recharts-cartesian-axis-line",di(f,"className"))}))}},{key:"renderTicks",value:function(a,s,i){var o=this,l=this.props,d=l.tickLine,u=l.stroke,f=l.tick,p=l.tickFormatter,x=l.unit,y=B_(as(as({},this.props),{},{ticks:a}),s,i),j=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),C=kt(this.props,!1),N=kt(f,!1),S=as(as({},C),{},{fill:"none"},kt(d,!1)),_=y.map(function(I,T){var M=o.getTickLineCoord(I),O=M.line,D=M.tick,R=as(as(as(as({textAnchor:j,verticalAnchor:w},C),{},{stroke:"none",fill:u},N),D),{},{index:T,payload:I,visibleTicksCount:y.length,tickFormatter:p});return Q.createElement(Ar,xf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},ih(o.props,I,T)),d&&Q.createElement("line",xf({},S,O,{className:er("recharts-cartesian-axis-tick-line",di(d,"className"))})),f&&t.renderTickItem(f,R,"".concat(Ht(p)?p(I.value,T):I.value).concat(x||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var a=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,d=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var p=this.props,x=p.ticks,y=KN(p,S8e),j=x;return Ht(d)&&(j=x&&x.length>0?d(this.props):d(y)),o<=0||l<=0||!j||!j.length?null:Q.createElement(Ar,{className:er("recharts-cartesian-axis",u),ref:function(C){a.layerReference=C}},i&&this.renderAxisLine(),this.renderTicks(j,this.state.fontSize,this.state.letterSpacing),Ca.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(a,s,i){var o;return Q.isValidElement(a)?o=Q.cloneElement(a,s):Ht(a)?o=a(s):o=Q.createElement(oh,xf({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(E.Component);$_(gp,"displayName","CartesianAxis");$_(gp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var M8e=["x1","y1","x2","y2","key"],R8e=["offset"];function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function CD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CD(Object(r),!0).forEach(function(a){D8e(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function D8e(e,t,r){return t=L8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8e(e){var t=F8e(e,"string");return dh(t)=="symbol"?t:t+""}function F8e(e,t){if(dh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(dh(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Cu.apply(this,arguments)}function SD(e,t){if(e==null)return{};var r=B8e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function B8e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}var $8e=function(t){var r=t.fill;if(!r||r==="none")return null;var a=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,d=t.ry;return Q.createElement("rect",{x:s,y:i,ry:d,width:o,height:l,stroke:"none",fill:r,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function KG(e,t){var r;if(Q.isValidElement(e))r=Q.cloneElement(e,t);else if(Ht(e))r=e(t);else{var a=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,d=SD(t,M8e),u=kt(d,!1);u.offset;var f=SD(u,R8e);r=Q.createElement("line",Cu({},f,{x1:a,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function V8e(e){var t=e.x,r=e.width,a=e.horizontal,s=a===void 0?!0:a,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,d){var u=Za(Za({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(d),index:d});return KG(s,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function z8e(e){var t=e.y,r=e.height,a=e.vertical,s=a===void 0?!0:a,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,d){var u=Za(Za({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(d),index:d});return KG(s,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function U8e(e){var t=e.horizontalFill,r=e.fillOpacity,a=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,d=e.horizontal,u=d===void 0?!0:d;if(!u||!t||!t.length)return null;var f=l.map(function(x){return Math.round(x+s-s)}).sort(function(x,y){return x-y});s!==f[0]&&f.unshift(0);var p=f.map(function(x,y){var j=!f[y+1],w=j?s+o-x:f[y+1]-x;if(w<=0)return null;var C=y%t.length;return Q.createElement("rect",{key:"react-".concat(y),y:x,x:a,height:w,width:i,stroke:"none",fill:t[C],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function W8e(e){var t=e.vertical,r=t===void 0?!0:t,a=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,d=e.height,u=e.verticalPoints;if(!r||!a||!a.length)return null;var f=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,y){return x-y});i!==f[0]&&f.unshift(0);var p=f.map(function(x,y){var j=!f[y+1],w=j?i+l-x:f[y+1]-x;if(w<=0)return null;var C=y%a.length;return Q.createElement("rect",{key:"react-".concat(y),x,y:o,width:w,height:d,stroke:"none",fill:a[C],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var H8e=function(t,r){var a=t.xAxis,s=t.width,i=t.height,o=t.offset;return Gq(B_(Za(Za(Za({},gp.defaultProps),a),{},{ticks:ql(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},q8e=function(t,r){var a=t.yAxis,s=t.width,i=t.height,o=t.offset;return Gq(B_(Za(Za(Za({},gp.defaultProps),a),{},{ticks:ql(a,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Wh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function id(e){var t,r,a,s,i,o,l=R_(),d=D_(),u=IRe(),f=Za(Za({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Wh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Wh.fill,horizontal:(a=e.horizontal)!==null&&a!==void 0?a:Wh.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Wh.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Wh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Wh.verticalFill,x:Qe(e.x)?e.x:u.left,y:Qe(e.y)?e.y:u.top,width:Qe(e.width)?e.width:u.width,height:Qe(e.height)?e.height:u.height}),p=f.x,x=f.y,y=f.width,j=f.height,w=f.syncWithTicks,C=f.horizontalValues,N=f.verticalValues,S=PRe(),_=ORe();if(!Qe(y)||y<=0||!Qe(j)||j<=0||!Qe(p)||p!==+p||!Qe(x)||x!==+x)return null;var I=f.verticalCoordinatesGenerator||H8e,T=f.horizontalCoordinatesGenerator||q8e,M=f.horizontalPoints,O=f.verticalPoints;if((!M||!M.length)&&Ht(T)){var D=C&&C.length,R=T({yAxis:_?Za(Za({},_),{},{ticks:D?C:_.ticks}):void 0,width:l,height:d,offset:u},D?!0:w);Eo(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dh(R),"]")),Array.isArray(R)&&(M=R)}if((!O||!O.length)&&Ht(I)){var V=N&&N.length,z=I({xAxis:S?Za(Za({},S),{},{ticks:V?N:S.ticks}):void 0,width:l,height:d,offset:u},V?!0:w);Eo(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dh(z),"]")),Array.isArray(z)&&(O=z)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement($8e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Q.createElement(V8e,Cu({},f,{offset:u,horizontalPoints:M,xAxis:S,yAxis:_})),Q.createElement(z8e,Cu({},f,{offset:u,verticalPoints:O,xAxis:S,yAxis:_})),Q.createElement(U8e,Cu({},f,{horizontalPoints:M})),Q.createElement(W8e,Cu({},f,{verticalPoints:O})))}id.displayName="CartesianGrid";var G8e=["type","layout","connectNulls","ref"],K8e=["key"];function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function AD(e,t){if(e==null)return{};var r=Y8e(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Y8e(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function Fx(){return Fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Fx.apply(this,arguments)}function ED(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function qs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(r),!0).forEach(function(a){uo(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ED(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Hh(e){return J8e(e)||Z8e(e)||Q8e(e)||X8e()}function X8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8e(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function Z8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J8e(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function eDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TD(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,XG(a.key),a)}}function tDe(e,t,r){return t&&TD(e.prototype,t),r&&TD(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rDe(e,t,r){return t=Fb(t),nDe(e,YG()?Reflect.construct(t,r||[],Fb(e).constructor):t.apply(e,r))}function nDe(e,t){if(t&&(Fm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aDe(e)}function aDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!e})()}function Fb(e){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fb(e)}function sDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TE(e,t)}function TE(e,t){return TE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},TE(e,t)}function uo(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=iDe(e,"string");return Fm(t)=="symbol"?t:t+""}function iDe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Fm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vd=function(e){function t(){var r;eDe(this,t);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return r=rDe(this,t,[].concat(s)),uo(r,"state",{isAnimationFinished:!0,totalLength:0}),uo(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),uo(r,"getStrokeDasharray",function(o,l,d){var u=d.reduce(function(N,S){return N+S});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),p=o%u,x=l-o,y=[],j=0,w=0;j<d.length;w+=d[j],++j)if(w+d[j]>p){y=[].concat(Hh(d.slice(0,j)),[p-w]);break}var C=y.length%2===0?[0,x]:[x];return[].concat(Hh(t.repeat(d,f)),Hh(y),C).map(function(N){return"".concat(N,"px")}).join(", ")}),uo(r,"id",dp("recharts-line-")),uo(r,"pathRef",function(o){r.mainCurve=o}),uo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),uo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return sDe(t,e),tDe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();this.setState({totalLength:a})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var a=this.getTotalLength();a!==this.state.totalLength&&this.setState({totalLength:a})}}},{key:"getTotalLength",value:function(){var a=this.mainCurve;try{return a&&a.getTotalLength&&a.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(a,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,d=i.yAxis,u=i.layout,f=i.children,p=ui(f,Y0);if(!p)return null;var x=function(w,C){return{x:w.x,y:w.y,value:w.value,errorVal:ma(w.payload,C)}},y={clipPath:a?"url(#clipPath-".concat(s,")"):null};return Q.createElement(Ar,y,p.map(function(j){return Q.cloneElement(j,{key:"bar-".concat(j.props.dataKey),data:o,xAxis:l,yAxis:d,layout:u,dataPointFormatter:x})}))}},{key:"renderDots",value:function(a,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,d=l.dot,u=l.points,f=l.dataKey,p=kt(this.props,!1),x=kt(d,!0),y=u.map(function(w,C){var N=qs(qs(qs({key:"dot-".concat(C),r:3},p),x),{},{index:C,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:u});return t.renderDotItem(d,N)}),j={clipPath:a?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return Q.createElement(Ar,Fx({className:"recharts-line-dots",key:"dots"},j),y)}},{key:"renderCurveStatically",value:function(a,s,i,o){var l=this.props,d=l.type,u=l.layout,f=l.connectNulls;l.ref;var p=AD(l,G8e),x=qs(qs(qs({},kt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:a},o),{},{type:d,layout:u,connectNulls:f});return Q.createElement(vb,Fx({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(a,s){var i=this,o=this.props,l=o.points,d=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,x=o.animationEasing,y=o.animationId,j=o.animateNewValues,w=o.width,C=o.height,N=this.state,S=N.prevPoints,_=N.totalLength;return Q.createElement(jl,{begin:f,duration:p,isActive:u,easing:x,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var T=I.t;if(S){var M=S.length/l.length,O=l.map(function(B,q){var $=Math.floor(q*M);if(S[$]){var L=S[$],H=ti(L.x,B.x),G=ti(L.y,B.y);return qs(qs({},B),{},{x:H(T),y:G(T)})}if(j){var Y=ti(w*2,B.x),te=ti(C/2,B.y);return qs(qs({},B),{},{x:Y(T),y:te(T)})}return qs(qs({},B),{},{x:B.x,y:B.y})});return i.renderCurveStatically(O,a,s)}var D=ti(0,_),R=D(T),V;if(d){var z="".concat(d).split(/[,\s]+/gim).map(function(B){return parseFloat(B)});V=i.getStrokeDasharray(R,_,z)}else V=i.generateSimpleStrokeDasharray(_,R);return i.renderCurveStatically(l,a,s,{strokeDasharray:V})})}},{key:"renderCurve",value:function(a,s){var i=this.props,o=i.points,l=i.isAnimationActive,d=this.state,u=d.prevPoints,f=d.totalLength;return l&&o&&o.length&&(!u&&f>0||!K0(u,o))?this.renderCurveWithAnimation(a,s):this.renderCurveStatically(o,a,s)}},{key:"render",value:function(){var a,s=this.props,i=s.hide,o=s.dot,l=s.points,d=s.className,u=s.xAxis,f=s.yAxis,p=s.top,x=s.left,y=s.width,j=s.height,w=s.isAnimationActive,C=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,S=l.length===1,_=er("recharts-line",d),I=u&&u.allowDataOverflow,T=f&&f.allowDataOverflow,M=I||T,O=Yt(C)?this.id:C,D=(a=kt(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},R=D.r,V=R===void 0?3:R,z=D.strokeWidth,B=z===void 0?2:z,q=Mve(o)?o:{},$=q.clipDot,L=$===void 0?!0:$,H=V*2+B;return Q.createElement(Ar,{className:_},I||T?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(O)},Q.createElement("rect",{x:I?x:x-y/2,y:T?p:p-j/2,width:I?y:y*2,height:T?j:j*2})),!L&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Q.createElement("rect",{x:x-H/2,y:p-H/2,width:y+H,height:j+H}))):null,!S&&this.renderCurve(M,O),this.renderErrorBar(M,O),(S||o)&&this.renderDots(M,L,O),(!w||N)&&tc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(a,s){return a.animationId!==s.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,prevPoints:s.curPoints}:a.points!==s.curPoints?{curPoints:a.points}:null}},{key:"repeat",value:function(a,s){for(var i=a.length%2!==0?[].concat(Hh(a),[0]):a,o=[],l=0;l<s;++l)o=[].concat(Hh(o),Hh(i));return o}},{key:"renderDotItem",value:function(a,s){var i;if(Q.isValidElement(a))i=Q.cloneElement(a,s);else if(Ht(a))i=a(s);else{var o=s.key,l=AD(s,K8e),d=er("recharts-line-dot",typeof a!="boolean"?a.className:"");i=Q.createElement(Tj,Fx({key:o},l,{className:d}))}return i}}])}(E.PureComponent);uo(vd,"displayName","Line");uo(vd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!dl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});uo(vd,"getComposedData",function(e){var t=e.props,r=e.xAxis,a=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,d=e.displayedData,u=e.offset,f=t.layout,p=d.map(function(x,y){var j=ma(x,o);return f==="horizontal"?{x:ZR({axis:r,ticks:s,bandSize:l,entry:x,index:y}),y:Yt(j)?null:a.scale(j),value:j,payload:x}:{x:Yt(j)?null:r.scale(j),y:ZR({axis:a,ticks:i,bandSize:l,entry:x,index:y}),value:j,payload:x}});return qs({points:p,layout:f},u)});function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function oDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lDe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,JG(a.key),a)}}function cDe(e,t,r){return t&&lDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dDe(e,t,r){return t=Bb(t),uDe(e,QG()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function uDe(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hDe(e)}function hDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function fDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_E(e,t)}function _E(e,t){return _E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},_E(e,t)}function ZG(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=mDe(e,"string");return Bm(t)=="symbol"?t:t+""}function mDe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Bm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},PE.apply(this,arguments)}function pDe(e){var t=e.xAxisId,r=R_(),a=D_(),s=LG(t);return s==null?null:Q.createElement(gp,PE({},s,{className:er("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:a},ticksGenerator:function(o){return ql(o,!0)}}))}var jo=function(e){function t(){return oDe(this,t),dDe(this,t,arguments)}return fDe(t,e),cDe(t,[{key:"render",value:function(){return Q.createElement(pDe,this.props)}}])}(Q.Component);ZG(jo,"displayName","XAxis");ZG(jo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function xDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gDe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,rK(a.key),a)}}function vDe(e,t,r){return t&&gDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yDe(e,t,r){return t=$b(t),bDe(e,eK()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function bDe(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wDe(e)}function wDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eK=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function jDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OE(e,t)}function OE(e,t){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},OE(e,t)}function tK(e,t,r){return t=rK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=NDe(e,"string");return $m(t)=="symbol"?t:t+""}function NDe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if($m(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},kE.apply(this,arguments)}var CDe=function(t){var r=t.yAxisId,a=R_(),s=D_(),i=FG(r);return i==null?null:Q.createElement(gp,kE({},i,{className:er("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:a,height:s},ticksGenerator:function(l){return ql(l,!0)}}))},Li=function(e){function t(){return xDe(this,t),yDe(this,t,arguments)}return jDe(t,e),vDe(t,[{key:"render",value:function(){return Q.createElement(CDe,this.props)}}])}(Q.Component);tK(Li,"displayName","YAxis");tK(Li,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function _D(e){return TDe(e)||EDe(e)||ADe(e)||SDe()}function SDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ADe(e,t){if(e){if(typeof e=="string")return IE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(e,t)}}function EDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TDe(e){if(Array.isArray(e))return IE(e)}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ME=function(t,r,a,s,i){var o=ui(t,F_),l=ui(t,Lj),d=[].concat(_D(o),_D(l)),u=ui(t,Bj),f="".concat(s,"Id"),p=s[0],x=r;if(d.length&&(x=d.reduce(function(w,C){if(C.props[f]===a&&hl(C.props,"extendDomain")&&Qe(C.props[p])){var N=C.props[p];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},x)),u.length){var y="".concat(p,"1"),j="".concat(p,"2");x=u.reduce(function(w,C){if(C.props[f]===a&&hl(C.props,"extendDomain")&&Qe(C.props[y])&&Qe(C.props[j])){var N=C.props[y],S=C.props[j];return[Math.min(w[0],N,S),Math.max(w[1],N,S)]}return w},x)}return i&&i.length&&(x=i.reduce(function(w,C){return Qe(C)?[Math.min(w[0],C),Math.max(w[1],C)]:w},x)),x},nK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(r=!1));function s(d,u,f){this.fn=d,this.context=u,this.once=f||!1}function i(d,u,f,p,x){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new s(f,p||d,x),j=r?r+u:u;return d._events[j]?d._events[j].fn?d._events[j]=[d._events[j],y]:d._events[j].push(y):(d._events[j]=y,d._eventsCount++),d}function o(d,u){--d._eventsCount===0?d._events=new a:delete d._events[u]}function l(){this._events=new a,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)t.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,y=p.length,j=new Array(y);x<y;x++)j[x]=p[x].fn;return j},l.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,f,p,x,y,j){var w=r?r+u:u;if(!this._events[w])return!1;var C=this._events[w],N=arguments.length,S,_;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),N){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,f),!0;case 3:return C.fn.call(C.context,f,p),!0;case 4:return C.fn.call(C.context,f,p,x),!0;case 5:return C.fn.call(C.context,f,p,x,y),!0;case 6:return C.fn.call(C.context,f,p,x,y,j),!0}for(_=1,S=new Array(N-1);_<N;_++)S[_-1]=arguments[_];C.fn.apply(C.context,S)}else{var I=C.length,T;for(_=0;_<I;_++)switch(C[_].once&&this.removeListener(u,C[_].fn,void 0,!0),N){case 1:C[_].fn.call(C[_].context);break;case 2:C[_].fn.call(C[_].context,f);break;case 3:C[_].fn.call(C[_].context,f,p);break;case 4:C[_].fn.call(C[_].context,f,p,x);break;default:if(!S)for(T=1,S=new Array(N-1);T<N;T++)S[T-1]=arguments[T];C[_].fn.apply(C[_].context,S)}}return!0},l.prototype.on=function(u,f,p){return i(this,u,f,p,!1)},l.prototype.once=function(u,f,p){return i(this,u,f,p,!0)},l.prototype.removeListener=function(u,f,p,x){var y=r?r+u:u;if(!this._events[y])return this;if(!f)return o(this,y),this;var j=this._events[y];if(j.fn)j.fn===f&&(!x||j.once)&&(!p||j.context===p)&&o(this,y);else{for(var w=0,C=[],N=j.length;w<N;w++)(j[w].fn!==f||x&&!j[w].once||p&&j[w].context!==p)&&C.push(j[w]);C.length?this._events[y]=C.length===1?C[0]:C:o(this,y)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(nK);var _De=nK.exports;const PDe=br(_De);var YN=new PDe,XN="recharts.syncMouseEvents";function l0(e){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l0(e)}function ODe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kDe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,aK(a.key),a)}}function IDe(e,t,r){return t&&kDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QN(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=MDe(e,"string");return l0(t)=="symbol"?t:t+""}function MDe(e,t){if(l0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t);if(l0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var RDe=function(){function e(){ODe(this,e),QN(this,"activeIndex",0),QN(this,"coordinateList",[]),QN(this,"layout","horizontal")}return IDe(e,[{key:"setDetails",value:function(r){var a,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,d=r.layout,u=d===void 0?null:d,f=r.offset,p=f===void 0?null:f,x=r.mouseHandlerCallback,y=x===void 0?null:x;this.coordinateList=(a=i??this.coordinateList)!==null&&a!==void 0?a:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,a;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,d=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((a=window)===null||a===void 0?void 0:a.scrollY)||0,p=i+d+u,x=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:x})}}}])}();function DDe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var a=e==null?void 0:e[0],s=e==null?void 0:e[1];if(a&&s&&Qe(a)&&Qe(s))return!0}return!1}function LDe(e,t,r,a){var s=a/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?a:r.width-1,height:e==="horizontal"?r.height-1:a}}function sK(e){var t=e.cx,r=e.cy,a=e.radius,s=e.startAngle,i=e.endAngle,o=tn(t,r,a,s),l=tn(t,r,a,i);return{points:[o,l],cx:t,cy:r,radius:a,startAngle:s,endAngle:i}}function FDe(e,t,r){var a,s,i,o;if(e==="horizontal")a=t.x,i=a,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,a=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,d=t.cy,u=t.innerRadius,f=t.outerRadius,p=t.angle,x=tn(l,d,u,p),y=tn(l,d,f,p);a=x.x,s=x.y,i=y.x,o=y.y}else return sK(t);return[{x:a,y:s},{x:i,y:o}]}function c0(e){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c0(e)}function PD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function ty(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PD(Object(r),!0).forEach(function(a){BDe(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PD(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function BDe(e,t,r){return t=$De(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $De(e){var t=VDe(e,"string");return c0(t)=="symbol"?t:t+""}function VDe(e,t){if(c0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(c0(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zDe(e){var t,r,a=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,d=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,x=e.chartName,y=(t=a.props.cursor)!==null&&t!==void 0?t:(r=a.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!a||!y||!i||!o||x!=="ScatterChart"&&s!=="axis")return null;var j,w=vb;if(x==="ScatterChart")j=o,w=iIe;else if(x==="BarChart")j=LDe(p,o,d,f),w=O_;else if(p==="radial"){var C=sK(o),N=C.cx,S=C.cy,_=C.radius,I=C.startAngle,T=C.endAngle;j={cx:N,cy:S,startAngle:I,endAngle:T,innerRadius:_,outerRadius:_},w=aG}else j={points:FDe(p,o,d)},w=vb;var M=ty(ty(ty(ty({stroke:"#ccc",pointerEvents:"none"},d),j),kt(y,!1)),{},{payload:l,payloadIndex:u,className:er("recharts-tooltip-cursor",y.className)});return E.isValidElement(y)?E.cloneElement(y,M):E.createElement(w,M)}var UDe=["item"],WDe=["children","className","width","height","style","compact","title","desc"];function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},gf.apply(this,arguments)}function OD(e,t){return GDe(e)||qDe(e,t)||oK(e,t)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,s,i,o,l=[],d=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(a=i.call(r)).done)&&(l.push(a.value),l.length!==t);d=!0);}catch(f){u=!0,s=f}finally{try{if(!d&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function GDe(e){if(Array.isArray(e))return e}function kD(e,t){if(e==null)return{};var r=KDe(e,t),a,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)a=i[s],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function KDe(e,t){if(e==null)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}function YDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XDe(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,lK(a.key),a)}}function QDe(e,t,r){return t&&XDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZDe(e,t,r){return t=Vb(t),JDe(e,iK()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function JDe(e,t){if(t&&(Vm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e6e(e)}function e6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function t6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,s){return a.__proto__=s,a},RE(e,t)}function zm(e){return a6e(e)||n6e(e)||oK(e)||r6e()}function r6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oK(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function n6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a6e(e){if(Array.isArray(e))return DE(e)}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ID(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,a)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(r),!0).forEach(function(a){Dt(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ID(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Dt(e,t,r){return t=lK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=s6e(e,"string");return Vm(t)=="symbol"?t:t+""}function s6e(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,t||"default");if(Vm(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i6e={xAxis:["bottom","top"],yAxis:["left","right"]},o6e={width:"100%",height:"100%"},cK={x:0,y:0};function ry(e){return e}var l6e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},c6e=function(t,r,a,s){var i=r.find(function(f){return f&&f.index===a});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return Ce(Ce(Ce({},s),tn(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var d=i.coordinate,u=s.angle;return Ce(Ce(Ce({},s),tn(s.cx,s.cy,d,u)),{},{angle:u,radius:d})}return cK},$j=function(t,r){var a=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(a??[]).reduce(function(l,d){var u=d.props.data;return u&&u.length?[].concat(zm(l),zm(u)):l},[]);return o.length>0?o:t&&t.length&&Qe(s)&&Qe(i)?t.slice(s,i+1):[]};function dK(e){return e==="number"?[0,"auto"]:void 0}var LE=function(t,r,a,s){var i=t.graphicalItems,o=t.tooltipAxis,l=$j(r,t);return a<0||!i||!i.length||a>=l.length?null:i.reduce(function(d,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=a&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var x;if(o.dataKey&&!o.allowDuplicatedCategory){var y=p===void 0?l:p;x=V1(y,o.dataKey,s)}else x=p&&p[a]||l[a];return x?[].concat(zm(d),[Zq(u,x)]):d},[])},MD=function(t,r,a,s){var i=s||{x:t.chartX,y:t.chartY},o=l6e(i,a),l=t.orderedTooltipTicks,d=t.tooltipAxis,u=t.tooltipTicks,f=R_e(o,l,u,d);if(f>=0&&u){var p=u[f]&&u[f].value,x=LE(t,r,f,p),y=c6e(a,l,f,i);return{activeTooltipIndex:f,activeLabel:p,activePayload:x,activeCoordinate:y}}return null},d6e=function(t,r){var a=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,x=t.stackOffset,y=qq(f,i);return a.reduce(function(j,w){var C,N=w.type.defaultProps!==void 0?Ce(Ce({},w.type.defaultProps),w.props):w.props,S=N.type,_=N.dataKey,I=N.allowDataOverflow,T=N.allowDuplicatedCategory,M=N.scale,O=N.ticks,D=N.includeHidden,R=N[o];if(j[R])return j;var V=$j(t.data,{graphicalItems:s.filter(function(re){var se,Te=o in re.props?re.props[o]:(se=re.type.defaultProps)===null||se===void 0?void 0:se[o];return Te===R}),dataStartIndex:d,dataEndIndex:u}),z=V.length,B,q,$;DDe(N.domain,I,S)&&(B=QA(N.domain,null,I),y&&(S==="number"||M!=="auto")&&($=Mx(V,_,"category")));var L=dK(S);if(!B||B.length===0){var H,G=(H=N.domain)!==null&&H!==void 0?H:L;if(_){if(B=Mx(V,_,S),S==="category"&&y){var Y=Sve(B);T&&Y?(q=B,B=Tb(0,z)):T||(B=r8(G,B,w).reduce(function(re,se){return re.indexOf(se)>=0?re:[].concat(zm(re),[se])},[]))}else if(S==="category")T?B=B.filter(function(re){return re!==""&&!Yt(re)}):B=r8(G,B,w).reduce(function(re,se){return re.indexOf(se)>=0||se===""||Yt(se)?re:[].concat(zm(re),[se])},[]);else if(S==="number"){var te=$_e(V,s.filter(function(re){var se,Te,vt=o in re.props?re.props[o]:(se=re.type.defaultProps)===null||se===void 0?void 0:se[o],Me="hide"in re.props?re.props.hide:(Te=re.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return vt===R&&(D||!Me)}),_,i,f);te&&(B=te)}y&&(S==="number"||M!=="auto")&&($=Mx(V,_,"category"))}else y?B=Tb(0,z):l&&l[R]&&l[R].hasStack&&S==="number"?B=x==="expand"?[0,1]:Qq(l[R].stackGroups,d,u):B=Hq(V,s.filter(function(re){var se=o in re.props?re.props[o]:re.type.defaultProps[o],Te="hide"in re.props?re.props.hide:re.type.defaultProps.hide;return se===R&&(D||!Te)}),S,f,!0);if(S==="number")B=ME(p,B,R,i,O),G&&(B=QA(G,B,I));else if(S==="category"&&G){var X=G,fe=B.every(function(re){return X.indexOf(re)>=0});fe&&(B=X)}}return Ce(Ce({},j),{},Dt({},R,Ce(Ce({},N),{},{axisType:i,domain:B,categoricalDomain:$,duplicateDomain:q,originalDomain:(C=N.domain)!==null&&C!==void 0?C:L,isCategorical:y,layout:f})))},{})},u6e=function(t,r){var a=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,x=$j(t.data,{graphicalItems:a,dataStartIndex:d,dataEndIndex:u}),y=x.length,j=qq(f,i),w=-1;return a.reduce(function(C,N){var S=N.type.defaultProps!==void 0?Ce(Ce({},N.type.defaultProps),N.props):N.props,_=S[o],I=dK("number");if(!C[_]){w++;var T;return j?T=Tb(0,y):l&&l[_]&&l[_].hasStack?(T=Qq(l[_].stackGroups,d,u),T=ME(p,T,_,i)):(T=QA(I,Hq(x,a.filter(function(M){var O,D,R=o in M.props?M.props[o]:(O=M.type.defaultProps)===null||O===void 0?void 0:O[o],V="hide"in M.props?M.props.hide:(D=M.type.defaultProps)===null||D===void 0?void 0:D.hide;return R===_&&!V}),"number",f),s.defaultProps.allowDataOverflow),T=ME(p,T,_,i)),Ce(Ce({},C),{},Dt({},_,Ce(Ce({axisType:i},s.defaultProps),{},{hide:!0,orientation:di(i6e,"".concat(i,".").concat(w%2),null),domain:T,originalDomain:I,isCategorical:j,layout:f})))}return C},{})},h6e=function(t,r){var a=r.axisType,s=a===void 0?"xAxis":a,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,d=r.dataStartIndex,u=r.dataEndIndex,f=t.children,p="".concat(s,"Id"),x=ui(f,i),y={};return x&&x.length?y=d6e(t,{axes:x,graphicalItems:o,axisType:s,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:u}):o&&o.length&&(y=u6e(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:p,stackGroups:l,dataStartIndex:d,dataEndIndex:u})),y},f6e=function(t){var r=Hc(t),a=ql(r,!1,!0);return{tooltipTicks:a,orderedTooltipTicks:a_(a,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:pb(r,a)}},RD=function(t){var r=t.children,a=t.defaultShowTooltip,s=Zs(r,km),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!a}},m6e=function(t){return!t||!t.length?!1:t.some(function(r){var a=Jl(r&&r.type);return a&&a.indexOf("Bar")>=0})},DD=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},p6e=function(t,r){var a=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,d=l===void 0?{}:l,u=a.width,f=a.height,p=a.children,x=a.margin||{},y=Zs(p,km),j=Zs(p,ms),w=Object.keys(d).reduce(function(T,M){var O=d[M],D=O.orientation;return!O.mirror&&!O.hide?Ce(Ce({},T),{},Dt({},D,T[D]+O.width)):T},{left:x.left||0,right:x.right||0}),C=Object.keys(o).reduce(function(T,M){var O=o[M],D=O.orientation;return!O.mirror&&!O.hide?Ce(Ce({},T),{},Dt({},D,di(T,"".concat(D))+O.height)):T},{top:x.top||0,bottom:x.bottom||0}),N=Ce(Ce({},C),w),S=N.bottom;y&&(N.bottom+=y.props.height||km.defaultProps.height),j&&r&&(N=F_e(N,s,a,r));var _=u-N.left-N.right,I=f-N.top-N.bottom;return Ce(Ce({brushBottom:S},N),{},{width:Math.max(_,0),height:Math.max(I,0)})},x6e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},V_=function(t){var r=t.chartName,a=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,d=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,x=function(N,S){var _=S.graphicalItems,I=S.stackGroups,T=S.offset,M=S.updateId,O=S.dataStartIndex,D=S.dataEndIndex,R=N.barSize,V=N.layout,z=N.barGap,B=N.barCategoryGap,q=N.maxBarSize,$=DD(V),L=$.numericAxisName,H=$.cateAxisName,G=m6e(_),Y=[];return _.forEach(function(te,X){var fe=$j(N.data,{graphicalItems:[te],dataStartIndex:O,dataEndIndex:D}),re=te.type.defaultProps!==void 0?Ce(Ce({},te.type.defaultProps),te.props):te.props,se=re.dataKey,Te=re.maxBarSize,vt=re["".concat(L,"Id")],Me=re["".concat(H,"Id")],he={},rt=d.reduce(function(st,ie){var xe=S["".concat(ie.axisType,"Map")],Ne=re["".concat(ie.axisType,"Id")];xe&&xe[Ne]||ie.axisType==="zAxis"||ch();var et=xe[Ne];return Ce(Ce({},st),{},Dt(Dt({},ie.axisType,et),"".concat(ie.axisType,"Ticks"),ql(et)))},he),Ae=rt[H],Je=rt["".concat(H,"Ticks")],Ge=I&&I[vt]&&I[vt].hasStack&&Y_e(te,I[vt].stackGroups),je=Jl(te.type).indexOf("Bar")>=0,it=pb(Ae,Je),wt=[],nr=G&&D_e({barSize:R,stackGroups:I,totalSize:x6e(rt,H)});if(je){var pr,Gt,Ee=Yt(Te)?q:Te,ot=(pr=(Gt=pb(Ae,Je,!0))!==null&&Gt!==void 0?Gt:Ee)!==null&&pr!==void 0?pr:0;wt=L_e({barGap:z,barCategoryGap:B,bandSize:ot!==it?ot:it,sizeList:nr[Me],maxBarSize:Ee}),ot!==it&&(wt=wt.map(function(st){return Ce(Ce({},st),{},{position:Ce(Ce({},st.position),{},{offset:st.position.offset-ot/2})})}))}var ia=te&&te.type&&te.type.getComposedData;ia&&Y.push({props:Ce(Ce({},ia(Ce(Ce({},rt),{},{displayedData:fe,props:N,dataKey:se,item:te,bandSize:it,barPosition:wt,offset:T,stackedData:Ge,layout:V,dataStartIndex:O,dataEndIndex:D}))),{},Dt(Dt(Dt({key:te.key||"item-".concat(X)},L,rt[L]),H,rt[H]),"animationId",M)),childIndex:Lve(te,N.children),item:te})}),Y},y=function(N,S){var _=N.props,I=N.dataStartIndex,T=N.dataEndIndex,M=N.updateId;if(!YM({props:_}))return null;var O=_.children,D=_.layout,R=_.stackOffset,V=_.data,z=_.reverseStackOrder,B=DD(D),q=B.numericAxisName,$=B.cateAxisName,L=ui(O,a),H=G_e(V,L,"".concat(q,"Id"),"".concat($,"Id"),R,z),G=d.reduce(function(re,se){var Te="".concat(se.axisType,"Map");return Ce(Ce({},re),{},Dt({},Te,h6e(_,Ce(Ce({},se),{},{graphicalItems:L,stackGroups:se.axisType===q&&H,dataStartIndex:I,dataEndIndex:T}))))},{}),Y=p6e(Ce(Ce({},G),{},{props:_,graphicalItems:L}),S==null?void 0:S.legendBBox);Object.keys(G).forEach(function(re){G[re]=f(_,G[re],Y,re.replace("Map",""),r)});var te=G["".concat($,"Map")],X=f6e(te),fe=x(_,Ce(Ce({},G),{},{dataStartIndex:I,dataEndIndex:T,updateId:M,graphicalItems:L,stackGroups:H,offset:Y}));return Ce(Ce({formattedGraphicalItems:fe,graphicalItems:L,offset:Y,stackGroups:H},X),G)},j=function(C){function N(S){var _,I,T;return YDe(this,N),T=ZDe(this,N,[S]),Dt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Dt(T,"accessibilityManager",new RDe),Dt(T,"handleLegendBBoxUpdate",function(M){if(M){var O=T.state,D=O.dataStartIndex,R=O.dataEndIndex,V=O.updateId;T.setState(Ce({legendBBox:M},y({props:T.props,dataStartIndex:D,dataEndIndex:R,updateId:V},Ce(Ce({},T.state),{},{legendBBox:M}))))}}),Dt(T,"handleReceiveSyncEvent",function(M,O,D){if(T.props.syncId===M){if(D===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(O)}}),Dt(T,"handleBrushChange",function(M){var O=M.startIndex,D=M.endIndex;if(O!==T.state.dataStartIndex||D!==T.state.dataEndIndex){var R=T.state.updateId;T.setState(function(){return Ce({dataStartIndex:O,dataEndIndex:D},y({props:T.props,dataStartIndex:O,dataEndIndex:D,updateId:R},T.state))}),T.triggerSyncEvent({dataStartIndex:O,dataEndIndex:D})}}),Dt(T,"handleMouseEnter",function(M){var O=T.getMouseInfo(M);if(O){var D=Ce(Ce({},O),{},{isTooltipActive:!0});T.setState(D),T.triggerSyncEvent(D);var R=T.props.onMouseEnter;Ht(R)&&R(D,M)}}),Dt(T,"triggeredAfterMouseMove",function(M){var O=T.getMouseInfo(M),D=O?Ce(Ce({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(D),T.triggerSyncEvent(D);var R=T.props.onMouseMove;Ht(R)&&R(D,M)}),Dt(T,"handleItemMouseEnter",function(M){T.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Dt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Dt(T,"handleMouseMove",function(M){M.persist(),T.throttleTriggeredAfterMouseMove(M)}),Dt(T,"handleMouseLeave",function(M){T.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};T.setState(O),T.triggerSyncEvent(O);var D=T.props.onMouseLeave;Ht(D)&&D(O,M)}),Dt(T,"handleOuterEvent",function(M){var O=Dve(M),D=di(T.props,"".concat(O));if(O&&Ht(D)){var R,V;/.*touch.*/i.test(O)?V=T.getMouseInfo(M.changedTouches[0]):V=T.getMouseInfo(M),D((R=V)!==null&&R!==void 0?R:{},M)}}),Dt(T,"handleClick",function(M){var O=T.getMouseInfo(M);if(O){var D=Ce(Ce({},O),{},{isTooltipActive:!0});T.setState(D),T.triggerSyncEvent(D);var R=T.props.onClick;Ht(R)&&R(D,M)}}),Dt(T,"handleMouseDown",function(M){var O=T.props.onMouseDown;if(Ht(O)){var D=T.getMouseInfo(M);O(D,M)}}),Dt(T,"handleMouseUp",function(M){var O=T.props.onMouseUp;if(Ht(O)){var D=T.getMouseInfo(M);O(D,M)}}),Dt(T,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Dt(T,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&T.handleMouseDown(M.changedTouches[0])}),Dt(T,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&T.handleMouseUp(M.changedTouches[0])}),Dt(T,"handleDoubleClick",function(M){var O=T.props.onDoubleClick;if(Ht(O)){var D=T.getMouseInfo(M);O(D,M)}}),Dt(T,"handleContextMenu",function(M){var O=T.props.onContextMenu;if(Ht(O)){var D=T.getMouseInfo(M);O(D,M)}}),Dt(T,"triggerSyncEvent",function(M){T.props.syncId!==void 0&&YN.emit(XN,T.props.syncId,M,T.eventEmitterSymbol)}),Dt(T,"applySyncEvent",function(M){var O=T.props,D=O.layout,R=O.syncMethod,V=T.state.updateId,z=M.dataStartIndex,B=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)T.setState(Ce({dataStartIndex:z,dataEndIndex:B},y({props:T.props,dataStartIndex:z,dataEndIndex:B,updateId:V},T.state)));else if(M.activeTooltipIndex!==void 0){var q=M.chartX,$=M.chartY,L=M.activeTooltipIndex,H=T.state,G=H.offset,Y=H.tooltipTicks;if(!G)return;if(typeof R=="function")L=R(Y,M);else if(R==="value"){L=-1;for(var te=0;te<Y.length;te++)if(Y[te].value===M.activeLabel){L=te;break}}var X=Ce(Ce({},G),{},{x:G.left,y:G.top}),fe=Math.min(q,X.x+X.width),re=Math.min($,X.y+X.height),se=Y[L]&&Y[L].value,Te=LE(T.state,T.props.data,L),vt=Y[L]?{x:D==="horizontal"?Y[L].coordinate:fe,y:D==="horizontal"?re:Y[L].coordinate}:cK;T.setState(Ce(Ce({},M),{},{activeLabel:se,activeCoordinate:vt,activePayload:Te,activeTooltipIndex:L}))}else T.setState(M)}),Dt(T,"renderCursor",function(M){var O,D=T.state,R=D.isTooltipActive,V=D.activeCoordinate,z=D.activePayload,B=D.offset,q=D.activeTooltipIndex,$=D.tooltipAxisBandSize,L=T.getTooltipEventType(),H=(O=M.props.active)!==null&&O!==void 0?O:R,G=T.props.layout,Y=M.key||"_recharts-cursor";return Q.createElement(zDe,{key:Y,activeCoordinate:V,activePayload:z,activeTooltipIndex:q,chartName:r,element:M,isActive:H,layout:G,offset:B,tooltipAxisBandSize:$,tooltipEventType:L})}),Dt(T,"renderPolarAxis",function(M,O,D){var R=di(M,"type.axisType"),V=di(T.state,"".concat(R,"Map")),z=M.type.defaultProps,B=z!==void 0?Ce(Ce({},z),M.props):M.props,q=V&&V[B["".concat(R,"Id")]];return E.cloneElement(M,Ce(Ce({},q),{},{className:er(R,q.className),key:M.key||"".concat(O,"-").concat(D),ticks:ql(q,!0)}))}),Dt(T,"renderPolarGrid",function(M){var O=M.props,D=O.radialLines,R=O.polarAngles,V=O.polarRadius,z=T.state,B=z.radiusAxisMap,q=z.angleAxisMap,$=Hc(B),L=Hc(q),H=L.cx,G=L.cy,Y=L.innerRadius,te=L.outerRadius;return E.cloneElement(M,{polarAngles:Array.isArray(R)?R:ql(L,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(V)?V:ql($,!0).map(function(X){return X.coordinate}),cx:H,cy:G,innerRadius:Y,outerRadius:te,key:M.key||"polar-grid",radialLines:D})}),Dt(T,"renderLegend",function(){var M=T.state.formattedGraphicalItems,O=T.props,D=O.children,R=O.width,V=O.height,z=T.props.margin||{},B=R-(z.left||0)-(z.right||0),q=Uq({children:D,formattedGraphicalItems:M,legendWidth:B,legendContent:u});if(!q)return null;var $=q.item,L=kD(q,UDe);return E.cloneElement($,Ce(Ce({},L),{},{chartWidth:R,chartHeight:V,margin:z,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Dt(T,"renderTooltip",function(){var M,O=T.props,D=O.children,R=O.accessibilityLayer,V=Zs(D,Gn);if(!V)return null;var z=T.state,B=z.isTooltipActive,q=z.activeCoordinate,$=z.activePayload,L=z.activeLabel,H=z.offset,G=(M=V.props.active)!==null&&M!==void 0?M:B;return E.cloneElement(V,{viewBox:Ce(Ce({},H),{},{x:H.left,y:H.top}),active:G,label:L,payload:G?$:[],coordinate:q,accessibilityLayer:R})}),Dt(T,"renderBrush",function(M){var O=T.props,D=O.margin,R=O.data,V=T.state,z=V.offset,B=V.dataStartIndex,q=V.dataEndIndex,$=V.updateId;return E.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Qv(T.handleBrushChange,M.props.onChange),data:R,x:Qe(M.props.x)?M.props.x:z.left,y:Qe(M.props.y)?M.props.y:z.top+z.height+z.brushBottom-(D.bottom||0),width:Qe(M.props.width)?M.props.width:z.width,startIndex:B,endIndex:q,updateId:"brush-".concat($)})}),Dt(T,"renderReferenceElement",function(M,O,D){if(!M)return null;var R=T,V=R.clipPathId,z=T.state,B=z.xAxisMap,q=z.yAxisMap,$=z.offset,L=M.type.defaultProps||{},H=M.props,G=H.xAxisId,Y=G===void 0?L.xAxisId:G,te=H.yAxisId,X=te===void 0?L.yAxisId:te;return E.cloneElement(M,{key:M.key||"".concat(O,"-").concat(D),xAxis:B[Y],yAxis:q[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:V})}),Dt(T,"renderActivePoints",function(M){var O=M.item,D=M.activePoint,R=M.basePoint,V=M.childIndex,z=M.isRange,B=[],q=O.props.key,$=O.item.type.defaultProps!==void 0?Ce(Ce({},O.item.type.defaultProps),O.item.props):O.item.props,L=$.activeDot,H=$.dataKey,G=Ce(Ce({index:V,dataKey:H,cx:D.x,cy:D.y,r:4,fill:P_(O.item),strokeWidth:2,stroke:"#fff",payload:D.payload,value:D.value},kt(L,!1)),z1(L));return B.push(N.renderActiveDot(L,G,"".concat(q,"-activePoint-").concat(V))),R?B.push(N.renderActiveDot(L,Ce(Ce({},G),{},{cx:R.x,cy:R.y}),"".concat(q,"-basePoint-").concat(V))):z&&B.push(null),B}),Dt(T,"renderGraphicChild",function(M,O,D){var R=T.filterFormatItem(M,O,D);if(!R)return null;var V=T.getTooltipEventType(),z=T.state,B=z.isTooltipActive,q=z.tooltipAxis,$=z.activeTooltipIndex,L=z.activeLabel,H=T.props.children,G=Zs(H,Gn),Y=R.props,te=Y.points,X=Y.isRange,fe=Y.baseLine,re=R.item.type.defaultProps!==void 0?Ce(Ce({},R.item.type.defaultProps),R.item.props):R.item.props,se=re.activeDot,Te=re.hide,vt=re.activeBar,Me=re.activeShape,he=!!(!Te&&B&&G&&(se||vt||Me)),rt={};V!=="axis"&&G&&G.props.trigger==="click"?rt={onClick:Qv(T.handleItemMouseEnter,M.props.onClick)}:V!=="axis"&&(rt={onMouseLeave:Qv(T.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Qv(T.handleItemMouseEnter,M.props.onMouseEnter)});var Ae=E.cloneElement(M,Ce(Ce({},R.props),rt));function Je(ie){return typeof q.dataKey=="function"?q.dataKey(ie.payload):null}if(he)if($>=0){var Ge,je;if(q.dataKey&&!q.allowDuplicatedCategory){var it=typeof q.dataKey=="function"?Je:"payload.".concat(q.dataKey.toString());Ge=V1(te,it,L),je=X&&fe&&V1(fe,it,L)}else Ge=te==null?void 0:te[$],je=X&&fe&&fe[$];if(Me||vt){var wt=M.props.activeIndex!==void 0?M.props.activeIndex:$;return[E.cloneElement(M,Ce(Ce(Ce({},R.props),rt),{},{activeIndex:wt})),null,null]}if(!Yt(Ge))return[Ae].concat(zm(T.renderActivePoints({item:R,activePoint:Ge,basePoint:je,childIndex:$,isRange:X})))}else{var nr,pr=(nr=T.getItemByXY(T.state.activeCoordinate))!==null&&nr!==void 0?nr:{graphicalItem:Ae},Gt=pr.graphicalItem,Ee=Gt.item,ot=Ee===void 0?M:Ee,ia=Gt.childIndex,st=Ce(Ce(Ce({},R.props),rt),{},{activeIndex:ia});return[E.cloneElement(ot,st),null,null]}return X?[Ae,null,null]:[Ae,null]}),Dt(T,"renderCustomized",function(M,O,D){return E.cloneElement(M,Ce(Ce({key:"recharts-customized-".concat(D)},T.props),T.state))}),Dt(T,"renderMap",{CartesianGrid:{handler:ry,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:ry},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:ry},YAxis:{handler:ry},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((_=S.id)!==null&&_!==void 0?_:dp("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=zH(T.triggeredAfterMouseMove,(I=S.throttleDelay)!==null&&I!==void 0?I:1e3/60),T.state={},T}return t6e(N,C),QDe(N,[{key:"componentDidMount",value:function(){var _,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,I=_.children,T=_.data,M=_.height,O=_.layout,D=Zs(I,Gn);if(D){var R=D.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var V=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,z=LE(this.state,T,R,V),B=this.state.tooltipTicks[R].coordinate,q=(this.state.offset.top+M)/2,$=O==="horizontal",L=$?{x:B,y:q}:{y:B,x:q},H=this.state.formattedGraphicalItems.find(function(Y){var te=Y.item;return te.type.name==="Scatter"});H&&(L=Ce(Ce({},L),H.props.points[R].tooltipPosition),z=H.props.points[R].tooltipPayload);var G={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:V,activePayload:z,activeCoordinate:L};this.setState(G),this.renderCursor(D),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var T,M;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(_){hA([Zs(_.children,Gn)],[Zs(this.props.children,Gn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Zs(this.props.children,Gn);if(_&&typeof _.props.shared=="boolean"){var I=_.props.shared?"axis":"item";return l.indexOf(I)>=0?I:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var I=this.container,T=I.getBoundingClientRect(),M=cEe(T),O={chartX:Math.round(_.pageX-M.left),chartY:Math.round(_.pageY-M.top)},D=T.width/I.offsetWidth||1,R=this.inRange(O.chartX,O.chartY,D);if(!R)return null;var V=this.state,z=V.xAxisMap,B=V.yAxisMap,q=this.getTooltipEventType(),$=MD(this.state,this.props.data,this.props.layout,R);if(q!=="axis"&&z&&B){var L=Hc(z).scale,H=Hc(B).scale,G=L&&L.invert?L.invert(O.chartX):null,Y=H&&H.invert?H.invert(O.chartY):null;return Ce(Ce({},O),{},{xValue:G,yValue:Y},$)}return $?Ce(Ce({},O),$):null}},{key:"inRange",value:function(_,I){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,O=_/T,D=I/T;if(M==="horizontal"||M==="vertical"){var R=this.state.offset,V=O>=R.left&&O<=R.left+R.width&&D>=R.top&&D<=R.top+R.height;return V?{x:O,y:D}:null}var z=this.state,B=z.angleAxisMap,q=z.radiusAxisMap;if(B&&q){var $=Hc(B);return s8({x:O,y:D},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,I=this.getTooltipEventType(),T=Zs(_,Gn),M={};T&&I==="axis"&&(T.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=z1(this.props,this.handleOuterEvent);return Ce(Ce({},O),M)}},{key:"addListener",value:function(){YN.on(XN,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){YN.removeListener(XN,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,I,T){for(var M=this.state.formattedGraphicalItems,O=0,D=M.length;O<D;O++){var R=M[O];if(R.item===_||R.props.key===_.key||I===Jl(R.item.type)&&T===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,I=this.state.offset,T=I.left,M=I.top,O=I.height,D=I.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:_},Q.createElement("rect",{x:T,y:M,height:O,width:D})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(I,T){var M=OD(T,2),O=M[0],D=M[1];return Ce(Ce({},I),{},Dt({},O,D.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(I,T){var M=OD(T,2),O=M[0],D=M[1];return Ce(Ce({},I),{},Dt({},O,D.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[_])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(_){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[_])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(_){var I=this.state,T=I.formattedGraphicalItems,M=I.activeItem;if(T&&T.length)for(var O=0,D=T.length;O<D;O++){var R=T[O],V=R.props,z=R.item,B=z.type.defaultProps!==void 0?Ce(Ce({},z.type.defaultProps),z.props):z.props,q=Jl(z.type);if(q==="Bar"){var $=(V.data||[]).find(function(Y){return $ke(_,Y)});if($)return{graphicalItem:R,payload:$}}else if(q==="RadialBar"){var L=(V.data||[]).find(function(Y){return s8(_,Y)});if(L)return{graphicalItem:R,payload:L}}else if(Ij(R,M)||Mj(R,M)||n0(R,M)){var H=TMe({graphicalItem:R,activeTooltipItem:M,itemData:B.data}),G=B.activeIndex===void 0?H:B.activeIndex;return{graphicalItem:Ce(Ce({},R),{},{childIndex:G}),payload:n0(R,M)?B.data[H]:R.props.data[H]}}}return null}},{key:"render",value:function(){var _=this;if(!YM(this))return null;var I=this.props,T=I.children,M=I.className,O=I.width,D=I.height,R=I.style,V=I.compact,z=I.title,B=I.desc,q=kD(I,WDe),$=kt(q,!1);if(V)return Q.createElement(fD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(mA,gf({},$,{width:O,height:D,title:z,desc:B}),this.renderClipPath(),QM(T,this.renderMap)));if(this.props.accessibilityLayer){var L,H;$.tabIndex=(L=this.props.tabIndex)!==null&&L!==void 0?L:0,$.role=(H=this.props.role)!==null&&H!==void 0?H:"application",$.onKeyDown=function(Y){_.accessibilityManager.keyboardEvent(Y)},$.onFocus=function(){_.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return Q.createElement(fD,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",gf({className:er("recharts-wrapper",M),style:Ce({position:"relative",cursor:"default",width:O,height:D},R)},G,{ref:function(te){_.container=te}}),Q.createElement(mA,gf({},$,{width:O,height:D,title:z,desc:B,style:o6e}),this.renderClipPath(),QM(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(E.Component);Dt(j,"displayName",r),Dt(j,"defaultProps",Ce({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),Dt(j,"getDerivedStateFromProps",function(C,N){var S=C.dataKey,_=C.data,I=C.children,T=C.width,M=C.height,O=C.layout,D=C.stackOffset,R=C.margin,V=N.dataStartIndex,z=N.dataEndIndex;if(N.updateId===void 0){var B=RD(C);return Ce(Ce(Ce({},B),{},{updateId:0},y(Ce(Ce({props:C},B),{},{updateId:0}),N)),{},{prevDataKey:S,prevData:_,prevWidth:T,prevHeight:M,prevLayout:O,prevStackOffset:D,prevMargin:R,prevChildren:I})}if(S!==N.prevDataKey||_!==N.prevData||T!==N.prevWidth||M!==N.prevHeight||O!==N.prevLayout||D!==N.prevStackOffset||!kf(R,N.prevMargin)){var q=RD(C),$={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},L=Ce(Ce({},MD(N,_,O)),{},{updateId:N.updateId+1}),H=Ce(Ce(Ce({},q),$),L);return Ce(Ce(Ce({},H),y(Ce({props:C},H),N)),{},{prevDataKey:S,prevData:_,prevWidth:T,prevHeight:M,prevLayout:O,prevStackOffset:D,prevMargin:R,prevChildren:I})}if(!hA(I,N.prevChildren)){var G,Y,te,X,fe=Zs(I,km),re=fe&&(G=(Y=fe.props)===null||Y===void 0?void 0:Y.startIndex)!==null&&G!==void 0?G:V,se=fe&&(te=(X=fe.props)===null||X===void 0?void 0:X.endIndex)!==null&&te!==void 0?te:z,Te=re!==V||se!==z,vt=!Yt(_),Me=vt&&!Te?N.updateId:N.updateId+1;return Ce(Ce({updateId:Me},y(Ce(Ce({props:C},N),{},{updateId:Me,dataStartIndex:re,dataEndIndex:se}),N)),{},{prevChildren:I,dataStartIndex:re,dataEndIndex:se})}return null}),Dt(j,"renderActiveDot",function(C,N,S){var _;return E.isValidElement(C)?_=E.cloneElement(C,N):Ht(C)?_=C(N):_=Q.createElement(Tj,N),Q.createElement(Ar,{className:"recharts-active-dot",key:S},_)});var w=E.forwardRef(function(N,S){return Q.createElement(j,gf({},N,{ref:S}))});return w.displayName=j.displayName,w},ky=V_({chartName:"LineChart",GraphicalChild:vd,axisComponents:[{axisType:"xAxis",AxisComp:jo},{axisType:"yAxis",AxisComp:Li}],formatAxisMap:_G}),z_=V_({chartName:"BarChart",GraphicalChild:Hi,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jo},{axisType:"yAxis",AxisComp:Li}],formatAxisMap:_G}),Bx=V_({chartName:"PieChart",GraphicalChild:hi,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:kj},{axisType:"radiusAxis",AxisComp:Pj}],formatAxisMap:sPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function Vj({title:e,data:t,lines:r,xAxisDataKey:a,grid:s=!0,height:i=300,className:o}){return n.jsxs(ne,{className:o,children:[n.jsx(de,{children:n.jsx(ue,{children:e})}),n.jsx(ae,{children:n.jsx("div",{style:{height:i},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(ky,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[s&&n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:a}),n.jsx(Li,{}),n.jsx(Gn,{}),n.jsx(ms,{}),r.map((l,d)=>n.jsx(vd,{type:"monotone",dataKey:l.dataKey,name:l.name,stroke:l.stroke||`hsl(var(--chart-${d+1}))`,fill:l.fill||`hsl(var(--chart-${d+1}))`,activeDot:{r:8}},d))]})})})})]})}function U_({title:e,data:t,bars:r,xAxisDataKey:a,grid:s=!0,stacked:i=!1,height:o=300,className:l}){return n.jsxs(ne,{className:l,children:[n.jsx(de,{children:n.jsx(ue,{children:e})}),n.jsx(ae,{children:n.jsx("div",{style:{height:o},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(z_,{data:t,margin:{top:5,right:30,left:20,bottom:5},children:[s&&n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:a}),n.jsx(Li,{}),n.jsx(Gn,{}),n.jsx(ms,{}),r.map((d,u)=>n.jsx(Hi,{dataKey:d.dataKey,name:d.name,fill:d.fill||`hsl(var(--chart-${u+1}))`,stackId:i?"a":void 0},u))]})})})})]})}function uK({title:e,data:t,dataKey:r="value",nameKey:a="name",donut:s=!1,innerRadius:i=0,outerRadius:o=80,height:l=300,className:d}){return n.jsxs(ne,{className:d,children:[n.jsx(de,{children:n.jsx(ue,{children:e})}),n.jsx(ae,{children:n.jsx("div",{style:{height:l},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(Bx,{children:[n.jsx(hi,{data:t,cx:"50%",cy:"50%",labelLine:!0,label:({name:u,percent:f})=>`${u}: ${(f*100).toFixed(0)}%`,outerRadius:o,innerRadius:s?i:0,fill:"#8884d8",dataKey:r,nameKey:a,children:t.map((u,f)=>n.jsx(xd,{fill:u.color||`hsl(var(--chart-${f%5+1}))`},`cell-${f}`))}),n.jsx(Gn,{}),n.jsx(ms,{})]})})})})]})}const g6e={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 mês",other:"cerca de {{count}} meses"},xMonths:{one:"1 mês",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},v6e=(e,t,r)=>{let a;const s=g6e[e];return typeof s=="string"?a=s:t===1?a=s.one:a=s.other.replace("{{count}}",String(t)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"em "+a:"há "+a:a},y6e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},b6e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},w6e={full:"{{date}} 'às' {{time}}",long:"{{date}} 'às' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},j6e={date:Pf({formats:y6e,defaultWidth:"full"}),time:Pf({formats:b6e,defaultWidth:"full"}),dateTime:Pf({formats:w6e,defaultWidth:"full"})},N6e={lastWeek:e=>{const t=e.getDay();return"'"+(t===0||t===6?"último":"última")+"' eeee 'às' p"},yesterday:"'ontem às' p",today:"'hoje às' p",tomorrow:"'amanhã às' p",nextWeek:"eeee 'às' p",other:"P"},C6e=(e,t,r,a)=>{const s=N6e[e];return typeof s=="function"?s(t):s},S6e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},A6e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},E6e={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},T6e={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","terça","quarta","quinta","sexta","sábado"],wide:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"]},_6e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manhã",afternoon:"tarde",evening:"tarde",night:"noite"}},P6e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manhã",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},O6e=(e,t)=>{const r=Number(e);return(t==null?void 0:t.unit)==="week"?r+"ª":r+"º"},k6e={ordinalNumber:O6e,era:Qo({values:S6e,defaultWidth:"wide"}),quarter:Qo({values:A6e,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qo({values:E6e,defaultWidth:"wide"}),day:Qo({values:T6e,defaultWidth:"wide"}),dayPeriod:Qo({values:_6e,defaultWidth:"wide",formattingValues:P6e,defaultFormattingWidth:"wide"})},I6e=/^(\d+)[ºªo]?/i,M6e=/\d+/i,R6e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},D6e={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},L6e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},F6e={any:[/1/i,/2/i,/3/i,/4/i]},B6e={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|março|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},$6e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},V6e={narrow:/^(dom|[23456]ª?|s[aá]b)/i,short:/^(dom|[23456]ª?|s[aá]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[aá]b)/i,wide:/^(domingo|(segunda|ter[cç]a|quarta|quinta|sexta)([- ]feira)?|s[aá]bado)/i},z6e={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[aá]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[aá]b/i]},U6e={narrow:/^(a|p|mn|md|(da) (manhã|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manhã|tarde|noite))/i},W6e={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manhã/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},H6e={ordinalNumber:Bz({matchPattern:I6e,parsePattern:M6e,valueCallback:e=>parseInt(e,10)}),era:Zo({matchPatterns:R6e,defaultMatchWidth:"wide",parsePatterns:D6e,defaultParseWidth:"any"}),quarter:Zo({matchPatterns:L6e,defaultMatchWidth:"wide",parsePatterns:F6e,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Zo({matchPatterns:B6e,defaultMatchWidth:"wide",parsePatterns:$6e,defaultParseWidth:"any"}),day:Zo({matchPatterns:V6e,defaultMatchWidth:"wide",parsePatterns:z6e,defaultParseWidth:"any"}),dayPeriod:Zo({matchPatterns:U6e,defaultMatchWidth:"any",parsePatterns:W6e,defaultParseWidth:"any"})},X0={code:"pt-BR",formatDistance:v6e,formatLong:j6e,formatRelative:C6e,localize:k6e,match:H6e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LD(){var i,o,l;const{data:e,isLoading:t}=Nt({queryKey:["/api/client/dashboard"],retry:3,staleTime:3e4,refetchOnWindowFocus:!0,placeholderData:{cashbackBalance:0,referralBalance:0,transactionsCount:0,recentTransactions:[],monthStats:{earned:0,transferred:0,received:0},balanceHistory:[]}});if(t)return n.jsx(_t,{title:"Dashboard Cliente",type:"client",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{children:"Carregando dados da conta..."})]})})});const r=d=>{if(d==null)return 0;if(typeof d=="string"){const u=d.replace(/[$,\s]/g,""),f=parseFloat(u);return isNaN(f)?0:f}return typeof d=="number"?isNaN(d)?0:d:0},a={cashbackBalance:r((e==null?void 0:e.cashbackBalance)||127.45),referralBalance:r((e==null?void 0:e.referralBalance)||89.3),transactionsCount:(e==null?void 0:e.transactionsCount)||23,recentTransactions:(e==null?void 0:e.recentTransactions)||[{id:1,merchant:"Tech Store Brasil",date:"2025-06-05",amount:89.9,cashback:4.5,status:"completed"},{id:2,merchant:"Restaurante Sabor",date:"2025-06-04",amount:156.8,cashback:7.84,status:"completed"},{id:3,merchant:"Farmácia Central",date:"2025-06-03",amount:67.45,cashback:3.37,status:"completed"}],monthStats:{earned:r(((i=e==null?void 0:e.monthStats)==null?void 0:i.earned)||45.67),transferred:r(((o=e==null?void 0:e.monthStats)==null?void 0:o.transferred)||30),received:r(((l=e==null?void 0:e.monthStats)==null?void 0:l.received)||15.3)},balanceHistory:(e==null?void 0:e.balanceHistory)||[{month:"Jan",value:45.2},{month:"Fev",value:67.8},{month:"Mar",value:89.15},{month:"Abr",value:112.3},{month:"Mai",value:98.75},{month:"Jun",value:127.45}]},s=a.cashbackBalance+a.referralBalance;return n.jsxs(_t,{title:"Dashboard Cliente",type:"client",children:[n.jsxs(M3,{className:"mb-6",children:[n.jsx($i,{title:"Saldo Total",value:Be(s),description:"Cashback + Indicações",icon:n.jsx(ta,{className:"h-5 w-5 text-primary"})}),n.jsx($i,{title:"Cashback",value:Be(a.cashbackBalance),description:"Disponível para saque",icon:n.jsx(Ui,{className:"h-5 w-5 text-green-500"})}),n.jsx($i,{title:"Indicações",value:Be(a.referralBalance),description:"Bônus por indicações",icon:n.jsx(jy,{className:"h-5 w-5 text-blue-500"})}),n.jsx($i,{title:"Transações",value:a.transactionsCount.toString(),description:"Total este mês",icon:n.jsx(dk,{className:"h-5 w-5 text-purple-500"})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsx(Vj,{title:"Evolução do Saldo",data:a.balanceHistory,lines:[{dataKey:"value",name:"Saldo (R$)"}],xAxisDataKey:"month"}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Transações Recentes"})}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[a.recentTransactions.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação recente."}):a.recentTransactions.map(d=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",children:d.merchant}),n.jsxs("span",{className:"font-semibold text-green-600",children:["+",Be(d.cashback)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("span",{children:["Compra: ",Be(d.amount)]}),n.jsx("span",{children:Ot(new Date(d.date),"dd/MM/yyyy",{locale:X0})})]})]},d.id)),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(Rt,{href:"/client/transactions",children:n.jsx(J,{variant:"outline",size:"sm",children:"Ver todas as transações"})})})]})})]})]}),n.jsxs(ne,{className:"mb-6",children:[n.jsx(de,{children:n.jsx(ue,{children:"Resumo do Mês"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Ui,{className:"h-5 w-5 text-green-600"}),n.jsx("span",{className:"font-medium",children:"Cashback Ganho"})]}),n.jsx("p",{className:"text-2xl font-bold text-green-600",children:Be(a.monthStats.earned)})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(Pa,{className:"h-5 w-5 text-blue-600"}),n.jsx("span",{className:"font-medium",children:"Transferido"})]}),n.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Be(a.monthStats.transferred)})]}),n.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx(jy,{className:"h-5 w-5 text-purple-600"}),n.jsx("span",{className:"font-medium",children:"Recebido"})]}),n.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Be(a.monthStats.received)})]})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Ações Rápidas"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Rt,{href:"/client/qr-code",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(Pn,{className:"h-6 w-6"}),n.jsx("span",{children:"QR Code"})]})}),n.jsx(Rt,{href:"/client/stores",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(jy,{className:"h-6 w-6"}),n.jsx("span",{children:"Lojas"})]})}),n.jsx(Rt,{href:"/client/referrals",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(Ui,{className:"h-6 w-6"}),n.jsx("span",{children:"Indicações"})]})}),n.jsx(Rt,{href:"/client/transfers",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(dk,{className:"h-6 w-6"}),n.jsx("span",{children:"Transferir"})]})})]})})]})]})}const fl=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{className:"relative w-full overflow-auto",children:n.jsx("table",{ref:r,className:Ue("w-full caption-bottom text-sm",e),...t})}));fl.displayName="Table";const ml=E.forwardRef(({className:e,...t},r)=>n.jsx("thead",{ref:r,className:Ue("[&_tr]:border-b",e),...t}));ml.displayName="TableHeader";const pl=E.forwardRef(({className:e,...t},r)=>n.jsx("tbody",{ref:r,className:Ue("[&_tr:last-child]:border-0",e),...t}));pl.displayName="TableBody";const q6e=E.forwardRef(({className:e,...t},r)=>n.jsx("tfoot",{ref:r,className:Ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));q6e.displayName="TableFooter";const Tn=E.forwardRef(({className:e,...t},r)=>n.jsx("tr",{ref:r,className:Ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Tn.displayName="TableRow";const Et=E.forwardRef(({className:e,...t},r)=>n.jsx("th",{ref:r,className:Ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Et.displayName="TableHead";const bt=E.forwardRef(({className:e,...t},r)=>n.jsx("td",{ref:r,className:Ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));bt.displayName="TableCell";const G6e=E.forwardRef(({className:e,...t},r)=>n.jsx("caption",{ref:r,className:Ue("mt-4 text-sm text-muted-foreground",e),...t}));G6e.displayName="TableCaption";function Va({data:e,columns:t,actions:r,filters:a,searchable:s,onSearch:i,pagination:o,exportable:l,onExport:d,isLoading:u}){const[f,p]=E.useState(""),x=j=>{j.preventDefault(),i&&i(f)},y=j=>{j.key==="Enter"&&(j.preventDefault(),i&&i(f))};return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[s&&n.jsx("div",{className:"flex-1 min-w-[200px]",children:n.jsxs("form",{onSubmit:x,className:"flex gap-2",children:[n.jsx("div",{className:"flex-1",children:n.jsx(ge,{placeholder:"Buscar...",value:f,onChange:j=>p(j.target.value),onKeyDown:y,className:"w-full"})}),n.jsx(J,{variant:"outline",size:"icon",type:"submit",children:n.jsx(ts,{className:"h-4 w-4"})})]})}),a==null?void 0:a.map((j,w)=>n.jsxs("div",{className:"min-w-[150px]",children:[n.jsx("label",{className:"block text-sm text-gray-dark mb-1",children:j.name}),n.jsxs(ur,{onValueChange:j.onChange,value:j.value,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:`Selecione ${j.name}`})}),n.jsx(dr,{children:j.options.map(C=>n.jsx(ve,{value:C.value,children:C.label},C.value))})]})]},w)),l&&n.jsxs(J,{variant:"outline",className:"ml-auto",onClick:d,children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Exportar"]})]}),n.jsx("div",{className:"rounded-md border overflow-hidden",children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[t.map((j,w)=>n.jsx(Et,{children:j.header},w)),r&&n.jsx(Et,{className:"text-right",children:"Ações"})]})}),n.jsx(pl,{children:u?Array.from({length:5}).map((j,w)=>n.jsxs(Tn,{children:[t.map((C,N)=>n.jsx(bt,{children:n.jsx("div",{className:"h-4 w-full bg-gray-100 rounded animate-pulse"})},`skeleton-cell-${N}`)),r&&n.jsx(bt,{children:n.jsx("div",{className:"h-4 w-8 bg-gray-100 rounded animate-pulse ml-auto"})})]},`skeleton-${w}`)):e.length===0?n.jsx(Tn,{children:n.jsx(bt,{colSpan:t.length+(r?1:0),className:"h-24 text-center",children:"Nenhum resultado encontrado."})}):e.map((j,w)=>n.jsxs(Tn,{children:[t.map((C,N)=>n.jsx(bt,{children:C.cell?C.cell({row:{original:j}}):j[C.accessorKey]},N)),r&&n.jsx(bt,{className:"text-right",children:n.jsxs(Iw,{children:[n.jsx(Mw,{asChild:!0,children:n.jsx(J,{variant:"ghost",size:"icon",children:n.jsx(jte,{className:"h-4 w-4"})})}),n.jsx(O0,{align:"end",children:r.map((C,N)=>n.jsxs(Ju,{onClick:()=>C.onClick(j),children:[C.icon&&n.jsx("span",{className:"mr-2",children:C.icon}),C.label]},N))})]})})]},w))})]})}),o&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando ",o.pageSize*o.pageIndex+1," a"," ",Math.min(o.pageSize*(o.pageIndex+1),e.length)," de"," ",e.length," resultados"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(J,{variant:"outline",size:"icon",onClick:()=>o.onPageChange(o.pageIndex-1),disabled:o.pageIndex===0,children:n.jsx(XT,{className:"h-4 w-4"})}),n.jsx(J,{variant:"outline",size:"icon",onClick:()=>o.onPageChange(o.pageIndex+1),disabled:o.pageIndex===o.pageCount-1,children:n.jsx(_o,{className:"h-4 w-4"})})]})]})]})}const FD={credit_card:"Cartão de Crédito",debit_card:"Cartão de Débito",cash:"Dinheiro",pix:"PIX",cashback:"Cashback"};function K6e(){const[e,t]=E.useState(null),[r,a]=E.useState(!1),[s,i]=E.useState("30days"),[o,l]=E.useState("all"),[d,u]=E.useState("all"),{data:f=[],isLoading:p}=Nt({queryKey:["/api/client/transactions",{period:s,store:o,status:d}],onSuccess:I=>{console.log("Transações carregadas:",I)},onError:I=>{console.error("Erro ao carregar transações:",I)}}),x=I=>{t(I),a(!0)},y=()=>{alert("Exportando relatório...")},j=[{label:"Últimos 30 dias",value:"30days"},{label:"Este mês",value:"thisMonth"},{label:"Mês anterior",value:"lastMonth"},{label:"Personalizado",value:"custom"}],w=[{label:"Todas as lojas",value:"all"},{label:"Mercado Central",value:"Mercado Central"},{label:"Farmácia Popular",value:"Farmácia Popular"},{label:"Posto Shell",value:"Posto Shell"},{label:"Livraria Cultura",value:"Livraria Cultura"}],C=[{label:"Todos os status",value:"all"},{label:"Concluída",value:"completed"},{label:"Pendente",value:"pending"},{label:"Cancelada",value:"cancelled"}],N=[{header:"ID",accessorKey:"id"},{header:"Loja",accessorKey:"store"},{header:"Data",accessorKey:"date"},{header:"Valor",accessorKey:"amount",cell:({row:I})=>{const T=I.original;return n.jsx("span",{className:"font-medium",children:Be(T.amount)})}},{header:"Cashback",accessorKey:"cashback",cell:({row:I})=>{const T=I.original;return n.jsx("span",{className:"text-green-600 font-medium",children:Be(T.cashback)})}},{header:"Status",accessorKey:"status",cell:({row:I})=>{const T=I.original;return n.jsx(xt,{variant:T.status==="completed"?"success":T.status==="pending"?"outline":"destructive",children:T.status==="completed"?"Concluída":T.status==="pending"?"Pendente":"Cancelada"})}},{header:"Método",accessorKey:"paymentMethod",cell:I=>FD[I.paymentMethod]||I.paymentMethod}],S=[{name:"Período",options:j,onChange:I=>i(I)},{name:"Loja",options:w,onChange:I=>l(I)},{name:"Status",options:C,onChange:I=>u(I)}],_=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:x}];return n.jsxs(_t,{title:"Transações",type:"client",children:[n.jsx(ne,{children:n.jsx(ae,{className:"p-6",children:p?n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-green-500"})}):Array.isArray(f)&&f.length>0?n.jsx(Va,{data:f,columns:N,actions:_,filters:S,searchable:!0,onSearch:I=>console.log("Searching:",I),pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(f.length/10),onPageChange:I=>console.log("Page changed:",I)},exportable:!0,onExport:y}):n.jsx("div",{className:"text-center py-8",children:n.jsx("p",{className:"text-muted-foreground",children:"Nenhuma transação encontrada. As transações aparecerão aqui quando você fizer compras."})})})}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes da Transação"}),n.jsxs(jn,{children:["Transação #",e==null?void 0:e.id]})]}),e&&n.jsxs("div",{className:"space-y-3 py-4",children:[n.jsxs("div",{className:"flex justify-between py-1 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Loja:"}),n.jsx("span",{className:"font-medium",children:e.store})]}),n.jsxs("div",{className:"flex justify-between py-1 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Data:"}),n.jsx("span",{className:"font-medium",children:e.date})]}),n.jsxs("div",{className:"flex justify-between py-1 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Valor:"}),n.jsx("span",{className:"font-medium",children:Be(e.amount)})]}),n.jsxs("div",{className:"flex justify-between py-1 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Cashback:"}),n.jsx("span",{className:"font-medium",children:Be(e.cashback)})]}),n.jsxs("div",{className:"flex justify-between py-1 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx(xt,{variant:e.status==="completed"?"success":e.status==="pending"?"outline":"destructive",children:e.status==="completed"?"Concluída":e.status==="pending"?"Pendente":"Cancelada"})]}),n.jsxs("div",{className:"flex justify-between py-1",children:[n.jsx("span",{className:"text-muted-foreground",children:"Método de Pagamento:"}),n.jsx("span",{className:"font-medium",children:FD[e.paymentMethod]||e.paymentMethod})]})]})]})})]})}function Y6e(){const[e,t]=E.useState(""),[r,a]=E.useState(""),[s,i]=E.useState("email"),[o,l]=E.useState(null),[d,u]=E.useState([]),[f,p]=E.useState(!1),[x,y]=E.useState(""),[j,w]=E.useState(""),[C,N]=E.useState(!1),{toast:S}=rr(),{data:_,isLoading:I}=Nt({queryKey:["/api/client/transfers"],queryFn:async()=>await(await St("GET","/api/client/transfers")).json()});E.useEffect(()=>{if(r.length<3){u([]),p(!1);return}const R=setTimeout(async()=>{p(!0);try{const z=await(await St("GET",`/api/client/search-users?search=${encodeURIComponent(r)}&method=${s}`)).json();u(z?[z]:[])}catch(V){console.error("Erro ao buscar usuários:",V),S({title:"Erro na busca",description:"Não foi possível buscar os usuários. Tente novamente.",variant:"destructive"}),u([])}finally{p(!1)}},500);return()=>clearTimeout(R)},[r,s,S]);const T=D=>{l(D),t(s==="email"?D.email:D.phone),a(""),u([])},M=()=>{l(null),t("")},O=async D=>{if(D.preventDefault(),!e||!x){S({title:"Campos obrigatórios",description:"Preencha todos os campos obrigatórios.",variant:"destructive"});return}N(!0);try{console.log("Enviando transferência:",{recipient:e,recipientId:o==null?void 0:o.id,searchMethod:s,amount:x,description:j});const R=await St("POST","/api/client/transfers",{recipient:e,recipientId:o==null?void 0:o.id,searchMethod:s,amount:parseFloat(x),description:j});if(!R.ok){const V=await R.json();throw new Error(V.message||"Erro ao processar transferência")}t(""),y(""),w(""),l(null),Ut.invalidateQueries({queryKey:["/api/client/transfers"]}),S({title:"Transferência realizada",description:`Você transferiu $ ${parseFloat(x).toFixed(2)} para ${(o==null?void 0:o.name)||e}`})}catch(R){const V=R;console.error("Erro detalhado:",V),S({title:"Erro na transferência",description:V.message||"Ocorreu um erro ao processar a transferência. Tente novamente.",variant:"destructive"})}finally{N(!1)}};return n.jsx(_t,{title:"Transferências",type:"client",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Nova Transferência"})}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:O,className:"space-y-4",children:[n.jsxs(Dr,{defaultValue:"email",className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-2",children:[n.jsxs($e,{value:"email",onClick:()=>{i("email"),l(null),t("")},children:[n.jsx(Us,{className:"h-4 w-4 mr-2"}),"E-mail"]}),n.jsxs($e,{value:"phone",onClick:()=>{i("phone"),l(null),t("")},children:[n.jsx(Bd,{className:"h-4 w-4 mr-2"}),"Telefone"]})]}),n.jsx(Ze,{value:"email",className:"mt-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"search-email",children:"Buscar por E-mail"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"search-email",type:"email",placeholder:"Digite o e-mail para buscar",value:r,onChange:D=>a(D.target.value),disabled:C||!!o,className:"pr-10"}),f&&n.jsx(lt,{className:"absolute right-3 top-2.5 h-5 w-5 animate-spin text-muted-foreground"}),r&&!f&&!o&&n.jsx(ts,{className:"absolute right-3 top-2.5 h-5 w-5 text-muted-foreground"})]})]}),d.length>0&&!o&&n.jsx("div",{className:"border rounded-md p-2 space-y-2 max-h-40 overflow-y-auto",children:d.map(D=>n.jsxs("div",{className:"flex items-center p-2 hover:bg-accent rounded-md cursor-pointer",onClick:()=>T(D),children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-secondary flex items-center justify-center overflow-hidden mr-3",children:D.photo?n.jsx("img",{src:D.photo,alt:D.name,className:"h-full w-full object-cover"}):n.jsx(ir,{className:"h-5 w-5 text-secondary-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:D.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:D.email})]})]},D.id))}),o&&n.jsxs("div",{className:"border rounded-md p-3 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Destinatário:"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:M,className:"h-6 px-2 text-muted-foreground",children:"Alterar"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-secondary flex items-center justify-center overflow-hidden mr-3",children:o.photo?n.jsx("img",{src:o.photo,alt:o.name,className:"h-full w-full object-cover"}):n.jsx(ir,{className:"h-5 w-5 text-secondary-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.email})]})]})]})]})}),n.jsx(Ze,{value:"phone",className:"mt-4",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"search-phone",children:"Buscar por Telefone"}),n.jsxs("div",{className:"relative",children:[n.jsx(ge,{id:"search-phone",type:"tel",placeholder:"Digite o telefone para buscar",value:r,onChange:D=>a(D.target.value),disabled:C||!!o,className:"pr-10"}),f&&n.jsx(lt,{className:"absolute right-3 top-2.5 h-5 w-5 animate-spin text-muted-foreground"}),r&&!f&&!o&&n.jsx(ts,{className:"absolute right-3 top-2.5 h-5 w-5 text-muted-foreground"})]})]}),d.length>0&&!o&&n.jsx("div",{className:"border rounded-md p-2 space-y-2 max-h-40 overflow-y-auto",children:d.map(D=>n.jsxs("div",{className:"flex items-center p-2 hover:bg-accent rounded-md cursor-pointer",onClick:()=>T(D),children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-secondary flex items-center justify-center overflow-hidden mr-3",children:D.photo?n.jsx("img",{src:D.photo,alt:D.name,className:"h-full w-full object-cover"}):n.jsx(ir,{className:"h-5 w-5 text-secondary-foreground"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"font-medium",children:D.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:D.phone})]})]},D.id))}),o&&n.jsxs("div",{className:"border rounded-md p-3 space-y-1",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"font-medium",children:"Destinatário:"}),n.jsx(J,{variant:"ghost",size:"sm",onClick:M,className:"h-6 px-2 text-muted-foreground",children:"Alterar"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"h-8 w-8 rounded-full bg-secondary flex items-center justify-center overflow-hidden mr-3",children:o.photo?n.jsx("img",{src:o.photo,alt:o.name,className:"h-full w-full object-cover"}):n.jsx(ir,{className:"h-5 w-5 text-secondary-foreground"})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium",children:o.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.phone})]})]})]})]})})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"amount",children:"Valor ($)"}),n.jsx(ge,{id:"amount",type:"number",min:"1",step:"0.01",placeholder:"0,00",value:x,onChange:D=>y(D.target.value),required:!0,disabled:C}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Valor mínimo para transferência: $1.00"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"description",children:"Descrição (opcional)"}),n.jsx(Bs,{id:"description",placeholder:"Motivo da transferência",value:j,onChange:D=>w(D.target.value),disabled:C})]}),n.jsx(J,{type:"submit",className:"w-full bg-secondary",disabled:C||!e||!x,children:C?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mte,{className:"mr-2 h-4 w-4"}),"Transferir"]})})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Histórico de Transferências"})}),n.jsx(ae,{children:I?n.jsx("div",{className:"flex justify-center py-4",children:n.jsx(lt,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):n.jsxs("div",{className:"space-y-3",children:[(_||[]).map(D=>n.jsxs("div",{className:"p-3 border rounded-lg",children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsxs("span",{className:"font-medium",children:[D.type==="outgoing"?"Enviado para: ":"Recebido de: ",D.type==="outgoing"?D.to:D.from]}),n.jsxs("span",{className:D.type==="outgoing"?"text-red-600":"text-green-600",children:[D.type==="outgoing"?"-":"+","$ ",D.amount.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:"mr-1 h-3 w-3"}),n.jsx("span",{children:D.date})]}),n.jsx("span",{className:"truncate max-w-[150px]",children:D.description})]}),D.status&&n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx(xt,{variant:"outline",className:D.status==="completed"?"bg-green-50 text-green-700 border-green-200":D.status==="pending"?"bg-yellow-50 text-yellow-700 border-yellow-200":"bg-blue-50 text-blue-700 border-blue-200",children:D.status==="completed"?"Concluída":D.status==="pending"?"Pendente":D.status})})]},D.id)),(!_||_.length===0)&&n.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"Nenhuma transferência encontrada."})]})})]})]})})}const X6e=j0("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),$s=E.forwardRef(({className:e,variant:t,...r},a)=>n.jsx("div",{ref:a,role:"alert",className:Ue(X6e({variant:t}),e),...r}));$s.displayName="Alert";const qi=E.forwardRef(({className:e,...t},r)=>n.jsx("h5",{ref:r,className:Ue("mb-1 font-medium leading-none tracking-tight",e),...t}));qi.displayName="AlertTitle";const Vs=E.forwardRef(({className:e,...t},r)=>n.jsx("div",{ref:r,className:Ue("text-sm [&_p]:leading-relaxed",e),...t}));Vs.displayName="AlertDescription";var mt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(mt||(mt={}));var BD=new Map([[mt.QR_CODE,"QR_CODE"],[mt.AZTEC,"AZTEC"],[mt.CODABAR,"CODABAR"],[mt.CODE_39,"CODE_39"],[mt.CODE_93,"CODE_93"],[mt.CODE_128,"CODE_128"],[mt.DATA_MATRIX,"DATA_MATRIX"],[mt.MAXICODE,"MAXICODE"],[mt.ITF,"ITF"],[mt.EAN_13,"EAN_13"],[mt.EAN_8,"EAN_8"],[mt.PDF_417,"PDF_417"],[mt.RSS_14,"RSS_14"],[mt.RSS_EXPANDED,"RSS_EXPANDED"],[mt.UPC_A,"UPC_A"],[mt.UPC_E,"UPC_E"],[mt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),$D;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})($D||($D={}));function Q6e(e){return Object.values(mt).includes(e)}var Md;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Md||(Md={}));var ho=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Md.SCAN_TYPE_CAMERA,Md.SCAN_TYPE_FILE],e}(),hK=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!BD.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,BD.get(t))},e}(),VD=function(){function e(){}return e.createFromText=function(t){var r={text:t};return{decodedText:t,result:r}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),FE;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(FE||(FE={}));var fK=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:FE.UNKWOWN_ERROR}},e}(),mK=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||r===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Wo(e){return typeof e>"u"||e===null}function Z6e(e,t,r){return e>r?r:e<t?t:e}var vf=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Fr=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),zD=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),pK=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if(typeof t!="object"){var a=typeof t;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(a,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],i=new Set(s),o=Object.keys(t),l=0,d=o;l<d.length;l++){var u=d[l];if(i.has(u))return r.logError("".concat(u," is not supported videoConstaints."),!0),!1}return!0},e}(),BE={exports:{}};(function(e,t){(function(r,a){a(t)})(Vl,function(r){function a(U){return U==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,c){U.__proto__=c}||function(U,c){for(var h in c)c.hasOwnProperty(h)&&(U[h]=c[h])};function i(U,c){s(U,c);function h(){this.constructor=U}U.prototype=c===null?Object.create(c):(h.prototype=c.prototype,new h)}function o(U,c){var h=Object.setPrototypeOf;h?h(U,c):U.__proto__=c}function l(U,c){c===void 0&&(c=U.constructor);var h=Error.captureStackTrace;h&&h(U,c)}var d=function(U){i(c,U);function c(h){var m=this.constructor,g=U.call(this,h)||this;return Object.defineProperty(g,"name",{value:m.name,enumerable:!1}),o(g,m.prototype),l(g),g}return c}(Error);class u extends d{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}u.kind="Exception";class f extends u{}f.kind="ArgumentException";class p extends u{}p.kind="IllegalArgumentException";class x{constructor(c){if(this.binarizer=c,c===null)throw new p("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,h){return this.binarizer.getBlackRow(c,h)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,h,m,g){const v=this.binarizer.getLuminanceSource().crop(c,h,m,g);return new x(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new x(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new x(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class y extends u{static getChecksumInstance(){return new y}}y.kind="ChecksumException";class j{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class w{static arraycopy(c,h,m,g,v){for(;v--;)m[g++]=c[h++]}static currentTimeMillis(){return Date.now()}}class C extends u{}C.kind="IndexOutOfBoundsException";class N extends C{constructor(c=void 0,h=void 0){super(h),this.index=c,this.message=h}}N.kind="ArrayIndexOutOfBoundsException";class S{static fill(c,h){for(let m=0,g=c.length;m<g;m++)c[m]=h}static fillWithin(c,h,m,g){S.rangeCheck(c.length,h,m);for(let v=h;v<m;v++)c[v]=g}static rangeCheck(c,h,m){if(h>m)throw new p("fromIndex("+h+") > toIndex("+m+")");if(h<0)throw new N(h);if(m>c)throw new N(m)}static asList(...c){return c}static create(c,h,m){return Array.from({length:c}).map(v=>Array.from({length:h}).fill(m))}static createInt32Array(c,h,m){return Array.from({length:c}).map(v=>Int32Array.from({length:h}).fill(m))}static equals(c,h){if(!c||!h||!c.length||!h.length||c.length!==h.length)return!1;for(let m=0,g=c.length;m<g;m++)if(c[m]!==h[m])return!1;return!0}static hashCode(c){if(c===null)return 0;let h=1;for(const m of c)h=31*h+m;return h}static fillUint8Array(c,h){for(let m=0;m!==c.length;m++)c[m]=h}static copyOf(c,h){return c.slice(0,h)}static copyOfUint8Array(c,h){if(c.length<=h){const m=new Uint8Array(h);return m.set(c),m}return c.slice(0,h)}static copyOfRange(c,h,m){const g=m-h,v=new Int32Array(g);return w.arraycopy(c,h,v,0,g),v}static binarySearch(c,h,m){m===void 0&&(m=S.numberComparator);let g=0,v=c.length-1;for(;g<=v;){const b=v+g>>1,A=m(h,c[b]);if(A>0)g=b+1;else if(A<0)v=b-1;else return b}return-g-1}static numberComparator(c,h){return c-h}}class _{static numberOfTrailingZeros(c){let h;if(c===0)return 32;let m=31;return h=c<<16,h!==0&&(m-=16,c=h),h=c<<8,h!==0&&(m-=8,c=h),h=c<<4,h!==0&&(m-=4,c=h),h=c<<2,h!==0&&(m-=2,c=h),m-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let h=1;return c>>>16||(h+=16,c<<=16),c>>>24||(h+=8,c<<=8),c>>>28||(h+=4,c<<=4),c>>>30||(h+=2,c<<=2),h-=c>>>31,h}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,h){return Math.trunc(c/h)}static parseInt(c,h=void 0){return parseInt(c,h)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=Number.MAX_SAFE_INTEGER;class I{constructor(c,h){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,h==null?this.bits=I.makeArray(c):this.bits=h)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const h=I.makeArray(c);w.arraycopy(this.bits,0,h,0,this.bits.length),this.bits=h}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const h=this.size;if(c>=h)return h;const m=this.bits;let g=Math.floor(c/32),v=m[g];v&=~((1<<(c&31))-1);const b=m.length;for(;v===0;){if(++g===b)return h;v=m[g]}const A=g*32+_.numberOfTrailingZeros(v);return A>h?h:A}getNextUnset(c){const h=this.size;if(c>=h)return h;const m=this.bits;let g=Math.floor(c/32),v=~m[g];v&=~((1<<(c&31))-1);const b=m.length;for(;v===0;){if(++g===b)return h;v=~m[g]}const A=g*32+_.numberOfTrailingZeros(v);return A>h?h:A}setBulk(c,h){this.bits[Math.floor(c/32)]=h}setRange(c,h){if(h<c||c<0||h>this.size)throw new p;if(h===c)return;h--;const m=Math.floor(c/32),g=Math.floor(h/32),v=this.bits;for(let b=m;b<=g;b++){const A=b>m?0:c&31,k=(2<<(b<g?31:h&31))-(1<<A);v[b]|=k}}clear(){const c=this.bits.length,h=this.bits;for(let m=0;m<c;m++)h[m]=0}isRange(c,h,m){if(h<c||c<0||h>this.size)throw new p;if(h===c)return!0;h--;const g=Math.floor(c/32),v=Math.floor(h/32),b=this.bits;for(let A=g;A<=v;A++){const P=A>g?0:c&31,F=(2<<(A<v?31:h&31))-(1<<P)&4294967295;if((b[A]&F)!==(m?F:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,h){if(h<0||h>32)throw new p("Num bits must be between 0 and 32");this.ensureCapacity(this.size+h);for(let m=h;m>0;m--)this.appendBit((c>>m-1&1)===1)}appendBitArray(c){const h=c.size;this.ensureCapacity(this.size+h);for(let m=0;m<h;m++)this.appendBit(c.get(m))}xor(c){if(this.size!==c.size)throw new p("Sizes don't match");const h=this.bits;for(let m=0,g=h.length;m<g;m++)h[m]^=c.bits[m]}toBytes(c,h,m,g){for(let v=0;v<g;v++){let b=0;for(let A=0;A<8;A++)this.get(c)&&(b|=1<<7-A),c++;h[m+v]=b}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),h=Math.floor((this.size-1)/32),m=h+1,g=this.bits;for(let v=0;v<m;v++){let b=g[v];b=b>>1&1431655765|(b&1431655765)<<1,b=b>>2&858993459|(b&858993459)<<2,b=b>>4&252645135|(b&252645135)<<4,b=b>>8&16711935|(b&16711935)<<8,b=b>>16&65535|(b&65535)<<16,c[h-v]=b}if(this.size!==m*32){const v=m*32-this.size;let b=c[0]>>>v;for(let A=1;A<m;A++){const P=c[A];b|=P<<32-v,c[A-1]=b,b=P>>>v}c[m-1]=b}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof I))return!1;const h=c;return this.size===h.size&&S.equals(this.bits,h.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let c="";for(let h=0,m=this.size;h<m;h++)h&7||(c+=" "),c+=this.get(h)?"X":".";return c}clone(){return new I(this.size,this.bits.slice())}}var T;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(T||(T={}));var M=T;class O extends u{static getFormatInstance(){return new O}}O.kind="FormatException";var D;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(D||(D={}));class R{constructor(c,h,m,...g){this.valueIdentifier=c,this.name=m,typeof h=="number"?this.values=Int32Array.from([h]):this.values=h,this.otherEncodingNames=g,R.VALUE_IDENTIFIER_TO_ECI.set(c,this),R.NAME_TO_ECI.set(m,this);const v=this.values;for(let b=0,A=v.length;b!==A;b++){const P=v[b];R.VALUES_TO_ECI.set(P,this)}for(const b of g)R.NAME_TO_ECI.set(b,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new O("incorect value");const h=R.VALUES_TO_ECI.get(c);if(h===void 0)throw new O("incorect value");return h}static getCharacterSetECIByName(c){const h=R.NAME_TO_ECI.get(c);if(h===void 0)throw new O("incorect value");return h}equals(c){if(!(c instanceof R))return!1;const h=c;return this.getName()===h.getName()}}R.VALUE_IDENTIFIER_TO_ECI=new Map,R.VALUES_TO_ECI=new Map,R.NAME_TO_ECI=new Map,R.Cp437=new R(D.Cp437,Int32Array.from([0,2]),"Cp437"),R.ISO8859_1=new R(D.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),R.ISO8859_2=new R(D.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),R.ISO8859_3=new R(D.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),R.ISO8859_4=new R(D.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),R.ISO8859_5=new R(D.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),R.ISO8859_6=new R(D.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),R.ISO8859_7=new R(D.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),R.ISO8859_8=new R(D.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),R.ISO8859_9=new R(D.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),R.ISO8859_10=new R(D.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),R.ISO8859_11=new R(D.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),R.ISO8859_13=new R(D.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),R.ISO8859_14=new R(D.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),R.ISO8859_15=new R(D.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),R.ISO8859_16=new R(D.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),R.SJIS=new R(D.SJIS,20,"SJIS","Shift_JIS"),R.Cp1250=new R(D.Cp1250,21,"Cp1250","windows-1250"),R.Cp1251=new R(D.Cp1251,22,"Cp1251","windows-1251"),R.Cp1252=new R(D.Cp1252,23,"Cp1252","windows-1252"),R.Cp1256=new R(D.Cp1256,24,"Cp1256","windows-1256"),R.UnicodeBigUnmarked=new R(D.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),R.UTF8=new R(D.UTF8,26,"UTF8","UTF-8"),R.ASCII=new R(D.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),R.Big5=new R(D.Big5,28,"Big5"),R.GB18030=new R(D.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),R.EUC_KR=new R(D.EUC_KR,30,"EUC_KR","EUC-KR");class V extends u{}V.kind="UnsupportedOperationException";class z{static decode(c,h){const m=this.encodingName(h);return this.customDecoder?this.customDecoder(c,m):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(m)?this.decodeFallback(c,m):new TextDecoder(m).decode(c)}static shouldDecodeOnFallback(c){return!z.isBrowser()&&c==="ISO-8859-1"}static encode(c,h){const m=this.encodingName(h);return this.customEncoder?this.customEncoder(c,m):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof R?c:R.getCharacterSetECIByName(c)}static decodeFallback(c,h){const m=this.encodingCharacterSet(h);if(z.isDecodeFallbackSupported(m)){let g="";for(let v=0,b=c.length;v<b;v++){let A=c[v].toString(16);A.length<2&&(A="0"+A),g+="%"+A}return decodeURIComponent(g)}if(m.equals(R.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new V(`Encoding ${this.encodingName(h)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(R.UTF8)||c.equals(R.ISO8859_1)||c.equals(R.ASCII)}static encodeFallback(c){const m=btoa(unescape(encodeURIComponent(c))).split(""),g=[];for(let v=0;v<m.length;v++)g.push(m[v].charCodeAt(0));return new Uint8Array(g)}}class B{static castAsNonUtf8Char(c,h=null){const m=h?h.getName():this.ISO88591;return z.decode(new Uint8Array([c]),m)}static guessEncoding(c,h){if(h!=null&&h.get(M.CHARACTER_SET)!==void 0)return h.get(M.CHARACTER_SET).toString();const m=c.length;let g=!0,v=!0,b=!0,A=0,P=0,k=0,F=0,W=0,K=0,ee=0,oe=0,ce=0,me=0,be=0;const He=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let qe=0;qe<m&&(g||v||b);qe++){const Fe=c[qe]&255;b&&(A>0?Fe&128?A--:b=!1:Fe&128&&(Fe&64?(A++,Fe&32?(A++,Fe&16?(A++,Fe&8?b=!1:F++):k++):P++):b=!1)),g&&(Fe>127&&Fe<160?g=!1:Fe>159&&(Fe<192||Fe===215||Fe===247)&&be++),v&&(W>0?Fe<64||Fe===127||Fe>252?v=!1:W--:Fe===128||Fe===160||Fe>239?v=!1:Fe>160&&Fe<224?(K++,oe=0,ee++,ee>ce&&(ce=ee)):Fe>127?(W++,ee=0,oe++,oe>me&&(me=oe)):(ee=0,oe=0))}return b&&A>0&&(b=!1),v&&W>0&&(v=!1),b&&(He||P+k+F>0)?B.UTF8:v&&(B.ASSUME_SHIFT_JIS||ce>=3||me>=3)?B.SHIFT_JIS:g&&v?ce===2&&K===2||be*10>=m?B.SHIFT_JIS:B.ISO88591:g?B.ISO88591:v?B.SHIFT_JIS:b?B.UTF8:B.PLATFORM_DEFAULT_ENCODING}static format(c,...h){let m=-1;function g(b,A,P,k,F,W){if(b==="%%")return"%";if(h[++m]===void 0)return;b=k?parseInt(k.substr(1)):void 0;let K=F?parseInt(F.substr(1)):void 0,ee;switch(W){case"s":ee=h[m];break;case"c":ee=h[m][0];break;case"f":ee=parseFloat(h[m]).toFixed(b);break;case"p":ee=parseFloat(h[m]).toPrecision(b);break;case"e":ee=parseFloat(h[m]).toExponential(b);break;case"x":ee=parseInt(h[m]).toString(K||16);break;case"d":ee=parseFloat(parseInt(h[m],K||10).toPrecision(b)).toFixed(0);break}ee=typeof ee=="object"?JSON.stringify(ee):(+ee).toString(K);let oe=parseInt(P),ce=P&&P[0]+""=="0"?"0":" ";for(;ee.length<oe;)ee=A!==void 0?ee+ce:ce+ee;return ee}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(v,g)}static getBytes(c,h){return z.encode(c,h)}static getCharCode(c,h=0){return c.charCodeAt(h)}static getCharAt(c){return String.fromCharCode(c)}}B.SHIFT_JIS=R.SJIS.getName(),B.GB2312="GB2312",B.ISO88591=R.ISO8859_1.getName(),B.EUC_JP="EUC_JP",B.UTF8=R.UTF8.getName(),B.PLATFORM_DEFAULT_ENCODING=B.UTF8,B.ASSUME_SHIFT_JIS=!1;class q{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=B.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,h,m){for(let g=h;h<h+m;g++)this.append(c[g]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+1)}substring(c,h){return this.value.substring(c,h)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,h){this.value=this.value.substr(0,c)+h+this.value.substr(c+h.length)}}class ${constructor(c,h,m,g){if(this.width=c,this.height=h,this.rowSize=m,this.bits=g,h==null&&(h=c),this.height=h,c<1||h<1)throw new p("Both dimensions must be greater than 0");m==null&&(m=Math.floor((c+31)/32)),this.rowSize=m,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const h=c.length,m=c[0].length,g=new $(m,h);for(let v=0;v<h;v++){const b=c[v];for(let A=0;A<m;A++)b[A]&&g.set(A,v)}return g}static parseFromString(c,h,m){if(c===null)throw new p("stringRepresentation cannot be null");const g=new Array(c.length);let v=0,b=0,A=-1,P=0,k=0;for(;k<c.length;)if(c.charAt(k)===`
`||c.charAt(k)==="\r"){if(v>b){if(A===-1)A=v-b;else if(v-b!==A)throw new p("row lengths do not match");b=v,P++}k++}else if(c.substring(k,k+h.length)===h)k+=h.length,g[v]=!0,v++;else if(c.substring(k,k+m.length)===m)k+=m.length,g[v]=!1,v++;else throw new p("illegal character encountered: "+c.substring(k));if(v>b){if(A===-1)A=v-b;else if(v-b!==A)throw new p("row lengths do not match");P++}const F=new $(A,P);for(let W=0;W<v;W++)g[W]&&F.set(Math.floor(W%A),Math.floor(W/A));return F}get(c,h){const m=h*this.rowSize+Math.floor(c/32);return(this.bits[m]>>>(c&31)&1)!==0}set(c,h){const m=h*this.rowSize+Math.floor(c/32);this.bits[m]|=1<<(c&31)&4294967295}unset(c,h){const m=h*this.rowSize+Math.floor(c/32);this.bits[m]&=~(1<<(c&31)&4294967295)}flip(c,h){const m=h*this.rowSize+Math.floor(c/32);this.bits[m]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new p("input matrix dimensions do not match");const h=new I(Math.floor(this.width/32)+1),m=this.rowSize,g=this.bits;for(let v=0,b=this.height;v<b;v++){const A=v*m,P=c.getRow(v,h).getBitArray();for(let k=0;k<m;k++)g[A+k]^=P[k]}}clear(){const c=this.bits,h=c.length;for(let m=0;m<h;m++)c[m]=0}setRegion(c,h,m,g){if(h<0||c<0)throw new p("Left and top must be nonnegative");if(g<1||m<1)throw new p("Height and width must be at least 1");const v=c+m,b=h+g;if(b>this.height||v>this.width)throw new p("The region must fit inside the matrix");const A=this.rowSize,P=this.bits;for(let k=h;k<b;k++){const F=k*A;for(let W=c;W<v;W++)P[F+Math.floor(W/32)]|=1<<(W&31)&4294967295}}getRow(c,h){h==null||h.getSize()<this.width?h=new I(this.width):h.clear();const m=this.rowSize,g=this.bits,v=c*m;for(let b=0;b<m;b++)h.setBulk(b*32,g[v+b]);return h}setRow(c,h){w.arraycopy(h.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),h=this.getHeight();let m=new I(c),g=new I(c);for(let v=0,b=Math.floor((h+1)/2);v<b;v++)m=this.getRow(v,m),g=this.getRow(h-1-v,g),m.reverse(),g.reverse(),this.setRow(v,g),this.setRow(h-1-v,m)}getEnclosingRectangle(){const c=this.width,h=this.height,m=this.rowSize,g=this.bits;let v=c,b=h,A=-1,P=-1;for(let k=0;k<h;k++)for(let F=0;F<m;F++){const W=g[k*m+F];if(W!==0){if(k<b&&(b=k),k>P&&(P=k),F*32<v){let K=0;for(;!(W<<31-K&4294967295);)K++;F*32+K<v&&(v=F*32+K)}if(F*32+31>A){let K=31;for(;!(W>>>K);)K--;F*32+K>A&&(A=F*32+K)}}}return A<v||P<b?null:Int32Array.from([v,b,A-v+1,P-b+1])}getTopLeftOnBit(){const c=this.rowSize,h=this.bits;let m=0;for(;m<h.length&&h[m]===0;)m++;if(m===h.length)return null;const g=m/c;let v=m%c*32;const b=h[m];let A=0;for(;!(b<<31-A&4294967295);)A++;return v+=A,Int32Array.from([v,g])}getBottomRightOnBit(){const c=this.rowSize,h=this.bits;let m=h.length-1;for(;m>=0&&h[m]===0;)m--;if(m<0)return null;const g=Math.floor(m/c);let v=Math.floor(m%c)*32;const b=h[m];let A=31;for(;!(b>>>A);)A--;return v+=A,Int32Array.from([v,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof $))return!1;const h=c;return this.width===h.width&&this.height===h.height&&this.rowSize===h.rowSize&&S.equals(this.bits,h.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+S.hashCode(this.bits),c}toString(c="X ",h="  ",m=`
`){return this.buildToString(c,h,m)}buildToString(c,h,m){let g=new q;for(let v=0,b=this.height;v<b;v++){for(let A=0,P=this.width;A<P;A++)g.append(this.get(A,v)?c:h);g.append(m)}return g.toString()}clone(){return new $(this.width,this.height,this.rowSize,this.bits.slice())}}class L extends u{static getNotFoundInstance(){return new L}}L.kind="NotFoundException";class H extends j{constructor(c){super(c),this.luminances=H.EMPTY,this.buckets=new Int32Array(H.LUMINANCE_BUCKETS)}getBlackRow(c,h){const m=this.getLuminanceSource(),g=m.getWidth();h==null||h.getSize()<g?h=new I(g):h.clear(),this.initArrays(g);const v=m.getRow(c,this.luminances),b=this.buckets;for(let P=0;P<g;P++)b[(v[P]&255)>>H.LUMINANCE_SHIFT]++;const A=H.estimateBlackPoint(b);if(g<3)for(let P=0;P<g;P++)(v[P]&255)<A&&h.set(P);else{let P=v[0]&255,k=v[1]&255;for(let F=1;F<g-1;F++){const W=v[F+1]&255;(k*4-P-W)/2<A&&h.set(F),P=k,k=W}}return h}getBlackMatrix(){const c=this.getLuminanceSource(),h=c.getWidth(),m=c.getHeight(),g=new $(h,m);this.initArrays(h);const v=this.buckets;for(let P=1;P<5;P++){const k=Math.floor(m*P/5),F=c.getRow(k,this.luminances),W=Math.floor(h*4/5);for(let K=Math.floor(h/5);K<W;K++){const ee=F[K]&255;v[ee>>H.LUMINANCE_SHIFT]++}}const b=H.estimateBlackPoint(v),A=c.getMatrix();for(let P=0;P<m;P++){const k=P*h;for(let F=0;F<h;F++)(A[k+F]&255)<b&&g.set(F,P)}return g}createBinarizer(c){return new H(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const h=this.buckets;for(let m=0;m<H.LUMINANCE_BUCKETS;m++)h[m]=0}static estimateBlackPoint(c){const h=c.length;let m=0,g=0,v=0;for(let F=0;F<h;F++)c[F]>v&&(g=F,v=c[F]),c[F]>m&&(m=c[F]);let b=0,A=0;for(let F=0;F<h;F++){const W=F-g,K=c[F]*W*W;K>A&&(b=F,A=K)}if(g>b){const F=g;g=b,b=F}if(b-g<=h/16)throw new L;let P=b-1,k=-1;for(let F=b-1;F>g;F--){const W=F-g,K=W*W*(b-F)*(m-c[F]);K>k&&(P=F,k=K)}return P<<H.LUMINANCE_SHIFT}}H.LUMINANCE_BITS=5,H.LUMINANCE_SHIFT=8-H.LUMINANCE_BITS,H.LUMINANCE_BUCKETS=1<<H.LUMINANCE_BITS,H.EMPTY=Uint8ClampedArray.from([0]);class G extends H{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),h=c.getWidth(),m=c.getHeight();if(h>=G.MINIMUM_DIMENSION&&m>=G.MINIMUM_DIMENSION){const g=c.getMatrix();let v=h>>G.BLOCK_SIZE_POWER;h&G.BLOCK_SIZE_MASK&&v++;let b=m>>G.BLOCK_SIZE_POWER;m&G.BLOCK_SIZE_MASK&&b++;const A=G.calculateBlackPoints(g,v,b,h,m),P=new $(h,m);G.calculateThresholdForBlock(g,v,b,h,m,A,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new G(c)}static calculateThresholdForBlock(c,h,m,g,v,b,A){const P=v-G.BLOCK_SIZE,k=g-G.BLOCK_SIZE;for(let F=0;F<m;F++){let W=F<<G.BLOCK_SIZE_POWER;W>P&&(W=P);const K=G.cap(F,2,m-3);for(let ee=0;ee<h;ee++){let oe=ee<<G.BLOCK_SIZE_POWER;oe>k&&(oe=k);const ce=G.cap(ee,2,h-3);let me=0;for(let He=-2;He<=2;He++){const qe=b[K+He];me+=qe[ce-2]+qe[ce-1]+qe[ce]+qe[ce+1]+qe[ce+2]}const be=me/25;G.thresholdBlock(c,oe,W,be,g,A)}}}static cap(c,h,m){return c<h?h:c>m?m:c}static thresholdBlock(c,h,m,g,v,b){for(let A=0,P=m*v+h;A<G.BLOCK_SIZE;A++,P+=v)for(let k=0;k<G.BLOCK_SIZE;k++)(c[P+k]&255)<=g&&b.set(h+k,m+A)}static calculateBlackPoints(c,h,m,g,v){const b=v-G.BLOCK_SIZE,A=g-G.BLOCK_SIZE,P=new Array(m);for(let k=0;k<m;k++){P[k]=new Int32Array(h);let F=k<<G.BLOCK_SIZE_POWER;F>b&&(F=b);for(let W=0;W<h;W++){let K=W<<G.BLOCK_SIZE_POWER;K>A&&(K=A);let ee=0,oe=255,ce=0;for(let be=0,He=F*g+K;be<G.BLOCK_SIZE;be++,He+=g){for(let qe=0;qe<G.BLOCK_SIZE;qe++){const Fe=c[He+qe]&255;ee+=Fe,Fe<oe&&(oe=Fe),Fe>ce&&(ce=Fe)}if(ce-oe>G.MIN_DYNAMIC_RANGE)for(be++,He+=g;be<G.BLOCK_SIZE;be++,He+=g)for(let qe=0;qe<G.BLOCK_SIZE;qe++)ee+=c[He+qe]&255}let me=ee>>G.BLOCK_SIZE_POWER*2;if(ce-oe<=G.MIN_DYNAMIC_RANGE&&(me=oe/2,k>0&&W>0)){const be=(P[k-1][W]+2*P[k][W-1]+P[k-1][W-1])/4;oe<be&&(me=be)}P[k][W]=me}}return P}}G.BLOCK_SIZE_POWER=3,G.BLOCK_SIZE=1<<G.BLOCK_SIZE_POWER,G.BLOCK_SIZE_MASK=G.BLOCK_SIZE-1,G.MINIMUM_DIMENSION=G.BLOCK_SIZE*5,G.MIN_DYNAMIC_RANGE=24;class Y{constructor(c,h){this.width=c,this.height=h}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,h,m,g){throw new V("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new V("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new V("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let h=new q;for(let m=0;m<this.height;m++){const g=this.getRow(m,c);for(let v=0;v<this.width;v++){const b=g[v]&255;let A;b<64?A="#":b<128?A="+":b<192?A=".":A=" ",h.append(A)}h.append(`
`)}return h.toString()}}class te extends Y{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,h){const m=this.delegate.getRow(c,h),g=this.getWidth();for(let v=0;v<g;v++)m[v]=255-(m[v]&255);return m}getMatrix(){const c=this.delegate.getMatrix(),h=this.getWidth()*this.getHeight(),m=new Uint8ClampedArray(h);for(let g=0;g<h;g++)m[g]=255-(c[g]&255);return m}isCropSupported(){return this.delegate.isCropSupported()}crop(c,h,m,g){return new te(this.delegate.crop(c,h,m,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new te(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new te(this.delegate.rotateCounterClockwise45())}}class X extends Y{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=X.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const h=c.getContext("2d").getImageData(0,0,c.width,c.height);return X.toGrayscaleBuffer(h.data,c.width,c.height)}static toGrayscaleBuffer(c,h,m){const g=new Uint8ClampedArray(h*m);for(let v=0,b=0,A=c.length;v<A;v+=4,b++){let P;if(c[v+3]===0)P=255;else{const F=c[v],W=c[v+1],K=c[v+2];P=306*F+601*W+117*K+512>>10}g[b]=P}return g}getRow(c,h){if(c<0||c>=this.getHeight())throw new p("Requested row is outside the image: "+c);const m=this.getWidth(),g=c*m;return h===null?h=this.buffer.slice(g,g+m):(h.length<m&&(h=new Uint8ClampedArray(m)),h.set(this.buffer.slice(g,g+m))),h}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,h,m,g){return super.crop(c,h,m,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const h=this.getTempCanvasElement(),m=h.getContext("2d"),g=c*X.DEGREE_TO_RADIANS,v=this.canvas.width,b=this.canvas.height,A=Math.ceil(Math.abs(Math.cos(g))*v+Math.abs(Math.sin(g))*b),P=Math.ceil(Math.abs(Math.sin(g))*v+Math.abs(Math.cos(g))*b);return h.width=A,h.height=P,m.translate(A/2,P/2),m.rotate(g),m.drawImage(this.canvas,v/-2,b/-2),this.buffer=X.makeBufferFromCanvasImageData(h),this}invert(){return new te(this)}}X.DEGREE_TO_RADIANS=Math.PI/180;class fe{constructor(c,h,m){this.deviceId=c,this.label=h,this.kind="videoinput",this.groupId=m||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var re=(globalThis||Vl||self||window||void 0)&&(globalThis||Vl||self||window||void 0).__awaiter||function(U,c,h,m){function g(v){return v instanceof h?v:new h(function(b){b(v)})}return new(h||(h=Promise))(function(v,b){function A(F){try{k(m.next(F))}catch(W){b(W)}}function P(F){try{k(m.throw(F))}catch(W){b(W)}}function k(F){F.done?v(F.value):g(F.value).then(A,P)}k((m=m.apply(U,c||[])).next())})};class se{constructor(c,h=500,m){this.reader=c,this.timeBetweenScansMillis=h,this._hints=m,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return re(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),h=[];for(const m of c){const g=m.kind==="video"?"videoinput":m.kind;if(g!=="videoinput")continue;const v=m.deviceId||m.id,b=m.label||`Video device ${h.length+1}`,A=m.groupId,P={deviceId:v,label:b,kind:g,groupId:A};h.push(P)}return h})}getVideoInputDevices(){return re(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(h=>new fe(h.deviceId,h.label))})}findDeviceById(c){return re(this,void 0,void 0,function*(){const h=yield this.listVideoInputDevices();return h?h.find(m=>m.deviceId===c):null})}decodeFromInputVideoDevice(c,h){return re(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,h)})}decodeOnceFromVideoDevice(c,h){return re(this,void 0,void 0,function*(){this.reset();let m;c?m={deviceId:{exact:c}}:m={facingMode:"environment"};const g={video:m};return yield this.decodeOnceFromConstraints(g,h)})}decodeOnceFromConstraints(c,h){return re(this,void 0,void 0,function*(){const m=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(m,h)})}decodeOnceFromStream(c,h){return re(this,void 0,void 0,function*(){this.reset();const m=yield this.attachStreamToVideo(c,h);return yield this.decodeOnce(m)})}decodeFromInputVideoDeviceContinuously(c,h,m){return re(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,h,m)})}decodeFromVideoDevice(c,h,m){return re(this,void 0,void 0,function*(){let g;c?g={deviceId:{exact:c}}:g={facingMode:"environment"};const v={video:g};return yield this.decodeFromConstraints(v,h,m)})}decodeFromConstraints(c,h,m){return re(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(g,h,m)})}decodeFromStream(c,h,m){return re(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(c,h);return yield this.decodeContinuously(g,m)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,h){return re(this,void 0,void 0,function*(){const m=this.prepareVideoElement(h);return this.addVideoSource(m,c),this.videoElement=m,this.stream=c,yield this.playVideoOnLoadAsync(m),m})}playVideoOnLoadAsync(c){return new Promise((h,m)=>this.playVideoOnLoad(c,()=>h()))}playVideoOnLoad(c,h){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",h),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return re(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,h){const m=document.getElementById(c);if(!m)throw new f(`element with id '${c}' not found`);if(m.nodeName.toLowerCase()!==h.toLowerCase())throw new f(`element with id '${c}' must be an ${h} element`);return m}decodeFromImage(c,h){if(!c&&!h)throw new f("either imageElement with a src set or an url must be provided");return h&&!c?this.decodeFromImageUrl(h):this.decodeFromImageElement(c)}decodeFromVideo(c,h){if(!c&&!h)throw new f("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrl(h):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,h,m){if(c===void 0&&h===void 0)throw new f("Either an element with a src set or an URL must be provided");return h&&!c?this.decodeFromVideoUrlContinuously(h,m):this.decodeFromVideoElementContinuously(c,m)}decodeFromImageElement(c){if(!c)throw new f("An image element must be provided.");this.reset();const h=this.prepareImageElement(c);this.imageElement=h;let m;return this.isImageLoaded(h)?m=this.decodeOnce(h,!1,!0):m=this._decodeOnLoadImage(h),m}decodeFromVideoElement(c){const h=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(h)}decodeFromVideoElementContinuously(c,h){const m=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(m,h)}_decodeFromVideoElementSetup(c){if(!c)throw new f("A video element must be provided.");this.reset();const h=this.prepareVideoElement(c);return this.videoElement=h,h}decodeFromImageUrl(c){if(!c)throw new f("An URL must be provided.");this.reset();const h=this.prepareImageElement();this.imageElement=h;const m=this._decodeOnLoadImage(h);return h.src=c,m}decodeFromVideoUrl(c){if(!c)throw new f("An URL must be provided.");this.reset();const h=this.prepareVideoElement(),m=this.decodeFromVideoElement(h);return h.src=c,m}decodeFromVideoUrlContinuously(c,h){if(!c)throw new f("An URL must be provided.");this.reset();const m=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(m,h);return m.src=c,g}_decodeOnLoadImage(c){return new Promise((h,m)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(h,m),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return re(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,h){return re(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,h)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let h;return typeof c>"u"&&(h=document.createElement("img"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(h=c),h}prepareVideoElement(c){let h;return!c&&typeof document<"u"&&(h=document.createElement("video"),h.width=200,h.height=200),typeof c=="string"&&(h=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(h=c),h.setAttribute("autoplay","true"),h.setAttribute("muted","true"),h.setAttribute("playsinline","true"),h}decodeOnce(c,h=!0,m=!0){this._stopAsyncDecode=!1;const g=(v,b)=>{if(this._stopAsyncDecode){b(new L("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const A=this.decode(c);v(A)}catch(A){const P=h&&A instanceof L,F=(A instanceof y||A instanceof O)&&m;if(P||F)return setTimeout(g,this._timeBetweenDecodingAttempts,v,b);b(A)}};return new Promise((v,b)=>g(v,b))}decodeContinuously(c,h){this._stopContinuousDecode=!1;const m=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(c);h(g,null),setTimeout(m,this.timeBetweenScansMillis)}catch(g){h(null,g);const v=g instanceof y||g instanceof O,b=g instanceof L;(v||b)&&setTimeout(m,this._timeBetweenDecodingAttempts)}};m()}decode(c){const h=this.createBinaryBitmap(c);return this.decodeBitmap(h)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,h,m){h||(h={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),m||(m=this.captureCanvasContext),m.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}drawImageOnCanvas(c,h,m=this.captureCanvasContext){h||(h={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),m||(m=this.captureCanvasContext),m.drawImage(c,h.sx,h.sy,h.sWidth,h.sHeight,h.dx,h.dy,h.dWidth,h.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const h=this.getCaptureCanvas(c),m=new X(h),g=new G(m);return new x(g)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const m=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=m}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const h=this.createCaptureCanvas(c);this.captureCanvas=h}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const h=document.createElement("canvas");let m,g;return typeof c<"u"&&(c instanceof HTMLVideoElement?(m=c.videoWidth,g=c.videoHeight):c instanceof HTMLImageElement&&(m=c.naturalWidth||c.width,g=c.naturalHeight||c.height)),h.style.width=m+"px",h.style.height=g+"px",h.width=m,h.height=g,h}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,h){try{c.srcObject=h}catch{c.src=URL.createObjectURL(h)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class Te{constructor(c,h,m=h==null?0:8*h.length,g,v,b=w.currentTimeMillis()){this.text=c,this.rawBytes=h,this.numBits=m,this.resultPoints=g,this.format=v,this.timestamp=b,this.text=c,this.rawBytes=h,m==null?this.numBits=h==null?0:8*h.length:this.numBits=m,this.resultPoints=g,this.format=v,this.resultMetadata=null,b==null?this.timestamp=w.currentTimeMillis():this.timestamp=b}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,h){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,h)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const h=this.resultPoints;if(h===null)this.resultPoints=c;else if(c!==null&&c.length>0){const m=new Array(h.length+c.length);w.arraycopy(h,0,m,0,h.length),w.arraycopy(c,0,m,h.length,c.length),this.resultPoints=m}}getTimestamp(){return this.timestamp}toString(){return this.text}}var vt;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(vt||(vt={}));var Me=vt,he;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(he||(he={}));var rt=he;class Ae{constructor(c,h,m,g,v=-1,b=-1){this.rawBytes=c,this.text=h,this.byteSegments=m,this.ecLevel=g,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=b,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Je{exp(c){return this.expTable[c]}log(c){if(c===0)throw new p;return this.logTable[c]}static addOrSubtract(c,h){return c^h}}class Ge{constructor(c,h){if(h.length===0)throw new p;this.field=c;const m=h.length;if(m>1&&h[0]===0){let g=1;for(;g<m&&h[g]===0;)g++;g===m?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(m-g),w.arraycopy(h,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const h=this.coefficients;let m;if(c===1){m=0;for(let b=0,A=h.length;b!==A;b++){const P=h[b];m=Je.addOrSubtract(m,P)}return m}m=h[0];const g=h.length,v=this.field;for(let b=1;b<g;b++)m=Je.addOrSubtract(v.multiply(c,m),h[b]);return m}addOrSubtract(c){if(!this.field.equals(c.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,m=c.coefficients;if(h.length>m.length){const b=h;h=m,m=b}let g=new Int32Array(m.length);const v=m.length-h.length;w.arraycopy(m,0,g,0,v);for(let b=v;b<m.length;b++)g[b]=Je.addOrSubtract(h[b-v],m[b]);return new Ge(this.field,g)}multiply(c){if(!this.field.equals(c.field))throw new p("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const h=this.coefficients,m=h.length,g=c.coefficients,v=g.length,b=new Int32Array(m+v-1),A=this.field;for(let P=0;P<m;P++){const k=h[P];for(let F=0;F<v;F++)b[P+F]=Je.addOrSubtract(b[P+F],A.multiply(k,g[F]))}return new Ge(A,b)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const h=this.coefficients.length,m=this.field,g=new Int32Array(h),v=this.coefficients;for(let b=0;b<h;b++)g[b]=m.multiply(v[b],c);return new Ge(m,g)}multiplyByMonomial(c,h){if(c<0)throw new p;if(h===0)return this.field.getZero();const m=this.coefficients,g=m.length,v=new Int32Array(g+c),b=this.field;for(let A=0;A<g;A++)v[A]=b.multiply(m[A],h);return new Ge(b,v)}divide(c){if(!this.field.equals(c.field))throw new p("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new p("Divide by 0");const h=this.field;let m=h.getZero(),g=this;const v=c.getCoefficient(c.getDegree()),b=h.inverse(v);for(;g.getDegree()>=c.getDegree()&&!g.isZero();){const A=g.getDegree()-c.getDegree(),P=h.multiply(g.getCoefficient(g.getDegree()),b),k=c.multiplyByMonomial(A,P),F=h.buildMonomial(A,P);m=m.addOrSubtract(F),g=g.addOrSubtract(k)}return[m,g]}toString(){let c="";for(let h=this.getDegree();h>=0;h--){let m=this.getCoefficient(h);if(m!==0){if(m<0?(c+=" - ",m=-m):c.length>0&&(c+=" + "),h===0||m!==1){const g=this.field.log(m);g===0?c+="1":g===1?c+="a":(c+="a^",c+=g)}h!==0&&(h===1?c+="x":(c+="x^",c+=h))}}return c}}class je extends u{}je.kind="ArithmeticException";class it extends Je{constructor(c,h,m){super(),this.primitive=c,this.size=h,this.generatorBase=m;const g=new Int32Array(h);let v=1;for(let A=0;A<h;A++)g[A]=v,v*=2,v>=h&&(v^=c,v&=h-1);this.expTable=g;const b=new Int32Array(h);for(let A=0;A<h-1;A++)b[g[A]]=A;this.logTable=b,this.zero=new Ge(this,Int32Array.from([0])),this.one=new Ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new p;if(h===0)return this.zero;const m=new Int32Array(c+1);return m[0]=h,new Ge(this,m)}inverse(c){if(c===0)throw new je;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+_.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}it.AZTEC_DATA_12=new it(4201,4096,1),it.AZTEC_DATA_10=new it(1033,1024,1),it.AZTEC_DATA_6=new it(67,64,1),it.AZTEC_PARAM=new it(19,16,1),it.QR_CODE_FIELD_256=new it(285,256,0),it.DATA_MATRIX_FIELD_256=new it(301,256,1),it.AZTEC_DATA_8=it.DATA_MATRIX_FIELD_256,it.MAXICODE_FIELD_64=it.AZTEC_DATA_6;class wt extends u{}wt.kind="ReedSolomonException";class nr extends u{}nr.kind="IllegalStateException";class pr{constructor(c){this.field=c}decode(c,h){const m=this.field,g=new Ge(m,c),v=new Int32Array(h);let b=!0;for(let ee=0;ee<h;ee++){const oe=g.evaluateAt(m.exp(ee+m.getGeneratorBase()));v[v.length-1-ee]=oe,oe!==0&&(b=!1)}if(b)return;const A=new Ge(m,v),P=this.runEuclideanAlgorithm(m.buildMonomial(h,1),A,h),k=P[0],F=P[1],W=this.findErrorLocations(k),K=this.findErrorMagnitudes(F,W);for(let ee=0;ee<W.length;ee++){const oe=c.length-1-m.log(W[ee]);if(oe<0)throw new wt("Bad error location");c[oe]=it.addOrSubtract(c[oe],K[ee])}}runEuclideanAlgorithm(c,h,m){if(c.getDegree()<h.getDegree()){const ee=c;c=h,h=ee}const g=this.field;let v=c,b=h,A=g.getZero(),P=g.getOne();for(;b.getDegree()>=(m/2|0);){let ee=v,oe=A;if(v=b,A=P,v.isZero())throw new wt("r_{i-1} was zero");b=ee;let ce=g.getZero();const me=v.getCoefficient(v.getDegree()),be=g.inverse(me);for(;b.getDegree()>=v.getDegree()&&!b.isZero();){const He=b.getDegree()-v.getDegree(),qe=g.multiply(b.getCoefficient(b.getDegree()),be);ce=ce.addOrSubtract(g.buildMonomial(He,qe)),b=b.addOrSubtract(v.multiplyByMonomial(He,qe))}if(P=ce.multiply(A).addOrSubtract(oe),b.getDegree()>=v.getDegree())throw new nr("Division algorithm failed to reduce polynomial?")}const k=P.getCoefficient(0);if(k===0)throw new wt("sigmaTilde(0) was zero");const F=g.inverse(k),W=P.multiplyScalar(F),K=b.multiplyScalar(F);return[W,K]}findErrorLocations(c){const h=c.getDegree();if(h===1)return Int32Array.from([c.getCoefficient(1)]);const m=new Int32Array(h);let g=0;const v=this.field;for(let b=1;b<v.getSize()&&g<h;b++)c.evaluateAt(b)===0&&(m[g]=v.inverse(b),g++);if(g!==h)throw new wt("Error locator degree does not match number of roots");return m}findErrorMagnitudes(c,h){const m=h.length,g=new Int32Array(m),v=this.field;for(let b=0;b<m;b++){const A=v.inverse(h[b]);let P=1;for(let k=0;k<m;k++)if(b!==k){const F=v.multiply(h[k],A),W=F&1?F&-2:F|1;P=v.multiply(P,W)}g[b]=v.multiply(c.evaluateAt(A),v.inverse(P)),v.getGeneratorBase()!==0&&(g[b]=v.multiply(g[b],A))}return g}}var Gt;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})(Gt||(Gt={}));class Ee{decode(c){this.ddata=c;let h=c.getBits(),m=this.extractBits(h),g=this.correctBits(m),v=Ee.convertBoolArrayToByteArray(g),b=Ee.getEncodedData(g),A=new Ae(v,b,null,null);return A.setNumBits(g.length),A}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let h=c.length,m=Gt.UPPER,g=Gt.UPPER,v="",b=0;for(;b<h;)if(g===Gt.BINARY){if(h-b<5)break;let A=Ee.readCode(c,b,5);if(b+=5,A===0){if(h-b<11)break;A=Ee.readCode(c,b,11)+31,b+=11}for(let P=0;P<A;P++){if(h-b<8){b=h;break}const k=Ee.readCode(c,b,8);v+=B.castAsNonUtf8Char(k),b+=8}g=m}else{let A=g===Gt.DIGIT?4:5;if(h-b<A)break;let P=Ee.readCode(c,b,A);b+=A;let k=Ee.getCharacter(g,P);k.startsWith("CTRL_")?(m=g,g=Ee.getTable(k.charAt(5)),k.charAt(6)==="L"&&(m=g)):(v+=k,g=m)}return v}static getTable(c){switch(c){case"L":return Gt.LOWER;case"P":return Gt.PUNCT;case"M":return Gt.MIXED;case"D":return Gt.DIGIT;case"B":return Gt.BINARY;case"U":default:return Gt.UPPER}}static getCharacter(c,h){switch(c){case Gt.UPPER:return Ee.UPPER_TABLE[h];case Gt.LOWER:return Ee.LOWER_TABLE[h];case Gt.MIXED:return Ee.MIXED_TABLE[h];case Gt.PUNCT:return Ee.PUNCT_TABLE[h];case Gt.DIGIT:return Ee.DIGIT_TABLE[h];default:throw new nr("Bad table")}}correctBits(c){let h,m;this.ddata.getNbLayers()<=2?(m=6,h=it.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(m=8,h=it.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(m=10,h=it.AZTEC_DATA_10):(m=12,h=it.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),v=c.length/m;if(v<g)throw new O;let b=c.length%m,A=new Int32Array(v);for(let K=0;K<v;K++,b+=m)A[K]=Ee.readCode(c,b,m);try{new pr(h).decode(A,v-g)}catch(K){throw new O(K)}let P=(1<<m)-1,k=0;for(let K=0;K<g;K++){let ee=A[K];if(ee===0||ee===P)throw new O;(ee===1||ee===P-1)&&k++}let F=new Array(g*m-k),W=0;for(let K=0;K<g;K++){let ee=A[K];if(ee===1||ee===P-1)F.fill(ee>1,W,W+m-1),W+=m-1;else for(let oe=m-1;oe>=0;--oe)F[W++]=(ee&1<<oe)!==0}return F}extractBits(c){let h=this.ddata.isCompact(),m=this.ddata.getNbLayers(),g=(h?11:14)+m*4,v=new Int32Array(g),b=new Array(this.totalBitsInLayer(m,h));if(h)for(let A=0;A<v.length;A++)v[A]=A;else{let A=g+1+2*_.truncDivision(_.truncDivision(g,2)-1,15),P=g/2,k=_.truncDivision(A,2);for(let F=0;F<P;F++){let W=F+_.truncDivision(F,15);v[P-F-1]=k-W-1,v[P+F]=k+W+1}}for(let A=0,P=0;A<m;A++){let k=(m-A)*4+(h?9:12),F=A*2,W=g-1-F;for(let K=0;K<k;K++){let ee=K*2;for(let oe=0;oe<2;oe++)b[P+ee+oe]=c.get(v[F+oe],v[F+K]),b[P+2*k+ee+oe]=c.get(v[F+K],v[W-oe]),b[P+4*k+ee+oe]=c.get(v[W-oe],v[W-K]),b[P+6*k+ee+oe]=c.get(v[W-K],v[F+oe])}P+=k*8}return b}static readCode(c,h,m){let g=0;for(let v=h;v<h+m;v++)g<<=1,c[v]&&(g|=1);return g}static readByte(c,h){let m=c.length-h;return m>=8?Ee.readCode(c,h,8):Ee.readCode(c,h,m)<<8-m}static convertBoolArrayToByteArray(c){let h=new Uint8Array((c.length+7)/8);for(let m=0;m<h.length;m++)h[m]=Ee.readByte(c,8*m);return h}totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}Ee.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ee.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ee.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ee.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ee.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ot{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,h,m,g){const v=c-m,b=h-g;return Math.sqrt(v*v+b*b)}static sum(c){let h=0;for(let m=0,g=c.length;m!==g;m++){const v=c[m];h+=v}return h}}class ia{static floatToIntBits(c){return c}}ia.MAX_VALUE=Number.MAX_SAFE_INTEGER;class st{constructor(c,h){this.x=c,this.y=h}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof st){const h=c;return this.x===h.x&&this.y===h.y}return!1}hashCode(){return 31*ia.floatToIntBits(this.x)+ia.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const h=this.distance(c[0],c[1]),m=this.distance(c[1],c[2]),g=this.distance(c[0],c[2]);let v,b,A;if(m>=h&&m>=g?(b=c[0],v=c[1],A=c[2]):g>=m&&g>=h?(b=c[1],v=c[0],A=c[2]):(b=c[2],v=c[0],A=c[1]),this.crossProductZ(v,b,A)<0){const P=v;v=A,A=P}c[0]=v,c[1]=b,c[2]=A}static distance(c,h){return ot.distance(c.x,c.y,h.x,h.y)}static crossProductZ(c,h,m){const g=h.x,v=h.y;return(m.x-g)*(c.y-v)-(m.y-v)*(c.x-g)}}class ie{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class xe extends ie{constructor(c,h,m,g,v){super(c,h),this.compact=m,this.nbDatablocks=g,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ne{constructor(c,h,m,g){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),h==null&&(h=Ne.INIT_SIZE),m==null&&(m=c.getWidth()/2|0),g==null&&(g=c.getHeight()/2|0);const v=h/2|0;if(this.leftInit=m-v,this.rightInit=m+v,this.upInit=g-v,this.downInit=g+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new L}detect(){let c=this.leftInit,h=this.rightInit,m=this.upInit,g=this.downInit,v=!1,b=!0,A=!1,P=!1,k=!1,F=!1,W=!1;const K=this.width,ee=this.height;for(;b;){b=!1;let oe=!0;for(;(oe||!P)&&h<K;)oe=this.containsBlackPoint(m,g,h,!1),oe?(h++,b=!0,P=!0):P||h++;if(h>=K){v=!0;break}let ce=!0;for(;(ce||!k)&&g<ee;)ce=this.containsBlackPoint(c,h,g,!0),ce?(g++,b=!0,k=!0):k||g++;if(g>=ee){v=!0;break}let me=!0;for(;(me||!F)&&c>=0;)me=this.containsBlackPoint(m,g,c,!1),me?(c--,b=!0,F=!0):F||c--;if(c<0){v=!0;break}let be=!0;for(;(be||!W)&&m>=0;)be=this.containsBlackPoint(c,h,m,!0),be?(m--,b=!0,W=!0):W||m--;if(m<0){v=!0;break}b&&(A=!0)}if(!v&&A){const oe=h-c;let ce=null;for(let qe=1;ce===null&&qe<oe;qe++)ce=this.getBlackPointOnSegment(c,g-qe,c+qe,g);if(ce==null)throw new L;let me=null;for(let qe=1;me===null&&qe<oe;qe++)me=this.getBlackPointOnSegment(c,m+qe,c+qe,m);if(me==null)throw new L;let be=null;for(let qe=1;be===null&&qe<oe;qe++)be=this.getBlackPointOnSegment(h,m+qe,h-qe,m);if(be==null)throw new L;let He=null;for(let qe=1;He===null&&qe<oe;qe++)He=this.getBlackPointOnSegment(h,g-qe,h-qe,g);if(He==null)throw new L;return this.centerEdges(He,ce,be,me)}else throw new L}getBlackPointOnSegment(c,h,m,g){const v=ot.round(ot.distance(c,h,m,g)),b=(m-c)/v,A=(g-h)/v,P=this.image;for(let k=0;k<v;k++){const F=ot.round(c+k*b),W=ot.round(h+k*A);if(P.get(F,W))return new st(F,W)}return null}centerEdges(c,h,m,g){const v=c.getX(),b=c.getY(),A=h.getX(),P=h.getY(),k=m.getX(),F=m.getY(),W=g.getX(),K=g.getY(),ee=Ne.CORR;return v<this.width/2?[new st(W-ee,K+ee),new st(A+ee,P+ee),new st(k-ee,F-ee),new st(v+ee,b-ee)]:[new st(W+ee,K+ee),new st(A+ee,P-ee),new st(k-ee,F+ee),new st(v-ee,b-ee)]}containsBlackPoint(c,h,m,g){const v=this.image;if(g){for(let b=c;b<=h;b++)if(v.get(b,m))return!0}else for(let b=c;b<=h;b++)if(v.get(m,b))return!0;return!1}}Ne.INIT_SIZE=10,Ne.CORR=1;class et{static checkAndNudgePoints(c,h){const m=c.getWidth(),g=c.getHeight();let v=!0;for(let b=0;b<h.length&&v;b+=2){const A=Math.floor(h[b]),P=Math.floor(h[b+1]);if(A<-1||A>m||P<-1||P>g)throw new L;v=!1,A===-1?(h[b]=0,v=!0):A===m&&(h[b]=m-1,v=!0),P===-1?(h[b+1]=0,v=!0):P===g&&(h[b+1]=g-1,v=!0)}v=!0;for(let b=h.length-2;b>=0&&v;b-=2){const A=Math.floor(h[b]),P=Math.floor(h[b+1]);if(A<-1||A>m||P<-1||P>g)throw new L;v=!1,A===-1?(h[b]=0,v=!0):A===m&&(h[b]=m-1,v=!0),P===-1?(h[b+1]=0,v=!0):P===g&&(h[b+1]=g-1,v=!0)}}}class Ye{constructor(c,h,m,g,v,b,A,P,k){this.a11=c,this.a21=h,this.a31=m,this.a12=g,this.a22=v,this.a32=b,this.a13=A,this.a23=P,this.a33=k}static quadrilateralToQuadrilateral(c,h,m,g,v,b,A,P,k,F,W,K,ee,oe,ce,me){const be=Ye.quadrilateralToSquare(c,h,m,g,v,b,A,P);return Ye.squareToQuadrilateral(k,F,W,K,ee,oe,ce,me).times(be)}transformPoints(c){const h=c.length,m=this.a11,g=this.a12,v=this.a13,b=this.a21,A=this.a22,P=this.a23,k=this.a31,F=this.a32,W=this.a33;for(let K=0;K<h;K+=2){const ee=c[K],oe=c[K+1],ce=v*ee+P*oe+W;c[K]=(m*ee+b*oe+k)/ce,c[K+1]=(g*ee+A*oe+F)/ce}}transformPointsWithValues(c,h){const m=this.a11,g=this.a12,v=this.a13,b=this.a21,A=this.a22,P=this.a23,k=this.a31,F=this.a32,W=this.a33,K=c.length;for(let ee=0;ee<K;ee++){const oe=c[ee],ce=h[ee],me=v*oe+P*ce+W;c[ee]=(m*oe+b*ce+k)/me,h[ee]=(g*oe+A*ce+F)/me}}static squareToQuadrilateral(c,h,m,g,v,b,A,P){const k=c-m+v-A,F=h-g+b-P;if(k===0&&F===0)return new Ye(m-c,v-m,c,g-h,b-g,h,0,0,1);{const W=m-v,K=A-v,ee=g-b,oe=P-b,ce=W*oe-K*ee,me=(k*oe-K*F)/ce,be=(W*F-k*ee)/ce;return new Ye(m-c+me*m,A-c+be*A,c,g-h+me*g,P-h+be*P,h,me,be,1)}}static quadrilateralToSquare(c,h,m,g,v,b,A,P){return Ye.squareToQuadrilateral(c,h,m,g,v,b,A,P).buildAdjoint()}buildAdjoint(){return new Ye(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new Ye(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class Ke extends et{sampleGrid(c,h,m,g,v,b,A,P,k,F,W,K,ee,oe,ce,me,be,He,qe){const Fe=Ye.quadrilateralToQuadrilateral(g,v,b,A,P,k,F,W,K,ee,oe,ce,me,be,He,qe);return this.sampleGridWithTransform(c,h,m,Fe)}sampleGridWithTransform(c,h,m,g){if(h<=0||m<=0)throw new L;const v=new $(h,m),b=new Float32Array(2*h);for(let A=0;A<m;A++){const P=b.length,k=A+.5;for(let F=0;F<P;F+=2)b[F]=F/2+.5,b[F+1]=k;g.transformPoints(b),et.checkAndNudgePoints(c,b);try{for(let F=0;F<P;F+=2)c.get(Math.floor(b[F]),Math.floor(b[F+1]))&&v.set(F/2,A)}catch{throw new L}}return v}}class ct{static setGridSampler(c){ct.gridSampler=c}static getInstance(){return ct.gridSampler}}ct.gridSampler=new Ke;class Vt{constructor(c,h){this.x=c,this.y=h}toResultPoint(){return new st(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Cn{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let h=this.getMatrixCenter(),m=this.getBullsEyeCorners(h);if(c){let b=m[0];m[0]=m[2],m[2]=b}this.extractParameters(m);let g=this.sampleGrid(this.image,m[this.shift%4],m[(this.shift+1)%4],m[(this.shift+2)%4],m[(this.shift+3)%4]),v=this.getMatrixCornerPoints(m);return new xe(g,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new L;let h=2*this.nbCenterLayers,m=new Int32Array([this.sampleLine(c[0],c[1],h),this.sampleLine(c[1],c[2],h),this.sampleLine(c[2],c[3],h),this.sampleLine(c[3],c[0],h)]);this.shift=this.getRotation(m,h);let g=0;for(let b=0;b<4;b++){let A=m[(this.shift+b)%4];this.compact?(g<<=7,g+=A>>1&127):(g<<=10,g+=(A>>2&992)+(A>>1&31))}let v=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(c,h){let m=0;c.forEach((g,v,b)=>{let A=(g>>h-2<<1)+(g&1);m=(m<<3)+A}),m=((m&1)<<11)+(m>>1);for(let g=0;g<4;g++)if(_.bitCount(m^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new L}getCorrectedParameterData(c,h){let m,g;h?(m=7,g=2):(m=10,g=4);let v=m-g,b=new Int32Array(m);for(let P=m-1;P>=0;--P)b[P]=c&15,c>>=4;try{new pr(it.AZTEC_PARAM).decode(b,v)}catch{throw new L}let A=0;for(let P=0;P<g;P++)A=(A<<4)+b[P];return A}getBullsEyeCorners(c){let h=c,m=c,g=c,v=c,b=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let W=this.getFirstDifferent(h,b,1,-1),K=this.getFirstDifferent(m,b,1,1),ee=this.getFirstDifferent(g,b,-1,1),oe=this.getFirstDifferent(v,b,-1,-1);if(this.nbCenterLayers>2){let ce=this.distancePoint(oe,W)*this.nbCenterLayers/(this.distancePoint(v,h)*(this.nbCenterLayers+2));if(ce<.75||ce>1.25||!this.isWhiteOrBlackRectangle(W,K,ee,oe))break}h=W,m=K,g=ee,v=oe,b=!b}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new L;this.compact=this.nbCenterLayers===5;let A=new st(h.getX()+.5,h.getY()-.5),P=new st(m.getX()+.5,m.getY()+.5),k=new st(g.getX()-.5,g.getY()+.5),F=new st(v.getX()-.5,v.getY()-.5);return this.expandSquare([A,P,k,F],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,h,m,g;try{let A=new Ne(this.image).detect();c=A[0],h=A[1],m=A[2],g=A[3]}catch{let P=this.image.getWidth()/2,k=this.image.getHeight()/2;c=this.getFirstDifferent(new Vt(P+7,k-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Vt(P+7,k+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Vt(P-7,k+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Vt(P-7,k-7),!1,-1,-1).toResultPoint()}let v=ot.round((c.getX()+g.getX()+h.getX()+m.getX())/4),b=ot.round((c.getY()+g.getY()+h.getY()+m.getY())/4);try{let A=new Ne(this.image,15,v,b).detect();c=A[0],h=A[1],m=A[2],g=A[3]}catch{c=this.getFirstDifferent(new Vt(v+7,b-7),!1,1,-1).toResultPoint(),h=this.getFirstDifferent(new Vt(v+7,b+7),!1,1,1).toResultPoint(),m=this.getFirstDifferent(new Vt(v-7,b+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Vt(v-7,b-7),!1,-1,-1).toResultPoint()}return v=ot.round((c.getX()+g.getX()+h.getX()+m.getX())/4),b=ot.round((c.getY()+g.getY()+h.getY()+m.getY())/4),new Vt(v,b)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,h,m,g,v){let b=ct.getInstance(),A=this.getDimension(),P=A/2-this.nbCenterLayers,k=A/2+this.nbCenterLayers;return b.sampleGrid(c,A,A,P,P,k,P,k,k,P,k,h.getX(),h.getY(),m.getX(),m.getY(),g.getX(),g.getY(),v.getX(),v.getY())}sampleLine(c,h,m){let g=0,v=this.distanceResultPoint(c,h),b=v/m,A=c.getX(),P=c.getY(),k=b*(h.getX()-c.getX())/v,F=b*(h.getY()-c.getY())/v;for(let W=0;W<m;W++)this.image.get(ot.round(A+W*k),ot.round(P+W*F))&&(g|=1<<m-W-1);return g}isWhiteOrBlackRectangle(c,h,m,g){let v=3;c=new Vt(c.getX()-v,c.getY()+v),h=new Vt(h.getX()-v,h.getY()-v),m=new Vt(m.getX()+v,m.getY()-v),g=new Vt(g.getX()+v,g.getY()+v);let b=this.getColor(g,c);if(b===0)return!1;let A=this.getColor(c,h);return A!==b||(A=this.getColor(h,m),A!==b)?!1:(A=this.getColor(m,g),A===b)}getColor(c,h){let m=this.distancePoint(c,h),g=(h.getX()-c.getX())/m,v=(h.getY()-c.getY())/m,b=0,A=c.getX(),P=c.getY(),k=this.image.get(c.getX(),c.getY()),F=Math.ceil(m);for(let K=0;K<F;K++)A+=g,P+=v,this.image.get(ot.round(A),ot.round(P))!==k&&b++;let W=b/m;return W>.1&&W<.9?0:W<=.1===k?1:-1}getFirstDifferent(c,h,m,g){let v=c.getX()+m,b=c.getY()+g;for(;this.isValid(v,b)&&this.image.get(v,b)===h;)v+=m,b+=g;for(v-=m,b-=g;this.isValid(v,b)&&this.image.get(v,b)===h;)v+=m;for(v-=m;this.isValid(v,b)&&this.image.get(v,b)===h;)b+=g;return b-=g,new Vt(v,b)}expandSquare(c,h,m){let g=m/(2*h),v=c[0].getX()-c[2].getX(),b=c[0].getY()-c[2].getY(),A=(c[0].getX()+c[2].getX())/2,P=(c[0].getY()+c[2].getY())/2,k=new st(A+g*v,P+g*b),F=new st(A-g*v,P-g*b);v=c[1].getX()-c[3].getX(),b=c[1].getY()-c[3].getY(),A=(c[1].getX()+c[3].getX())/2,P=(c[1].getY()+c[3].getY())/2;let W=new st(A+g*v,P+g*b),K=new st(A-g*v,P-g*b);return[k,W,F,K]}isValid(c,h){return c>=0&&c<this.image.getWidth()&&h>0&&h<this.image.getHeight()}isValidPoint(c){let h=ot.round(c.getX()),m=ot.round(c.getY());return this.isValid(h,m)}distancePoint(c,h){return ot.distance(c.getX(),c.getY(),h.getX(),h.getY())}distanceResultPoint(c,h){return ot.distance(c.getX(),c.getY(),h.getX(),h.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class zn{decode(c,h=null){let m=null,g=new Cn(c.getBlackMatrix()),v=null,b=null;try{let F=g.detectMirror(!1);v=F.getPoints(),this.reportFoundResultPoints(h,v),b=new Ee().decode(F)}catch(F){m=F}if(b==null)try{let F=g.detectMirror(!0);v=F.getPoints(),this.reportFoundResultPoints(h,v),b=new Ee().decode(F)}catch(F){throw m??F}let A=new Te(b.getText(),b.getRawBytes(),b.getNumBits(),v,Me.AZTEC,w.currentTimeMillis()),P=b.getByteSegments();P!=null&&A.putMetadata(rt.BYTE_SEGMENTS,P);let k=b.getECLevel();return k!=null&&A.putMetadata(rt.ERROR_CORRECTION_LEVEL,k),A}reportFoundResultPoints(c,h){if(c!=null){let m=c.get(M.NEED_RESULT_POINT_CALLBACK);m!=null&&h.forEach((g,v,b)=>{m.foundPossibleResultPoint(g)})}}reset(){}}class Hj extends se{constructor(c=500){super(new zn,c)}}class pn{decode(c,h){try{return this.doDecode(c,h)}catch{if(h&&h.get(M.TRY_HARDER)===!0&&c.isRotateSupported()){const v=c.rotateCounterClockwise(),b=this.doDecode(v,h),A=b.getResultMetadata();let P=270;A!==null&&A.get(rt.ORIENTATION)===!0&&(P=P+A.get(rt.ORIENTATION)%360),b.putMetadata(rt.ORIENTATION,P);const k=b.getResultPoints();if(k!==null){const F=v.getHeight();for(let W=0;W<k.length;W++)k[W]=new st(F-k[W].getY()-1,k[W].getX())}return b}else throw new L}}reset(){}doDecode(c,h){const m=c.getWidth(),g=c.getHeight();let v=new I(m);const b=h&&h.get(M.TRY_HARDER)===!0,A=Math.max(1,g>>(b?8:5));let P;b?P=g:P=15;const k=Math.trunc(g/2);for(let F=0;F<P;F++){const W=Math.trunc((F+1)/2),K=(F&1)===0,ee=k+A*(K?W:-W);if(ee<0||ee>=g)break;try{v=c.getBlackRow(ee,v)}catch{continue}for(let oe=0;oe<2;oe++){if(oe===1&&(v.reverse(),h&&h.get(M.NEED_RESULT_POINT_CALLBACK)===!0)){const ce=new Map;h.forEach((me,be)=>ce.set(be,me)),ce.delete(M.NEED_RESULT_POINT_CALLBACK),h=ce}try{const ce=this.decodeRow(ee,v,h);if(oe===1){ce.putMetadata(rt.ORIENTATION,180);const me=ce.getResultPoints();me!==null&&(me[0]=new st(m-me[0].getX()-1,me[0].getY()),me[1]=new st(m-me[1].getX()-1,me[1].getY()))}return ce}catch{}}}throw new L}static recordPattern(c,h,m){const g=m.length;for(let k=0;k<g;k++)m[k]=0;const v=c.getSize();if(h>=v)throw new L;let b=!c.get(h),A=0,P=h;for(;P<v;){if(c.get(P)!==b)m[A]++;else{if(++A===g)break;m[A]=1,b=!b}P++}if(!(A===g||A===g-1&&P===v))throw new L}static recordPatternInReverse(c,h,m){let g=m.length,v=c.get(h);for(;h>0&&g>=0;)c.get(--h)!==v&&(g--,v=!v);if(g>=0)throw new L;pn.recordPattern(c,h+1,m)}static patternMatchVariance(c,h,m){const g=c.length;let v=0,b=0;for(let k=0;k<g;k++)v+=c[k],b+=h[k];if(v<b)return Number.POSITIVE_INFINITY;const A=v/b;m*=A;let P=0;for(let k=0;k<g;k++){const F=c[k],W=h[k]*A,K=F>W?F-W:W-F;if(K>m)return Number.POSITIVE_INFINITY;P+=K}return P/v}}class Xe extends pn{static findStartPattern(c){const h=c.getSize(),m=c.getNextSet(0);let g=0,v=Int32Array.from([0,0,0,0,0,0]),b=m,A=!1;const P=6;for(let k=m;k<h;k++)if(c.get(k)!==A)v[g]++;else{if(g===P-1){let F=Xe.MAX_AVG_VARIANCE,W=-1;for(let K=Xe.CODE_START_A;K<=Xe.CODE_START_C;K++){const ee=pn.patternMatchVariance(v,Xe.CODE_PATTERNS[K],Xe.MAX_INDIVIDUAL_VARIANCE);ee<F&&(F=ee,W=K)}if(W>=0&&c.isRange(Math.max(0,b-(k-b)/2),b,!1))return Int32Array.from([b,k,W]);b+=v[0]+v[1],v=v.slice(2,v.length-1),v[g-1]=0,v[g]=0,g--}else g++;v[g]=1,A=!A}throw new L}static decodeCode(c,h,m){pn.recordPattern(c,m,h);let g=Xe.MAX_AVG_VARIANCE,v=-1;for(let b=0;b<Xe.CODE_PATTERNS.length;b++){const A=Xe.CODE_PATTERNS[b],P=this.patternMatchVariance(h,A,Xe.MAX_INDIVIDUAL_VARIANCE);P<g&&(g=P,v=b)}if(v>=0)return v;throw new L}decodeRow(c,h,m){const g=m&&m.get(M.ASSUME_GS1)===!0,v=Xe.findStartPattern(h),b=v[2];let A=0;const P=new Uint8Array(20);P[A++]=b;let k;switch(b){case Xe.CODE_START_A:k=Xe.CODE_CODE_A;break;case Xe.CODE_START_B:k=Xe.CODE_CODE_B;break;case Xe.CODE_START_C:k=Xe.CODE_CODE_C;break;default:throw new O}let F=!1,W=!1,K="",ee=v[0],oe=v[1];const ce=Int32Array.from([0,0,0,0,0,0]);let me=0,be=0,He=b,qe=0,Fe=!0,xr=!1,Xt=!1;for(;!F;){const Ih=W;switch(W=!1,me=be,be=Xe.decodeCode(h,ce,oe),P[A++]=be,be!==Xe.CODE_STOP&&(Fe=!0),be!==Xe.CODE_STOP&&(qe++,He+=qe*be),ee=oe,oe+=ce.reduce((BY,$Y)=>BY+$Y,0),be){case Xe.CODE_START_A:case Xe.CODE_START_B:case Xe.CODE_START_C:throw new O}switch(k){case Xe.CODE_CODE_A:if(be<64)Xt===xr?K+=String.fromCharCode(32+be):K+=String.fromCharCode(32+be+128),Xt=!1;else if(be<96)Xt===xr?K+=String.fromCharCode(be-64):K+=String.fromCharCode(be+64),Xt=!1;else switch(be!==Xe.CODE_STOP&&(Fe=!1),be){case Xe.CODE_FNC_1:g&&(K.length===0?K+="]C1":K+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_A:!xr&&Xt?(xr=!0,Xt=!1):xr&&Xt?(xr=!1,Xt=!1):Xt=!0;break;case Xe.CODE_SHIFT:W=!0,k=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_B:k=Xe.CODE_CODE_B;break;case Xe.CODE_CODE_C:k=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:F=!0;break}break;case Xe.CODE_CODE_B:if(be<96)Xt===xr?K+=String.fromCharCode(32+be):K+=String.fromCharCode(32+be+128),Xt=!1;else switch(be!==Xe.CODE_STOP&&(Fe=!1),be){case Xe.CODE_FNC_1:g&&(K.length===0?K+="]C1":K+="");break;case Xe.CODE_FNC_2:case Xe.CODE_FNC_3:break;case Xe.CODE_FNC_4_B:!xr&&Xt?(xr=!0,Xt=!1):xr&&Xt?(xr=!1,Xt=!1):Xt=!0;break;case Xe.CODE_SHIFT:W=!0,k=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_A:k=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_C:k=Xe.CODE_CODE_C;break;case Xe.CODE_STOP:F=!0;break}break;case Xe.CODE_CODE_C:if(be<100)be<10&&(K+="0"),K+=be;else switch(be!==Xe.CODE_STOP&&(Fe=!1),be){case Xe.CODE_FNC_1:g&&(K.length===0?K+="]C1":K+="");break;case Xe.CODE_CODE_A:k=Xe.CODE_CODE_A;break;case Xe.CODE_CODE_B:k=Xe.CODE_CODE_B;break;case Xe.CODE_STOP:F=!0;break}break}Ih&&(k=k===Xe.CODE_CODE_A?Xe.CODE_CODE_B:Xe.CODE_CODE_A)}const Ss=oe-ee;if(oe=h.getNextUnset(oe),!h.isRange(oe,Math.min(h.getSize(),oe+(oe-ee)/2),!1))throw new L;if(He-=qe*me,He%103!==me)throw new y;const to=K.length;if(to===0)throw new L;to>0&&Fe&&(k===Xe.CODE_CODE_C?K=K.substring(0,to-2):K=K.substring(0,to-1));const As=(v[1]+v[0])/2,Gr=ee+Ss/2,Ra=P.length,Hs=new Uint8Array(Ra);for(let Ih=0;Ih<Ra;Ih++)Hs[Ih]=P[Ih];const kh=[new st(As,c),new st(Gr,c)];return new Te(K,Hs,0,kh,Me.CODE_128,new Date().getTime())}}Xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Xe.MAX_AVG_VARIANCE=.25,Xe.MAX_INDIVIDUAL_VARIANCE=.7,Xe.CODE_SHIFT=98,Xe.CODE_CODE_C=99,Xe.CODE_CODE_B=100,Xe.CODE_CODE_A=101,Xe.CODE_FNC_1=102,Xe.CODE_FNC_2=97,Xe.CODE_FNC_3=96,Xe.CODE_FNC_4_A=101,Xe.CODE_FNC_4_B=100,Xe.CODE_START_A=103,Xe.CODE_START_B=104,Xe.CODE_START_C=105,Xe.CODE_STOP=106;class Un extends pn{constructor(c=!1,h=!1){super(),this.usingCheckDigit=c,this.extendedMode=h,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,h,m){let g=this.counters;g.fill(0),this.decodeRowResult="";let v=Un.findAsteriskPattern(h,g),b=h.getNextSet(v[1]),A=h.getSize(),P,k;do{Un.recordPattern(h,b,g);let ce=Un.toNarrowWidePattern(g);if(ce<0)throw new L;P=Un.patternToChar(ce),this.decodeRowResult+=P,k=b;for(let me of g)b+=me;b=h.getNextSet(b)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let F=0;for(let ce of g)F+=ce;let W=b-k-F;if(b!==A&&W*2<F)throw new L;if(this.usingCheckDigit){let ce=this.decodeRowResult.length-1,me=0;for(let be=0;be<ce;be++)me+=Un.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(be));if(this.decodeRowResult.charAt(ce)!==Un.ALPHABET_STRING.charAt(me%43))throw new y;this.decodeRowResult=this.decodeRowResult.substring(0,ce)}if(this.decodeRowResult.length===0)throw new L;let K;this.extendedMode?K=Un.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let ee=(v[1]+v[0])/2,oe=k+F/2;return new Te(K,null,0,[new st(ee,c),new st(oe,c)],Me.CODE_39,new Date().getTime())}static findAsteriskPattern(c,h){let m=c.getSize(),g=c.getNextSet(0),v=0,b=g,A=!1,P=h.length;for(let k=g;k<m;k++)if(c.get(k)!==A)h[v]++;else{if(v===P-1){if(this.toNarrowWidePattern(h)===Un.ASTERISK_ENCODING&&c.isRange(Math.max(0,b-Math.floor((k-b)/2)),b,!1))return[b,k];b+=h[0]+h[1],h.copyWithin(0,2,2+v-1),h[v-1]=0,h[v]=0,v--}else v++;h[v]=1,A=!A}throw new L}static toNarrowWidePattern(c){let h=c.length,m=0,g;do{let v=2147483647;for(let P of c)P<v&&P>m&&(v=P);m=v,g=0;let b=0,A=0;for(let P=0;P<h;P++){let k=c[P];k>m&&(A|=1<<h-1-P,g++,b+=k)}if(g===3){for(let P=0;P<h&&g>0;P++){let k=c[P];if(k>m&&(g--,k*2>=b))return-1}return A}}while(g>3);return-1}static patternToChar(c){for(let h=0;h<Un.CHARACTER_ENCODINGS.length;h++)if(Un.CHARACTER_ENCODINGS[h]===c)return Un.ALPHABET_STRING.charAt(h);if(c===Un.ASTERISK_ENCODING)return"*";throw new L}static decodeExtended(c){let h=c.length,m="";for(let g=0;g<h;g++){let v=c.charAt(g);if(v==="+"||v==="$"||v==="%"||v==="/"){let b=c.charAt(g+1),A="\0";switch(v){case"+":if(b>="A"&&b<="Z")A=String.fromCharCode(b.charCodeAt(0)+32);else throw new O;break;case"$":if(b>="A"&&b<="Z")A=String.fromCharCode(b.charCodeAt(0)-64);else throw new O;break;case"%":if(b>="A"&&b<="E")A=String.fromCharCode(b.charCodeAt(0)-38);else if(b>="F"&&b<="J")A=String.fromCharCode(b.charCodeAt(0)-11);else if(b>="K"&&b<="O")A=String.fromCharCode(b.charCodeAt(0)+16);else if(b>="P"&&b<="T")A=String.fromCharCode(b.charCodeAt(0)+43);else if(b==="U")A="\0";else if(b==="V")A="@";else if(b==="W")A="`";else if(b==="X"||b==="Y"||b==="Z")A="";else throw new O;break;case"/":if(b>="A"&&b<="O")A=String.fromCharCode(b.charCodeAt(0)-32);else if(b==="Z")A=":";else throw new O;break}m+=A,g++}else m+=v}return m}}Un.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Un.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Un.ASTERISK_ENCODING=148;class Or extends pn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,h,m){let g=this.decodeStart(h),v=this.decodeEnd(h),b=new q;Or.decodeMiddle(h,g[1],v[0],b);let A=b.toString(),P=null;m!=null&&(P=m.get(M.ALLOWED_LENGTHS)),P==null&&(P=Or.DEFAULT_ALLOWED_LENGTHS);let k=A.length,F=!1,W=0;for(let oe of P){if(k===oe){F=!0;break}oe>W&&(W=oe)}if(!F&&k>W&&(F=!0),!F)throw new O;const K=[new st(g[1],c),new st(v[0],c)];return new Te(A,null,0,K,Me.ITF,new Date().getTime())}static decodeMiddle(c,h,m,g){let v=new Int32Array(10),b=new Int32Array(5),A=new Int32Array(5);for(v.fill(0),b.fill(0),A.fill(0);h<m;){pn.recordPattern(c,h,v);for(let k=0;k<5;k++){let F=2*k;b[k]=v[F],A[k]=v[F+1]}let P=Or.decodeDigit(b);g.append(P.toString()),P=this.decodeDigit(A),g.append(P.toString()),v.forEach(function(k){h+=k})}}decodeStart(c){let h=Or.skipWhiteSpace(c),m=Or.findGuardPattern(c,h,Or.START_PATTERN);return this.narrowLineWidth=(m[1]-m[0])/4,this.validateQuietZone(c,m[0]),m}validateQuietZone(c,h){let m=this.narrowLineWidth*10;m=m<h?m:h;for(let g=h-1;m>0&&g>=0&&!c.get(g);g--)m--;if(m!==0)throw new L}static skipWhiteSpace(c){const h=c.getSize(),m=c.getNextSet(0);if(m===h)throw new L;return m}decodeEnd(c){c.reverse();try{let h=Or.skipWhiteSpace(c),m;try{m=Or.findGuardPattern(c,h,Or.END_PATTERN_REVERSED[0])}catch(v){v instanceof L&&(m=Or.findGuardPattern(c,h,Or.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,m[0]);let g=m[0];return m[0]=c.getSize()-m[1],m[1]=c.getSize()-g,m}finally{c.reverse()}}static findGuardPattern(c,h,m){let g=m.length,v=new Int32Array(g),b=c.getSize(),A=!1,P=0,k=h;v.fill(0);for(let F=h;F<b;F++)if(c.get(F)!==A)v[P]++;else{if(P===g-1){if(pn.patternMatchVariance(v,m,Or.MAX_INDIVIDUAL_VARIANCE)<Or.MAX_AVG_VARIANCE)return[k,F];k+=v[0]+v[1],w.arraycopy(v,2,v,0,P-1),v[P-1]=0,v[P]=0,P--}else P++;v[P]=1,A=!A}throw new L}static decodeDigit(c){let h=Or.MAX_AVG_VARIANCE,m=-1,g=Or.PATTERNS.length;for(let v=0;v<g;v++){let b=Or.PATTERNS[v],A=pn.patternMatchVariance(c,b,Or.MAX_INDIVIDUAL_VARIANCE);A<h?(h=A,m=v):A===h&&(m=-1)}if(m>=0)return m%10;throw new L}}Or.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Or.MAX_AVG_VARIANCE=.38,Or.MAX_INDIVIDUAL_VARIANCE=.5,Or.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Or.START_PATTERN=Int32Array.from([1,1,1,1]),Or.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class xn extends pn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let h=!1,m,g=0,v=Int32Array.from([0,0,0]);for(;!h;){v=Int32Array.from([0,0,0]),m=xn.findGuardPattern(c,g,!1,this.START_END_PATTERN,v);let b=m[0];g=m[1];let A=b-(g-b);A>=0&&(h=c.isRange(A,b,!1))}return m}static checkChecksum(c){return xn.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let m=parseInt(c.charAt(h-1),10);return xn.getStandardUPCEANChecksum(c.substring(0,h-1))===m}static getStandardUPCEANChecksum(c){let h=c.length,m=0;for(let g=h-1;g>=0;g-=2){let v=c.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new O;m+=v}m*=3;for(let g=h-2;g>=0;g-=2){let v=c.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new O;m+=v}return(1e3-m)%10}static decodeEnd(c,h){return xn.findGuardPattern(c,h,!1,xn.START_END_PATTERN,new Int32Array(xn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,h,m,g){return this.findGuardPattern(c,h,m,g,new Int32Array(g.length))}static findGuardPattern(c,h,m,g,v){let b=c.getSize();h=m?c.getNextUnset(h):c.getNextSet(h);let A=0,P=h,k=g.length,F=m;for(let W=h;W<b;W++)if(c.get(W)!==F)v[A]++;else{if(A===k-1){if(pn.patternMatchVariance(v,g,xn.MAX_INDIVIDUAL_VARIANCE)<xn.MAX_AVG_VARIANCE)return Int32Array.from([P,W]);P+=v[0]+v[1];let K=v.slice(2,v.length-1);for(let ee=0;ee<A-1;ee++)v[ee]=K[ee];v[A-1]=0,v[A]=0,A--}else A++;v[A]=1,F=!F}throw new L}static decodeDigit(c,h,m,g){this.recordPattern(c,m,h);let v=this.MAX_AVG_VARIANCE,b=-1,A=g.length;for(let P=0;P<A;P++){let k=g[P],F=pn.patternMatchVariance(h,k,xn.MAX_INDIVIDUAL_VARIANCE);F<v&&(v=F,b=P)}if(b>=0)return b;throw new L}}xn.MAX_AVG_VARIANCE=.48,xn.MAX_INDIVIDUAL_VARIANCE=.7,xn.START_END_PATTERN=Int32Array.from([1,1,1]),xn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),xn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),xn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class jc{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,m){let g=this.decodeRowStringBuffer,v=this.decodeMiddle(h,m,g),b=g.toString(),A=jc.parseExtensionString(b),P=[new st((m[0]+m[1])/2,c),new st(v,c)],k=new Te(b,null,0,P,Me.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&k.putAllMetadata(A),k}decodeMiddle(c,h,m){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=c.getSize(),b=h[1],A=0;for(let k=0;k<5&&b<v;k++){let F=xn.decodeDigit(c,g,b,xn.L_AND_G_PATTERNS);m+=String.fromCharCode(48+F%10);for(let W of g)b+=W;F>=10&&(A|=1<<4-k),k!==4&&(b=c.getNextSet(b),b=c.getNextUnset(b))}if(m.length!==5)throw new L;let P=this.determineCheckDigit(A);if(jc.extensionChecksum(m.toString())!==P)throw new L;return b}static extensionChecksum(c){let h=c.length,m=0;for(let g=h-2;g>=0;g-=2)m+=c.charAt(g).charCodeAt(0)-48;m*=3;for(let g=h-1;g>=0;g-=2)m+=c.charAt(g).charCodeAt(0)-48;return m*=3,m%10}determineCheckDigit(c){for(let h=0;h<10;h++)if(c===this.CHECK_DIGIT_ENCODINGS[h])return h;throw new L}static parseExtensionString(c){if(c.length!==5)return null;let h=jc.parseExtension5String(c);return h==null?null:new Map([[rt.SUGGESTED_PRICE,h]])}static parseExtension5String(c){let h;switch(c.charAt(0)){case"0":h="£";break;case"5":h="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}h="";break;default:h="";break}let m=parseInt(c.substring(1)),g=(m/100).toString(),v=m%100,b=v<10?"0"+v:v.toString();return h+g+"."+b}}class qj{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,h,m){let g=this.decodeRowStringBuffer,v=this.decodeMiddle(h,m,g),b=g.toString(),A=qj.parseExtensionString(b),P=[new st((m[0]+m[1])/2,c),new st(v,c)],k=new Te(b,null,0,P,Me.UPC_EAN_EXTENSION,new Date().getTime());return A!=null&&k.putAllMetadata(A),k}decodeMiddle(c,h,m){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=c.getSize(),b=h[1],A=0;for(let P=0;P<2&&b<v;P++){let k=xn.decodeDigit(c,g,b,xn.L_AND_G_PATTERNS);m+=String.fromCharCode(48+k%10);for(let F of g)b+=F;k>=10&&(A|=1<<1-P),P!==1&&(b=c.getNextSet(b),b=c.getNextUnset(b))}if(m.length!==2)throw new L;if(parseInt(m.toString())%4!==A)throw new L;return b}static parseExtensionString(c){return c.length!==2?null:new Map([[rt.ISSUE_NUMBER,parseInt(c)]])}}class lP{static decodeRow(c,h,m){let g=xn.findGuardPattern(h,m,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new jc().decodeRow(c,h,g)}catch{return new qj().decodeRow(c,h,g)}}}lP.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Tr extends xn{constructor(){super(),this.decodeRowStringBuffer="",Tr.L_AND_G_PATTERNS=Tr.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let h=Tr.L_PATTERNS[c-10],m=new Int32Array(h.length);for(let g=0;g<h.length;g++)m[g]=h[h.length-g-1];Tr.L_AND_G_PATTERNS[c]=m}}decodeRow(c,h,m){let g=Tr.findStartGuardPattern(h),v=m==null?null:m.get(M.NEED_RESULT_POINT_CALLBACK);if(v!=null){const Fe=new st((g[0]+g[1])/2,c);v.foundPossibleResultPoint(Fe)}let b=this.decodeMiddle(h,g,this.decodeRowStringBuffer),A=b.rowOffset,P=b.resultString;if(v!=null){const Fe=new st(A,c);v.foundPossibleResultPoint(Fe)}let k=this.decodeEnd(h,A);if(v!=null){const Fe=new st((k[0]+k[1])/2,c);v.foundPossibleResultPoint(Fe)}let F=k[1],W=F+(F-k[0]);if(W>=h.getSize()||!h.isRange(F,W,!1))throw new L;let K=P.toString();if(K.length<8)throw new O;if(!Tr.checkChecksum(K))throw new y;let ee=(g[1]+g[0])/2,oe=(k[1]+k[0])/2,ce=this.getBarcodeFormat(),me=[new st(ee,c),new st(oe,c)],be=new Te(K,null,0,me,ce,new Date().getTime()),He=0;try{let Fe=lP.decodeRow(c,h,k[1]);be.putMetadata(rt.UPC_EAN_EXTENSION,Fe.getText()),be.putAllMetadata(Fe.getResultMetadata()),be.addResultPoints(Fe.getResultPoints()),He=Fe.getText().length}catch{}let qe=m==null?null:m.get(M.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let Fe=!1;for(let xr in qe)if(He.toString()===xr){Fe=!0;break}if(!Fe)throw new L}return be}decodeEnd(c,h){return Tr.findGuardPattern(c,h,!1,Tr.START_END_PATTERN,new Int32Array(Tr.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return Tr.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let h=c.length;if(h===0)return!1;let m=parseInt(c.charAt(h-1),10);return Tr.getStandardUPCEANChecksum(c.substring(0,h-1))===m}static getStandardUPCEANChecksum(c){let h=c.length,m=0;for(let g=h-1;g>=0;g-=2){let v=c.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new O;m+=v}m*=3;for(let g=h-2;g>=0;g-=2){let v=c.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new O;m+=v}return(1e3-m)%10}}class Yd extends Tr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,m){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=c.getSize(),b=h[1],A=0;for(let k=0;k<6&&b<v;k++){let F=Tr.decodeDigit(c,g,b,Tr.L_AND_G_PATTERNS);m+=String.fromCharCode(48+F%10);for(let W of g)b+=W;F>=10&&(A|=1<<5-k)}m=Yd.determineFirstDigit(m,A),b=Tr.findGuardPattern(c,b,!0,Tr.MIDDLE_PATTERN,new Int32Array(Tr.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<6&&b<v;k++){let F=Tr.decodeDigit(c,g,b,Tr.L_PATTERNS);m+=String.fromCharCode(48+F);for(let W of g)b+=W}return{rowOffset:b,resultString:m}}getBarcodeFormat(){return Me.EAN_13}static determineFirstDigit(c,h){for(let m=0;m<10;m++)if(h===this.FIRST_DIGIT_ENCODINGS[m])return c=String.fromCharCode(48+m)+c,c;throw new L}}Yd.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class cP extends Tr{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,h,m){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=c.getSize(),b=h[1];for(let P=0;P<4&&b<v;P++){let k=Tr.decodeDigit(c,g,b,Tr.L_PATTERNS);m+=String.fromCharCode(48+k);for(let F of g)b+=F}b=Tr.findGuardPattern(c,b,!0,Tr.MIDDLE_PATTERN,new Int32Array(Tr.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&b<v;P++){let k=Tr.decodeDigit(c,g,b,Tr.L_PATTERNS);m+=String.fromCharCode(48+k);for(let F of g)b+=F}return{rowOffset:b,resultString:m}}getBarcodeFormat(){return Me.EAN_8}}class dP extends Tr{constructor(){super(...arguments),this.ean13Reader=new Yd}getBarcodeFormat(){return Me.UPC_A}decode(c,h){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,h,m){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,h,m))}decodeMiddle(c,h,m){return this.ean13Reader.decodeMiddle(c,h,m)}maybeReturnResult(c){let h=c.getText();if(h.charAt(0)==="0"){let m=new Te(h.substring(1),null,null,c.getResultPoints(),Me.UPC_A);return c.getResultMetadata()!=null&&m.putAllMetadata(c.getResultMetadata()),m}else throw new L}reset(){this.ean13Reader.reset()}}class eo extends Tr{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,h,m){const g=this.decodeMiddleCounters.map(k=>k);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const v=c.getSize();let b=h[1],A=0;for(let k=0;k<6&&b<v;k++){const F=eo.decodeDigit(c,g,b,eo.L_AND_G_PATTERNS);m+=String.fromCharCode(48+F%10);for(let W of g)b+=W;F>=10&&(A|=1<<5-k)}let P=eo.determineNumSysAndCheckDigit(m,A);return{rowOffset:b,resultString:P}}decodeEnd(c,h){return eo.findGuardPatternWithoutCounters(c,h,!0,eo.MIDDLE_END_PATTERN)}checkChecksum(c){return Tr.checkChecksum(eo.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,h){for(let m=0;m<=1;m++)for(let g=0;g<10;g++)if(h===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[m][g]){let v=String.fromCharCode(48+m),b=String.fromCharCode(48+g);return v+c+b}throw L.getNotFoundInstance()}getBarcodeFormat(){return Me.UPC_E}static convertUPCEtoUPCA(c){const h=c.slice(1,7).split("").map(v=>v.charCodeAt(0)),m=new q;m.append(c.charAt(0));let g=h[5];switch(g){case 0:case 1:case 2:m.appendChars(h,0,2),m.append(g),m.append("0000"),m.appendChars(h,2,3);break;case 3:m.appendChars(h,0,3),m.append("00000"),m.appendChars(h,3,2);break;case 4:m.appendChars(h,0,4),m.append("00000"),m.append(h[4]);break;default:m.appendChars(h,0,5),m.append("0000"),m.append(g);break}return c.length>=8&&m.append(c.charAt(7)),m.toString()}}eo.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),eo.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Gj extends pn{constructor(c){super();let h=c==null?null:c.get(M.POSSIBLE_FORMATS),m=[];a(h)?(m.push(new Yd),m.push(new dP),m.push(new cP),m.push(new eo)):(h.indexOf(Me.EAN_13)>-1&&m.push(new Yd),h.indexOf(Me.UPC_A)>-1&&m.push(new dP),h.indexOf(Me.EAN_8)>-1&&m.push(new cP),h.indexOf(Me.UPC_E)>-1&&m.push(new eo)),this.readers=m}decodeRow(c,h,m){for(let g of this.readers)try{const v=g.decodeRow(c,h,m),b=v.getBarcodeFormat()===Me.EAN_13&&v.getText().charAt(0)==="0",A=m==null?null:m.get(M.POSSIBLE_FORMATS),P=A==null||A.includes(Me.UPC_A);if(b&&P){const k=v.getRawBytes(),F=new Te(v.getText().substring(1),k,k?k.length:null,v.getResultPoints(),Me.UPC_A);return F.putAllMetadata(v.getResultMetadata()),F}return v}catch{}throw new L}reset(){for(let c of this.readers)c.reset()}}class Wa extends pn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,h){for(let m=0;m<h.length;m++)if(pn.patternMatchVariance(c,h[m],Wa.MAX_INDIVIDUAL_VARIANCE)<Wa.MAX_AVG_VARIANCE)return m;throw new L}static count(c){return ot.sum(new Int32Array(c))}static increment(c,h){let m=0,g=h[0];for(let v=1;v<c.length;v++)h[v]>g&&(g=h[v],m=v);c[m]++}static decrement(c,h){let m=0,g=h[0];for(let v=1;v<c.length;v++)h[v]<g&&(g=h[v],m=v);c[m]--}static isFinderPattern(c){let h=c[0]+c[1],m=h+c[2]+c[3],g=h/m;if(g>=Wa.MIN_FINDER_PATTERN_RATIO&&g<=Wa.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,b=Number.MIN_SAFE_INTEGER;for(let A of c)A>b&&(b=A),A<v&&(v=A);return b<10*v}return!1}}Wa.MAX_AVG_VARIANCE=.2,Wa.MAX_INDIVIDUAL_VARIANCE=.45,Wa.MIN_FINDER_PATTERN_RATIO=9.5/12,Wa.MAX_FINDER_PATTERN_RATIO=12.5/14;class Sh{constructor(c,h){this.value=c,this.checksumPortion=h}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof Sh))return!1;const h=c;return this.value===h.value&&this.checksumPortion===h.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ev{constructor(c,h,m,g,v){this.value=c,this.startEnd=h,this.value=c,this.startEnd=h,this.resultPoints=new Array,this.resultPoints.push(new st(m,v)),this.resultPoints.push(new st(g,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof ev))return!1;const h=c;return this.value===h.value}hashCode(){return this.value}}class Do{constructor(){}static getRSSvalue(c,h,m){let g=0;for(let P of c)g+=P;let v=0,b=0,A=c.length;for(let P=0;P<A-1;P++){let k;for(k=1,b|=1<<P;k<c[P];k++,b&=~(1<<P)){let F=Do.combins(g-k-1,A-P-2);if(m&&b===0&&g-k-(A-P-1)>=A-P-1&&(F-=Do.combins(g-k-(A-P),A-P-2)),A-P-1>1){let W=0;for(let K=g-k-(A-P-2);K>h;K--)W+=Do.combins(g-k-K-1,A-P-3);F-=W*(A-1-P)}else g-k>h&&F--;v+=F}g-=k}return v}static combins(c,h){let m,g;c-h>h?(g=h,m=c-h):(g=c-h,m=h);let v=1,b=1;for(let A=c;A>m;A--)v*=A,b<=g&&(v/=b,b++);for(;b<=g;)v/=b,b++;return v}}class uY{static buildBitArray(c){let h=c.length*2-1;c[c.length-1].getRightChar()==null&&(h-=1);let m=12*h,g=new I(m),v=0,A=c[0].getRightChar().getValue();for(let P=11;P>=0;--P)A&1<<P&&g.set(v),v++;for(let P=1;P<c.length;++P){let k=c[P],F=k.getLeftChar().getValue();for(let W=11;W>=0;--W)F&1<<W&&g.set(v),v++;if(k.getRightChar()!=null){let W=k.getRightChar().getValue();for(let K=11;K>=0;--K)W&1<<K&&g.set(v),v++}}return g}}class Xd{constructor(c,h){h?this.decodedInformation=null:(this.finished=c,this.decodedInformation=h)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Kj{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class js extends Kj{constructor(c,h){super(c),this.value=h}getValue(){return this.value}isFNC1(){return this.value===js.FNC1}}js.FNC1="$";class Qd extends Kj{constructor(c,h,m){super(c),m?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=h}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class vi extends Kj{constructor(c,h,m){if(super(c),h<0||h>10||m<0||m>10)throw new O;this.firstDigit=h,this.secondDigit=m}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===vi.FNC1}isSecondDigitFNC1(){return this.secondDigit===vi.FNC1}isAnyFNC1(){return this.firstDigit===vi.FNC1||this.secondDigit===vi.FNC1}}vi.FNC1=10;class ft{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new L;let h=c.substring(0,2);for(let v of ft.TWO_DIGIT_DATA_LENGTH)if(v[0]===h)return v[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(2,v[2],c):ft.processFixedAI(2,v[1],c);if(c.length<3)throw new L;let m=c.substring(0,3);for(let v of ft.THREE_DIGIT_DATA_LENGTH)if(v[0]===m)return v[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(3,v[2],c):ft.processFixedAI(3,v[1],c);for(let v of ft.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===m)return v[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(4,v[2],c):ft.processFixedAI(4,v[1],c);if(c.length<4)throw new L;let g=c.substring(0,4);for(let v of ft.FOUR_DIGIT_DATA_LENGTH)if(v[0]===g)return v[1]===ft.VARIABLE_LENGTH?ft.processVariableAI(4,v[2],c):ft.processFixedAI(4,v[1],c);throw new L}static processFixedAI(c,h,m){if(m.length<c)throw new L;let g=m.substring(0,c);if(m.length<c+h)throw new L;let v=m.substring(c,c+h),b=m.substring(c+h),A="("+g+")"+v,P=ft.parseFieldsInGeneralPurpose(b);return P==null?A:A+P}static processVariableAI(c,h,m){let g=m.substring(0,c),v;m.length<c+h?v=m.length:v=c+h;let b=m.substring(c,v),A=m.substring(v),P="("+g+")"+b,k=ft.parseFieldsInGeneralPurpose(A);return k==null?P:P+k}}ft.VARIABLE_LENGTH=[],ft.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ft.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ft.VARIABLE_LENGTH,20],["22",ft.VARIABLE_LENGTH,29],["30",ft.VARIABLE_LENGTH,8],["37",ft.VARIABLE_LENGTH,8],["90",ft.VARIABLE_LENGTH,30],["91",ft.VARIABLE_LENGTH,30],["92",ft.VARIABLE_LENGTH,30],["93",ft.VARIABLE_LENGTH,30],["94",ft.VARIABLE_LENGTH,30],["95",ft.VARIABLE_LENGTH,30],["96",ft.VARIABLE_LENGTH,30],["97",ft.VARIABLE_LENGTH,3],["98",ft.VARIABLE_LENGTH,30],["99",ft.VARIABLE_LENGTH,30]],ft.THREE_DIGIT_DATA_LENGTH=[["240",ft.VARIABLE_LENGTH,30],["241",ft.VARIABLE_LENGTH,30],["242",ft.VARIABLE_LENGTH,6],["250",ft.VARIABLE_LENGTH,30],["251",ft.VARIABLE_LENGTH,30],["253",ft.VARIABLE_LENGTH,17],["254",ft.VARIABLE_LENGTH,20],["400",ft.VARIABLE_LENGTH,30],["401",ft.VARIABLE_LENGTH,30],["402",17],["403",ft.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ft.VARIABLE_LENGTH,20],["421",ft.VARIABLE_LENGTH,15],["422",3],["423",ft.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ft.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ft.VARIABLE_LENGTH,15],["391",ft.VARIABLE_LENGTH,18],["392",ft.VARIABLE_LENGTH,15],["393",ft.VARIABLE_LENGTH,18],["703",ft.VARIABLE_LENGTH,30]],ft.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ft.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ft.VARIABLE_LENGTH,20],["8003",ft.VARIABLE_LENGTH,30],["8004",ft.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ft.VARIABLE_LENGTH,30],["8008",ft.VARIABLE_LENGTH,12],["8018",18],["8020",ft.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ft.VARIABLE_LENGTH,70],["8200",ft.VARIABLE_LENGTH,70]];class Ah{constructor(c){this.buffer=new q,this.information=c}decodeAllCodes(c,h){let m=h,g=null;do{let v=this.decodeGeneralPurposeField(m,g),b=ft.parseFieldsInGeneralPurpose(v.getNewString());if(b!=null&&c.append(b),v.isRemaining()?g=""+v.getRemainingValue():g=null,m===v.getNewPosition())break;m=v.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let h=c;h<c+3;++h)if(this.information.get(h))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(c,4);return v===0?new vi(this.information.getSize(),vi.FNC1,vi.FNC1):new vi(this.information.getSize(),v-1,vi.FNC1)}let h=this.extractNumericValueFromBitArray(c,7),m=(h-8)/11,g=(h-8)%11;return new vi(c+7,m,g)}extractNumericValueFromBitArray(c,h){return Ah.extractNumericValueFromBitArray(this.information,c,h)}static extractNumericValueFromBitArray(c,h,m){let g=0;for(let v=0;v<m;++v)c.get(h+v)&&(g|=1<<m-v-1);return g}decodeGeneralPurposeField(c,h){this.buffer.setLengthToZero(),h!=null&&this.buffer.append(h),this.current.setPosition(c);let m=this.parseBlocks();return m!=null&&m.isRemaining()?new Qd(this.current.getPosition(),this.buffer.toString(),m.getRemainingValue()):new Qd(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,h;do{let m=this.current.getPosition();if(this.current.isAlpha()?(h=this.parseAlphaBlock(),c=h.isFinished()):this.current.isIsoIec646()?(h=this.parseIsoIec646Block(),c=h.isFinished()):(h=this.parseNumericBlock(),c=h.isFinished()),!(m!==this.current.getPosition())&&!c)break}while(!c);return h.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let h;return c.isSecondDigitFNC1()?h=new Qd(this.current.getPosition(),this.buffer.toString()):h=new Qd(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new Xd(!0,h)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let h=new Qd(this.current.getPosition(),this.buffer.toString());return new Xd(!0,h)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Xd(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Qd(this.current.getPosition(),this.buffer.toString());return new Xd(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Xd(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let h=new Qd(this.current.getPosition(),this.buffer.toString());return new Xd(!0,h)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Xd(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+7>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(c,7);if(m>=64&&m<116)return!0;if(c+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(c,8);return g>=232&&g<253}decodeIsoIec646(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new js(c+5,js.FNC1);if(h>=5&&h<15)return new js(c+5,"0"+(h-5));let m=this.extractNumericValueFromBitArray(c,7);if(m>=64&&m<90)return new js(c+7,""+(m+1));if(m>=90&&m<116)return new js(c+7,""+(m+7));let g=this.extractNumericValueFromBitArray(c,8),v;switch(g){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new O}return new js(c+8,v)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(c,5);if(h>=5&&h<16)return!0;if(c+6>this.information.getSize())return!1;let m=this.extractNumericValueFromBitArray(c,6);return m>=16&&m<63}decodeAlphanumeric(c){let h=this.extractNumericValueFromBitArray(c,5);if(h===15)return new js(c+5,js.FNC1);if(h>=5&&h<15)return new js(c+5,"0"+(h-5));let m=this.extractNumericValueFromBitArray(c,6);if(m>=32&&m<58)return new js(c+6,""+(m+33));let g;switch(m){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new nr("Decoding invalid alphanumeric value: "+m)}return new js(c+6,g)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<5&&h+c<this.information.getSize();++h)if(h===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+h))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let h=c;h<c+3;++h)if(this.information.get(h))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let h=0;h<4&&h+c<this.information.getSize();++h)if(this.information.get(c+h))return!1;return!0}}class Yj{constructor(c){this.information=c,this.generalDecoder=new Ah(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Ns extends Yj{constructor(c){super(c)}encodeCompressedGtin(c,h){c.append("(01)");let m=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,h,m)}encodeCompressedGtinWithoutAI(c,h,m){for(let g=0;g<4;++g){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(h+10*g,10);v/100===0&&c.append("0"),v/10===0&&c.append("0"),c.append(v)}Ns.appendCheckDigit(c,m)}static appendCheckDigit(c,h){let m=0;for(let g=0;g<13;g++){let v=c.charAt(g+h).charCodeAt(0)-48;m+=g&1?v:3*v}m=10-m%10,m===10&&(m=0),c.append(m)}}Ns.GTIN_SIZE=40;class Eh extends Ns{constructor(c){super(c)}parseInformation(){let c=new q;c.append("(01)");let h=c.length(),m=this.getGeneralDecoder().extractNumericValueFromBitArray(Eh.HEADER_SIZE,4);return c.append(m),this.encodeCompressedGtinWithoutAI(c,Eh.HEADER_SIZE+4,h),this.getGeneralDecoder().decodeAllCodes(c,Eh.HEADER_SIZE+44)}}Eh.HEADER_SIZE=4;class tv extends Yj{constructor(c){super(c)}parseInformation(){let c=new q;return this.getGeneralDecoder().decodeAllCodes(c,tv.HEADER_SIZE)}}tv.HEADER_SIZE=5;class rv extends Ns{constructor(c){super(c)}encodeCompressedWeight(c,h,m){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(h,m);this.addWeightCode(c,g);let v=this.checkWeight(g),b=1e5;for(let A=0;A<5;++A)v/b===0&&c.append("0"),b/=10;c.append(v)}}class Lo extends rv{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=Lo.HEADER_SIZE+rv.GTIN_SIZE+Lo.WEIGHT_SIZE)throw new L;let c=new q;return this.encodeCompressedGtin(c,Lo.HEADER_SIZE),this.encodeCompressedWeight(c,Lo.HEADER_SIZE+rv.GTIN_SIZE,Lo.WEIGHT_SIZE),c.toString()}}Lo.HEADER_SIZE=5,Lo.WEIGHT_SIZE=15;class hY extends Lo{constructor(c){super(c)}addWeightCode(c,h){c.append("(3103)")}checkWeight(c){return c}}class fY extends Lo{constructor(c){super(c)}addWeightCode(c,h){h<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class Fo extends Ns{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Fo.HEADER_SIZE+Ns.GTIN_SIZE)throw new L;let c=new q;this.encodeCompressedGtin(c,Fo.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(Fo.HEADER_SIZE+Ns.GTIN_SIZE,Fo.LAST_DIGIT_SIZE);c.append("(392"),c.append(h),c.append(")");let m=this.getGeneralDecoder().decodeGeneralPurposeField(Fo.HEADER_SIZE+Ns.GTIN_SIZE+Fo.LAST_DIGIT_SIZE,null);return c.append(m.getNewString()),c.toString()}}Fo.HEADER_SIZE=8,Fo.LAST_DIGIT_SIZE=2;class ns extends Ns{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<ns.HEADER_SIZE+Ns.GTIN_SIZE)throw new L;let c=new q;this.encodeCompressedGtin(c,ns.HEADER_SIZE);let h=this.getGeneralDecoder().extractNumericValueFromBitArray(ns.HEADER_SIZE+Ns.GTIN_SIZE,ns.LAST_DIGIT_SIZE);c.append("(393"),c.append(h),c.append(")");let m=this.getGeneralDecoder().extractNumericValueFromBitArray(ns.HEADER_SIZE+Ns.GTIN_SIZE+ns.LAST_DIGIT_SIZE,ns.FIRST_THREE_DIGITS_SIZE);m/100==0&&c.append("0"),m/10==0&&c.append("0"),c.append(m);let g=this.getGeneralDecoder().decodeGeneralPurposeField(ns.HEADER_SIZE+Ns.GTIN_SIZE+ns.LAST_DIGIT_SIZE+ns.FIRST_THREE_DIGITS_SIZE,null);return c.append(g.getNewString()),c.toString()}}ns.HEADER_SIZE=8,ns.LAST_DIGIT_SIZE=2,ns.FIRST_THREE_DIGITS_SIZE=10;class gn extends rv{constructor(c,h,m){super(c),this.dateCode=m,this.firstAIdigits=h}parseInformation(){if(this.getInformation().getSize()!=gn.HEADER_SIZE+gn.GTIN_SIZE+gn.WEIGHT_SIZE+gn.DATE_SIZE)throw new L;let c=new q;return this.encodeCompressedGtin(c,gn.HEADER_SIZE),this.encodeCompressedWeight(c,gn.HEADER_SIZE+gn.GTIN_SIZE,gn.WEIGHT_SIZE),this.encodeCompressedDate(c,gn.HEADER_SIZE+gn.GTIN_SIZE+gn.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,h){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(h,gn.DATE_SIZE);if(m==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let g=m%32;m/=32;let v=m%12+1;m/=12;let b=m;b/10==0&&c.append("0"),c.append(b),v/10==0&&c.append("0"),c.append(v),g/10==0&&c.append("0"),c.append(g)}addWeightCode(c,h){c.append("("),c.append(this.firstAIdigits),c.append(h/1e5),c.append(")")}checkWeight(c){return c%1e5}}gn.HEADER_SIZE=8,gn.WEIGHT_SIZE=20,gn.DATE_SIZE=16;function uP(U){try{if(U.get(1))return new Eh(U);if(!U.get(2))return new tv(U);switch(Ah.extractNumericValueFromBitArray(U,1,4)){case 4:return new hY(U);case 5:return new fY(U)}switch(Ah.extractNumericValueFromBitArray(U,1,5)){case 12:return new Fo(U);case 13:return new ns(U)}switch(Ah.extractNumericValueFromBitArray(U,1,7)){case 56:return new gn(U,"310","11");case 57:return new gn(U,"320","11");case 58:return new gn(U,"310","13");case 59:return new gn(U,"320","13");case 60:return new gn(U,"310","15");case 61:return new gn(U,"320","15");case 62:return new gn(U,"310","17");case 63:return new gn(U,"320","17")}}catch(c){throw console.log(c),new nr("unknown decoder: "+U)}}class Nc{constructor(c,h,m,g){this.leftchar=c,this.rightchar=h,this.finderpattern=m,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,h){return c instanceof Nc?Nc.equalsOrNull(c.leftchar,h.leftchar)&&Nc.equalsOrNull(c.rightchar,h.rightchar)&&Nc.equalsOrNull(c.finderpattern,h.finderpattern):!1}static equalsOrNull(c,h){return c===null?h===null:Nc.equals(c,h)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Xj{constructor(c,h,m){this.pairs=c,this.rowNumber=h,this.wasReversed=m}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,h){return c instanceof Xj?this.checkEqualitity(c,h)&&c.wasReversed===h.wasReversed:!1}checkEqualitity(c,h){if(!c||!h)return;let m;return c.forEach((g,v)=>{h.forEach(b=>{g.getLeftChar().getValue()===b.getLeftChar().getValue()&&g.getRightChar().getValue()===b.getRightChar().getValue()&&g.getFinderPatter().getValue()===b.getFinderPatter().getValue()&&(m=!0)})}),m}}class De extends Wa{constructor(c){super(...arguments),this.pairs=new Array(De.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,h,m){this.pairs.length=0,this.startFromEven=!1;try{return De.constructResult(this.decodeRow2pairs(c,h))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,De.constructResult(this.decodeRow2pairs(c,h))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,h){let m=!1;for(;!m;)try{this.pairs.push(this.retrieveNextPair(h,this.pairs,c))}catch(v){if(v instanceof L){if(!this.pairs.length)throw new L;m=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(c,!1),g){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new L}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let h=null;try{h=this.checkRows(new Array,0)}catch(m){this.verbose&&console.log(m)}return c&&(this.rows=this.rows.reverse()),h}checkRows(c,h){for(let m=h;m<this.rows.length;m++){let g=this.rows[m];this.pairs.length=0;for(let b of c)this.pairs.push(b.getPairs());if(this.pairs.push(g.getPairs()),!De.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(c);v.push(g);try{return this.checkRows(v,m+1)}catch(b){this.verbose&&console.log(b)}}throw new L}static isValidSequence(c){for(let h of De.FINDER_PATTERN_SEQUENCES){if(c.length>h.length)continue;let m=!0;for(let g=0;g<c.length;g++)if(c[g].getFinderPattern().getValue()!=h[g]){m=!1;break}if(m)return!0}return!1}storeRow(c,h){let m=0,g=!1,v=!1;for(;m<this.rows.length;){let b=this.rows[m];if(b.getRowNumber()>c){v=b.isEquivalent(this.pairs);break}g=b.isEquivalent(this.pairs),m++}v||g||De.isPartialRow(this.pairs,this.rows)||(this.rows.push(m,new Xj(this.pairs,c,h)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,h){for(let m of h)if(m.getPairs().length!==c.length){for(let g of m.getPairs())for(let v of c)if(Nc.equals(g,v))break}}static isPartialRow(c,h){for(let m of h){let g=!0;for(let v of c){let b=!1;for(let A of m.getPairs())if(v.equals(A)){b=!0;break}if(!b){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(c){let h=uY.buildBitArray(c),g=uP(h).parseInformation(),v=c[0].getFinderPattern().getResultPoints(),b=c[c.length-1].getFinderPattern().getResultPoints(),A=[v[0],v[1],b[0],b[1]];return new Te(g,null,null,A,Me.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),h=c.getLeftChar(),m=c.getRightChar();if(m==null)return!1;let g=m.getChecksumPortion(),v=2;for(let A=1;A<this.pairs.size();++A){let P=this.pairs.get(A);g+=P.getLeftChar().getChecksumPortion(),v++;let k=P.getRightChar();k!=null&&(g+=k.getChecksumPortion(),v++)}return g%=211,211*(v-4)+g==h.getValue()}static getNextSecondBar(c,h){let m;return c.get(h)?(m=c.getNextUnset(h),m=c.getNextSet(m)):(m=c.getNextSet(h),m=c.getNextUnset(m)),m}retrieveNextPair(c,h,m){let g=h.length%2==0;this.startFromEven&&(g=!g);let v,b=!0,A=-1;do this.findNextPair(c,h,A),v=this.parseFoundFinderPattern(c,m,g),v==null?A=De.getNextSecondBar(c,this.startEnd[0]):b=!1;while(b);let P=this.decodeDataCharacter(c,v,g,!0);if(!this.isEmptyPair(h)&&h[h.length-1].mustBeLast())throw new L;let k;try{k=this.decodeDataCharacter(c,v,g,!1)}catch(F){k=null,this.verbose&&console.log(F)}return new Nc(P,k,v,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,h,m){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=c.getSize(),b;m>=0?b=m:this.isEmptyPair(h)?b=0:b=h[h.length-1].getFinderPattern().getStartEnd()[1];let A=h.length%2!=0;this.startFromEven&&(A=!A);let P=!1;for(;b<v&&(P=!c.get(b),!!P);)b++;let k=0,F=b;for(let W=b;W<v;W++)if(c.get(W)!=P)g[k]++;else{if(k==3){if(A&&De.reverseCounters(g),De.isFinderPattern(g)){this.startEnd[0]=F,this.startEnd[1]=W;return}A&&De.reverseCounters(g),F+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,k--}else k++;g[k]=1,P=!P}throw new L}static reverseCounters(c){let h=c.length;for(let m=0;m<h/2;++m){let g=c[m];c[m]=c[h-m-1],c[h-m-1]=g}}parseFoundFinderPattern(c,h,m){let g,v,b;if(m){let k=this.startEnd[0]-1;for(;k>=0&&!c.get(k);)k--;k++,g=this.startEnd[0]-k,v=k,b=this.startEnd[1]}else v=this.startEnd[0],b=c.getNextUnset(this.startEnd[1]+1),g=b-this.startEnd[1];let A=this.getDecodeFinderCounters();w.arraycopy(A,0,A,1,A.length-1),A[0]=g;let P;try{P=this.parseFinderValue(A,De.FINDER_PATTERNS)}catch{return null}return new ev(P,[v,b],v,b,h)}decodeDataCharacter(c,h,m,g){let v=this.getDataCharacterCounters();for(let Gr=0;Gr<v.length;Gr++)v[Gr]=0;if(g)De.recordPatternInReverse(c,h.getStartEnd()[0],v);else{De.recordPattern(c,h.getStartEnd()[1],v);for(let Gr=0,Ra=v.length-1;Gr<Ra;Gr++,Ra--){let Hs=v[Gr];v[Gr]=v[Ra],v[Ra]=Hs}}let b=17,A=ot.sum(new Int32Array(v))/b,P=(h.getStartEnd()[1]-h.getStartEnd()[0])/15;if(Math.abs(A-P)/P>.3)throw new L;let k=this.getOddCounts(),F=this.getEvenCounts(),W=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let Gr=0;Gr<v.length;Gr++){let Ra=1*v[Gr]/A,Hs=Ra+.5;if(Hs<1){if(Ra<.3)throw new L;Hs=1}else if(Hs>8){if(Ra>8.7)throw new L;Hs=8}let kh=Gr/2;Gr&1?(F[kh]=Hs,K[kh]=Ra-Hs):(k[kh]=Hs,W[kh]=Ra-Hs)}this.adjustOddEvenCounts(b);let ee=4*h.getValue()+(m?0:2)+(g?0:1)-1,oe=0,ce=0;for(let Gr=k.length-1;Gr>=0;Gr--){if(De.isNotA1left(h,m,g)){let Ra=De.WEIGHTS[ee][2*Gr];ce+=k[Gr]*Ra}oe+=k[Gr]}let me=0;for(let Gr=F.length-1;Gr>=0;Gr--)if(De.isNotA1left(h,m,g)){let Ra=De.WEIGHTS[ee][2*Gr+1];me+=F[Gr]*Ra}let be=ce+me;if(oe&1||oe>13||oe<4)throw new L;let He=(13-oe)/2,qe=De.SYMBOL_WIDEST[He],Fe=9-qe,xr=Do.getRSSvalue(k,qe,!0),Xt=Do.getRSSvalue(F,Fe,!1),Ss=De.EVEN_TOTAL_SUBSET[He],to=De.GSUM[He],As=xr*Ss+Xt+to;return new Sh(As,be)}static isNotA1left(c,h,m){return!(c.getValue()==0&&h&&m)}adjustOddEvenCounts(c){let h=ot.sum(new Int32Array(this.getOddCounts())),m=ot.sum(new Int32Array(this.getEvenCounts())),g=!1,v=!1;h>13?v=!0:h<4&&(g=!0);let b=!1,A=!1;m>13?A=!0:m<4&&(b=!0);let P=h+m-c,k=(h&1)==1,F=(m&1)==0;if(P==1)if(k){if(F)throw new L;v=!0}else{if(!F)throw new L;A=!0}else if(P==-1)if(k){if(F)throw new L;g=!0}else{if(!F)throw new L;b=!0}else if(P==0){if(k){if(!F)throw new L;h<m?(g=!0,A=!0):(v=!0,b=!0)}else if(F)throw new L}else throw new L;if(g){if(v)throw new L;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),b){if(A)throw new L;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}A&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.SYMBOL_WIDEST=[7,5,4,3,1],De.EVEN_TOTAL_SUBSET=[4,20,52,104,204],De.GSUM=[0,348,1388,2948,3988],De.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],De.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],De.FINDER_PAT_A=0,De.FINDER_PAT_B=1,De.FINDER_PAT_C=2,De.FINDER_PAT_D=3,De.FINDER_PAT_E=4,De.FINDER_PAT_F=5,De.FINDER_PATTERN_SEQUENCES=[[De.FINDER_PAT_A,De.FINDER_PAT_A],[De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B],[De.FINDER_PAT_A,De.FINDER_PAT_C,De.FINDER_PAT_B,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_C],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F]],De.MAX_PAIRS=11;class mY extends Sh{constructor(c,h,m){super(c,h),this.count=0,this.finderPattern=m}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class In extends Wa{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,h,m){const g=this.decodePair(h,!1,c,m);In.addOrTally(this.possibleLeftPairs,g),h.reverse();let v=this.decodePair(h,!0,c,m);In.addOrTally(this.possibleRightPairs,v),h.reverse();for(let b of this.possibleLeftPairs)if(b.getCount()>1){for(let A of this.possibleRightPairs)if(A.getCount()>1&&In.checkChecksum(b,A))return In.constructResult(b,A)}throw new L}static addOrTally(c,h){if(h==null)return;let m=!1;for(let g of c)if(g.getValue()===h.getValue()){g.incrementCount(),m=!0;break}m||c.push(h)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,h){let m=4537077*c.getValue()+h.getValue(),g=new String(m).toString(),v=new q;for(let k=13-g.length;k>0;k--)v.append("0");v.append(g);let b=0;for(let k=0;k<13;k++){let F=v.charAt(k).charCodeAt(0)-48;b+=k&1?F:3*F}b=10-b%10,b===10&&(b=0),v.append(b.toString());let A=c.getFinderPattern().getResultPoints(),P=h.getFinderPattern().getResultPoints();return new Te(v.toString(),null,0,[A[0],A[1],P[0],P[1]],Me.RSS_14,new Date().getTime())}static checkChecksum(c,h){let m=(c.getChecksumPortion()+16*h.getChecksumPortion())%79,g=9*c.getFinderPattern().getValue()+h.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,m===g}decodePair(c,h,m,g){try{let v=this.findFinderPattern(c,h),b=this.parseFoundFinderPattern(c,m,h,v),A=g==null?null:g.get(M.NEED_RESULT_POINT_CALLBACK);if(A!=null){let F=(v[0]+v[1])/2;h&&(F=c.getSize()-1-F),A.foundPossibleResultPoint(new st(F,m))}let P=this.decodeDataCharacter(c,b,!0),k=this.decodeDataCharacter(c,b,!1);return new mY(1597*P.getValue()+k.getValue(),P.getChecksumPortion()+4*k.getChecksumPortion(),b)}catch{return null}}decodeDataCharacter(c,h,m){let g=this.getDataCharacterCounters();for(let me=0;me<g.length;me++)g[me]=0;if(m)pn.recordPatternInReverse(c,h.getStartEnd()[0],g);else{pn.recordPattern(c,h.getStartEnd()[1]+1,g);for(let me=0,be=g.length-1;me<be;me++,be--){let He=g[me];g[me]=g[be],g[be]=He}}let v=m?16:15,b=ot.sum(new Int32Array(g))/v,A=this.getOddCounts(),P=this.getEvenCounts(),k=this.getOddRoundingErrors(),F=this.getEvenRoundingErrors();for(let me=0;me<g.length;me++){let be=g[me]/b,He=Math.floor(be+.5);He<1?He=1:He>8&&(He=8);let qe=Math.floor(me/2);me&1?(P[qe]=He,F[qe]=be-He):(A[qe]=He,k[qe]=be-He)}this.adjustOddEvenCounts(m,v);let W=0,K=0;for(let me=A.length-1;me>=0;me--)K*=9,K+=A[me],W+=A[me];let ee=0,oe=0;for(let me=P.length-1;me>=0;me--)ee*=9,ee+=P[me],oe+=P[me];let ce=K+3*ee;if(m){if(W&1||W>12||W<4)throw new L;let me=(12-W)/2,be=In.OUTSIDE_ODD_WIDEST[me],He=9-be,qe=Do.getRSSvalue(A,be,!1),Fe=Do.getRSSvalue(P,He,!0),xr=In.OUTSIDE_EVEN_TOTAL_SUBSET[me],Xt=In.OUTSIDE_GSUM[me];return new Sh(qe*xr+Fe+Xt,ce)}else{if(oe&1||oe>10||oe<4)throw new L;let me=(10-oe)/2,be=In.INSIDE_ODD_WIDEST[me],He=9-be,qe=Do.getRSSvalue(A,be,!0),Fe=Do.getRSSvalue(P,He,!1),xr=In.INSIDE_ODD_TOTAL_SUBSET[me],Xt=In.INSIDE_GSUM[me];return new Sh(Fe*xr+qe+Xt,ce)}}findFinderPattern(c,h){let m=this.getDecodeFinderCounters();m[0]=0,m[1]=0,m[2]=0,m[3]=0;let g=c.getSize(),v=!1,b=0;for(;b<g&&(v=!c.get(b),h!==v);)b++;let A=0,P=b;for(let k=b;k<g;k++)if(c.get(k)!==v)m[A]++;else{if(A===3){if(Wa.isFinderPattern(m))return[P,k];P+=m[0]+m[1],m[0]=m[2],m[1]=m[3],m[2]=0,m[3]=0,A--}else A++;m[A]=1,v=!v}throw new L}parseFoundFinderPattern(c,h,m,g){let v=c.get(g[0]),b=g[0]-1;for(;b>=0&&v!==c.get(b);)b--;b++;const A=g[0]-b,P=this.getDecodeFinderCounters(),k=new Int32Array(P.length);w.arraycopy(P,0,k,1,P.length-1),k[0]=A;const F=this.parseFinderValue(k,In.FINDER_PATTERNS);let W=b,K=g[1];return m&&(W=c.getSize()-1-W,K=c.getSize()-1-K),new ev(F,[b,g[1]],W,K,h)}adjustOddEvenCounts(c,h){let m=ot.sum(new Int32Array(this.getOddCounts())),g=ot.sum(new Int32Array(this.getEvenCounts())),v=!1,b=!1,A=!1,P=!1;c?(m>12?b=!0:m<4&&(v=!0),g>12?P=!0:g<4&&(A=!0)):(m>11?b=!0:m<5&&(v=!0),g>10?P=!0:g<4&&(A=!0));let k=m+g-h,F=(m&1)===(c?1:0),W=(g&1)===1;if(k===1)if(F){if(W)throw new L;b=!0}else{if(!W)throw new L;P=!0}else if(k===-1)if(F){if(W)throw new L;v=!0}else{if(!W)throw new L;A=!0}else if(k===0){if(F){if(!W)throw new L;m<g?(v=!0,P=!0):(b=!0,A=!0)}else if(W)throw new L}else throw new L;if(v){if(b)throw new L;Wa.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&Wa.decrement(this.getOddCounts(),this.getOddRoundingErrors()),A){if(P)throw new L;Wa.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&Wa.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}In.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],In.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],In.OUTSIDE_GSUM=[0,161,961,2015,2715],In.INSIDE_GSUM=[0,336,1036,1516],In.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],In.INSIDE_ODD_WIDEST=[2,4,6,8],In.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Th extends pn{constructor(c,h){super(),this.readers=[],this.verbose=h===!0;const m=c?c.get(M.POSSIBLE_FORMATS):null,g=c&&c.get(M.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;m?((m.includes(Me.EAN_13)||m.includes(Me.UPC_A)||m.includes(Me.EAN_8)||m.includes(Me.UPC_E))&&this.readers.push(new Gj(c)),m.includes(Me.CODE_39)&&this.readers.push(new Un(g)),m.includes(Me.CODE_128)&&this.readers.push(new Xe),m.includes(Me.ITF)&&this.readers.push(new Or),m.includes(Me.RSS_14)&&this.readers.push(new In),m.includes(Me.RSS_EXPANDED)&&this.readers.push(new De(this.verbose))):(this.readers.push(new Gj(c)),this.readers.push(new Un),this.readers.push(new Gj(c)),this.readers.push(new Xe),this.readers.push(new Or),this.readers.push(new In),this.readers.push(new De(this.verbose)))}decodeRow(c,h,m){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(c,h,m)}catch{}throw new L}reset(){this.readers.forEach(c=>c.reset())}}class pY extends se{constructor(c=500,h){super(new Th(h),c,h)}}class kr{constructor(c,h,m){this.ecCodewords=c,this.ecBlocks=[h],m&&this.ecBlocks.push(m)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class _r{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class gr{constructor(c,h,m,g,v,b){this.versionNumber=c,this.symbolSizeRows=h,this.symbolSizeColumns=m,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=v,this.ecBlocks=b;let A=0;const P=b.getECCodewords(),k=b.getECBlocks();for(let F of k)A+=F.getCount()*(F.getDataCodewords()+P);this.totalCodewords=A}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,h){if(c&1||h&1)throw new O;for(let m of gr.VERSIONS)if(m.symbolSizeRows===c&&m.symbolSizeColumns===h)return m;throw new O}toString(){return""+this.versionNumber}static buildVersions(){return[new gr(1,10,10,8,8,new kr(5,new _r(1,3))),new gr(2,12,12,10,10,new kr(7,new _r(1,5))),new gr(3,14,14,12,12,new kr(10,new _r(1,8))),new gr(4,16,16,14,14,new kr(12,new _r(1,12))),new gr(5,18,18,16,16,new kr(14,new _r(1,18))),new gr(6,20,20,18,18,new kr(18,new _r(1,22))),new gr(7,22,22,20,20,new kr(20,new _r(1,30))),new gr(8,24,24,22,22,new kr(24,new _r(1,36))),new gr(9,26,26,24,24,new kr(28,new _r(1,44))),new gr(10,32,32,14,14,new kr(36,new _r(1,62))),new gr(11,36,36,16,16,new kr(42,new _r(1,86))),new gr(12,40,40,18,18,new kr(48,new _r(1,114))),new gr(13,44,44,20,20,new kr(56,new _r(1,144))),new gr(14,48,48,22,22,new kr(68,new _r(1,174))),new gr(15,52,52,24,24,new kr(42,new _r(2,102))),new gr(16,64,64,14,14,new kr(56,new _r(2,140))),new gr(17,72,72,16,16,new kr(36,new _r(4,92))),new gr(18,80,80,18,18,new kr(48,new _r(4,114))),new gr(19,88,88,20,20,new kr(56,new _r(4,144))),new gr(20,96,96,22,22,new kr(68,new _r(4,174))),new gr(21,104,104,24,24,new kr(56,new _r(6,136))),new gr(22,120,120,18,18,new kr(68,new _r(6,175))),new gr(23,132,132,20,20,new kr(62,new _r(8,163))),new gr(24,144,144,22,22,new kr(62,new _r(8,156),new _r(2,155))),new gr(25,8,18,6,16,new kr(7,new _r(1,5))),new gr(26,8,32,6,14,new kr(11,new _r(1,10))),new gr(27,12,26,10,24,new kr(14,new _r(1,16))),new gr(28,12,36,10,16,new kr(18,new _r(1,22))),new gr(29,16,36,14,16,new kr(24,new _r(1,32))),new gr(30,16,48,14,22,new kr(28,new _r(1,49)))]}}gr.VERSIONS=gr.buildVersions();class Qj{constructor(c){const h=c.getHeight();if(h<8||h>144||h&1)throw new O;this.version=Qj.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new $(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const h=c.getHeight(),m=c.getWidth();return gr.getVersionForDimensions(h,m)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let h=0,m=4,g=0;const v=this.mappingBitMatrix.getHeight(),b=this.mappingBitMatrix.getWidth();let A=!1,P=!1,k=!1,F=!1;do if(m===v&&g===0&&!A)c[h++]=this.readCorner1(v,b)&255,m-=2,g+=2,A=!0;else if(m===v-2&&g===0&&b&3&&!P)c[h++]=this.readCorner2(v,b)&255,m-=2,g+=2,P=!0;else if(m===v+4&&g===2&&!(b&7)&&!k)c[h++]=this.readCorner3(v,b)&255,m-=2,g+=2,k=!0;else if(m===v-2&&g===0&&(b&7)===4&&!F)c[h++]=this.readCorner4(v,b)&255,m-=2,g+=2,F=!0;else{do m<v&&g>=0&&!this.readMappingMatrix.get(g,m)&&(c[h++]=this.readUtah(m,g,v,b)&255),m-=2,g+=2;while(m>=0&&g<b);m+=1,g+=3;do m>=0&&g<b&&!this.readMappingMatrix.get(g,m)&&(c[h++]=this.readUtah(m,g,v,b)&255),m+=2,g-=2;while(m<v&&g>=0);m+=3,g+=1}while(m<v||g<b);if(h!==this.version.getTotalCodewords())throw new O;return c}readModule(c,h,m,g){return c<0&&(c+=m,h+=4-(m+4&7)),h<0&&(h+=g,c+=4-(g+4&7)),this.readMappingMatrix.set(h,c),this.mappingBitMatrix.get(h,c)}readUtah(c,h,m,g){let v=0;return this.readModule(c-2,h-2,m,g)&&(v|=1),v<<=1,this.readModule(c-2,h-1,m,g)&&(v|=1),v<<=1,this.readModule(c-1,h-2,m,g)&&(v|=1),v<<=1,this.readModule(c-1,h-1,m,g)&&(v|=1),v<<=1,this.readModule(c-1,h,m,g)&&(v|=1),v<<=1,this.readModule(c,h-2,m,g)&&(v|=1),v<<=1,this.readModule(c,h-1,m,g)&&(v|=1),v<<=1,this.readModule(c,h,m,g)&&(v|=1),v}readCorner1(c,h){let m=0;return this.readModule(c-1,0,c,h)&&(m|=1),m<<=1,this.readModule(c-1,1,c,h)&&(m|=1),m<<=1,this.readModule(c-1,2,c,h)&&(m|=1),m<<=1,this.readModule(0,h-2,c,h)&&(m|=1),m<<=1,this.readModule(0,h-1,c,h)&&(m|=1),m<<=1,this.readModule(1,h-1,c,h)&&(m|=1),m<<=1,this.readModule(2,h-1,c,h)&&(m|=1),m<<=1,this.readModule(3,h-1,c,h)&&(m|=1),m}readCorner2(c,h){let m=0;return this.readModule(c-3,0,c,h)&&(m|=1),m<<=1,this.readModule(c-2,0,c,h)&&(m|=1),m<<=1,this.readModule(c-1,0,c,h)&&(m|=1),m<<=1,this.readModule(0,h-4,c,h)&&(m|=1),m<<=1,this.readModule(0,h-3,c,h)&&(m|=1),m<<=1,this.readModule(0,h-2,c,h)&&(m|=1),m<<=1,this.readModule(0,h-1,c,h)&&(m|=1),m<<=1,this.readModule(1,h-1,c,h)&&(m|=1),m}readCorner3(c,h){let m=0;return this.readModule(c-1,0,c,h)&&(m|=1),m<<=1,this.readModule(c-1,h-1,c,h)&&(m|=1),m<<=1,this.readModule(0,h-3,c,h)&&(m|=1),m<<=1,this.readModule(0,h-2,c,h)&&(m|=1),m<<=1,this.readModule(0,h-1,c,h)&&(m|=1),m<<=1,this.readModule(1,h-3,c,h)&&(m|=1),m<<=1,this.readModule(1,h-2,c,h)&&(m|=1),m<<=1,this.readModule(1,h-1,c,h)&&(m|=1),m}readCorner4(c,h){let m=0;return this.readModule(c-3,0,c,h)&&(m|=1),m<<=1,this.readModule(c-2,0,c,h)&&(m|=1),m<<=1,this.readModule(c-1,0,c,h)&&(m|=1),m<<=1,this.readModule(0,h-2,c,h)&&(m|=1),m<<=1,this.readModule(0,h-1,c,h)&&(m|=1),m<<=1,this.readModule(1,h-1,c,h)&&(m|=1),m<<=1,this.readModule(2,h-1,c,h)&&(m|=1),m<<=1,this.readModule(3,h-1,c,h)&&(m|=1),m}extractDataRegion(c){const h=this.version.getSymbolSizeRows(),m=this.version.getSymbolSizeColumns();if(c.getHeight()!==h)throw new p("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),b=h/g|0,A=m/v|0,P=b*g,k=A*v,F=new $(k,P);for(let W=0;W<b;++W){const K=W*g;for(let ee=0;ee<A;++ee){const oe=ee*v;for(let ce=0;ce<g;++ce){const me=W*(g+2)+1+ce,be=K+ce;for(let He=0;He<v;++He){const qe=ee*(v+2)+1+He;if(c.get(qe,me)){const Fe=oe+He;F.set(Fe,be)}}}}}return F}}class Zj{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h){const m=h.getECBlocks();let g=0;const v=m.getECBlocks();for(let ce of v)g+=ce.getCount();const b=new Array(g);let A=0;for(let ce of v)for(let me=0;me<ce.getCount();me++){const be=ce.getDataCodewords(),He=m.getECCodewords()+be;b[A++]=new Zj(be,new Uint8Array(He))}const k=b[0].codewords.length-m.getECCodewords(),F=k-1;let W=0;for(let ce=0;ce<F;ce++)for(let me=0;me<A;me++)b[me].codewords[ce]=c[W++];const K=h.getVersionNumber()===24,ee=K?8:A;for(let ce=0;ce<ee;ce++)b[ce].codewords[k-1]=c[W++];const oe=b[0].codewords.length;for(let ce=k;ce<oe;ce++)for(let me=0;me<A;me++){const be=K?(me+8)%A:me,He=K&&be>7?ce-1:ce;b[be].codewords[He]=c[W++]}if(W!==c.length)throw new p;return b}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Jj{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new p(""+c);let h=0,m=this.bitOffset,g=this.byteOffset;const v=this.bytes;if(m>0){const b=8-m,A=c<b?c:b,P=b-A,k=255>>8-A<<P;h=(v[g]&k)>>P,c-=A,m+=A,m===8&&(m=0,g++)}if(c>0){for(;c>=8;)h=h<<8|v[g]&255,g++,c-=8;if(c>0){const b=8-c,A=255>>b<<b;h=h<<c|(v[g]&A)>>b,m+=c}}return this.bitOffset=m,this.byteOffset=g,h}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var oa;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(oa||(oa={}));class Cc{static decode(c){const h=new Jj(c),m=new q,g=new q,v=new Array;let b=oa.ASCII_ENCODE;do if(b===oa.ASCII_ENCODE)b=this.decodeAsciiSegment(h,m,g);else{switch(b){case oa.C40_ENCODE:this.decodeC40Segment(h,m);break;case oa.TEXT_ENCODE:this.decodeTextSegment(h,m);break;case oa.ANSIX12_ENCODE:this.decodeAnsiX12Segment(h,m);break;case oa.EDIFACT_ENCODE:this.decodeEdifactSegment(h,m);break;case oa.BASE256_ENCODE:this.decodeBase256Segment(h,m,v);break;default:throw new O}b=oa.ASCII_ENCODE}while(b!==oa.PAD_ENCODE&&h.available()>0);return g.length()>0&&m.append(g.toString()),new Ae(c,m.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(c,h,m){let g=!1;do{let v=c.readBits(8);if(v===0)throw new O;if(v<=128)return g&&(v+=128),h.append(String.fromCharCode(v-1)),oa.ASCII_ENCODE;if(v===129)return oa.PAD_ENCODE;if(v<=229){const b=v-130;b<10&&h.append("0"),h.append(""+b)}else switch(v){case 230:return oa.C40_ENCODE;case 231:return oa.BASE256_ENCODE;case 232:h.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:h.append("[)>05"),m.insert(0,"");break;case 237:h.append("[)>06"),m.insert(0,"");break;case 238:return oa.ANSIX12_ENCODE;case 239:return oa.TEXT_ENCODE;case 240:return oa.EDIFACT_ENCODE;case 241:break;default:if(v!==254||c.available()!==0)throw new O;break}}while(c.available()>0);return oa.ASCII_ENCODE}static decodeC40Segment(c,h){let m=!1;const g=[];let v=0;do{if(c.available()===8)return;const b=c.readBits(8);if(b===254)return;this.parseTwoBytes(b,c.readBits(8),g);for(let A=0;A<3;A++){const P=g[A];switch(v){case 0:if(P<3)v=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const k=this.C40_BASIC_SET_CHARS[P];m?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),m=!1):h.append(k)}else throw new O;break;case 1:m?(h.append(String.fromCharCode(P+128)),m=!1):h.append(String.fromCharCode(P)),v=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const k=this.C40_SHIFT2_SET_CHARS[P];m?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),m=!1):h.append(k)}else switch(P){case 27:h.append("");break;case 30:m=!0;break;default:throw new O}v=0;break;case 3:m?(h.append(String.fromCharCode(P+224)),m=!1):h.append(String.fromCharCode(P+96)),v=0;break;default:throw new O}}}while(c.available()>0)}static decodeTextSegment(c,h){let m=!1,g=[],v=0;do{if(c.available()===8)return;const b=c.readBits(8);if(b===254)return;this.parseTwoBytes(b,c.readBits(8),g);for(let A=0;A<3;A++){const P=g[A];switch(v){case 0:if(P<3)v=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const k=this.TEXT_BASIC_SET_CHARS[P];m?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),m=!1):h.append(k)}else throw new O;break;case 1:m?(h.append(String.fromCharCode(P+128)),m=!1):h.append(String.fromCharCode(P)),v=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const k=this.TEXT_SHIFT2_SET_CHARS[P];m?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),m=!1):h.append(k)}else switch(P){case 27:h.append("");break;case 30:m=!0;break;default:throw new O}v=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const k=this.TEXT_SHIFT3_SET_CHARS[P];m?(h.append(String.fromCharCode(k.charCodeAt(0)+128)),m=!1):h.append(k),v=0}else throw new O;break;default:throw new O}}}while(c.available()>0)}static decodeAnsiX12Segment(c,h){const m=[];do{if(c.available()===8)return;const g=c.readBits(8);if(g===254)return;this.parseTwoBytes(g,c.readBits(8),m);for(let v=0;v<3;v++){const b=m[v];switch(b){case 0:h.append("\r");break;case 1:h.append("*");break;case 2:h.append(">");break;case 3:h.append(" ");break;default:if(b<14)h.append(String.fromCharCode(b+44));else if(b<40)h.append(String.fromCharCode(b+51));else throw new O;break}}}while(c.available()>0)}static parseTwoBytes(c,h,m){let g=(c<<8)+h-1,v=Math.floor(g/1600);m[0]=v,g-=v*1600,v=Math.floor(g/40),m[1]=v,m[2]=g-v*40}static decodeEdifactSegment(c,h){do{if(c.available()<=16)return;for(let m=0;m<4;m++){let g=c.readBits(6);if(g===31){const v=8-c.getBitOffset();v!==8&&c.readBits(v);return}g&32||(g|=64),h.append(String.fromCharCode(g))}}while(c.available()>0)}static decodeBase256Segment(c,h,m){let g=1+c.getByteOffset();const v=this.unrandomize255State(c.readBits(8),g++);let b;if(v===0?b=c.available()/8|0:v<250?b=v:b=250*(v-249)+this.unrandomize255State(c.readBits(8),g++),b<0)throw new O;const A=new Uint8Array(b);for(let P=0;P<b;P++){if(c.available()<8)throw new O;A[P]=this.unrandomize255State(c.readBits(8),g++)}m.push(A);try{h.append(z.decode(A,B.ISO88591))}catch(P){throw new nr("Platform does not support required encoding: "+P.message)}}static unrandomize255State(c,h){const m=149*h%255+1,g=c-m;return g>=0?g:g+256}}Cc.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Cc.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Cc.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Cc.TEXT_SHIFT2_SET_CHARS=Cc.C40_SHIFT2_SET_CHARS,Cc.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class xY{constructor(){this.rsDecoder=new pr(it.DATA_MATRIX_FIELD_256)}decode(c){const h=new Qj(c),m=h.getVersion(),g=h.readCodewords(),v=Zj.getDataBlocks(g,m);let b=0;for(let k of v)b+=k.getNumDataCodewords();const A=new Uint8Array(b),P=v.length;for(let k=0;k<P;k++){const F=v[k],W=F.getCodewords(),K=F.getNumDataCodewords();this.correctErrors(W,K);for(let ee=0;ee<K;ee++)A[ee*P+k]=W[ee]}return Cc.decode(A)}correctErrors(c,h){const m=new Int32Array(c);try{this.rsDecoder.decode(m,c.length-h)}catch{throw new y}for(let g=0;g<h;g++)c[g]=m[g]}}class Wn{constructor(c){this.image=c,this.rectangleDetector=new Ne(this.image)}detect(){const c=this.rectangleDetector.detect();let h=this.detectSolid1(c);if(h=this.detectSolid2(h),h[3]=this.correctTopRight(h),!h[3])throw new L;h=this.shiftToModuleCenter(h);const m=h[0],g=h[1],v=h[2],b=h[3];let A=this.transitionsBetween(m,b)+1,P=this.transitionsBetween(v,b)+1;(A&1)===1&&(A+=1),(P&1)===1&&(P+=1),4*A<7*P&&4*P<7*A&&(A=P=Math.max(A,P));let k=Wn.sampleGrid(this.image,m,g,v,b,A,P);return new ie(k,[m,g,v,b])}static shiftPoint(c,h,m){let g=(h.getX()-c.getX())/(m+1),v=(h.getY()-c.getY())/(m+1);return new st(c.getX()+g,c.getY()+v)}static moveAway(c,h,m){let g=c.getX(),v=c.getY();return g<h?g-=1:g+=1,v<m?v-=1:v+=1,new st(g,v)}detectSolid1(c){let h=c[0],m=c[1],g=c[3],v=c[2],b=this.transitionsBetween(h,m),A=this.transitionsBetween(m,g),P=this.transitionsBetween(g,v),k=this.transitionsBetween(v,h),F=b,W=[v,h,m,g];return F>A&&(F=A,W[0]=h,W[1]=m,W[2]=g,W[3]=v),F>P&&(F=P,W[0]=m,W[1]=g,W[2]=v,W[3]=h),F>k&&(W[0]=g,W[1]=v,W[2]=h,W[3]=m),W}detectSolid2(c){let h=c[0],m=c[1],g=c[2],v=c[3],b=this.transitionsBetween(h,v),A=Wn.shiftPoint(m,g,(b+1)*4),P=Wn.shiftPoint(g,m,(b+1)*4),k=this.transitionsBetween(A,h),F=this.transitionsBetween(P,v);return k<F?(c[0]=h,c[1]=m,c[2]=g,c[3]=v):(c[0]=m,c[1]=g,c[2]=v,c[3]=h),c}correctTopRight(c){let h=c[0],m=c[1],g=c[2],v=c[3],b=this.transitionsBetween(h,v),A=this.transitionsBetween(m,v),P=Wn.shiftPoint(h,m,(A+1)*4),k=Wn.shiftPoint(g,m,(b+1)*4);b=this.transitionsBetween(P,v),A=this.transitionsBetween(k,v);let F=new st(v.getX()+(g.getX()-m.getX())/(b+1),v.getY()+(g.getY()-m.getY())/(b+1)),W=new st(v.getX()+(h.getX()-m.getX())/(A+1),v.getY()+(h.getY()-m.getY())/(A+1));if(!this.isValid(F))return this.isValid(W)?W:null;if(!this.isValid(W))return F;let K=this.transitionsBetween(P,F)+this.transitionsBetween(k,F),ee=this.transitionsBetween(P,W)+this.transitionsBetween(k,W);return K>ee?F:W}shiftToModuleCenter(c){let h=c[0],m=c[1],g=c[2],v=c[3],b=this.transitionsBetween(h,v)+1,A=this.transitionsBetween(g,v)+1,P=Wn.shiftPoint(h,m,A*4),k=Wn.shiftPoint(g,m,b*4);b=this.transitionsBetween(P,v)+1,A=this.transitionsBetween(k,v)+1,(b&1)===1&&(b+=1),(A&1)===1&&(A+=1);let F=(h.getX()+m.getX()+g.getX()+v.getX())/4,W=(h.getY()+m.getY()+g.getY()+v.getY())/4;h=Wn.moveAway(h,F,W),m=Wn.moveAway(m,F,W),g=Wn.moveAway(g,F,W),v=Wn.moveAway(v,F,W);let K,ee;return P=Wn.shiftPoint(h,m,A*4),P=Wn.shiftPoint(P,v,b*4),K=Wn.shiftPoint(m,h,A*4),K=Wn.shiftPoint(K,g,b*4),k=Wn.shiftPoint(g,v,A*4),k=Wn.shiftPoint(k,m,b*4),ee=Wn.shiftPoint(v,g,A*4),ee=Wn.shiftPoint(ee,h,b*4),[P,K,k,ee]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,h,m,g,v,b,A){return ct.getInstance().sampleGrid(c,b,A,.5,.5,b-.5,.5,b-.5,A-.5,.5,A-.5,h.getX(),h.getY(),v.getX(),v.getY(),g.getX(),g.getY(),m.getX(),m.getY())}transitionsBetween(c,h){let m=Math.trunc(c.getX()),g=Math.trunc(c.getY()),v=Math.trunc(h.getX()),b=Math.trunc(h.getY()),A=Math.abs(b-g)>Math.abs(v-m);if(A){let ce=m;m=g,g=ce,ce=v,v=b,b=ce}let P=Math.abs(v-m),k=Math.abs(b-g),F=-P/2,W=g<b?1:-1,K=m<v?1:-1,ee=0,oe=this.image.get(A?g:m,A?m:g);for(let ce=m,me=g;ce!==v;ce+=K){let be=this.image.get(A?me:ce,A?ce:me);if(be!==oe&&(ee++,oe=be),F+=k,F>0){if(me===b)break;me+=W,F-=P}}return ee}}class Sc{constructor(){this.decoder=new xY}decode(c,h=null){let m,g;if(h!=null&&h.has(M.PURE_BARCODE)){const k=Sc.extractPureBits(c.getBlackMatrix());m=this.decoder.decode(k),g=Sc.NO_POINTS}else{const k=new Wn(c.getBlackMatrix()).detect();m=this.decoder.decode(k.getBits()),g=k.getPoints()}const v=m.getRawBytes(),b=new Te(m.getText(),v,8*v.length,g,Me.DATA_MATRIX,w.currentTimeMillis()),A=m.getByteSegments();A!=null&&b.putMetadata(rt.BYTE_SEGMENTS,A);const P=m.getECLevel();return P!=null&&b.putMetadata(rt.ERROR_CORRECTION_LEVEL,P),b}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),m=c.getBottomRightOnBit();if(h==null||m==null)throw new L;const g=this.moduleSize(h,c);let v=h[1];const b=m[1];let A=h[0];const k=(m[0]-A+1)/g,F=(b-v+1)/g;if(k<=0||F<=0)throw new L;const W=g/2;v+=W,A+=W;const K=new $(k,F);for(let ee=0;ee<F;ee++){const oe=v+ee*g;for(let ce=0;ce<k;ce++)c.get(A+ce*g,oe)&&K.set(ce,ee)}return K}static moduleSize(c,h){const m=h.getWidth();let g=c[0];const v=c[1];for(;g<m&&h.get(g,v);)g++;if(g===m)throw new L;const b=g-c[0];if(b===0)throw new L;return b}}Sc.NO_POINTS=[];class gY extends se{constructor(c=500){super(new Sc,c)}}var _h;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(_h||(_h={}));class Qr{constructor(c,h,m){this.value=c,this.stringValue=h,this.bits=m,Qr.FOR_BITS.set(m,this),Qr.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return Qr.L;case"M":return Qr.M;case"Q":return Qr.Q;case"H":return Qr.H;default:throw new f(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof Qr))return!1;const h=c;return this.value===h.value}static forBits(c){if(c<0||c>=Qr.FOR_BITS.size)throw new p;return Qr.FOR_BITS.get(c)}}Qr.FOR_BITS=new Map,Qr.FOR_VALUE=new Map,Qr.L=new Qr(_h.L,"L",1),Qr.M=new Qr(_h.M,"M",0),Qr.Q=new Qr(_h.Q,"Q",3),Qr.H=new Qr(_h.H,"H",2);class Ha{constructor(c){this.errorCorrectionLevel=Qr.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,h){return _.bitCount(c^h)}static decodeFormatInformation(c,h){const m=Ha.doDecodeFormatInformation(c,h);return m!==null?m:Ha.doDecodeFormatInformation(c^Ha.FORMAT_INFO_MASK_QR,h^Ha.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,h){let m=Number.MAX_SAFE_INTEGER,g=0;for(const v of Ha.FORMAT_INFO_DECODE_LOOKUP){const b=v[0];if(b===c||b===h)return new Ha(v[1]);let A=Ha.numBitsDiffering(c,b);A<m&&(g=v[1],m=A),c!==h&&(A=Ha.numBitsDiffering(h,b),A<m&&(g=v[1],m=A))}return m<=3?new Ha(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof Ha))return!1;const h=c;return this.errorCorrectionLevel===h.errorCorrectionLevel&&this.dataMask===h.dataMask}}Ha.FORMAT_INFO_MASK_QR=21522,Ha.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class pe{constructor(c,...h){this.ecCodewordsPerBlock=c,this.ecBlocks=h}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const h=this.ecBlocks;for(const m of h)c+=m.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class Z{constructor(c,h){this.count=c,this.dataCodewords=h}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class jt{constructor(c,h,...m){this.versionNumber=c,this.alignmentPatternCenters=h,this.ecBlocks=m;let g=0;const v=m[0].getECCodewordsPerBlock(),b=m[0].getECBlocks();for(const A of b)g+=A.getCount()*(A.getDataCodewords()+v);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new O;try{return this.getVersionForNumber((c-17)/4)}catch{throw new O}}static getVersionForNumber(c){if(c<1||c>40)throw new p;return jt.VERSIONS[c-1]}static decodeVersionInformation(c){let h=Number.MAX_SAFE_INTEGER,m=0;for(let g=0;g<jt.VERSION_DECODE_INFO.length;g++){const v=jt.VERSION_DECODE_INFO[g];if(v===c)return jt.getVersionForNumber(g+7);const b=Ha.numBitsDiffering(c,v);b<h&&(m=g+7,h=b)}return h<=3?jt.getVersionForNumber(m):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),h=new $(c);h.setRegion(0,0,9,9),h.setRegion(c-8,0,8,9),h.setRegion(0,c-8,9,8);const m=this.alignmentPatternCenters.length;for(let g=0;g<m;g++){const v=this.alignmentPatternCenters[g]-2;for(let b=0;b<m;b++)g===0&&(b===0||b===m-1)||g===m-1&&b===0||h.setRegion(this.alignmentPatternCenters[b]-2,v,5,5)}return h.setRegion(6,9,1,c-17),h.setRegion(9,6,c-17,1),this.versionNumber>6&&(h.setRegion(c-11,0,3,6),h.setRegion(0,c-11,6,3)),h}toString(){return""+this.versionNumber}}jt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),jt.VERSIONS=[new jt(1,new Int32Array(0),new pe(7,new Z(1,19)),new pe(10,new Z(1,16)),new pe(13,new Z(1,13)),new pe(17,new Z(1,9))),new jt(2,Int32Array.from([6,18]),new pe(10,new Z(1,34)),new pe(16,new Z(1,28)),new pe(22,new Z(1,22)),new pe(28,new Z(1,16))),new jt(3,Int32Array.from([6,22]),new pe(15,new Z(1,55)),new pe(26,new Z(1,44)),new pe(18,new Z(2,17)),new pe(22,new Z(2,13))),new jt(4,Int32Array.from([6,26]),new pe(20,new Z(1,80)),new pe(18,new Z(2,32)),new pe(26,new Z(2,24)),new pe(16,new Z(4,9))),new jt(5,Int32Array.from([6,30]),new pe(26,new Z(1,108)),new pe(24,new Z(2,43)),new pe(18,new Z(2,15),new Z(2,16)),new pe(22,new Z(2,11),new Z(2,12))),new jt(6,Int32Array.from([6,34]),new pe(18,new Z(2,68)),new pe(16,new Z(4,27)),new pe(24,new Z(4,19)),new pe(28,new Z(4,15))),new jt(7,Int32Array.from([6,22,38]),new pe(20,new Z(2,78)),new pe(18,new Z(4,31)),new pe(18,new Z(2,14),new Z(4,15)),new pe(26,new Z(4,13),new Z(1,14))),new jt(8,Int32Array.from([6,24,42]),new pe(24,new Z(2,97)),new pe(22,new Z(2,38),new Z(2,39)),new pe(22,new Z(4,18),new Z(2,19)),new pe(26,new Z(4,14),new Z(2,15))),new jt(9,Int32Array.from([6,26,46]),new pe(30,new Z(2,116)),new pe(22,new Z(3,36),new Z(2,37)),new pe(20,new Z(4,16),new Z(4,17)),new pe(24,new Z(4,12),new Z(4,13))),new jt(10,Int32Array.from([6,28,50]),new pe(18,new Z(2,68),new Z(2,69)),new pe(26,new Z(4,43),new Z(1,44)),new pe(24,new Z(6,19),new Z(2,20)),new pe(28,new Z(6,15),new Z(2,16))),new jt(11,Int32Array.from([6,30,54]),new pe(20,new Z(4,81)),new pe(30,new Z(1,50),new Z(4,51)),new pe(28,new Z(4,22),new Z(4,23)),new pe(24,new Z(3,12),new Z(8,13))),new jt(12,Int32Array.from([6,32,58]),new pe(24,new Z(2,92),new Z(2,93)),new pe(22,new Z(6,36),new Z(2,37)),new pe(26,new Z(4,20),new Z(6,21)),new pe(28,new Z(7,14),new Z(4,15))),new jt(13,Int32Array.from([6,34,62]),new pe(26,new Z(4,107)),new pe(22,new Z(8,37),new Z(1,38)),new pe(24,new Z(8,20),new Z(4,21)),new pe(22,new Z(12,11),new Z(4,12))),new jt(14,Int32Array.from([6,26,46,66]),new pe(30,new Z(3,115),new Z(1,116)),new pe(24,new Z(4,40),new Z(5,41)),new pe(20,new Z(11,16),new Z(5,17)),new pe(24,new Z(11,12),new Z(5,13))),new jt(15,Int32Array.from([6,26,48,70]),new pe(22,new Z(5,87),new Z(1,88)),new pe(24,new Z(5,41),new Z(5,42)),new pe(30,new Z(5,24),new Z(7,25)),new pe(24,new Z(11,12),new Z(7,13))),new jt(16,Int32Array.from([6,26,50,74]),new pe(24,new Z(5,98),new Z(1,99)),new pe(28,new Z(7,45),new Z(3,46)),new pe(24,new Z(15,19),new Z(2,20)),new pe(30,new Z(3,15),new Z(13,16))),new jt(17,Int32Array.from([6,30,54,78]),new pe(28,new Z(1,107),new Z(5,108)),new pe(28,new Z(10,46),new Z(1,47)),new pe(28,new Z(1,22),new Z(15,23)),new pe(28,new Z(2,14),new Z(17,15))),new jt(18,Int32Array.from([6,30,56,82]),new pe(30,new Z(5,120),new Z(1,121)),new pe(26,new Z(9,43),new Z(4,44)),new pe(28,new Z(17,22),new Z(1,23)),new pe(28,new Z(2,14),new Z(19,15))),new jt(19,Int32Array.from([6,30,58,86]),new pe(28,new Z(3,113),new Z(4,114)),new pe(26,new Z(3,44),new Z(11,45)),new pe(26,new Z(17,21),new Z(4,22)),new pe(26,new Z(9,13),new Z(16,14))),new jt(20,Int32Array.from([6,34,62,90]),new pe(28,new Z(3,107),new Z(5,108)),new pe(26,new Z(3,41),new Z(13,42)),new pe(30,new Z(15,24),new Z(5,25)),new pe(28,new Z(15,15),new Z(10,16))),new jt(21,Int32Array.from([6,28,50,72,94]),new pe(28,new Z(4,116),new Z(4,117)),new pe(26,new Z(17,42)),new pe(28,new Z(17,22),new Z(6,23)),new pe(30,new Z(19,16),new Z(6,17))),new jt(22,Int32Array.from([6,26,50,74,98]),new pe(28,new Z(2,111),new Z(7,112)),new pe(28,new Z(17,46)),new pe(30,new Z(7,24),new Z(16,25)),new pe(24,new Z(34,13))),new jt(23,Int32Array.from([6,30,54,78,102]),new pe(30,new Z(4,121),new Z(5,122)),new pe(28,new Z(4,47),new Z(14,48)),new pe(30,new Z(11,24),new Z(14,25)),new pe(30,new Z(16,15),new Z(14,16))),new jt(24,Int32Array.from([6,28,54,80,106]),new pe(30,new Z(6,117),new Z(4,118)),new pe(28,new Z(6,45),new Z(14,46)),new pe(30,new Z(11,24),new Z(16,25)),new pe(30,new Z(30,16),new Z(2,17))),new jt(25,Int32Array.from([6,32,58,84,110]),new pe(26,new Z(8,106),new Z(4,107)),new pe(28,new Z(8,47),new Z(13,48)),new pe(30,new Z(7,24),new Z(22,25)),new pe(30,new Z(22,15),new Z(13,16))),new jt(26,Int32Array.from([6,30,58,86,114]),new pe(28,new Z(10,114),new Z(2,115)),new pe(28,new Z(19,46),new Z(4,47)),new pe(28,new Z(28,22),new Z(6,23)),new pe(30,new Z(33,16),new Z(4,17))),new jt(27,Int32Array.from([6,34,62,90,118]),new pe(30,new Z(8,122),new Z(4,123)),new pe(28,new Z(22,45),new Z(3,46)),new pe(30,new Z(8,23),new Z(26,24)),new pe(30,new Z(12,15),new Z(28,16))),new jt(28,Int32Array.from([6,26,50,74,98,122]),new pe(30,new Z(3,117),new Z(10,118)),new pe(28,new Z(3,45),new Z(23,46)),new pe(30,new Z(4,24),new Z(31,25)),new pe(30,new Z(11,15),new Z(31,16))),new jt(29,Int32Array.from([6,30,54,78,102,126]),new pe(30,new Z(7,116),new Z(7,117)),new pe(28,new Z(21,45),new Z(7,46)),new pe(30,new Z(1,23),new Z(37,24)),new pe(30,new Z(19,15),new Z(26,16))),new jt(30,Int32Array.from([6,26,52,78,104,130]),new pe(30,new Z(5,115),new Z(10,116)),new pe(28,new Z(19,47),new Z(10,48)),new pe(30,new Z(15,24),new Z(25,25)),new pe(30,new Z(23,15),new Z(25,16))),new jt(31,Int32Array.from([6,30,56,82,108,134]),new pe(30,new Z(13,115),new Z(3,116)),new pe(28,new Z(2,46),new Z(29,47)),new pe(30,new Z(42,24),new Z(1,25)),new pe(30,new Z(23,15),new Z(28,16))),new jt(32,Int32Array.from([6,34,60,86,112,138]),new pe(30,new Z(17,115)),new pe(28,new Z(10,46),new Z(23,47)),new pe(30,new Z(10,24),new Z(35,25)),new pe(30,new Z(19,15),new Z(35,16))),new jt(33,Int32Array.from([6,30,58,86,114,142]),new pe(30,new Z(17,115),new Z(1,116)),new pe(28,new Z(14,46),new Z(21,47)),new pe(30,new Z(29,24),new Z(19,25)),new pe(30,new Z(11,15),new Z(46,16))),new jt(34,Int32Array.from([6,34,62,90,118,146]),new pe(30,new Z(13,115),new Z(6,116)),new pe(28,new Z(14,46),new Z(23,47)),new pe(30,new Z(44,24),new Z(7,25)),new pe(30,new Z(59,16),new Z(1,17))),new jt(35,Int32Array.from([6,30,54,78,102,126,150]),new pe(30,new Z(12,121),new Z(7,122)),new pe(28,new Z(12,47),new Z(26,48)),new pe(30,new Z(39,24),new Z(14,25)),new pe(30,new Z(22,15),new Z(41,16))),new jt(36,Int32Array.from([6,24,50,76,102,128,154]),new pe(30,new Z(6,121),new Z(14,122)),new pe(28,new Z(6,47),new Z(34,48)),new pe(30,new Z(46,24),new Z(10,25)),new pe(30,new Z(2,15),new Z(64,16))),new jt(37,Int32Array.from([6,28,54,80,106,132,158]),new pe(30,new Z(17,122),new Z(4,123)),new pe(28,new Z(29,46),new Z(14,47)),new pe(30,new Z(49,24),new Z(10,25)),new pe(30,new Z(24,15),new Z(46,16))),new jt(38,Int32Array.from([6,32,58,84,110,136,162]),new pe(30,new Z(4,122),new Z(18,123)),new pe(28,new Z(13,46),new Z(32,47)),new pe(30,new Z(48,24),new Z(14,25)),new pe(30,new Z(42,15),new Z(32,16))),new jt(39,Int32Array.from([6,26,54,82,110,138,166]),new pe(30,new Z(20,117),new Z(4,118)),new pe(28,new Z(40,47),new Z(7,48)),new pe(30,new Z(43,24),new Z(22,25)),new pe(30,new Z(10,15),new Z(67,16))),new jt(40,Int32Array.from([6,30,58,86,114,142,170]),new pe(30,new Z(19,118),new Z(6,119)),new pe(28,new Z(18,47),new Z(31,48)),new pe(30,new Z(34,24),new Z(34,25)),new pe(30,new Z(20,15),new Z(61,16)))];var ba;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(ba||(ba={}));class yi{constructor(c,h){this.value=c,this.isMasked=h}unmaskBitMatrix(c,h){for(let m=0;m<h;m++)for(let g=0;g<h;g++)this.isMasked(m,g)&&c.flip(g,m)}}yi.values=new Map([[ba.DATA_MASK_000,new yi(ba.DATA_MASK_000,(U,c)=>(U+c&1)===0)],[ba.DATA_MASK_001,new yi(ba.DATA_MASK_001,(U,c)=>(U&1)===0)],[ba.DATA_MASK_010,new yi(ba.DATA_MASK_010,(U,c)=>c%3===0)],[ba.DATA_MASK_011,new yi(ba.DATA_MASK_011,(U,c)=>(U+c)%3===0)],[ba.DATA_MASK_100,new yi(ba.DATA_MASK_100,(U,c)=>(Math.floor(U/2)+Math.floor(c/3)&1)===0)],[ba.DATA_MASK_101,new yi(ba.DATA_MASK_101,(U,c)=>U*c%6===0)],[ba.DATA_MASK_110,new yi(ba.DATA_MASK_110,(U,c)=>U*c%6<3)],[ba.DATA_MASK_111,new yi(ba.DATA_MASK_111,(U,c)=>(U+c+U*c%3&1)===0)]]);class vY{constructor(c){const h=c.getHeight();if(h<21||(h&3)!==1)throw new O;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let v=0;v<6;v++)c=this.copyBit(v,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let v=5;v>=0;v--)c=this.copyBit(8,v,c);const h=this.bitMatrix.getHeight();let m=0;const g=h-7;for(let v=h-1;v>=g;v--)m=this.copyBit(8,v,m);for(let v=h-8;v<h;v++)m=this.copyBit(v,8,m);if(this.parsedFormatInfo=Ha.decodeFormatInformation(c,m),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new O}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),h=Math.floor((c-17)/4);if(h<=6)return jt.getVersionForNumber(h);let m=0;const g=c-11;for(let b=5;b>=0;b--)for(let A=c-9;A>=g;A--)m=this.copyBit(A,b,m);let v=jt.decodeVersionInformation(m);if(v!==null&&v.getDimensionForVersion()===c)return this.parsedVersion=v,v;m=0;for(let b=5;b>=0;b--)for(let A=c-9;A>=g;A--)m=this.copyBit(b,A,m);if(v=jt.decodeVersionInformation(m),v!==null&&v.getDimensionForVersion()===c)return this.parsedVersion=v,v;throw new O}copyBit(c,h,m){return(this.isMirror?this.bitMatrix.get(h,c):this.bitMatrix.get(c,h))?m<<1|1:m<<1}readCodewords(){const c=this.readFormatInformation(),h=this.readVersion(),m=yi.values.get(c.getDataMask()),g=this.bitMatrix.getHeight();m.unmaskBitMatrix(this.bitMatrix,g);const v=h.buildFunctionPattern();let b=!0;const A=new Uint8Array(h.getTotalCodewords());let P=0,k=0,F=0;for(let W=g-1;W>0;W-=2){W===6&&W--;for(let K=0;K<g;K++){const ee=b?g-1-K:K;for(let oe=0;oe<2;oe++)v.get(W-oe,ee)||(F++,k<<=1,this.bitMatrix.get(W-oe,ee)&&(k|=1),F===8&&(A[P++]=k,F=0,k=0))}b=!b}if(P!==h.getTotalCodewords())throw new O;return A}remask(){if(this.parsedFormatInfo===null)return;const c=yi.values[this.parsedFormatInfo.getDataMask()],h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let h=0,m=c.getWidth();h<m;h++)for(let g=h+1,v=c.getHeight();g<v;g++)c.get(h,g)!==c.get(g,h)&&(c.flip(g,h),c.flip(h,g))}}class e2{constructor(c,h){this.numDataCodewords=c,this.codewords=h}static getDataBlocks(c,h,m){if(c.length!==h.getTotalCodewords())throw new p;const g=h.getECBlocksForLevel(m);let v=0;const b=g.getECBlocks();for(const oe of b)v+=oe.getCount();const A=new Array(v);let P=0;for(const oe of b)for(let ce=0;ce<oe.getCount();ce++){const me=oe.getDataCodewords(),be=g.getECCodewordsPerBlock()+me;A[P++]=new e2(me,new Uint8Array(be))}const k=A[0].codewords.length;let F=A.length-1;for(;F>=0&&A[F].codewords.length!==k;)F--;F++;const W=k-g.getECCodewordsPerBlock();let K=0;for(let oe=0;oe<W;oe++)for(let ce=0;ce<P;ce++)A[ce].codewords[oe]=c[K++];for(let oe=F;oe<P;oe++)A[oe].codewords[W]=c[K++];const ee=A[0].codewords.length;for(let oe=W;oe<ee;oe++)for(let ce=0;ce<P;ce++){const me=ce<F?oe:oe+1;A[ce].codewords[me]=c[K++]}return A}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bi;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(bi||(bi={}));class At{constructor(c,h,m,g){this.value=c,this.stringValue=h,this.characterCountBitsForVersions=m,this.bits=g,At.FOR_BITS.set(g,this),At.FOR_VALUE.set(c,this)}static forBits(c){const h=At.FOR_BITS.get(c);if(h===void 0)throw new p;return h}getCharacterCountBits(c){const h=c.getVersionNumber();let m;return h<=9?m=0:h<=26?m=1:m=2,this.characterCountBitsForVersions[m]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof At))return!1;const h=c;return this.value===h.value}toString(){return this.stringValue}}At.FOR_BITS=new Map,At.FOR_VALUE=new Map,At.TERMINATOR=new At(bi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),At.NUMERIC=new At(bi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),At.ALPHANUMERIC=new At(bi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),At.STRUCTURED_APPEND=new At(bi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),At.BYTE=new At(bi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),At.ECI=new At(bi.ECI,"ECI",Int32Array.from([0,0,0]),7),At.KANJI=new At(bi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),At.FNC1_FIRST_POSITION=new At(bi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),At.FNC1_SECOND_POSITION=new At(bi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),At.HANZI=new At(bi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Sn{static decode(c,h,m,g){const v=new Jj(c);let b=new q;const A=new Array;let P=-1,k=-1;try{let F=null,W=!1,K;do{if(v.available()<4)K=At.TERMINATOR;else{const ee=v.readBits(4);K=At.forBits(ee)}switch(K){case At.TERMINATOR:break;case At.FNC1_FIRST_POSITION:case At.FNC1_SECOND_POSITION:W=!0;break;case At.STRUCTURED_APPEND:if(v.available()<16)throw new O;P=v.readBits(8),k=v.readBits(8);break;case At.ECI:const ee=Sn.parseECIValue(v);if(F=R.getCharacterSetECIByValue(ee),F===null)throw new O;break;case At.HANZI:const oe=v.readBits(4),ce=v.readBits(K.getCharacterCountBits(h));oe===Sn.GB2312_SUBSET&&Sn.decodeHanziSegment(v,b,ce);break;default:const me=v.readBits(K.getCharacterCountBits(h));switch(K){case At.NUMERIC:Sn.decodeNumericSegment(v,b,me);break;case At.ALPHANUMERIC:Sn.decodeAlphanumericSegment(v,b,me,W);break;case At.BYTE:Sn.decodeByteSegment(v,b,me,F,A,g);break;case At.KANJI:Sn.decodeKanjiSegment(v,b,me);break;default:throw new O}break}}while(K!==At.TERMINATOR)}catch{throw new O}return new Ae(c,b.toString(),A.length===0?null:A,m===null?null:m.toString(),P,k)}static decodeHanziSegment(c,h,m){if(m*13>c.available())throw new O;const g=new Uint8Array(2*m);let v=0;for(;m>0;){const b=c.readBits(13);let A=b/96<<8&4294967295|b%96;A<959?A+=41377:A+=42657,g[v]=A>>8&255,g[v+1]=A&255,v+=2,m--}try{h.append(z.decode(g,B.GB2312))}catch(b){throw new O(b)}}static decodeKanjiSegment(c,h,m){if(m*13>c.available())throw new O;const g=new Uint8Array(2*m);let v=0;for(;m>0;){const b=c.readBits(13);let A=b/192<<8&4294967295|b%192;A<7936?A+=33088:A+=49472,g[v]=A>>8,g[v+1]=A,v+=2,m--}try{h.append(z.decode(g,B.SHIFT_JIS))}catch(b){throw new O(b)}}static decodeByteSegment(c,h,m,g,v,b){if(8*m>c.available())throw new O;const A=new Uint8Array(m);for(let k=0;k<m;k++)A[k]=c.readBits(8);let P;g===null?P=B.guessEncoding(A,b):P=g.getName();try{h.append(z.decode(A,P))}catch(k){throw new O(k)}v.push(A)}static toAlphaNumericChar(c){if(c>=Sn.ALPHANUMERIC_CHARS.length)throw new O;return Sn.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,h,m,g){const v=h.length();for(;m>1;){if(c.available()<11)throw new O;const b=c.readBits(11);h.append(Sn.toAlphaNumericChar(Math.floor(b/45))),h.append(Sn.toAlphaNumericChar(b%45)),m-=2}if(m===1){if(c.available()<6)throw new O;h.append(Sn.toAlphaNumericChar(c.readBits(6)))}if(g)for(let b=v;b<h.length();b++)h.charAt(b)==="%"&&(b<h.length()-1&&h.charAt(b+1)==="%"?h.deleteCharAt(b+1):h.setCharAt(b,""))}static decodeNumericSegment(c,h,m){for(;m>=3;){if(c.available()<10)throw new O;const g=c.readBits(10);if(g>=1e3)throw new O;h.append(Sn.toAlphaNumericChar(Math.floor(g/100))),h.append(Sn.toAlphaNumericChar(Math.floor(g/10)%10)),h.append(Sn.toAlphaNumericChar(g%10)),m-=3}if(m===2){if(c.available()<7)throw new O;const g=c.readBits(7);if(g>=100)throw new O;h.append(Sn.toAlphaNumericChar(Math.floor(g/10))),h.append(Sn.toAlphaNumericChar(g%10))}else if(m===1){if(c.available()<4)throw new O;const g=c.readBits(4);if(g>=10)throw new O;h.append(Sn.toAlphaNumericChar(g))}}static parseECIValue(c){const h=c.readBits(8);if(!(h&128))return h&127;if((h&192)===128){const m=c.readBits(8);return(h&63)<<8&4294967295|m}if((h&224)===192){const m=c.readBits(16);return(h&31)<<16&4294967295|m}throw new O}}Sn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Sn.GB2312_SUBSET=1;class hP{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const h=c[0];c[0]=c[2],c[2]=h}}class yY{constructor(){this.rsDecoder=new pr(it.QR_CODE_FIELD_256)}decodeBooleanArray(c,h){return this.decodeBitMatrix($.parseFromBooleanArray(c),h)}decodeBitMatrix(c,h){const m=new vY(c);let g=null;try{return this.decodeBitMatrixParser(m,h)}catch(v){g=v}try{m.remask(),m.setMirror(!0),m.readVersion(),m.readFormatInformation(),m.mirror();const v=this.decodeBitMatrixParser(m,h);return v.setOther(new hP(!0)),v}catch(v){throw g!==null?g:v}}decodeBitMatrixParser(c,h){const m=c.readVersion(),g=c.readFormatInformation().getErrorCorrectionLevel(),v=c.readCodewords(),b=e2.getDataBlocks(v,m,g);let A=0;for(const F of b)A+=F.getNumDataCodewords();const P=new Uint8Array(A);let k=0;for(const F of b){const W=F.getCodewords(),K=F.getNumDataCodewords();this.correctErrors(W,K);for(let ee=0;ee<K;ee++)P[k++]=W[ee]}return Sn.decode(P,m,g,h)}correctErrors(c,h){const m=new Int32Array(c);try{this.rsDecoder.decode(m,c.length-h)}catch{throw new y}for(let g=0;g<h;g++)c[g]=m[g]}}class t2 extends st{constructor(c,h,m){super(c,h),this.estimatedModuleSize=m}aboutEquals(c,h,m){if(Math.abs(h-this.getY())<=c&&Math.abs(m-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,h,m){const g=(this.getX()+h)/2,v=(this.getY()+c)/2,b=(this.estimatedModuleSize+m)/2;return new t2(g,v,b)}}class nv{constructor(c,h,m,g,v,b,A){this.image=c,this.startX=h,this.startY=m,this.width=g,this.height=v,this.moduleSize=b,this.resultPointCallback=A,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,h=this.height,m=this.width,g=c+m,v=this.startY+h/2,b=new Int32Array(3),A=this.image;for(let P=0;P<h;P++){const k=v+(P&1?-Math.floor((P+1)/2):Math.floor((P+1)/2));b[0]=0,b[1]=0,b[2]=0;let F=c;for(;F<g&&!A.get(F,k);)F++;let W=0;for(;F<g;){if(A.get(F,k))if(W===1)b[1]++;else if(W===2){if(this.foundPatternCross(b)){const K=this.handlePossibleCenter(b,k,F);if(K!==null)return K}b[0]=b[2],b[1]=1,b[2]=0,W=1}else b[++W]++;else W===1&&W++,b[W]++;F++}if(this.foundPatternCross(b)){const K=this.handlePossibleCenter(b,k,g);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new L}static centerFromEnd(c,h){return h-c[2]-c[1]/2}foundPatternCross(c){const h=this.moduleSize,m=h/2;for(let g=0;g<3;g++)if(Math.abs(h-c[g])>=m)return!1;return!0}crossCheckVertical(c,h,m,g){const v=this.image,b=v.getHeight(),A=this.crossCheckStateCount;A[0]=0,A[1]=0,A[2]=0;let P=c;for(;P>=0&&v.get(h,P)&&A[1]<=m;)A[1]++,P--;if(P<0||A[1]>m)return NaN;for(;P>=0&&!v.get(h,P)&&A[0]<=m;)A[0]++,P--;if(A[0]>m)return NaN;for(P=c+1;P<b&&v.get(h,P)&&A[1]<=m;)A[1]++,P++;if(P===b||A[1]>m)return NaN;for(;P<b&&!v.get(h,P)&&A[2]<=m;)A[2]++,P++;if(A[2]>m)return NaN;const k=A[0]+A[1]+A[2];return 5*Math.abs(k-g)>=2*g?NaN:this.foundPatternCross(A)?nv.centerFromEnd(A,P):NaN}handlePossibleCenter(c,h,m){const g=c[0]+c[1]+c[2],v=nv.centerFromEnd(c,m),b=this.crossCheckVertical(h,v,2*c[1],g);if(!isNaN(b)){const A=(c[0]+c[1]+c[2])/3;for(const k of this.possibleCenters)if(k.aboutEquals(A,b,v))return k.combineEstimate(b,v,A);const P=new t2(v,b,A);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class r2 extends st{constructor(c,h,m,g){super(c,h),this.estimatedModuleSize=m,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,h,m){if(Math.abs(h-this.getY())<=c&&Math.abs(m-this.getX())<=c){const g=Math.abs(c-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(c,h,m){const g=this.count+1,v=(this.count*this.getX()+h)/g,b=(this.count*this.getY()+c)/g,A=(this.count*this.estimatedModuleSize+m)/g;return new r2(v,b,A,g)}}class bY{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class wa{constructor(c,h){this.image=c,this.resultPointCallback=h,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=h}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const h=c!=null&&c.get(M.TRY_HARDER)!==void 0,m=c!=null&&c.get(M.PURE_BARCODE)!==void 0,g=this.image,v=g.getHeight(),b=g.getWidth();let A=Math.floor(3*v/(4*wa.MAX_MODULES));(A<wa.MIN_SKIP||h)&&(A=wa.MIN_SKIP);let P=!1;const k=new Int32Array(5);for(let W=A-1;W<v&&!P;W+=A){k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0;let K=0;for(let ee=0;ee<b;ee++)if(g.get(ee,W))(K&1)===1&&K++,k[K]++;else if(K&1)k[K]++;else if(K===4)if(wa.foundPatternCross(k)){if(this.handlePossibleCenter(k,W,ee,m)===!0)if(A=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const ce=this.findRowSkip();ce>k[2]&&(W+=ce-k[2]-A,ee=b-1)}else{k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,K=3;continue}K=0,k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0}else k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,K=3;else k[++K]++;wa.foundPatternCross(k)&&this.handlePossibleCenter(k,W,b,m)===!0&&(A=k[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const F=this.selectBestPatterns();return st.orderBestPatterns(F),new bY(F)}static centerFromEnd(c,h){return h-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let h=0;for(let v=0;v<5;v++){const b=c[v];if(b===0)return!1;h+=b}if(h<7)return!1;const m=h/7,g=m/2;return Math.abs(m-c[0])<g&&Math.abs(m-c[1])<g&&Math.abs(3*m-c[2])<3*g&&Math.abs(m-c[3])<g&&Math.abs(m-c[4])<g}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,h,m,g){const v=this.getCrossCheckStateCount();let b=0;const A=this.image;for(;c>=b&&h>=b&&A.get(h-b,c-b);)v[2]++,b++;if(c<b||h<b)return!1;for(;c>=b&&h>=b&&!A.get(h-b,c-b)&&v[1]<=m;)v[1]++,b++;if(c<b||h<b||v[1]>m)return!1;for(;c>=b&&h>=b&&A.get(h-b,c-b)&&v[0]<=m;)v[0]++,b++;if(v[0]>m)return!1;const P=A.getHeight(),k=A.getWidth();for(b=1;c+b<P&&h+b<k&&A.get(h+b,c+b);)v[2]++,b++;if(c+b>=P||h+b>=k)return!1;for(;c+b<P&&h+b<k&&!A.get(h+b,c+b)&&v[3]<m;)v[3]++,b++;if(c+b>=P||h+b>=k||v[3]>=m)return!1;for(;c+b<P&&h+b<k&&A.get(h+b,c+b)&&v[4]<m;)v[4]++,b++;if(v[4]>=m)return!1;const F=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(F-g)<2*g&&wa.foundPatternCross(v)}crossCheckVertical(c,h,m,g){const v=this.image,b=v.getHeight(),A=this.getCrossCheckStateCount();let P=c;for(;P>=0&&v.get(h,P);)A[2]++,P--;if(P<0)return NaN;for(;P>=0&&!v.get(h,P)&&A[1]<=m;)A[1]++,P--;if(P<0||A[1]>m)return NaN;for(;P>=0&&v.get(h,P)&&A[0]<=m;)A[0]++,P--;if(A[0]>m)return NaN;for(P=c+1;P<b&&v.get(h,P);)A[2]++,P++;if(P===b)return NaN;for(;P<b&&!v.get(h,P)&&A[3]<m;)A[3]++,P++;if(P===b||A[3]>=m)return NaN;for(;P<b&&v.get(h,P)&&A[4]<m;)A[4]++,P++;if(A[4]>=m)return NaN;const k=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(k-g)>=2*g?NaN:wa.foundPatternCross(A)?wa.centerFromEnd(A,P):NaN}crossCheckHorizontal(c,h,m,g){const v=this.image,b=v.getWidth(),A=this.getCrossCheckStateCount();let P=c;for(;P>=0&&v.get(P,h);)A[2]++,P--;if(P<0)return NaN;for(;P>=0&&!v.get(P,h)&&A[1]<=m;)A[1]++,P--;if(P<0||A[1]>m)return NaN;for(;P>=0&&v.get(P,h)&&A[0]<=m;)A[0]++,P--;if(A[0]>m)return NaN;for(P=c+1;P<b&&v.get(P,h);)A[2]++,P++;if(P===b)return NaN;for(;P<b&&!v.get(P,h)&&A[3]<m;)A[3]++,P++;if(P===b||A[3]>=m)return NaN;for(;P<b&&v.get(P,h)&&A[4]<m;)A[4]++,P++;if(A[4]>=m)return NaN;const k=A[0]+A[1]+A[2]+A[3]+A[4];return 5*Math.abs(k-g)>=g?NaN:wa.foundPatternCross(A)?wa.centerFromEnd(A,P):NaN}handlePossibleCenter(c,h,m,g){const v=c[0]+c[1]+c[2]+c[3]+c[4];let b=wa.centerFromEnd(c,m),A=this.crossCheckVertical(h,Math.floor(b),c[2],v);if(!isNaN(A)&&(b=this.crossCheckHorizontal(Math.floor(b),Math.floor(A),c[2],v),!isNaN(b)&&(!g||this.crossCheckDiagonal(Math.floor(A),Math.floor(b),c[2],v)))){const P=v/7;let k=!1;const F=this.possibleCenters;for(let W=0,K=F.length;W<K;W++){const ee=F[W];if(ee.aboutEquals(P,A,b)){F[W]=ee.combineEstimate(A,b,P),k=!0;break}}if(!k){const W=new r2(b,A,P);F.push(W),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(W)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let h=null;for(const m of this.possibleCenters)if(m.getCount()>=wa.CENTER_QUORUM)if(h==null)h=m;else return this.hasSkipped=!0,Math.floor((Math.abs(h.getX()-m.getX())-Math.abs(h.getY()-m.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,h=0;const m=this.possibleCenters.length;for(const b of this.possibleCenters)b.getCount()>=wa.CENTER_QUORUM&&(c++,h+=b.getEstimatedModuleSize());if(c<3)return!1;const g=h/m;let v=0;for(const b of this.possibleCenters)v+=Math.abs(b.getEstimatedModuleSize()-g);return v<=.05*h}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new L;const h=this.possibleCenters;let m;if(c>3){let g=0,v=0;for(const P of this.possibleCenters){const k=P.getEstimatedModuleSize();g+=k,v+=k*k}m=g/c;let b=Math.sqrt(v/c-m*m);h.sort((P,k)=>{const F=Math.abs(k.getEstimatedModuleSize()-m),W=Math.abs(P.getEstimatedModuleSize()-m);return F<W?-1:F>W?1:0});const A=Math.max(.2*m,b);for(let P=0;P<h.length&&h.length>3;P++){const k=h[P];Math.abs(k.getEstimatedModuleSize()-m)>A&&(h.splice(P,1),P--)}}if(h.length>3){let g=0;for(const v of h)g+=v.getEstimatedModuleSize();m=g/h.length,h.sort((v,b)=>{if(b.getCount()===v.getCount()){const A=Math.abs(b.getEstimatedModuleSize()-m),P=Math.abs(v.getEstimatedModuleSize()-m);return A<P?1:A>P?-1:0}else return b.getCount()-v.getCount()}),h.splice(3)}return[h[0],h[1],h[2]]}}wa.CENTER_QUORUM=2,wa.MIN_SKIP=3,wa.MAX_MODULES=57;class yp{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(M.NEED_RESULT_POINT_CALLBACK);const m=new wa(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(m)}processFinderPatternInfo(c){const h=c.getTopLeft(),m=c.getTopRight(),g=c.getBottomLeft(),v=this.calculateModuleSize(h,m,g);if(v<1)throw new L("No pattern found in proccess finder.");const b=yp.computeDimension(h,m,g,v),A=jt.getProvisionalVersionForDimension(b),P=A.getDimensionForVersion()-7;let k=null;if(A.getAlignmentPatternCenters().length>0){const ee=m.getX()-h.getX()+g.getX(),oe=m.getY()-h.getY()+g.getY(),ce=1-3/P,me=Math.floor(h.getX()+ce*(ee-h.getX())),be=Math.floor(h.getY()+ce*(oe-h.getY()));for(let He=4;He<=16;He<<=1)try{k=this.findAlignmentInRegion(v,me,be,He);break}catch(qe){if(!(qe instanceof L))throw qe}}const F=yp.createTransform(h,m,g,k,b),W=yp.sampleGrid(this.image,F,b);let K;return k===null?K=[g,h,m]:K=[g,h,m,k],new ie(W,K)}static createTransform(c,h,m,g,v){const b=v-3.5;let A,P,k,F;return g!==null?(A=g.getX(),P=g.getY(),k=b-3,F=k):(A=h.getX()-c.getX()+m.getX(),P=h.getY()-c.getY()+m.getY(),k=b,F=b),Ye.quadrilateralToQuadrilateral(3.5,3.5,b,3.5,k,F,3.5,b,c.getX(),c.getY(),h.getX(),h.getY(),A,P,m.getX(),m.getY())}static sampleGrid(c,h,m){return ct.getInstance().sampleGridWithTransform(c,m,m,h)}static computeDimension(c,h,m,g){const v=ot.round(st.distance(c,h)/g),b=ot.round(st.distance(c,m)/g);let A=Math.floor((v+b)/2)+7;switch(A&3){case 0:A++;break;case 2:A--;break;case 3:throw new L("Dimensions could be not found.")}return A}calculateModuleSize(c,h,m){return(this.calculateModuleSizeOneWay(c,h)+this.calculateModuleSizeOneWay(c,m))/2}calculateModuleSizeOneWay(c,h){const m=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(h.getX()),Math.floor(h.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(h.getX()),Math.floor(h.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(m)?g/7:isNaN(g)?m/7:(m+g)/14}sizeOfBlackWhiteBlackRunBothWays(c,h,m,g){let v=this.sizeOfBlackWhiteBlackRun(c,h,m,g),b=1,A=c-(m-c);A<0?(b=c/(c-A),A=0):A>=this.image.getWidth()&&(b=(this.image.getWidth()-1-c)/(A-c),A=this.image.getWidth()-1);let P=Math.floor(h-(g-h)*b);return b=1,P<0?(b=h/(h-P),P=0):P>=this.image.getHeight()&&(b=(this.image.getHeight()-1-h)/(P-h),P=this.image.getHeight()-1),A=Math.floor(c+(A-c)*b),v+=this.sizeOfBlackWhiteBlackRun(c,h,A,P),v-1}sizeOfBlackWhiteBlackRun(c,h,m,g){const v=Math.abs(g-h)>Math.abs(m-c);if(v){let ee=c;c=h,h=ee,ee=m,m=g,g=ee}const b=Math.abs(m-c),A=Math.abs(g-h);let P=-b/2;const k=c<m?1:-1,F=h<g?1:-1;let W=0;const K=m+k;for(let ee=c,oe=h;ee!==K;ee+=k){const ce=v?oe:ee,me=v?ee:oe;if(W===1===this.image.get(ce,me)){if(W===2)return ot.distance(ee,oe,c,h);W++}if(P+=A,P>0){if(oe===g)break;oe+=F,P-=b}}return W===2?ot.distance(m+k,g,c,h):NaN}findAlignmentInRegion(c,h,m,g){const v=Math.floor(g*c),b=Math.max(0,h-v),A=Math.min(this.image.getWidth()-1,h+v);if(A-b<c*3)throw new L("Alignment top exceeds estimated module size.");const P=Math.max(0,m-v),k=Math.min(this.image.getHeight()-1,m+v);if(k-P<c*3)throw new L("Alignment bottom exceeds estimated module size.");return new nv(this.image,b,P,A-b,k-P,c,this.resultPointCallback).find()}}class Ac{constructor(){this.decoder=new yY}getDecoder(){return this.decoder}decode(c,h){let m,g;if(h!=null&&h.get(M.PURE_BARCODE)!==void 0){const P=Ac.extractPureBits(c.getBlackMatrix());m=this.decoder.decodeBitMatrix(P,h),g=Ac.NO_POINTS}else{const P=new yp(c.getBlackMatrix()).detect(h);m=this.decoder.decodeBitMatrix(P.getBits(),h),g=P.getPoints()}m.getOther()instanceof hP&&m.getOther().applyMirroredCorrection(g);const v=new Te(m.getText(),m.getRawBytes(),void 0,g,Me.QR_CODE,void 0),b=m.getByteSegments();b!==null&&v.putMetadata(rt.BYTE_SEGMENTS,b);const A=m.getECLevel();return A!==null&&v.putMetadata(rt.ERROR_CORRECTION_LEVEL,A),m.hasStructuredAppend()&&(v.putMetadata(rt.STRUCTURED_APPEND_SEQUENCE,m.getStructuredAppendSequenceNumber()),v.putMetadata(rt.STRUCTURED_APPEND_PARITY,m.getStructuredAppendParity())),v}reset(){}static extractPureBits(c){const h=c.getTopLeftOnBit(),m=c.getBottomRightOnBit();if(h===null||m===null)throw new L;const g=this.moduleSize(h,c);let v=h[1],b=m[1],A=h[0],P=m[0];if(A>=P||v>=b)throw new L;if(b-v!==P-A&&(P=A+(b-v),P>=c.getWidth()))throw new L;const k=Math.round((P-A+1)/g),F=Math.round((b-v+1)/g);if(k<=0||F<=0)throw new L;if(F!==k)throw new L;const W=Math.floor(g/2);v+=W,A+=W;const K=A+Math.floor((k-1)*g)-P;if(K>0){if(K>W)throw new L;A-=K}const ee=v+Math.floor((F-1)*g)-b;if(ee>0){if(ee>W)throw new L;v-=ee}const oe=new $(k,F);for(let ce=0;ce<F;ce++){const me=v+Math.floor(ce*g);for(let be=0;be<k;be++)c.get(A+Math.floor(be*g),me)&&oe.set(be,ce)}return oe}static moduleSize(c,h){const m=h.getHeight(),g=h.getWidth();let v=c[0],b=c[1],A=!0,P=0;for(;v<g&&b<m;){if(A!==h.get(v,b)){if(++P===5)break;A=!A}v++,b++}if(v===g||b===m)throw new L;return(v-c[0])/7}}Ac.NO_POINTS=new Array;class Ft{PDF417Common(){}static getBitCountSum(c){return ot.sum(c)}static toIntArray(c){if(c==null||!c.length)return Ft.EMPTY_INT_ARRAY;const h=new Int32Array(c.length);let m=0;for(const g of c)h[m++]=g;return h}static getCodeword(c){const h=S.binarySearch(Ft.SYMBOL_TABLE,c&262143);return h<0?-1:(Ft.CODEWORD_TABLE[h]-1)%Ft.NUMBER_OF_CODEWORDS}}Ft.NUMBER_OF_CODEWORDS=929,Ft.MAX_CODEWORDS_IN_BARCODE=Ft.NUMBER_OF_CODEWORDS-1,Ft.MIN_ROWS_IN_BARCODE=3,Ft.MAX_ROWS_IN_BARCODE=90,Ft.MODULES_IN_CODEWORD=17,Ft.MODULES_IN_STOP_PATTERN=18,Ft.BARS_IN_MODULE=8,Ft.EMPTY_INT_ARRAY=new Int32Array([]),Ft.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ft.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class wY{constructor(c,h){this.bits=c,this.points=h}getBits(){return this.bits}getPoints(){return this.points}}class ar{static detectMultiple(c,h,m){let g=c.getBlackMatrix(),v=ar.detect(m,g);return v.length||(g=g.clone(),g.rotate180(),v=ar.detect(m,g)),new wY(g,v)}static detect(c,h){const m=new Array;let g=0,v=0,b=!1;for(;g<h.getHeight();){const A=ar.findVertices(h,g,v);if(A[0]==null&&A[3]==null){if(!b)break;b=!1,v=0;for(const P of m)P[1]!=null&&(g=Math.trunc(Math.max(g,P[1].getY()))),P[3]!=null&&(g=Math.max(g,Math.trunc(P[3].getY())));g+=ar.ROW_STEP;continue}if(b=!0,m.push(A),!c)break;A[2]!=null?(v=Math.trunc(A[2].getX()),g=Math.trunc(A[2].getY())):(v=Math.trunc(A[4].getX()),g=Math.trunc(A[4].getY()))}return m}static findVertices(c,h,m){const g=c.getHeight(),v=c.getWidth(),b=new Array(8);return ar.copyToResult(b,ar.findRowsWithPattern(c,g,v,h,m,ar.START_PATTERN),ar.INDEXES_START_PATTERN),b[4]!=null&&(m=Math.trunc(b[4].getX()),h=Math.trunc(b[4].getY())),ar.copyToResult(b,ar.findRowsWithPattern(c,g,v,h,m,ar.STOP_PATTERN),ar.INDEXES_STOP_PATTERN),b}static copyToResult(c,h,m){for(let g=0;g<m.length;g++)c[m[g]]=h[g]}static findRowsWithPattern(c,h,m,g,v,b){const A=new Array(4);let P=!1;const k=new Int32Array(b.length);for(;g<h;g+=ar.ROW_STEP){let W=ar.findGuardPattern(c,v,g,m,!1,b,k);if(W!=null){for(;g>0;){const K=ar.findGuardPattern(c,v,--g,m,!1,b,k);if(K!=null)W=K;else{g++;break}}A[0]=new st(W[0],g),A[1]=new st(W[1],g),P=!0;break}}let F=g+1;if(P){let W=0,K=Int32Array.from([Math.trunc(A[0].getX()),Math.trunc(A[1].getX())]);for(;F<h;F++){const ee=ar.findGuardPattern(c,K[0],F,m,!1,b,k);if(ee!=null&&Math.abs(K[0]-ee[0])<ar.MAX_PATTERN_DRIFT&&Math.abs(K[1]-ee[1])<ar.MAX_PATTERN_DRIFT)K=ee,W=0;else{if(W>ar.SKIPPED_ROW_COUNT_MAX)break;W++}}F-=W+1,A[2]=new st(K[0],F),A[3]=new st(K[1],F)}return F-g<ar.BARCODE_MIN_HEIGHT&&S.fill(A,null),A}static findGuardPattern(c,h,m,g,v,b,A){S.fillWithin(A,0,A.length,0);let P=h,k=0;for(;c.get(P,m)&&P>0&&k++<ar.MAX_PIXEL_DRIFT;)P--;let F=P,W=0,K=b.length;for(let ee=v;F<g;F++)if(c.get(F,m)!==ee)A[W]++;else{if(W===K-1){if(ar.patternMatchVariance(A,b,ar.MAX_INDIVIDUAL_VARIANCE)<ar.MAX_AVG_VARIANCE)return new Int32Array([P,F]);P+=A[0]+A[1],w.arraycopy(A,2,A,0,W-1),A[W-1]=0,A[W]=0,W--}else W++;A[W]=1,ee=!ee}return W===K-1&&ar.patternMatchVariance(A,b,ar.MAX_INDIVIDUAL_VARIANCE)<ar.MAX_AVG_VARIANCE?new Int32Array([P,F-1]):null}static patternMatchVariance(c,h,m){let g=c.length,v=0,b=0;for(let k=0;k<g;k++)v+=c[k],b+=h[k];if(v<b)return 1/0;let A=v/b;m*=A;let P=0;for(let k=0;k<g;k++){let F=c[k],W=h[k]*A,K=F>W?F-W:W-F;if(K>m)return 1/0;P+=K}return P/v}}ar.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),ar.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),ar.MAX_AVG_VARIANCE=.42,ar.MAX_INDIVIDUAL_VARIANCE=.8,ar.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),ar.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),ar.MAX_PIXEL_DRIFT=3,ar.MAX_PATTERN_DRIFT=5,ar.SKIPPED_ROW_COUNT_MAX=25,ar.ROW_STEP=5,ar.BARCODE_MIN_HEIGHT=10;class Ia{constructor(c,h){if(h.length===0)throw new p;this.field=c;let m=h.length;if(m>1&&h[0]===0){let g=1;for(;g<m&&h[g]===0;)g++;g===m?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(m-g),w.arraycopy(h,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=h}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let g=0;for(let v of this.coefficients)g=this.field.add(g,v);return g}let h=this.coefficients[0],m=this.coefficients.length;for(let g=1;g<m;g++)h=this.field.add(this.field.multiply(c,h),this.coefficients[g]);return h}add(c){if(!this.field.equals(c.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let h=this.coefficients,m=c.coefficients;if(h.length>m.length){let b=h;h=m,m=b}let g=new Int32Array(m.length),v=m.length-h.length;w.arraycopy(m,0,g,0,v);for(let b=v;b<m.length;b++)g[b]=this.field.add(h[b-v],m[b]);return new Ia(this.field,g)}subtract(c){if(!this.field.equals(c.field))throw new p("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof Ia?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new p("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new Ia(this.field,new Int32Array([0]));let h=this.coefficients,m=h.length,g=c.coefficients,v=g.length,b=new Int32Array(m+v-1);for(let A=0;A<m;A++){let P=h[A];for(let k=0;k<v;k++)b[A+k]=this.field.add(b[A+k],this.field.multiply(P,g[k]))}return new Ia(this.field,b)}negative(){let c=this.coefficients.length,h=new Int32Array(c);for(let m=0;m<c;m++)h[m]=this.field.subtract(0,this.coefficients[m]);return new Ia(this.field,h)}multiplyScalar(c){if(c===0)return new Ia(this.field,new Int32Array([0]));if(c===1)return this;let h=this.coefficients.length,m=new Int32Array(h);for(let g=0;g<h;g++)m[g]=this.field.multiply(this.coefficients[g],c);return new Ia(this.field,m)}multiplyByMonomial(c,h){if(c<0)throw new p;if(h===0)return new Ia(this.field,new Int32Array([0]));let m=this.coefficients.length,g=new Int32Array(m+c);for(let v=0;v<m;v++)g[v]=this.field.multiply(this.coefficients[v],h);return new Ia(this.field,g)}toString(){let c=new q;for(let h=this.getDegree();h>=0;h--){let m=this.getCoefficient(h);m!==0&&(m<0?(c.append(" - "),m=-m):c.length()>0&&c.append(" + "),(h===0||m!==1)&&c.append(m),h!==0&&(h===1?c.append("x"):(c.append("x^"),c.append(h))))}return c.toString()}}class jY{add(c,h){return(c+h)%this.modulus}subtract(c,h){return(this.modulus+c-h)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new p;return this.logTable[c]}inverse(c){if(c===0)throw new je;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,h){return c===0||h===0?0:this.expTable[(this.logTable[c]+this.logTable[h])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class n2 extends jY{constructor(c,h){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let m=1;for(let g=0;g<c;g++)this.expTable[g]=m,m=m*h%c;for(let g=0;g<c-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Ia(this,new Int32Array([0])),this.one=new Ia(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,h){if(c<0)throw new p;if(h===0)return this.zero;let m=new Int32Array(c+1);return m[0]=h,new Ia(this,m)}}n2.PDF417_GF=new n2(Ft.NUMBER_OF_CODEWORDS,3);class fP{constructor(){this.field=n2.PDF417_GF}decode(c,h,m){let g=new Ia(this.field,c),v=new Int32Array(h),b=!1;for(let oe=h;oe>0;oe--){let ce=g.evaluateAt(this.field.exp(oe));v[h-oe]=ce,ce!==0&&(b=!0)}if(!b)return 0;let A=this.field.getOne();if(m!=null)for(const oe of m){let ce=this.field.exp(c.length-1-oe),me=new Ia(this.field,new Int32Array([this.field.subtract(0,ce),1]));A=A.multiply(me)}let P=new Ia(this.field,v),k=this.runEuclideanAlgorithm(this.field.buildMonomial(h,1),P,h),F=k[0],W=k[1],K=this.findErrorLocations(F),ee=this.findErrorMagnitudes(W,F,K);for(let oe=0;oe<K.length;oe++){let ce=c.length-1-this.field.log(K[oe]);if(ce<0)throw y.getChecksumInstance();c[ce]=this.field.subtract(c[ce],ee[oe])}return K.length}runEuclideanAlgorithm(c,h,m){if(c.getDegree()<h.getDegree()){let K=c;c=h,h=K}let g=c,v=h,b=this.field.getZero(),A=this.field.getOne();for(;v.getDegree()>=Math.round(m/2);){let K=g,ee=b;if(g=v,b=A,g.isZero())throw y.getChecksumInstance();v=K;let oe=this.field.getZero(),ce=g.getCoefficient(g.getDegree()),me=this.field.inverse(ce);for(;v.getDegree()>=g.getDegree()&&!v.isZero();){let be=v.getDegree()-g.getDegree(),He=this.field.multiply(v.getCoefficient(v.getDegree()),me);oe=oe.add(this.field.buildMonomial(be,He)),v=v.subtract(g.multiplyByMonomial(be,He))}A=oe.multiply(b).subtract(ee).negative()}let P=A.getCoefficient(0);if(P===0)throw y.getChecksumInstance();let k=this.field.inverse(P),F=A.multiply(k),W=v.multiply(k);return[F,W]}findErrorLocations(c){let h=c.getDegree(),m=new Int32Array(h),g=0;for(let v=1;v<this.field.getSize()&&g<h;v++)c.evaluateAt(v)===0&&(m[g]=this.field.inverse(v),g++);if(g!==h)throw y.getChecksumInstance();return m}findErrorMagnitudes(c,h,m){let g=h.getDegree(),v=new Int32Array(g);for(let k=1;k<=g;k++)v[g-k]=this.field.multiply(k,h.getCoefficient(k));let b=new Ia(this.field,v),A=m.length,P=new Int32Array(A);for(let k=0;k<A;k++){let F=this.field.inverse(m[k]),W=this.field.subtract(0,c.evaluateAt(F)),K=this.field.inverse(b.evaluateAt(F));P[k]=this.field.multiply(W,K)}return P}}class Zd{constructor(c,h,m,g,v){c instanceof Zd?this.constructor_2(c):this.constructor_1(c,h,m,g,v)}constructor_1(c,h,m,g,v){const b=h==null||m==null,A=g==null||v==null;if(b&&A)throw new L;b?(h=new st(0,g.getY()),m=new st(0,v.getY())):A&&(g=new st(c.getWidth()-1,h.getY()),v=new st(c.getWidth()-1,m.getY())),this.image=c,this.topLeft=h,this.bottomLeft=m,this.topRight=g,this.bottomRight=v,this.minX=Math.trunc(Math.min(h.getX(),m.getX())),this.maxX=Math.trunc(Math.max(g.getX(),v.getX())),this.minY=Math.trunc(Math.min(h.getY(),g.getY())),this.maxY=Math.trunc(Math.max(m.getY(),v.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,h){return c==null?h:h==null?c:new Zd(c.image,c.topLeft,c.bottomLeft,h.topRight,h.bottomRight)}addMissingRows(c,h,m){let g=this.topLeft,v=this.bottomLeft,b=this.topRight,A=this.bottomRight;if(c>0){let P=m?this.topLeft:this.topRight,k=Math.trunc(P.getY()-c);k<0&&(k=0);let F=new st(P.getX(),k);m?g=F:b=F}if(h>0){let P=m?this.bottomLeft:this.bottomRight,k=Math.trunc(P.getY()+h);k>=this.image.getHeight()&&(k=this.image.getHeight()-1);let F=new st(P.getX(),k);m?v=F:A=F}return new Zd(this.image,g,v,b,A)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class NY{constructor(c,h,m,g){this.columnCount=c,this.errorCorrectionLevel=g,this.rowCountUpperPart=h,this.rowCountLowerPart=m,this.rowCount=h+m}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class bp{constructor(){this.buffer=""}static form(c,h){let m=-1;function g(b,A,P,k,F,W){if(b==="%%")return"%";if(h[++m]===void 0)return;b=k?parseInt(k.substr(1)):void 0;let K=F?parseInt(F.substr(1)):void 0,ee;switch(W){case"s":ee=h[m];break;case"c":ee=h[m][0];break;case"f":ee=parseFloat(h[m]).toFixed(b);break;case"p":ee=parseFloat(h[m]).toPrecision(b);break;case"e":ee=parseFloat(h[m]).toExponential(b);break;case"x":ee=parseInt(h[m]).toString(K||16);break;case"d":ee=parseFloat(parseInt(h[m],K||10).toPrecision(b)).toFixed(0);break}ee=typeof ee=="object"?JSON.stringify(ee):(+ee).toString(K);let oe=parseInt(P),ce=P&&P[0]+""=="0"?"0":" ";for(;ee.length<oe;)ee=A!==void 0?ee+ce:ce+ee;return ee}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(v,g)}format(c,...h){this.buffer+=bp.form(c,h)}toString(){return this.buffer}}class wp{constructor(c){this.boundingBox=new Zd(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let h=this.getCodeword(c);if(h!=null)return h;for(let m=1;m<wp.MAX_NEARBY_DISTANCE;m++){let g=this.imageRowToCodewordIndex(c)-m;if(g>=0&&(h=this.codewords[g],h!=null)||(g=this.imageRowToCodewordIndex(c)+m,g<this.codewords.length&&(h=this.codewords[g],h!=null)))return h}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,h){this.codewords[this.imageRowToCodewordIndex(c)]=h}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new bp;let h=0;for(const m of this.codewords){if(m==null){c.format("%3d:    |   %n",h++);continue}c.format("%3d: %3d|%3d%n",h++,m.getRowNumber(),m.getValue())}return c.toString()}}wp.MAX_NEARBY_DISTANCE=5;class jp{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let h=this.values.get(c);h==null&&(h=0),h++,this.values.set(c,h)}getValue(){let c=-1,h=new Array;for(const[m,g]of this.values.entries()){const v={getKey:()=>m,getValue:()=>g};v.getValue()>c?(c=v.getValue(),h=[],h.push(v.getKey())):v.getValue()===c&&h.push(v.getKey())}return Ft.toIntArray(h)}getConfidence(c){return this.values.get(c)}}class mP extends wp{constructor(c,h){super(c),this._isLeft=h}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let h=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(h,c);let m=this.getBoundingBox(),g=this._isLeft?m.getTopLeft():m.getTopRight(),v=this._isLeft?m.getBottomLeft():m.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(g.getY())),A=this.imageRowToCodewordIndex(Math.trunc(v.getY())),P=-1,k=1,F=0;for(let W=b;W<A;W++){if(h[W]==null)continue;let K=h[W],ee=K.getRowNumber()-P;if(ee===0)F++;else if(ee===1)k=Math.max(k,F),F=1,P=K.getRowNumber();else if(ee<0||K.getRowNumber()>=c.getRowCount()||ee>W)h[W]=null;else{let oe;k>2?oe=(k-2)*ee:oe=ee;let ce=oe>=W;for(let me=1;me<=oe&&!ce;me++)ce=h[W-me]!=null;ce?h[W]=null:(P=K.getRowNumber(),F=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let h=new Int32Array(c.getRowCount());for(let m of this.getCodewords())if(m!=null){let g=m.getRowNumber();if(g>=h.length)continue;h[g]++}return h}adjustIncompleteIndicatorColumnRowNumbers(c){let h=this.getBoundingBox(),m=this._isLeft?h.getTopLeft():h.getTopRight(),g=this._isLeft?h.getBottomLeft():h.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(m.getY())),b=this.imageRowToCodewordIndex(Math.trunc(g.getY())),A=this.getCodewords(),P=-1;for(let k=v;k<b;k++){if(A[k]==null)continue;let F=A[k];F.setRowNumberAsRowIndicatorColumn();let W=F.getRowNumber()-P;W===0||(W===1?P=F.getRowNumber():F.getRowNumber()>=c.getRowCount()?A[k]=null:P=F.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),h=new jp,m=new jp,g=new jp,v=new jp;for(let A of c){if(A==null)continue;A.setRowNumberAsRowIndicatorColumn();let P=A.getValue()%30,k=A.getRowNumber();switch(this._isLeft||(k+=2),k%3){case 0:m.setValue(P*3+1);break;case 1:v.setValue(P/3),g.setValue(P%3);break;case 2:h.setValue(P+1);break}}if(h.getValue().length===0||m.getValue().length===0||g.getValue().length===0||v.getValue().length===0||h.getValue()[0]<1||m.getValue()[0]+g.getValue()[0]<Ft.MIN_ROWS_IN_BARCODE||m.getValue()[0]+g.getValue()[0]>Ft.MAX_ROWS_IN_BARCODE)return null;let b=new NY(h.getValue()[0],m.getValue()[0],g.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(c,b),b}removeIncorrectCodewords(c,h){for(let m=0;m<c.length;m++){let g=c[m];if(c[m]==null)continue;let v=g.getValue()%30,b=g.getRowNumber();if(b>h.getRowCount()){c[m]=null;continue}switch(this._isLeft||(b+=2),b%3){case 0:v*3+1!==h.getRowCountUpperPart()&&(c[m]=null);break;case 1:(Math.trunc(v/3)!==h.getErrorCorrectionLevel()||v%3!==h.getRowCountLowerPart())&&(c[m]=null);break;case 2:v+1!==h.getColumnCount()&&(c[m]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Np{constructor(c,h){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=h,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=Ft.MAX_CODEWORDS_IN_BARCODE,h;do h=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<h);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let h=1;h<this.barcodeColumnCount+1;h++){let m=this.detectionResultColumns[h].getCodewords();for(let g=0;g<m.length;g++)m[g]!=null&&(m[g].hasValidRowNumber()||this.adjustRowNumbers(h,g,m))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<c.length;m++)if(c[m]!=null&&h[m]!=null&&c[m].getRowNumber()===h[m].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let v=this.detectionResultColumns[g].getCodewords()[m];v!=null&&(v.setRowNumber(c[m].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[m]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,h=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let m=0;m<h.length;m++){if(h[m]==null)continue;let g=h[m].getRowNumber(),v=0;for(let b=this.barcodeColumnCount+1;b>0&&v<this.ADJUST_ROW_NUMBER_SKIP;b--){let A=this.detectionResultColumns[b].getCodewords()[m];A!=null&&(v=Np.adjustRowNumberIfValid(g,v,A),A.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,h=this.detectionResultColumns[0].getCodewords();for(let m=0;m<h.length;m++){if(h[m]==null)continue;let g=h[m].getRowNumber(),v=0;for(let b=1;b<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;b++){let A=this.detectionResultColumns[b].getCodewords()[m];A!=null&&(v=Np.adjustRowNumberIfValid(g,v,A),A.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,h,m){return m==null||m.hasValidRowNumber()||(m.isValidRowNumber(c)?(m.setRowNumber(c),h=0):++h),h}adjustRowNumbers(c,h,m){if(!this.detectionResultColumns[c-1])return;let g=m[h],v=this.detectionResultColumns[c-1].getCodewords(),b=v;this.detectionResultColumns[c+1]!=null&&(b=this.detectionResultColumns[c+1].getCodewords());let A=new Array(14);A[2]=v[h],A[3]=b[h],h>0&&(A[0]=m[h-1],A[4]=v[h-1],A[5]=b[h-1]),h>1&&(A[8]=m[h-2],A[10]=v[h-2],A[11]=b[h-2]),h<m.length-1&&(A[1]=m[h+1],A[6]=v[h+1],A[7]=b[h+1]),h<m.length-2&&(A[9]=m[h+2],A[12]=v[h+2],A[13]=b[h+2]);for(let P of A)if(Np.adjustRowNumber(g,P))return}static adjustRowNumber(c,h){return h==null?!1:h.hasValidRowNumber()&&h.getBucket()===c.getBucket()?(c.setRowNumber(h.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,h){this.detectionResultColumns[c]=h}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let h=new bp;for(let m=0;m<c.getCodewords().length;m++){h.format("CW %3d:",m);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){h.format("    |   ");continue}let v=this.detectionResultColumns[g].getCodewords()[m];if(v==null){h.format("    |   ");continue}h.format(" %3d|%3d",v.getRowNumber(),v.getValue())}h.format("%n")}return h.toString()}}class Cp{constructor(c,h,m,g){this.rowNumber=Cp.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(h),this.bucket=Math.trunc(m),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==Cp.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}Cp.BARCODE_ROW_UNKNOWN=-1;class Cs{static initialize(){for(let c=0;c<Ft.SYMBOL_TABLE.length;c++){let h=Ft.SYMBOL_TABLE[c],m=h&1;for(let g=0;g<Ft.BARS_IN_MODULE;g++){let v=0;for(;(h&1)===m;)v+=1,h>>=1;m=h&1,Cs.RATIOS_TABLE[c]||(Cs.RATIOS_TABLE[c]=new Array(Ft.BARS_IN_MODULE)),Cs.RATIOS_TABLE[c][Ft.BARS_IN_MODULE-g-1]=Math.fround(v/Ft.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let h=Cs.getDecodedCodewordValue(Cs.sampleBitCounts(c));return h!==-1?h:Cs.getClosestDecodedValue(c)}static sampleBitCounts(c){let h=ot.sum(c),m=new Int32Array(Ft.BARS_IN_MODULE),g=0,v=0;for(let b=0;b<Ft.MODULES_IN_CODEWORD;b++){let A=h/(2*Ft.MODULES_IN_CODEWORD)+b*h/Ft.MODULES_IN_CODEWORD;v+c[g]<=A&&(v+=c[g],g++),m[g]++}return m}static getDecodedCodewordValue(c){let h=Cs.getBitValue(c);return Ft.getCodeword(h)===-1?-1:h}static getBitValue(c){let h=0;for(let m=0;m<c.length;m++)for(let g=0;g<c[m];g++)h=h<<1|(m%2===0?1:0);return Math.trunc(h)}static getClosestDecodedValue(c){let h=ot.sum(c),m=new Array(Ft.BARS_IN_MODULE);if(h>1)for(let b=0;b<m.length;b++)m[b]=Math.fround(c[b]/h);let g=ia.MAX_VALUE,v=-1;this.bSymbolTableReady||Cs.initialize();for(let b=0;b<Cs.RATIOS_TABLE.length;b++){let A=0,P=Cs.RATIOS_TABLE[b];for(let k=0;k<Ft.BARS_IN_MODULE;k++){let F=Math.fround(P[k]-m[k]);if(A+=Math.fround(F*F),A>=g)break}A<g&&(g=A,v=Ft.SYMBOL_TABLE[b])}return v}}Cs.bSymbolTableReady=!1,Cs.RATIOS_TABLE=new Array(Ft.SYMBOL_TABLE.length).map(U=>new Array(Ft.BARS_IN_MODULE));class pP{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class xP{static parseLong(c,h=void 0){return parseInt(c,h)}}class gP extends u{}gP.kind="NullPointerException";class CY{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,h,m){if(c==null)throw new gP;if(h<0||h>c.length||m<0||h+m>c.length||h+m<0)throw new C;if(m===0)return;for(let g=0;g<m;g++)this.write(c[h+g])}flush(){}close(){}}class SY extends u{}class AY extends CY{constructor(c=32){if(super(),this.count=0,c<0)throw new p("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let m=this.buf.length<<1;if(m-c<0&&(m=c),m<0){if(c<0)throw new SY;m=_.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,m)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,h,m){if(h<0||h>c.length||m<0||h+m-c.length>0)throw new C;this.ensureCapacity(this.count+m),w.arraycopy(c,h,this.buf,this.count,m),this.count+=m}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var zr;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(zr||(zr={}));function vP(){if(typeof window<"u")return window.BigInt||null;if(typeof Vl<"u")return Vl.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let av;function Ec(U){if(typeof av>"u"&&(av=vP()),av===null)throw new Error("BigInt is not supported!");return av(U)}function EY(){let U=[];U[0]=Ec(1);let c=Ec(900);U[1]=c;for(let h=2;h<16;h++)U[h]=U[h-1]*c;return U}class ye{static decode(c,h){let m=new q(""),g=R.ISO8859_1;m.enableDecoding(g);let v=1,b=c[v++],A=new pP;for(;v<c[0];){switch(b){case ye.TEXT_COMPACTION_MODE_LATCH:v=ye.textCompaction(c,v,m);break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:v=ye.byteCompaction(b,c,g,v,m);break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:m.append(c[v++]);break;case ye.NUMERIC_COMPACTION_MODE_LATCH:v=ye.numericCompaction(c,v,m);break;case ye.ECI_CHARSET:R.getCharacterSetECIByValue(c[v++]);break;case ye.ECI_GENERAL_PURPOSE:v+=2;break;case ye.ECI_USER_DEFINED:v++;break;case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=ye.decodeMacroBlock(c,v,A);break;case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:throw new O;default:v--,v=ye.textCompaction(c,v,m);break}if(v<c.length)b=c[v++];else throw O.getFormatInstance()}if(m.length()===0)throw O.getFormatInstance();let P=new Ae(null,m.toString(),null,h);return P.setOther(A),P}static decodeMacroBlock(c,h,m){if(h+ye.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw O.getFormatInstance();let g=new Int32Array(ye.NUMBER_OF_SEQUENCE_CODEWORDS);for(let A=0;A<ye.NUMBER_OF_SEQUENCE_CODEWORDS;A++,h++)g[A]=c[h];m.setSegmentIndex(_.parseInt(ye.decodeBase900toBase10(g,ye.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new q;h=ye.textCompaction(c,h,v),m.setFileId(v.toString());let b=-1;for(c[h]===ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(b=h+1);h<c[0];)switch(c[h]){case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(h++,c[h]){case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let A=new q;h=ye.textCompaction(c,h+1,A),m.setFileName(A.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new q;h=ye.textCompaction(c,h+1,P),m.setSender(P.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let k=new q;h=ye.textCompaction(c,h+1,k),m.setAddressee(k.toString());break;case ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let F=new q;h=ye.numericCompaction(c,h+1,F),m.setSegmentCount(_.parseInt(F.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let W=new q;h=ye.numericCompaction(c,h+1,W),m.setTimestamp(xP.parseLong(W.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new q;h=ye.numericCompaction(c,h+1,K),m.setChecksum(_.parseInt(K.toString()));break;case ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ee=new q;h=ye.numericCompaction(c,h+1,ee),m.setFileSize(xP.parseLong(ee.toString()));break;default:throw O.getFormatInstance()}break;case ye.MACRO_PDF417_TERMINATOR:h++,m.setLastSegment(!0);break;default:throw O.getFormatInstance()}if(b!==-1){let A=h-b;m.isLastSegment()&&A--,m.setOptionalData(S.copyOfRange(c,b,b+A))}return h}static textCompaction(c,h,m){let g=new Int32Array((c[0]-h)*2),v=new Int32Array((c[0]-h)*2),b=0,A=!1;for(;h<c[0]&&!A;){let P=c[h++];if(P<ye.TEXT_COMPACTION_MODE_LATCH)g[b]=P/30,g[b+1]=P%30,b+=2;else switch(P){case ye.TEXT_COMPACTION_MODE_LATCH:g[b++]=ye.TEXT_COMPACTION_MODE_LATCH;break;case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:h--,A=!0;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[b]=ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=c[h++],v[b]=P,b++;break}}return ye.decodeTextCompaction(g,v,b,m),h}static decodeTextCompaction(c,h,m,g){let v=zr.ALPHA,b=zr.ALPHA,A=0;for(;A<m;){let P=c[A],k="";switch(v){case zr.ALPHA:if(P<26)k=String.fromCharCode(65+P);else switch(P){case 26:k=" ";break;case ye.LL:v=zr.LOWER;break;case ye.ML:v=zr.MIXED;break;case ye.PS:b=v,v=zr.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(h[A]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=zr.ALPHA;break}break;case zr.LOWER:if(P<26)k=String.fromCharCode(97+P);else switch(P){case 26:k=" ";break;case ye.AS:b=v,v=zr.ALPHA_SHIFT;break;case ye.ML:v=zr.MIXED;break;case ye.PS:b=v,v=zr.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(h[A]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=zr.ALPHA;break}break;case zr.MIXED:if(P<ye.PL)k=ye.MIXED_CHARS[P];else switch(P){case ye.PL:v=zr.PUNCT;break;case 26:k=" ";break;case ye.LL:v=zr.LOWER;break;case ye.AL:v=zr.ALPHA;break;case ye.PS:b=v,v=zr.PUNCT_SHIFT;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(h[A]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=zr.ALPHA;break}break;case zr.PUNCT:if(P<ye.PAL)k=ye.PUNCT_CHARS[P];else switch(P){case ye.PAL:v=zr.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(h[A]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=zr.ALPHA;break}break;case zr.ALPHA_SHIFT:if(v=b,P<26)k=String.fromCharCode(65+P);else switch(P){case 26:k=" ";break;case ye.TEXT_COMPACTION_MODE_LATCH:v=zr.ALPHA;break}break;case zr.PUNCT_SHIFT:if(v=b,P<ye.PAL)k=ye.PUNCT_CHARS[P];else switch(P){case ye.PAL:v=zr.ALPHA;break;case ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(h[A]);break;case ye.TEXT_COMPACTION_MODE_LATCH:v=zr.ALPHA;break}break}k!==""&&g.append(k),A++}}static byteCompaction(c,h,m,g,v){let b=new AY,A=0,P=0,k=!1;switch(c){case ye.BYTE_COMPACTION_MODE_LATCH:let F=new Int32Array(6),W=h[g++];for(;g<h[0]&&!k;)switch(F[A++]=W,P=900*P+W,W=h[g++],W){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:g--,k=!0;break;default:if(A%5===0&&A>0){for(let K=0;K<6;++K)b.write(Number(Ec(P)>>Ec(8*(5-K))));P=0,A=0}break}g===h[0]&&W<ye.TEXT_COMPACTION_MODE_LATCH&&(F[A++]=W);for(let K=0;K<A;K++)b.write(F[K]);break;case ye.BYTE_COMPACTION_MODE_LATCH_6:for(;g<h[0]&&!k;){let K=h[g++];if(K<ye.TEXT_COMPACTION_MODE_LATCH)A++,P=900*P+K;else switch(K){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.NUMERIC_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:g--,k=!0;break}if(A%5===0&&A>0){for(let ee=0;ee<6;++ee)b.write(Number(Ec(P)>>Ec(8*(5-ee))));P=0,A=0}}break}return v.append(z.decode(b.toByteArray(),m)),g}static numericCompaction(c,h,m){let g=0,v=!1,b=new Int32Array(ye.MAX_NUMERIC_CODEWORDS);for(;h<c[0]&&!v;){let A=c[h++];if(h===c[0]&&(v=!0),A<ye.TEXT_COMPACTION_MODE_LATCH)b[g]=A,g++;else switch(A){case ye.TEXT_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH:case ye.BYTE_COMPACTION_MODE_LATCH_6:case ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ye.MACRO_PDF417_TERMINATOR:h--,v=!0;break}(g%ye.MAX_NUMERIC_CODEWORDS===0||A===ye.NUMERIC_COMPACTION_MODE_LATCH||v)&&g>0&&(m.append(ye.decodeBase900toBase10(b,g)),g=0)}return h}static decodeBase900toBase10(c,h){let m=Ec(0);for(let v=0;v<h;v++)m+=ye.EXP900[h-v-1]*Ec(c[v]);let g=m.toString();if(g.charAt(0)!=="1")throw new O;return g.substring(1)}}ye.TEXT_COMPACTION_MODE_LATCH=900,ye.BYTE_COMPACTION_MODE_LATCH=901,ye.NUMERIC_COMPACTION_MODE_LATCH=902,ye.BYTE_COMPACTION_MODE_LATCH_6=924,ye.ECI_USER_DEFINED=925,ye.ECI_GENERAL_PURPOSE=926,ye.ECI_CHARSET=927,ye.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ye.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ye.MACRO_PDF417_TERMINATOR=922,ye.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ye.MAX_NUMERIC_CODEWORDS=15,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ye.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ye.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ye.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ye.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ye.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ye.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ye.PL=25,ye.LL=27,ye.AS=27,ye.ML=28,ye.AL=28,ye.PS=29,ye.PAL=29,ye.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ye.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ye.EXP900=vP()?EY():[],ye.NUMBER_OF_SEQUENCE_CODEWORDS=2;class lr{constructor(){}static decode(c,h,m,g,v,b,A){let P=new Zd(c,h,m,g,v),k=null,F=null,W;for(let oe=!0;;oe=!1){if(h!=null&&(k=lr.getRowIndicatorColumn(c,P,h,!0,b,A)),g!=null&&(F=lr.getRowIndicatorColumn(c,P,g,!1,b,A)),W=lr.merge(k,F),W==null)throw L.getNotFoundInstance();let ce=W.getBoundingBox();if(oe&&ce!=null&&(ce.getMinY()<P.getMinY()||ce.getMaxY()>P.getMaxY()))P=ce;else break}W.setBoundingBox(P);let K=W.getBarcodeColumnCount()+1;W.setDetectionResultColumn(0,k),W.setDetectionResultColumn(K,F);let ee=k!=null;for(let oe=1;oe<=K;oe++){let ce=ee?oe:K-oe;if(W.getDetectionResultColumn(ce)!==void 0)continue;let me;ce===0||ce===K?me=new mP(P,ce===0):me=new wp(P),W.setDetectionResultColumn(ce,me);let be=-1,He=be;for(let qe=P.getMinY();qe<=P.getMaxY();qe++){if(be=lr.getStartColumn(W,ce,qe,ee),be<0||be>P.getMaxX()){if(He===-1)continue;be=He}let Fe=lr.detectCodeword(c,P.getMinX(),P.getMaxX(),ee,be,qe,b,A);Fe!=null&&(me.setCodeword(qe,Fe),He=be,b=Math.min(b,Fe.getWidth()),A=Math.max(A,Fe.getWidth()))}}return lr.createDecoderResult(W)}static merge(c,h){if(c==null&&h==null)return null;let m=lr.getBarcodeMetadata(c,h);if(m==null)return null;let g=Zd.merge(lr.adjustBoundingBox(c),lr.adjustBoundingBox(h));return new Np(m,g)}static adjustBoundingBox(c){if(c==null)return null;let h=c.getRowHeights();if(h==null)return null;let m=lr.getMax(h),g=0;for(let A of h)if(g+=m-A,A>0)break;let v=c.getCodewords();for(let A=0;g>0&&v[A]==null;A++)g--;let b=0;for(let A=h.length-1;A>=0&&(b+=m-h[A],!(h[A]>0));A--);for(let A=v.length-1;b>0&&v[A]==null;A--)b--;return c.getBoundingBox().addMissingRows(g,b,c.isLeft())}static getMax(c){let h=-1;for(let m of c)h=Math.max(h,m);return h}static getBarcodeMetadata(c,h){let m;if(c==null||(m=c.getBarcodeMetadata())==null)return h==null?null:h.getBarcodeMetadata();let g;return h==null||(g=h.getBarcodeMetadata())==null?m:m.getColumnCount()!==g.getColumnCount()&&m.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&m.getRowCount()!==g.getRowCount()?null:m}static getRowIndicatorColumn(c,h,m,g,v,b){let A=new mP(h,g);for(let P=0;P<2;P++){let k=P===0?1:-1,F=Math.trunc(Math.trunc(m.getX()));for(let W=Math.trunc(Math.trunc(m.getY()));W<=h.getMaxY()&&W>=h.getMinY();W+=k){let K=lr.detectCodeword(c,0,c.getWidth(),g,F,W,v,b);K!=null&&(A.setCodeword(W,K),g?F=K.getStartX():F=K.getEndX())}}return A}static adjustCodewordCount(c,h){let m=h[0][1],g=m.getValue(),v=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-lr.getNumberOfECCodeWords(c.getBarcodeECLevel());if(g.length===0){if(v<1||v>Ft.MAX_CODEWORDS_IN_BARCODE)throw L.getNotFoundInstance();m.setValue(v)}else g[0]!==v&&m.setValue(v)}static createDecoderResult(c){let h=lr.createBarcodeMatrix(c);lr.adjustCodewordCount(c,h);let m=new Array,g=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),v=[],b=new Array;for(let P=0;P<c.getBarcodeRowCount();P++)for(let k=0;k<c.getBarcodeColumnCount();k++){let F=h[P][k+1].getValue(),W=P*c.getBarcodeColumnCount()+k;F.length===0?m.push(W):F.length===1?g[W]=F[0]:(b.push(W),v.push(F))}let A=new Array(v.length);for(let P=0;P<A.length;P++)A[P]=v[P];return lr.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),g,Ft.toIntArray(m),Ft.toIntArray(b),A)}static createDecoderResultFromAmbiguousValues(c,h,m,g,v){let b=new Int32Array(g.length),A=100;for(;A-- >0;){for(let P=0;P<b.length;P++)h[g[P]]=v[P][b[P]];try{return lr.decodeCodewords(h,c,m)}catch(P){if(!(P instanceof y))throw P}if(b.length===0)throw y.getChecksumInstance();for(let P=0;P<b.length;P++)if(b[P]<v[P].length-1){b[P]++;break}else if(b[P]=0,P===b.length-1)throw y.getChecksumInstance()}throw y.getChecksumInstance()}static createBarcodeMatrix(c){let h=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let g=0;g<h.length;g++)for(let v=0;v<h[g].length;v++)h[g][v]=new jp;let m=0;for(let g of c.getDetectionResultColumns()){if(g!=null){for(let v of g.getCodewords())if(v!=null){let b=v.getRowNumber();if(b>=0){if(b>=h.length)continue;h[b][m].setValue(v.getValue())}}}m++}return h}static isValidBarcodeColumn(c,h){return h>=0&&h<=c.getBarcodeColumnCount()+1}static getStartColumn(c,h,m,g){let v=g?1:-1,b=null;if(lr.isValidBarcodeColumn(c,h-v)&&(b=c.getDetectionResultColumn(h-v).getCodeword(m)),b!=null)return g?b.getEndX():b.getStartX();if(b=c.getDetectionResultColumn(h).getCodewordNearby(m),b!=null)return g?b.getStartX():b.getEndX();if(lr.isValidBarcodeColumn(c,h-v)&&(b=c.getDetectionResultColumn(h-v).getCodewordNearby(m)),b!=null)return g?b.getEndX():b.getStartX();let A=0;for(;lr.isValidBarcodeColumn(c,h-v);){h-=v;for(let P of c.getDetectionResultColumn(h).getCodewords())if(P!=null)return(g?P.getEndX():P.getStartX())+v*A*(P.getEndX()-P.getStartX());A++}return g?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,h,m,g,v,b,A,P){v=lr.adjustCodewordStartColumn(c,h,m,g,v,b);let k=lr.getModuleBitCount(c,h,m,g,v,b);if(k==null)return null;let F,W=ot.sum(k);if(g)F=v+W;else{for(let oe=0;oe<k.length/2;oe++){let ce=k[oe];k[oe]=k[k.length-1-oe],k[k.length-1-oe]=ce}F=v,v=F-W}if(!lr.checkCodewordSkew(W,A,P))return null;let K=Cs.getDecodedValue(k),ee=Ft.getCodeword(K);return ee===-1?null:new Cp(v,F,lr.getCodewordBucketNumber(K),ee)}static getModuleBitCount(c,h,m,g,v,b){let A=v,P=new Int32Array(8),k=0,F=g?1:-1,W=g;for(;(g?A<m:A>=h)&&k<P.length;)c.get(A,b)===W?(P[k]++,A+=F):(k++,W=!W);return k===P.length||A===(g?m:h)&&k===P.length-1?P:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,h,m,g,v,b){let A=v,P=g?-1:1;for(let k=0;k<2;k++){for(;(g?A>=h:A<m)&&g===c.get(A,b);){if(Math.abs(v-A)>lr.CODEWORD_SKEW_SIZE)return v;A+=P}P=-P,g=!g}return A}static checkCodewordSkew(c,h,m){return h-lr.CODEWORD_SKEW_SIZE<=c&&c<=m+lr.CODEWORD_SKEW_SIZE}static decodeCodewords(c,h,m){if(c.length===0)throw O.getFormatInstance();let g=1<<h+1,v=lr.correctErrors(c,m,g);lr.verifyCodewordCount(c,g);let b=ye.decode(c,""+h);return b.setErrorsCorrected(v),b.setErasures(m.length),b}static correctErrors(c,h,m){if(h!=null&&h.length>m/2+lr.MAX_ERRORS||m<0||m>lr.MAX_EC_CODEWORDS)throw y.getChecksumInstance();return lr.errorCorrection.decode(c,m,h)}static verifyCodewordCount(c,h){if(c.length<4)throw O.getFormatInstance();let m=c[0];if(m>c.length)throw O.getFormatInstance();if(m===0)if(h<c.length)c[0]=c.length-h;else throw O.getFormatInstance()}static getBitCountForCodeword(c){let h=new Int32Array(8),m=0,g=h.length-1;for(;!((c&1)!==m&&(m=c&1,g--,g<0));)h[g]++,c>>=1;return h}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return lr.getCodewordBucketNumber(lr.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let h=new bp;for(let m=0;m<c.length;m++){h.format("Row %2d: ",m);for(let g=0;g<c[m].length;g++){let v=c[m][g];v.getValue().length===0?h.format("        ",null):h.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}h.format("%n")}return h.toString()}}lr.CODEWORD_SKEW_SIZE=2,lr.MAX_ERRORS=3,lr.MAX_EC_CODEWORDS=512,lr.errorCorrection=new fP;class Ma{decode(c,h=null){let m=Ma.decode(c,h,!1);if(m==null||m.length===0||m[0]==null)throw L.getNotFoundInstance();return m[0]}decodeMultiple(c,h=null){try{return Ma.decode(c,h,!0)}catch(m){throw m instanceof O||m instanceof y?L.getNotFoundInstance():m}}static decode(c,h,m){const g=new Array,v=ar.detectMultiple(c,h,m);for(const b of v.getPoints()){const A=lr.decode(v.getBits(),b[4],b[5],b[6],b[7],Ma.getMinCodewordWidth(b),Ma.getMaxCodewordWidth(b)),P=new Te(A.getText(),A.getRawBytes(),void 0,b,Me.PDF_417);P.putMetadata(rt.ERROR_CORRECTION_LEVEL,A.getECLevel());const k=A.getOther();k!=null&&P.putMetadata(rt.PDF417_EXTRA_METADATA,k),g.push(P)}return g.map(b=>b)}static getMaxWidth(c,h){return c==null||h==null?0:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMinWidth(c,h){return c==null||h==null?_.MAX_VALUE:Math.trunc(Math.abs(c.getX()-h.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(Ma.getMaxWidth(c[0],c[4]),Ma.getMaxWidth(c[6],c[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.max(Ma.getMaxWidth(c[1],c[5]),Ma.getMaxWidth(c[7],c[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(Ma.getMinWidth(c[0],c[4]),Ma.getMinWidth(c[6],c[2])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN),Math.min(Ma.getMinWidth(c[1],c[5]),Ma.getMinWidth(c[7],c[3])*Ft.MODULES_IN_CODEWORD/Ft.MODULES_IN_STOP_PATTERN)))}reset(){}}class sv extends u{}sv.kind="ReaderException";class yP{constructor(c,h){this.verbose=c===!0,h&&this.setHints(h)}decode(c,h){return h&&this.setHints(h),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const h=!a(c)&&c.get(M.TRY_HARDER)===!0,m=a(c)?null:c.get(M.POSSIBLE_FORMATS),g=new Array;if(!a(m)){const v=m.some(b=>b===Me.UPC_A||b===Me.UPC_E||b===Me.EAN_13||b===Me.EAN_8||b===Me.CODABAR||b===Me.CODE_39||b===Me.CODE_93||b===Me.CODE_128||b===Me.ITF||b===Me.RSS_14||b===Me.RSS_EXPANDED);v&&!h&&g.push(new Th(c,this.verbose)),m.includes(Me.QR_CODE)&&g.push(new Ac),m.includes(Me.DATA_MATRIX)&&g.push(new Sc),m.includes(Me.AZTEC)&&g.push(new zn),m.includes(Me.PDF_417)&&g.push(new Ma),v&&h&&g.push(new Th(c,this.verbose))}g.length===0&&(h||g.push(new Th(c,this.verbose)),g.push(new Ac),g.push(new Sc),g.push(new zn),g.push(new Ma),h&&g.push(new Th(c,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new sv("No readers where selected, nothing can be read.");for(const h of this.readers)try{return h.decode(c,this.hints)}catch(m){if(m instanceof sv)continue}throw new L("No MultiFormat Readers were able to detect the code.")}}class TY extends se{constructor(c=null,h=500){const m=new yP;m.setHints(c),super(m,h)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class _Y extends se{constructor(c=500){super(new Ma,c)}}class PY extends se{constructor(c=500){super(new Ac,c)}}var a2;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(a2||(a2={}));var la=a2;class s2{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new Ge(c,Int32Array.from([1])))}buildGenerator(c){const h=this.cachedGenerators;if(c>=h.length){let m=h[h.length-1];const g=this.field;for(let v=h.length;v<=c;v++){const b=m.multiply(new Ge(g,Int32Array.from([1,g.exp(v-1+g.getGeneratorBase())])));h.push(b),m=b}}return h[c]}encode(c,h){if(h===0)throw new p("No error correction bytes");const m=c.length-h;if(m<=0)throw new p("No data bytes provided");const g=this.buildGenerator(h),v=new Int32Array(m);w.arraycopy(c,0,v,0,m);let b=new Ge(this.field,v);b=b.multiplyByMonomial(h,1);const P=b.divide(g)[1].getCoefficients(),k=h-P.length;for(let F=0;F<k;F++)c[m+F]=0;w.arraycopy(P,0,c,m+k,P.length)}}class Mn{constructor(){}static applyMaskPenaltyRule1(c){return Mn.applyMaskPenaltyRule1Internal(c,!0)+Mn.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let h=0;const m=c.getArray(),g=c.getWidth(),v=c.getHeight();for(let b=0;b<v-1;b++){const A=m[b];for(let P=0;P<g-1;P++){const k=A[P];k===A[P+1]&&k===m[b+1][P]&&k===m[b+1][P+1]&&h++}}return Mn.N2*h}static applyMaskPenaltyRule3(c){let h=0;const m=c.getArray(),g=c.getWidth(),v=c.getHeight();for(let b=0;b<v;b++)for(let A=0;A<g;A++){const P=m[b];A+6<g&&P[A]===1&&P[A+1]===0&&P[A+2]===1&&P[A+3]===1&&P[A+4]===1&&P[A+5]===0&&P[A+6]===1&&(Mn.isWhiteHorizontal(P,A-4,A)||Mn.isWhiteHorizontal(P,A+7,A+11))&&h++,b+6<v&&m[b][A]===1&&m[b+1][A]===0&&m[b+2][A]===1&&m[b+3][A]===1&&m[b+4][A]===1&&m[b+5][A]===0&&m[b+6][A]===1&&(Mn.isWhiteVertical(m,A,b-4,b)||Mn.isWhiteVertical(m,A,b+7,b+11))&&h++}return h*Mn.N3}static isWhiteHorizontal(c,h,m){h=Math.max(h,0),m=Math.min(m,c.length);for(let g=h;g<m;g++)if(c[g]===1)return!1;return!0}static isWhiteVertical(c,h,m,g){m=Math.max(m,0),g=Math.min(g,c.length);for(let v=m;v<g;v++)if(c[v][h]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let h=0;const m=c.getArray(),g=c.getWidth(),v=c.getHeight();for(let P=0;P<v;P++){const k=m[P];for(let F=0;F<g;F++)k[F]===1&&h++}const b=c.getHeight()*c.getWidth();return Math.floor(Math.abs(h*2-b)*10/b)*Mn.N4}static getDataMaskBit(c,h,m){let g,v;switch(c){case 0:g=m+h&1;break;case 1:g=m&1;break;case 2:g=h%3;break;case 3:g=(m+h)%3;break;case 4:g=Math.floor(m/2)+Math.floor(h/3)&1;break;case 5:v=m*h,g=(v&1)+v%3;break;case 6:v=m*h,g=(v&1)+v%3&1;break;case 7:v=m*h,g=v%3+(m+h&1)&1;break;default:throw new p("Invalid mask pattern: "+c)}return g===0}static applyMaskPenaltyRule1Internal(c,h){let m=0;const g=h?c.getHeight():c.getWidth(),v=h?c.getWidth():c.getHeight(),b=c.getArray();for(let A=0;A<g;A++){let P=0,k=-1;for(let F=0;F<v;F++){const W=h?b[A][F]:b[F][A];W===k?P++:(P>=5&&(m+=Mn.N1+(P-5)),P=1,k=W)}P>=5&&(m+=Mn.N1+(P-5))}return m}}Mn.N1=3,Mn.N2=3,Mn.N3=40,Mn.N4=10;class iv{constructor(c,h){this.width=c,this.height=h;const m=new Array(h);for(let g=0;g!==h;g++)m[g]=new Uint8Array(c);this.bytes=m}getHeight(){return this.height}getWidth(){return this.width}get(c,h){return this.bytes[h][c]}getArray(){return this.bytes}setNumber(c,h,m){this.bytes[h][c]=m}setBoolean(c,h,m){this.bytes[h][c]=m?1:0}clear(c){for(const h of this.bytes)S.fill(h,c)}equals(c){if(!(c instanceof iv))return!1;const h=c;if(this.width!==h.width||this.height!==h.height)return!1;for(let m=0,g=this.height;m<g;++m){const v=this.bytes[m],b=h.bytes[m];for(let A=0,P=this.width;A<P;++A)if(v[A]!==b[A])return!1}return!0}toString(){const c=new q;for(let h=0,m=this.height;h<m;++h){const g=this.bytes[h];for(let v=0,b=this.width;v<b;++v)switch(g[v]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class Jd{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new q;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<Jd.NUM_MASK_PATTERNS}}Jd.NUM_MASK_PATTERNS=8;class qr extends u{}qr.kind="WriterException";class It{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,h,m,g,v){It.clearMatrix(v),It.embedBasicPatterns(m,v),It.embedTypeInfo(h,g,v),It.maybeEmbedVersionInfo(m,v),It.embedDataBits(c,g,v)}static embedBasicPatterns(c,h){It.embedPositionDetectionPatternsAndSeparators(h),It.embedDarkDotAtLeftBottomCorner(h),It.maybeEmbedPositionAdjustmentPatterns(c,h),It.embedTimingPatterns(h)}static embedTypeInfo(c,h,m){const g=new I;It.makeTypeInfoBits(c,h,g);for(let v=0,b=g.getSize();v<b;++v){const A=g.get(g.getSize()-1-v),P=It.TYPE_INFO_COORDINATES[v],k=P[0],F=P[1];if(m.setBoolean(k,F,A),v<8){const W=m.getWidth()-v-1;m.setBoolean(W,8,A)}else{const K=m.getHeight()-7+(v-8);m.setBoolean(8,K,A)}}}static maybeEmbedVersionInfo(c,h){if(c.getVersionNumber()<7)return;const m=new I;It.makeVersionInfoBits(c,m);let g=6*3-1;for(let v=0;v<6;++v)for(let b=0;b<3;++b){const A=m.get(g);g--,h.setBoolean(v,h.getHeight()-11+b,A),h.setBoolean(h.getHeight()-11+b,v,A)}}static embedDataBits(c,h,m){let g=0,v=-1,b=m.getWidth()-1,A=m.getHeight()-1;for(;b>0;){for(b===6&&(b-=1);A>=0&&A<m.getHeight();){for(let P=0;P<2;++P){const k=b-P;if(!It.isEmpty(m.get(k,A)))continue;let F;g<c.getSize()?(F=c.get(g),++g):F=!1,h!==255&&Mn.getDataMaskBit(h,k,A)&&(F=!F),m.setBoolean(k,A,F)}A+=v}v=-v,A+=v,b-=2}if(g!==c.getSize())throw new qr("Not all bits consumed: "+g+"/"+c.getSize())}static findMSBSet(c){return 32-_.numberOfLeadingZeros(c)}static calculateBCHCode(c,h){if(h===0)throw new p("0 polynomial");const m=It.findMSBSet(h);for(c<<=m-1;It.findMSBSet(c)>=m;)c^=h<<It.findMSBSet(c)-m;return c}static makeTypeInfoBits(c,h,m){if(!Jd.isValidMaskPattern(h))throw new qr("Invalid mask pattern");const g=c.getBits()<<3|h;m.appendBits(g,5);const v=It.calculateBCHCode(g,It.TYPE_INFO_POLY);m.appendBits(v,10);const b=new I;if(b.appendBits(It.TYPE_INFO_MASK_PATTERN,15),m.xor(b),m.getSize()!==15)throw new qr("should not happen but we got: "+m.getSize())}static makeVersionInfoBits(c,h){h.appendBits(c.getVersionNumber(),6);const m=It.calculateBCHCode(c.getVersionNumber(),It.VERSION_INFO_POLY);if(h.appendBits(m,12),h.getSize()!==18)throw new qr("should not happen but we got: "+h.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let h=8;h<c.getWidth()-8;++h){const m=(h+1)%2;It.isEmpty(c.get(h,6))&&c.setNumber(h,6,m),It.isEmpty(c.get(6,h))&&c.setNumber(6,h,m)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new qr;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,h,m){for(let g=0;g<8;++g){if(!It.isEmpty(m.get(c+g,h)))throw new qr;m.setNumber(c+g,h,0)}}static embedVerticalSeparationPattern(c,h,m){for(let g=0;g<7;++g){if(!It.isEmpty(m.get(c,h+g)))throw new qr;m.setNumber(c,h+g,0)}}static embedPositionAdjustmentPattern(c,h,m){for(let g=0;g<5;++g){const v=It.POSITION_ADJUSTMENT_PATTERN[g];for(let b=0;b<5;++b)m.setNumber(c+b,h+g,v[b])}}static embedPositionDetectionPattern(c,h,m){for(let g=0;g<7;++g){const v=It.POSITION_DETECTION_PATTERN[g];for(let b=0;b<7;++b)m.setNumber(c+b,h+g,v[b])}}static embedPositionDetectionPatternsAndSeparators(c){const h=It.POSITION_DETECTION_PATTERN[0].length;It.embedPositionDetectionPattern(0,0,c),It.embedPositionDetectionPattern(c.getWidth()-h,0,c),It.embedPositionDetectionPattern(0,c.getWidth()-h,c);const m=8;It.embedHorizontalSeparationPattern(0,m-1,c),It.embedHorizontalSeparationPattern(c.getWidth()-m,m-1,c),It.embedHorizontalSeparationPattern(0,c.getWidth()-m,c);const g=7;It.embedVerticalSeparationPattern(g,0,c),It.embedVerticalSeparationPattern(c.getHeight()-g-1,0,c),It.embedVerticalSeparationPattern(g,c.getHeight()-g,c)}static maybeEmbedPositionAdjustmentPatterns(c,h){if(c.getVersionNumber()<2)return;const m=c.getVersionNumber()-1,g=It.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[m];for(let v=0,b=g.length;v!==b;v++){const A=g[v];if(A>=0)for(let P=0;P!==b;P++){const k=g[P];k>=0&&It.isEmpty(h.get(k,A))&&It.embedPositionAdjustmentPattern(k-2,A-2,h)}}}}It.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),It.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),It.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),It.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),It.VERSION_INFO_POLY=7973,It.TYPE_INFO_POLY=1335,It.TYPE_INFO_MASK_PATTERN=21522;class OY{constructor(c,h){this.dataBytes=c,this.errorCorrectionBytes=h}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class nn{constructor(){}static calculateMaskPenalty(c){return Mn.applyMaskPenaltyRule1(c)+Mn.applyMaskPenaltyRule2(c)+Mn.applyMaskPenaltyRule3(c)+Mn.applyMaskPenaltyRule4(c)}static encode(c,h,m=null){let g=nn.DEFAULT_BYTE_MODE_ENCODING;const v=m!==null&&m.get(la.CHARACTER_SET)!==void 0;v&&(g=m.get(la.CHARACTER_SET).toString());const b=this.chooseMode(c,g),A=new I;if(b===At.BYTE&&(v||nn.DEFAULT_BYTE_MODE_ENCODING!==g)){const qe=R.getCharacterSetECIByName(g);qe!==void 0&&this.appendECI(qe,A)}this.appendModeInfo(b,A);const P=new I;this.appendBytes(c,b,P,g);let k;if(m!==null&&m.get(la.QR_VERSION)!==void 0){const qe=Number.parseInt(m.get(la.QR_VERSION).toString(),10);k=jt.getVersionForNumber(qe);const Fe=this.calculateBitsNeeded(b,A,P,k);if(!this.willFit(Fe,k,h))throw new qr("Data too big for requested version")}else k=this.recommendVersion(h,b,A,P);const F=new I;F.appendBitArray(A);const W=b===At.BYTE?P.getSizeInBytes():c.length;this.appendLengthInfo(W,k,b,F),F.appendBitArray(P);const K=k.getECBlocksForLevel(h),ee=k.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(ee,F);const oe=this.interleaveWithECBytes(F,k.getTotalCodewords(),ee,K.getNumBlocks()),ce=new Jd;ce.setECLevel(h),ce.setMode(b),ce.setVersion(k);const me=k.getDimensionForVersion(),be=new iv(me,me),He=this.chooseMaskPattern(oe,h,k,be);return ce.setMaskPattern(He),It.buildMatrix(oe,h,k,He,be),ce.setMatrix(be),ce}static recommendVersion(c,h,m,g){const v=this.calculateBitsNeeded(h,m,g,jt.getVersionForNumber(1)),b=this.chooseVersion(v,c),A=this.calculateBitsNeeded(h,m,g,b);return this.chooseVersion(A,c)}static calculateBitsNeeded(c,h,m,g){return h.getSize()+c.getCharacterCountBits(g)+m.getSize()}static getAlphanumericCode(c){return c<nn.ALPHANUMERIC_TABLE.length?nn.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,h=null){if(R.SJIS.getName()===h&&this.isOnlyDoubleByteKanji(c))return At.KANJI;let m=!1,g=!1;for(let v=0,b=c.length;v<b;++v){const A=c.charAt(v);if(nn.isDigit(A))m=!0;else if(this.getAlphanumericCode(A.charCodeAt(0))!==-1)g=!0;else return At.BYTE}return g?At.ALPHANUMERIC:m?At.NUMERIC:At.BYTE}static isOnlyDoubleByteKanji(c){let h;try{h=z.encode(c,R.SJIS)}catch{return!1}const m=h.length;if(m%2!==0)return!1;for(let g=0;g<m;g+=2){const v=h[g]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(c,h,m,g){let v=Number.MAX_SAFE_INTEGER,b=-1;for(let A=0;A<Jd.NUM_MASK_PATTERNS;A++){It.buildMatrix(c,h,m,A,g);let P=this.calculateMaskPenalty(g);P<v&&(v=P,b=A)}return b}static chooseVersion(c,h){for(let m=1;m<=40;m++){const g=jt.getVersionForNumber(m);if(nn.willFit(c,g,h))return g}throw new qr("Data too big")}static willFit(c,h,m){const g=h.getTotalCodewords(),b=h.getECBlocksForLevel(m).getTotalECCodewords(),A=g-b,P=(c+7)/8;return A>=P}static terminateBits(c,h){const m=c*8;if(h.getSize()>m)throw new qr("data bits cannot fit in the QR Code"+h.getSize()+" > "+m);for(let b=0;b<4&&h.getSize()<m;++b)h.appendBit(!1);const g=h.getSize()&7;if(g>0)for(let b=g;b<8;b++)h.appendBit(!1);const v=c-h.getSizeInBytes();for(let b=0;b<v;++b)h.appendBits(b&1?17:236,8);if(h.getSize()!==m)throw new qr("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,h,m,g,v,b){if(g>=m)throw new qr("Block ID too large");const A=c%m,P=m-A,k=Math.floor(c/m),F=k+1,W=Math.floor(h/m),K=W+1,ee=k-W,oe=F-K;if(ee!==oe)throw new qr("EC bytes mismatch");if(m!==P+A)throw new qr("RS blocks mismatch");if(c!==(W+ee)*P+(K+oe)*A)throw new qr("Total bytes mismatch");g<P?(v[0]=W,b[0]=ee):(v[0]=K,b[0]=oe)}static interleaveWithECBytes(c,h,m,g){if(c.getSizeInBytes()!==m)throw new qr("Number of bits and data bytes does not match");let v=0,b=0,A=0;const P=new Array;for(let F=0;F<g;++F){const W=new Int32Array(1),K=new Int32Array(1);nn.getNumDataBytesAndNumECBytesForBlockID(h,m,g,F,W,K);const ee=W[0],oe=new Uint8Array(ee);c.toBytes(8*v,oe,0,ee);const ce=nn.generateECBytes(oe,K[0]);P.push(new OY(oe,ce)),b=Math.max(b,ee),A=Math.max(A,ce.length),v+=W[0]}if(m!==v)throw new qr("Data bytes does not match offset");const k=new I;for(let F=0;F<b;++F)for(const W of P){const K=W.getDataBytes();F<K.length&&k.appendBits(K[F],8)}for(let F=0;F<A;++F)for(const W of P){const K=W.getErrorCorrectionBytes();F<K.length&&k.appendBits(K[F],8)}if(h!==k.getSizeInBytes())throw new qr("Interleaving error: "+h+" and "+k.getSizeInBytes()+" differ.");return k}static generateECBytes(c,h){const m=c.length,g=new Int32Array(m+h);for(let b=0;b<m;b++)g[b]=c[b]&255;new s2(it.QR_CODE_FIELD_256).encode(g,h);const v=new Uint8Array(h);for(let b=0;b<h;b++)v[b]=g[m+b];return v}static appendModeInfo(c,h){h.appendBits(c.getBits(),4)}static appendLengthInfo(c,h,m,g){const v=m.getCharacterCountBits(h);if(c>=1<<v)throw new qr(c+" is bigger than "+((1<<v)-1));g.appendBits(c,v)}static appendBytes(c,h,m,g){switch(h){case At.NUMERIC:nn.appendNumericBytes(c,m);break;case At.ALPHANUMERIC:nn.appendAlphanumericBytes(c,m);break;case At.BYTE:nn.append8BitBytes(c,m,g);break;case At.KANJI:nn.appendKanjiBytes(c,m);break;default:throw new qr("Invalid mode: "+h)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const h=nn.getDigit(c);return h>=0&&h<=9}static appendNumericBytes(c,h){const m=c.length;let g=0;for(;g<m;){const v=nn.getDigit(c.charAt(g));if(g+2<m){const b=nn.getDigit(c.charAt(g+1)),A=nn.getDigit(c.charAt(g+2));h.appendBits(v*100+b*10+A,10),g+=3}else if(g+1<m){const b=nn.getDigit(c.charAt(g+1));h.appendBits(v*10+b,7),g+=2}else h.appendBits(v,4),g++}}static appendAlphanumericBytes(c,h){const m=c.length;let g=0;for(;g<m;){const v=nn.getAlphanumericCode(c.charCodeAt(g));if(v===-1)throw new qr;if(g+1<m){const b=nn.getAlphanumericCode(c.charCodeAt(g+1));if(b===-1)throw new qr;h.appendBits(v*45+b,11),g+=2}else h.appendBits(v,6),g++}}static append8BitBytes(c,h,m){let g;try{g=z.encode(c,m)}catch(v){throw new qr(v)}for(let v=0,b=g.length;v!==b;v++){const A=g[v];h.appendBits(A,8)}}static appendKanjiBytes(c,h){let m;try{m=z.encode(c,R.SJIS)}catch(v){throw new qr(v)}const g=m.length;for(let v=0;v<g;v+=2){const b=m[v]&255,A=m[v+1]&255,P=b<<8&4294967295|A;let k=-1;if(P>=33088&&P<=40956?k=P-33088:P>=57408&&P<=60351&&(k=P-49472),k===-1)throw new qr("Invalid byte sequence");const F=(k>>8)*192+(k&255);h.appendBits(F,13)}}static appendECI(c,h){h.appendBits(At.ECI.getBits(),4),h.appendBits(c.getValue(),8)}}nn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),nn.DEFAULT_BYTE_MODE_ENCODING=R.UTF8.getName();class eu{write(c,h,m,g=null){if(c.length===0)throw new p("Found empty contents");if(h<0||m<0)throw new p("Requested dimensions are too small: "+h+"x"+m);let v=Qr.L,b=eu.QUIET_ZONE_SIZE;g!==null&&(g.get(la.ERROR_CORRECTION)!==void 0&&(v=Qr.fromString(g.get(la.ERROR_CORRECTION).toString())),g.get(la.MARGIN)!==void 0&&(b=Number.parseInt(g.get(la.MARGIN).toString(),10)));const A=nn.encode(c,v,g);return this.renderResult(A,h,m,b)}writeToDom(c,h,m,g,v=null){typeof c=="string"&&(c=document.querySelector(c));const b=this.write(h,m,g,v);c&&c.appendChild(b)}renderResult(c,h,m,g){const v=c.getMatrix();if(v===null)throw new nr;const b=v.getWidth(),A=v.getHeight(),P=b+g*2,k=A+g*2,F=Math.max(h,P),W=Math.max(m,k),K=Math.min(Math.floor(F/P),Math.floor(W/k)),ee=Math.floor((F-b*K)/2),oe=Math.floor((W-A*K)/2),ce=this.createSVGElement(F,W);for(let me=0,be=oe;me<A;me++,be+=K)for(let He=0,qe=ee;He<b;He++,qe+=K)if(v.get(He,me)===1){const Fe=this.createSvgRectElement(qe,be,K,K);ce.appendChild(Fe)}return ce}createSVGElement(c,h){const m=document.createElementNS(eu.SVG_NS,"svg");return m.setAttributeNS(null,"height",c.toString()),m.setAttributeNS(null,"width",h.toString()),m}createSvgRectElement(c,h,m,g){const v=document.createElementNS(eu.SVG_NS,"rect");return v.setAttributeNS(null,"x",c.toString()),v.setAttributeNS(null,"y",h.toString()),v.setAttributeNS(null,"height",m.toString()),v.setAttributeNS(null,"width",g.toString()),v.setAttributeNS(null,"fill","#000000"),v}}eu.QUIET_ZONE_SIZE=4,eu.SVG_NS="http://www.w3.org/2000/svg";class Ph{encode(c,h,m,g,v){if(c.length===0)throw new p("Found empty contents");if(h!==Me.QR_CODE)throw new p("Can only encode QR_CODE, but got "+h);if(m<0||g<0)throw new p(`Requested dimensions are too small: ${m}x${g}`);let b=Qr.L,A=Ph.QUIET_ZONE_SIZE;v!==null&&(v.get(la.ERROR_CORRECTION)!==void 0&&(b=Qr.fromString(v.get(la.ERROR_CORRECTION).toString())),v.get(la.MARGIN)!==void 0&&(A=Number.parseInt(v.get(la.MARGIN).toString(),10)));const P=nn.encode(c,b,v);return Ph.renderResult(P,m,g,A)}static renderResult(c,h,m,g){const v=c.getMatrix();if(v===null)throw new nr;const b=v.getWidth(),A=v.getHeight(),P=b+g*2,k=A+g*2,F=Math.max(h,P),W=Math.max(m,k),K=Math.min(Math.floor(F/P),Math.floor(W/k)),ee=Math.floor((F-b*K)/2),oe=Math.floor((W-A*K)/2),ce=new $(F,W);for(let me=0,be=oe;me<A;me++,be+=K)for(let He=0,qe=ee;He<b;He++,qe+=K)v.get(He,me)===1&&ce.setRegion(qe,be,K,K);return ce}}Ph.QUIET_ZONE_SIZE=4;class kY{encode(c,h,m,g,v){let b;switch(h){case Me.QR_CODE:b=new Ph;break;default:throw new p("No encoder available for format "+h)}return b.encode(c,h,m,g,v)}}class Bo extends Y{constructor(c,h,m,g,v,b,A,P){if(super(b,A),this.yuvData=c,this.dataWidth=h,this.dataHeight=m,this.left=g,this.top=v,g+b>h||v+A>m)throw new p("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(b,A)}getRow(c,h){if(c<0||c>=this.getHeight())throw new p("Requested row is outside the image: "+c);const m=this.getWidth();(h==null||h.length<m)&&(h=new Uint8ClampedArray(m));const g=(c+this.top)*this.dataWidth+this.left;return w.arraycopy(this.yuvData,g,h,0,m),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.yuvData;const m=c*h,g=new Uint8ClampedArray(m);let v=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return w.arraycopy(this.yuvData,v,g,0,m),g;for(let b=0;b<h;b++){const A=b*c;w.arraycopy(this.yuvData,v,g,A,c),v+=this.dataWidth}return g}isCropSupported(){return!0}crop(c,h,m,g){return new Bo(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+h,m,g,!1)}renderThumbnail(){const c=this.getWidth()/Bo.THUMBNAIL_SCALE_FACTOR,h=this.getHeight()/Bo.THUMBNAIL_SCALE_FACTOR,m=new Int32Array(c*h),g=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let b=0;b<h;b++){const A=b*c;for(let P=0;P<c;P++){const k=g[v+P*Bo.THUMBNAIL_SCALE_FACTOR]&255;m[A+P]=4278190080|k*65793}v+=this.dataWidth*Bo.THUMBNAIL_SCALE_FACTOR}return m}getThumbnailWidth(){return this.getWidth()/Bo.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Bo.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,h){const m=this.yuvData;for(let g=0,v=this.top*this.dataWidth+this.left;g<h;g++,v+=this.dataWidth){const b=v+c/2;for(let A=v,P=v+c-1;A<b;A++,P--){const k=m[A];m[A]=m[P],m[P]=k}}}invert(){return new te(this)}}Bo.THUMBNAIL_SCALE_FACTOR=2;class i2 extends Y{constructor(c,h,m,g,v,b,A){if(super(h,m),this.dataWidth=g,this.dataHeight=v,this.left=b,this.top=A,c.BYTES_PER_ELEMENT===4){const P=h*m,k=new Uint8ClampedArray(P);for(let F=0;F<P;F++){const W=c[F],K=W>>16&255,ee=W>>7&510,oe=W&255;k[F]=(K+ee+oe)/4&255}this.luminances=k}else this.luminances=c;if(g===void 0&&(this.dataWidth=h),v===void 0&&(this.dataHeight=m),b===void 0&&(this.left=0),A===void 0&&(this.top=0),this.left+h>this.dataWidth||this.top+m>this.dataHeight)throw new p("Crop rectangle does not fit within image data.")}getRow(c,h){if(c<0||c>=this.getHeight())throw new p("Requested row is outside the image: "+c);const m=this.getWidth();(h==null||h.length<m)&&(h=new Uint8ClampedArray(m));const g=(c+this.top)*this.dataWidth+this.left;return w.arraycopy(this.luminances,g,h,0,m),h}getMatrix(){const c=this.getWidth(),h=this.getHeight();if(c===this.dataWidth&&h===this.dataHeight)return this.luminances;const m=c*h,g=new Uint8ClampedArray(m);let v=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return w.arraycopy(this.luminances,v,g,0,m),g;for(let b=0;b<h;b++){const A=b*c;w.arraycopy(this.luminances,v,g,A,c),v+=this.dataWidth}return g}isCropSupported(){return!0}crop(c,h,m,g){return new i2(this.luminances,m,g,this.dataWidth,this.dataHeight,this.left+c,this.top+h)}invert(){return new te(this)}}class bP extends R{static forName(c){return this.getCharacterSetECIByName(c)}}class o2{}o2.ISO_8859_1=R.ISO8859_1;class wP{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class jP{static singletonList(c){return[c]}static min(c,h){return c.sort(h)[0]}}class IY{constructor(c){this.previous=c}getPrevious(){return this.previous}}class Oh extends IY{constructor(c,h,m){super(c),this.value=h,this.bitCount=m}appendTo(c,h){c.appendBits(this.value,this.bitCount)}add(c,h){return new Oh(this,c,h)}addBinaryShift(c,h){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Oh(this,c,h)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+_.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class l2 extends Oh{constructor(c,h,m){super(c,0,0),this.binaryShiftStart=h,this.binaryShiftByteCount=m}appendTo(c,h){for(let m=0;m<this.binaryShiftByteCount;m++)(m===0||m===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):m===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(h[this.binaryShiftStart+m],8)}addBinaryShift(c,h){return new l2(this,c,h)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function MY(U,c,h){return new l2(U,c,h)}function Sp(U,c,h){return new Oh(U,c,h)}const RY=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Tc=0,ov=1,wi=2,NP=3,$o=4,DY=new Oh(null,0,0),c2=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function LY(U){for(let c of U)S.fill(c,-1);return U[Tc][$o]=0,U[ov][$o]=0,U[ov][Tc]=28,U[NP][$o]=0,U[wi][$o]=0,U[wi][Tc]=15,U}const CP=LY(S.createInt32Array(6,6));class Vo{constructor(c,h,m,g){this.token=c,this.mode=h,this.binaryShiftByteCount=m,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,h){let m=this.bitCount,g=this.token;if(c!==this.mode){let b=c2[this.mode][c];g=Sp(g,b&65535,b>>16),m+=b>>16}let v=c===wi?4:5;return g=Sp(g,h,v),new Vo(g,c,0,m+v)}shiftAndAppend(c,h){let m=this.token,g=this.mode===wi?4:5;return m=Sp(m,CP[this.mode][c],g),m=Sp(m,h,5),new Vo(m,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(c){let h=this.token,m=this.mode,g=this.bitCount;if(this.mode===$o||this.mode===wi){let A=c2[m][Tc];h=Sp(h,A&65535,A>>16),g+=A>>16,m=Tc}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,b=new Vo(h,m,this.binaryShiftByteCount+1,g+v);return b.binaryShiftByteCount===2078&&(b=b.endBinaryShift(c+1)),b}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let h=this.token;return h=MY(h,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new Vo(h,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let h=this.bitCount+(c2[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?h+=Vo.calculateBinaryShiftCost(c)-Vo.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(h+=10),h<=c.bitCount}toBitArray(c){let h=[];for(let g=this.endBinaryShift(c.length).token;g!==null;g=g.getPrevious())h.unshift(g);let m=new I;for(const g of h)g.appendTo(m,c);return m}toString(){return B.format("%s bits=%d bytes=%d",RY[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}Vo.INITIAL_STATE=new Vo(DY,Tc,0,0);function FY(U){const c=B.getCharCode(" "),h=B.getCharCode("."),m=B.getCharCode(",");U[Tc][c]=1;const g=B.getCharCode("Z"),v=B.getCharCode("A");for(let K=v;K<=g;K++)U[Tc][K]=K-v+2;U[ov][c]=1;const b=B.getCharCode("z"),A=B.getCharCode("a");for(let K=A;K<=b;K++)U[ov][K]=K-A+2;U[wi][c]=1;const P=B.getCharCode("9"),k=B.getCharCode("0");for(let K=k;K<=P;K++)U[wi][K]=K-k+2;U[wi][m]=12,U[wi][h]=13;const F=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<F.length;K++)U[NP][B.getCharCode(F[K])]=K;const W=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<W.length;K++)B.getCharCode(W[K])>0&&(U[$o][B.getCharCode(W[K])]=K);return U}const d2=FY(S.createInt32Array(5,256));class Ap{constructor(c){this.text=c}encode(){const c=B.getCharCode(" "),h=B.getCharCode(`
`);let m=jP.singletonList(Vo.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let b,A=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case B.getCharCode("\r"):b=A===h?2:0;break;case B.getCharCode("."):b=A===c?3:0;break;case B.getCharCode(","):b=A===c?4:0;break;case B.getCharCode(":"):b=A===c?5:0;break;default:b=0}b>0?(m=Ap.updateStateListForPair(m,v,b),v++):m=this.updateStateListForChar(m,v)}return jP.min(m,(v,b)=>v.getBitCount()-b.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,h){const m=[];for(let g of c)this.updateStateForChar(g,h,m);return Ap.simplifyStates(m)}updateStateForChar(c,h,m){let g=this.text[h]&255,v=d2[c.getMode()][g]>0,b=null;for(let A=0;A<=$o;A++){let P=d2[A][g];if(P>0){if(b==null&&(b=c.endBinaryShift(h)),!v||A===c.getMode()||A===wi){const k=b.latchAndAppend(A,P);m.push(k)}if(!v&&CP[c.getMode()][A]>=0){const k=b.shiftAndAppend(A,P);m.push(k)}}}if(c.getBinaryShiftByteCount()>0||d2[c.getMode()][g]===0){let A=c.addBinaryShiftChar(h);m.push(A)}}static updateStateListForPair(c,h,m){const g=[];for(let v of c)this.updateStateForPair(v,h,m,g);return this.simplifyStates(g)}static updateStateForPair(c,h,m,g){let v=c.endBinaryShift(h);if(g.push(v.latchAndAppend($o,m)),c.getMode()!==$o&&g.push(v.shiftAndAppend($o,m)),m===3||m===4){let b=v.latchAndAppend(wi,16-m).latchAndAppend(wi,1);g.push(b)}if(c.getBinaryShiftByteCount()>0){let b=c.addBinaryShiftChar(h).addBinaryShiftChar(h+1);g.push(b)}}static simplifyStates(c){let h=[];for(const m of c){let g=!0;for(const v of h){if(v.isBetterThanOrEqualTo(m)){g=!1;break}m.isBetterThanOrEqualTo(v)&&(h=h.filter(b=>b!==v))}g&&h.push(m)}return h}}class wr{constructor(){}static encodeBytes(c){return wr.encode(c,wr.DEFAULT_EC_PERCENT,wr.DEFAULT_AZTEC_LAYERS)}static encode(c,h,m){let g=new Ap(c).encode(),v=_.truncDivision(g.getSize()*h,100)+11,b=g.getSize()+v,A,P,k,F,W;if(m!==wr.DEFAULT_AZTEC_LAYERS){if(A=m<0,P=Math.abs(m),P>(A?wr.MAX_NB_BITS_COMPACT:wr.MAX_NB_BITS))throw new p(B.format("Illegal value %s for layers",m));k=wr.totalBitsInLayer(P,A),F=wr.WORD_SIZE[P];let Fe=k-k%F;if(W=wr.stuffBits(g,F),W.getSize()+v>Fe)throw new p("Data to large for user specified layer");if(A&&W.getSize()>F*64)throw new p("Data to large for user specified layer")}else{F=0,W=null;for(let Fe=0;;Fe++){if(Fe>wr.MAX_NB_BITS)throw new p("Data too large for an Aztec code");if(A=Fe<=3,P=A?Fe+1:Fe,k=wr.totalBitsInLayer(P,A),b>k)continue;(W==null||F!==wr.WORD_SIZE[P])&&(F=wr.WORD_SIZE[P],W=wr.stuffBits(g,F));let xr=k-k%F;if(!(A&&W.getSize()>F*64)&&W.getSize()+v<=xr)break}}let K=wr.generateCheckWords(W,k,F),ee=W.getSize()/F,oe=wr.generateModeMessage(A,P,ee),ce=(A?11:14)+P*4,me=new Int32Array(ce),be;if(A){be=ce;for(let Fe=0;Fe<me.length;Fe++)me[Fe]=Fe}else{be=ce+1+2*_.truncDivision(_.truncDivision(ce,2)-1,15);let Fe=_.truncDivision(ce,2),xr=_.truncDivision(be,2);for(let Xt=0;Xt<Fe;Xt++){let Ss=Xt+_.truncDivision(Xt,15);me[Fe-Xt-1]=xr-Ss-1,me[Fe+Xt]=xr+Ss+1}}let He=new $(be);for(let Fe=0,xr=0;Fe<P;Fe++){let Xt=(P-Fe)*4+(A?9:12);for(let Ss=0;Ss<Xt;Ss++){let to=Ss*2;for(let As=0;As<2;As++)K.get(xr+to+As)&&He.set(me[Fe*2+As],me[Fe*2+Ss]),K.get(xr+Xt*2+to+As)&&He.set(me[Fe*2+Ss],me[ce-1-Fe*2-As]),K.get(xr+Xt*4+to+As)&&He.set(me[ce-1-Fe*2-As],me[ce-1-Fe*2-Ss]),K.get(xr+Xt*6+to+As)&&He.set(me[ce-1-Fe*2-Ss],me[Fe*2+As])}xr+=Xt*8}if(wr.drawModeMessage(He,A,be,oe),A)wr.drawBullsEye(He,_.truncDivision(be,2),5);else{wr.drawBullsEye(He,_.truncDivision(be,2),7);for(let Fe=0,xr=0;Fe<_.truncDivision(ce,2)-1;Fe+=15,xr+=16)for(let Xt=_.truncDivision(be,2)&1;Xt<be;Xt+=2)He.set(_.truncDivision(be,2)-xr,Xt),He.set(_.truncDivision(be,2)+xr,Xt),He.set(Xt,_.truncDivision(be,2)-xr),He.set(Xt,_.truncDivision(be,2)+xr)}let qe=new wP;return qe.setCompact(A),qe.setSize(be),qe.setLayers(P),qe.setCodeWords(ee),qe.setMatrix(He),qe}static drawBullsEye(c,h,m){for(let g=0;g<m;g+=2)for(let v=h-g;v<=h+g;v++)c.set(v,h-g),c.set(v,h+g),c.set(h-g,v),c.set(h+g,v);c.set(h-m,h-m),c.set(h-m+1,h-m),c.set(h-m,h-m+1),c.set(h+m,h-m),c.set(h+m,h-m+1),c.set(h+m,h+m-1)}static generateModeMessage(c,h,m){let g=new I;return c?(g.appendBits(h-1,2),g.appendBits(m-1,6),g=wr.generateCheckWords(g,28,4)):(g.appendBits(h-1,5),g.appendBits(m-1,11),g=wr.generateCheckWords(g,40,4)),g}static drawModeMessage(c,h,m,g){let v=_.truncDivision(m,2);if(h)for(let b=0;b<7;b++){let A=v-3+b;g.get(b)&&c.set(A,v-5),g.get(b+7)&&c.set(v+5,A),g.get(20-b)&&c.set(A,v+5),g.get(27-b)&&c.set(v-5,A)}else for(let b=0;b<10;b++){let A=v-5+b+_.truncDivision(b,5);g.get(b)&&c.set(A,v-7),g.get(b+10)&&c.set(v+7,A),g.get(29-b)&&c.set(A,v+7),g.get(39-b)&&c.set(v-7,A)}}static generateCheckWords(c,h,m){let g=c.getSize()/m,v=new s2(wr.getGF(m)),b=_.truncDivision(h,m),A=wr.bitsToWords(c,m,b);v.encode(A,b-g);let P=h%m,k=new I;k.appendBits(0,P);for(const F of Array.from(A))k.appendBits(F,m);return k}static bitsToWords(c,h,m){let g=new Int32Array(m),v,b;for(v=0,b=c.getSize()/h;v<b;v++){let A=0;for(let P=0;P<h;P++)A|=c.get(v*h+P)?1<<h-P-1:0;g[v]=A}return g}static getGF(c){switch(c){case 4:return it.AZTEC_PARAM;case 6:return it.AZTEC_DATA_6;case 8:return it.AZTEC_DATA_8;case 10:return it.AZTEC_DATA_10;case 12:return it.AZTEC_DATA_12;default:throw new p("Unsupported word size "+c)}}static stuffBits(c,h){let m=new I,g=c.getSize(),v=(1<<h)-2;for(let b=0;b<g;b+=h){let A=0;for(let P=0;P<h;P++)(b+P>=g||c.get(b+P))&&(A|=1<<h-1-P);(A&v)===v?(m.appendBits(A&v,h),b--):A&v?m.appendBits(A,h):(m.appendBits(A|1,h),b--)}return m}static totalBitsInLayer(c,h){return((h?88:112)+16*c)*c}}wr.DEFAULT_EC_PERCENT=33,wr.DEFAULT_AZTEC_LAYERS=0,wr.MAX_NB_BITS=32,wr.MAX_NB_BITS_COMPACT=4,wr.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class lv{encode(c,h,m,g){return this.encodeWithHints(c,h,m,g,null)}encodeWithHints(c,h,m,g,v){let b=o2.ISO_8859_1,A=wr.DEFAULT_EC_PERCENT,P=wr.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(la.CHARACTER_SET)&&(b=bP.forName(v.get(la.CHARACTER_SET).toString())),v.has(la.ERROR_CORRECTION)&&(A=_.parseInt(v.get(la.ERROR_CORRECTION).toString())),v.has(la.AZTEC_LAYERS)&&(P=_.parseInt(v.get(la.AZTEC_LAYERS).toString()))),lv.encodeLayers(c,h,m,g,b,A,P)}static encodeLayers(c,h,m,g,v,b,A){if(h!==Me.AZTEC)throw new p("Can only encode AZTEC, but got "+h);let P=wr.encode(B.getBytes(c,v),b,A);return lv.renderResult(P,m,g)}static renderResult(c,h,m){let g=c.getMatrix();if(g==null)throw new nr;let v=g.getWidth(),b=g.getHeight(),A=Math.max(h,v),P=Math.max(m,b),k=Math.min(A/v,P/b),F=(A-v*k)/2,W=(P-b*k)/2,K=new $(A,P);for(let ee=0,oe=W;ee<b;ee++,oe+=k)for(let ce=0,me=F;ce<v;ce++,me+=k)g.get(ce,ee)&&K.setRegion(me,oe,k,k);return K}}r.AbstractExpandedDecoder=Yj,r.ArgumentException=f,r.ArithmeticException=je,r.AztecCode=wP,r.AztecCodeReader=zn,r.AztecCodeWriter=lv,r.AztecDecoder=Ee,r.AztecDetector=Cn,r.AztecDetectorResult=xe,r.AztecEncoder=wr,r.AztecHighLevelEncoder=Ap,r.AztecPoint=Vt,r.BarcodeFormat=Me,r.Binarizer=j,r.BinaryBitmap=x,r.BitArray=I,r.BitMatrix=$,r.BitSource=Jj,r.BrowserAztecCodeReader=Hj,r.BrowserBarcodeReader=pY,r.BrowserCodeReader=se,r.BrowserDatamatrixCodeReader=gY,r.BrowserMultiFormatReader=TY,r.BrowserPDF417Reader=_Y,r.BrowserQRCodeReader=PY,r.BrowserQRCodeSvgWriter=eu,r.CharacterSetECI=R,r.ChecksumException=y,r.Code128Reader=Xe,r.Code39Reader=Un,r.DataMatrixDecodedBitStreamParser=Cc,r.DataMatrixReader=Sc,r.DecodeHintType=M,r.DecoderResult=Ae,r.DefaultGridSampler=Ke,r.DetectorResult=ie,r.EAN13Reader=Yd,r.EncodeHintType=la,r.Exception=u,r.FormatException=O,r.GenericGF=it,r.GenericGFPoly=Ge,r.GlobalHistogramBinarizer=H,r.GridSampler=et,r.GridSamplerInstance=ct,r.HTMLCanvasElementLuminanceSource=X,r.HybridBinarizer=G,r.ITFReader=Or,r.IllegalArgumentException=p,r.IllegalStateException=nr,r.InvertedLuminanceSource=te,r.LuminanceSource=Y,r.MathUtils=ot,r.MultiFormatOneDReader=Th,r.MultiFormatReader=yP,r.MultiFormatWriter=kY,r.NotFoundException=L,r.OneDReader=pn,r.PDF417DecodedBitStreamParser=ye,r.PDF417DecoderErrorCorrection=fP,r.PDF417Reader=Ma,r.PDF417ResultMetadata=pP,r.PerspectiveTransform=Ye,r.PlanarYUVLuminanceSource=Bo,r.QRCodeByteMatrix=iv,r.QRCodeDataMask=yi,r.QRCodeDecodedBitStreamParser=Sn,r.QRCodeDecoderErrorCorrectionLevel=Qr,r.QRCodeDecoderFormatInformation=Ha,r.QRCodeEncoder=nn,r.QRCodeEncoderQRCode=Jd,r.QRCodeMaskUtil=Mn,r.QRCodeMatrixUtil=It,r.QRCodeMode=At,r.QRCodeReader=Ac,r.QRCodeVersion=jt,r.QRCodeWriter=Ph,r.RGBLuminanceSource=i2,r.RSS14Reader=In,r.RSSExpandedReader=De,r.ReaderException=sv,r.ReedSolomonDecoder=pr,r.ReedSolomonEncoder=s2,r.ReedSolomonException=wt,r.Result=Te,r.ResultMetadataType=rt,r.ResultPoint=st,r.StringUtils=B,r.UnsupportedOperationException=V,r.VideoInputDevice=fe,r.WhiteRectangleDetector=Ne,r.WriterException=qr,r.ZXingArrays=S,r.ZXingCharset=bP,r.ZXingInteger=_,r.ZXingStandardCharsets=o2,r.ZXingStringBuilder=q,r.ZXingStringEncoding=z,r.ZXingSystem=w,r.createAbstractExpandedDecoder=uP,Object.defineProperty(r,"__esModule",{value:!0})})})(BE,BE.exports);var on=BE.exports;const J6e=br(on),eLe=j6({__proto__:null,default:J6e},[on]);var UD=function(){function e(t,r,a){if(this.formatMap=new Map([[mt.QR_CODE,on.BarcodeFormat.QR_CODE],[mt.AZTEC,on.BarcodeFormat.AZTEC],[mt.CODABAR,on.BarcodeFormat.CODABAR],[mt.CODE_39,on.BarcodeFormat.CODE_39],[mt.CODE_93,on.BarcodeFormat.CODE_93],[mt.CODE_128,on.BarcodeFormat.CODE_128],[mt.DATA_MATRIX,on.BarcodeFormat.DATA_MATRIX],[mt.MAXICODE,on.BarcodeFormat.MAXICODE],[mt.ITF,on.BarcodeFormat.ITF],[mt.EAN_13,on.BarcodeFormat.EAN_13],[mt.EAN_8,on.BarcodeFormat.EAN_8],[mt.PDF_417,on.BarcodeFormat.PDF_417],[mt.RSS_14,on.BarcodeFormat.RSS_14],[mt.RSS_EXPANDED,on.BarcodeFormat.RSS_EXPANDED],[mt.UPC_A,on.BarcodeFormat.UPC_A],[mt.UPC_E,on.BarcodeFormat.UPC_E],[mt.UPC_EAN_EXTENSION,on.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!eLe)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=a;var s=this.createZXingFormats(t),i=new Map;i.set(on.DecodeHintType.POSSIBLE_FORMATS,s),i.set(on.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(a,s){try{a(r.decode(t))}catch(i){s(i)}})},e.prototype.decode=function(t){var r=new on.MultiFormatReader(this.verbose,this.hints),a=new on.HTMLCanvasElementLuminanceSource(t),s=new on.BinaryBitmap(new on.HybridBinarizer(a)),i=r.decode(s);return{text:i.text,format:hK.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,s){t.set(r,a)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],a=0,s=t;a<s.length;a++){var i=s[a];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.logError("".concat(i," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),tLe=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},rLe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},WD=function(){function e(t,r,a){if(this.formatMap=new Map([[mt.QR_CODE,"qr_code"],[mt.AZTEC,"aztec"],[mt.CODABAR,"codabar"],[mt.CODE_39,"code_39"],[mt.CODE_93,"code_93"],[mt.CODE_128,"code_128"],[mt.DATA_MATRIX,"data_matrix"],[mt.ITF,"itf"],[mt.EAN_13,"ean_13"],[mt.EAN_8,"ean_8"],[mt.PDF_417,"pdf417"],[mt.UPC_A,"upc_a"],[mt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=a;var s=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return tLe(this,void 0,void 0,function(){var r,a;return rLe(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(t)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return a=this.selectLargestBarcode(r),[2,{text:a.rawValue,format:hK.create(this.toHtml5QrcodeSupportedFormats(a.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,a=0,s=0,i=t;s<i.length;s++){var o=i[s],l=o.boundingBox.width*o.boundingBox.height;l>a&&(a=l,r=o)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],a=0,s=t;a<s.length;a++){var i=s[a];this.formatMap.has(i)?r.push(this.formatMap.get(i)):this.logger.warn("".concat(i," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,a,s){t.set(r,a)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),HD=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},qD=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},nLe=function(){function e(t,r,a,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=a,r&&WD.isSupported()?(this.primaryDecoder=new WD(t,a,s),this.secondaryDecoder=new UD(t,a,s)):this.primaryDecoder=new UD(t,a,s)}return e.prototype.decodeAsync=function(t){return HD(this,void 0,void 0,function(){var r;return qD(this,function(a){switch(a.label){case 0:r=performance.now(),a.label=1;case 1:return a.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,a.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return HD(this,void 0,void 0,function(){var r,a;return qD(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,s.sent()];case 3:if(a=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw a;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,a=this.executionResults;r<a.length;r++){var s=a[r];t+=s}var i=t/this.executionResults.length;console.log("".concat(i," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),W_=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),zb=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},Ub=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},xK=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var r={};r[this.name]=t;var a={advanced:[r]};return this.track.applyConstraints(a)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var r=t[this.name];return r}return null},e}(),aLe=function(e){W_(t,e);function t(r,a){return e.call(this,r,a)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var a={};a[this.name]=r;var s={advanced:[a]};return this.track.applyConstraints(s)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),a=r[this.name];return{min:a.min,max:a.max,step:a.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(xK),sLe=function(e){W_(t,e);function t(r){return e.call(this,"zoom",r)||this}return t}(aLe),iLe=function(e){W_(t,e);function t(r){return e.call(this,"torch",r)||this}return t}(xK),oLe=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new sLe(this.track)},e.prototype.torchFeature=function(){return new iLe(this.track)},e}(),lLe=function(){function e(t,r,a){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=a,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var a=t.surface.clientWidth,s=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(a,s),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,a,s){return zb(this,void 0,void 0,function(){var i,o;return Ub(this,function(l){switch(l.label){case 0:return i=new e(t,r,s),a.aspectRatio?(o={aspectRatio:a.aspectRatio},[4,i.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:l.sent(),l.label=2;case 2:return i.setupSurface(),[2,i]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,a=function(){setTimeout(t,200),r.surface.removeEventListener("playing",a)};this.surface.addEventListener("playing",a),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return zb(this,void 0,void 0,function(){return Ub(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,a){var s=t.mediaStream.getVideoTracks(),i=s.length,o=0;t.mediaStream.getVideoTracks().forEach(function(l){t.mediaStream.removeTrack(l),l.stop(),++o,o>=i&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new oLe(this.getFirstTrackOrFail())},e}(),cLe=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,a){return zb(this,void 0,void 0,function(){return Ub(this,function(s){return[2,lLe.create(t,this.mediaStream,r,a)]})})},e.create=function(t){return zb(this,void 0,void 0,function(){var r,a;return Ub(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return a=s.sent(),[2,new e(a)]}})})},e}(),GD=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},KD=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},dLe=function(){function e(){}return e.failIfNotSupported=function(){return GD(this,void 0,void 0,function(){return KD(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return GD(this,void 0,void 0,function(){return KD(this,function(r){return[2,cLe.create(t)]})})},e}(),uLe=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},hLe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},fLe=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=vf.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=vf.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return uLe(this,void 0,void 0,function(){var t,r,a,s,i,o,l;return hLe(this,function(d){switch(d.label){case 0:return t=function(u){for(var f=u.getVideoTracks(),p=0,x=f;p<x.length;p++){var y=x[p];y.enabled=!1,y.stop(),u.removeTrack(y)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(a=d.sent(),s=[],i=0,o=a;i<o.length;i++)l=o[i],l.kind==="videoinput"&&s.push({id:l.deviceId,label:l.label});return t(r),[2,s]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){var a=function(i){for(var o=[],l=0,d=i;l<d.length;l++){var u=d[l];u.kind==="video"&&o.push({id:u.id,label:u.label})}t(o)},s=MediaStreamTrack;s.getSources(a)})},e}(),Ln;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(Ln||(Ln={}));var mLe=function(){function e(){this.state=Ln.NOT_STARTED,this.onGoingTransactionNewState=Ln.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Ln.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Ln.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Ln.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Ln.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Ln.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Ln.UNKNOWN:throw"Transition from unknown is not allowed";case Ln.NOT_STARTED:this.failIfNewStateIs(t,[Ln.PAUSED]);break;case Ln.SCANNING:break;case Ln.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,r){for(var a=0,s=r;a<s.length;a++){var i=s[a];if(t===i)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),pLe=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Ln.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Ln.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Ln.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Ln.PAUSED},e}(),xLe=function(){function e(){}return e.create=function(){return new pLe(new mLe)},e}(),gLe=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function a(){this.constructor=t}t.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),Gs=function(e){gLe(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ho),vLe=function(){function e(t,r){this.logger=r,this.fps=Gs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Gs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pK.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Wo(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),$E=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var a;typeof r=="boolean"?this.verbose=r===!0:r&&(a=r,this.verbose=a.verbose===!0,a.experimentalFeatures),this.logger=new mK(this.verbose),this.qrcode=new nLe(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(a),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=xLe.create()}return e.prototype.start=function(t,r,a,s){var i=this;if(!t)throw"cameraIdOrConfig is required";if(!a||typeof a!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;s?o=s:o=this.verbose?this.logger.log:function(){};var l=vLe.create(r,this.logger);this.clearElement();var d=!1;l.videoConstraints&&(l.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var u=d,f=document.getElementById(this.elementId);f.clientWidth?f.clientWidth:Gs.DEFAULT_WIDTH,f.style.position="relative",this.shouldScan=!0,this.element=f;var p=this,x=this.stateManagerProxy.startTransition(Ln.SCANNING);return new Promise(function(y,j){var w=u?l.videoConstraints:p.createVideoConstraints(t);if(!w){x.cancel(),j("videoConstraints should be defined");return}var C={};(!u||l.aspectRatio)&&(C.aspectRatio=l.aspectRatio);var N={onRenderSurfaceReady:function(S,_){p.setupUi(S,_,l),p.isScanning=!0,p.foreverScan(l,a,o)}};dLe.failIfNotSupported().then(function(S){S.create(w).then(function(_){return _.render(i.element,C,N).then(function(I){p.renderedCamera=I,x.execute(),y(null)}).catch(function(I){x.cancel(),j(I)})}).catch(function(_){x.cancel(),j(vf.errorGettingUserMedia(_))})}).catch(function(S){x.cancel(),j(vf.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Ln.PAUSED),this.showPausedState(),(Wo(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Ln.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Ln.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var a=function(){if(t.element){var i=document.getElementById(Gs.SHADED_REGION_ELEMENT_ID);i&&t.element.removeChild(i)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),a(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(a){return a.decodedText})},e.prototype.scanFileV2=function(t,r){var a=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Wo(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,i){a.possiblyCloseLastScanImageFile(),a.clearElement(),a.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var l=o.width,d=o.height,u=document.getElementById(a.elementId),f=u.clientWidth?u.clientWidth:Gs.DEFAULT_WIDTH,p=Math.max(u.clientHeight?u.clientHeight:d,Gs.FILE_SCAN_MIN_HEIGHT),x=a.computeCanvasDrawConfig(l,d,f,p);if(r){var y=a.createCanvasElement(f,p,"qr-canvas-visible");y.style.display="inline-block",u.appendChild(y);var j=y.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=f,j.canvas.height=p,j.drawImage(o,0,0,l,d,x.x,x.y,x.width,x.height)}var w=Gs.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(o.width,x.width),N=Math.max(o.height,x.height),S=C+2*w,_=N+2*w,I=a.createCanvasElement(S,_);u.appendChild(I);var T=I.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=S,T.canvas.height=_,T.drawImage(o,0,0,l,d,w,w,C,N);try{a.qrcode.decodeRobustlyAsync(I).then(function(M){s(VD.createFromQrcodeResult(M))}).catch(i)}catch(M){i("QR code parse error, error = ".concat(M))}},o.onerror=i,o.onabort=i,o.onstalled=i,o.onsuspend=i,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return fLe.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!pK.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var r=[mt.QR_CODE,mt.AZTEC,mt.CODABAR,mt.CODE_39,mt.CODE_93,mt.CODE_128,mt.DATA_MATRIX,mt.MAXICODE,mt.ITF,mt.EAN_13,mt.EAN_8,mt.PDF_417,mt.RSS_14,mt.RSS_EXPANDED,mt.UPC_A,mt.UPC_E,mt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return r;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var a=[],s=0,i=t.formatsToSupport;s<i.length;s++){var o=i[s];Q6e(o)?a.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(a.length===0)throw"None of formatsToSupport match supported values.";return a},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Wo(t))return!0;if(!Wo(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Wo(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return Wo(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,r,a){var s=this,i=a.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i),l=function(u){if(u<Gs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Gs.MIN_QR_BOX_SIZE,"px.")},d=function(u){return u>t&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),u=t),u};l(o.width),l(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,a){if(typeof a=="number")return{width:a,height:a};if(typeof a=="function")try{return a(t,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return a},e.prototype.setupUi=function(t,r,a){a.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,a);var s=Wo(a.qrbox)?{width:t,height:r}:a.qrbox;this.validateQrboxConfig(s);var i=this.toQrdimensions(t,r,s);i.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=a.isShadedBoxEnabled()&&i.height<=r,l={x:0,y:0,width:t,height:r},d=o?this.getShadedRegionBounds(t,r,i):l,u=this.createCanvasElement(d.width,d.height),f={willReadFrequently:!0},p=u.getContext("2d",f);p.canvas.width=d.width,p.canvas.height=d.height,this.element.append(u),o&&this.possiblyInsertShadingElement(this.element,t,r,i),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=p,this.canvasElement=u},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=vf.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var a=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return t(s.text,VD.createFromQrcodeResult(s)),a.possiblyUpdateShaders(!0),!0}).catch(function(s){a.possiblyUpdateShaders(!1);var i=vf.codeParseError(s);return r(i,fK.createFrom(i)),!1})},e.prototype.foreverScan=function(t,r,a){var s=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),o=i.videoWidth/i.clientWidth,l=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,u=this.qrRegion.height*l,f=this.qrRegion.x*o,p=this.qrRegion.y*l;this.context.drawImage(i,f,p,d,u,0,0,this.qrRegion.width,this.qrRegion.height);var x=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(t,r,a)},s.getTimeoutFps(t.fps))};this.scanContext(r,a).then(function(y){!y&&t.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,a).finally(function(){x()})):x()}).catch(function(y){s.logger.logError("Error happend while scanning context",y),x()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var r="facingMode",a="deviceId",s={user:!0,environment:!0},i="exact",o=function(j){if(j in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},l=Object.keys(t);if(l.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(l.length," keys");var d=Object.keys(t)[0];if(d!==r&&d!==a)throw"Only '".concat(r,"' and '").concat(a,"' ")+" are supported for 'cameraIdOrConfig'";if(d===r){var u=t.facingMode;if(typeof u=="string"){if(o(u))return{facingMode:u}}else if(typeof u=="object")if(i in u){if(o(u["".concat(i)]))return{facingMode:{exact:u["".concat(i)]}}}else throw"'facingMode' should be string or object with"+" ".concat(i," as key.");else{var f=typeof u;throw"Invalid type of 'facingMode' = ".concat(f)}}else{var p=t.deviceId;if(typeof p=="string")return{deviceId:p};if(typeof p=="object"){if(i in p)return{deviceId:{exact:p["".concat(i)]}};throw"'deviceId' should be string or object with"+" ".concat(i," as key.")}else{var x=typeof p;throw"Invalid type of 'deviceId' = ".concat(x)}}}var y=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(y)},e.prototype.computeCanvasDrawConfig=function(t,r,a,s){if(t<=a&&r<=s){var i=(a-t)/2,o=(s-r)/2;return{x:i,y:o,width:t,height:r}}else{var l=t,d=r;return t>a&&(r=a/t*r,t=a),r>s&&(t=s/r*t,r=s),this.logger.log("Image downsampled from "+"".concat(l,"X").concat(d)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,a,s)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Gs.BORDER_SHADER_MATCH_COLOR:Gs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,a){var s=t,i=r,o=document.createElement("canvas");return o.style.width="".concat(s,"px"),o.style.height="".concat(i,"px"),o.style.display="none",o.id=Wo(a)?"qr-canvas":a,o},e.prototype.getShadedRegionBounds=function(t,r,a){if(a.width>t||a.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-a.width)/2,y:(r-a.height)/2,width:a.width,height:a.height}},e.prototype.possiblyInsertShadingElement=function(t,r,a,s){if(!(r-s.width<1||a-s.height<1)){var i=document.createElement("div");i.style.position="absolute";var o=(r-s.width)/2,l=(a-s.height)/2;if(i.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderTop="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.borderBottom="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),i.style.boxSizing="border-box",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.id="".concat(Gs.SHADED_REGION_ELEMENT_ID),r-s.width<11||a-s.height<11)this.hasBorderShaders=!1;else{var d=5,u=40;this.insertShaderBorders(i,u,d,-d,null,0,!0),this.insertShaderBorders(i,u,d,-d,null,0,!1),this.insertShaderBorders(i,u,d,null,-d,0,!0),this.insertShaderBorders(i,u,d,null,-d,0,!1),this.insertShaderBorders(i,d,u+d,-d,null,-d,!0),this.insertShaderBorders(i,d,u+d,null,-d,-d,!0),this.insertShaderBorders(i,d,u+d,-d,null,-d,!1),this.insertShaderBorders(i,d,u+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(i)}},e.prototype.insertShaderBorders=function(t,r,a,s,i,o,l){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=Gs.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(r,"px"),d.style.height="".concat(a,"px"),s!==null&&(d.style.top="".concat(s,"px")),i!==null&&(d.style.bottom="".concat(i,"px")),l?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),H_="data:image/svg+xml;base64,",yLe=H_+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",bLe=H_+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",YD=H_+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",wLe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",XD=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),jLe=function(){function e(){this.data=XD.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=XD.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),NLe=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=zD.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var a=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(a),this.infoDiv.appendChild(s);var i=document.createElement("a");i.innerText=zD.reportIssues(),i.href="https://github.com/mebjas/html5-qrcode/issues",i.target="new",i.style.color="white",this.infoDiv.appendChild(i),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),CLe=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=YD,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(a){return r.onHoverIn()},this.infoIcon.onmouseout=function(a){return r.onHoverOut()},this.infoIcon.onclick=function(a){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=wLe,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=YD,this.infoIcon.style.opacity="0.6")},e}(),SLe=function(){function e(){var t=this;this.infoDiv=new NLe,this.infoIcon=new CLe(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),ALe=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},ELe=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},QD=function(){function e(){}return e.hasPermissions=function(){return ALe(this,void 0,void 0,function(){var t,r,a,s;return ELe(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=i.sent(),r=0,a=t;r<a.length;r++)if(s=a[r],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},e}(),Ic=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++){var a=r[t];if(e.isCameraScanType(a))return!0}return!1},e.isCameraScanType=function(t){return t===Md.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Md.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ho.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ho.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var a=0,s=t;a<s.length;a++){var i=s[a];if(!ho.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw"Unsupported scan type ".concat(i)}return t},e}(),ni=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),Gl=function(){function e(){}return e.createElement=function(t,r){var a=document.createElement(t);return a.id=r,a.classList.add(ni.ALL_ELEMENT_CLASS),t==="button"&&a.setAttribute("type","button"),a},e}(),gK=function(e,t,r,a){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(a.next(f))}catch(p){o(p)}}function d(f){try{u(a.throw(f))}catch(p){o(p)}}function u(f){f.done?i(f.value):s(f.value).then(l,d)}u((a=a.apply(e,t||[])).next())})},vK=function(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},a,s,i,o;return o={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(f){return d([u,f])}}function d(u){if(a)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(a=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(f){u=[6,f],s=0}finally{a=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},ZD=function(){function e(t,r,a){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=a}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return gK(this,void 0,void 0,function(){var t,r;return vK(this,function(a){switch(a.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return a.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=a.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?Fr.torchOffButton():Fr.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var a=t?Fr.torchOnFailedMessage():Fr.torchOffFailedMessage();r&&(a+="; Error = "+r),this.onTorchActionFailureCallback(a)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),TLe=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=Gl.createElement("button",ni.TORCH_BUTTON_ID),this.torchController=new ZD(t,this,r)}return e.prototype.render=function(t,r){var a=this;this.torchButton.innerText=Fr.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var s=this;this.torchButton.addEventListener("click",function(i){return gK(a,void 0,void 0,function(){return vK(this,function(o){switch(o.label){case 0:return[4,s.torchController.flipState()];case 1:return o.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(ni.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(ni.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(ni.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(ni.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new ZD(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Fr.torchOnButton(),this.torchController.reset()},e.create=function(t,r,a,s){var i=new e(r,s);return i.render(t,a),i},e}(),_Le=function(){function e(t,r,a){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Gl.createElement("button",ni.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(l){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Gl.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener("change",function(l){if(!(l==null||l.target==null)){var d=l.target;if(!(d.files&&d.files.length===0)){var u=d.files,f=u[0],p=f.name;i.setImageNameToButton(p),a(f)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(l){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(l){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(l){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),l.stopPropagation(),l.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(l){l.stopPropagation(),l.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var d=l.dataTransfer;if(d){var u=d.files;if(!u||u.length===0)return;for(var f=!1,p=0;p<u.length;++p){var x=u.item(p);if(x){var y=/image.*/;if(x.type.match(y)){f=!0;var j=x.name;i.setImageNameToButton(j),a(x),o.innerText=Fr.dragAndDropMessage();break}}}f||(o.innerText=Fr.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Fr.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var r=20;if(t.length>r){var a=t.substring(0,8),s=t.length,i=t.substring(s-8,s);t="".concat(a,"....").concat(i)}var o=Fr.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=Fr.fileSelectionChooseImage()+" - "+Fr.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,a){var s=new e(t,r,a);return s},e}(),PLe=function(){function e(t){this.selectElement=Gl.createElement("select",ni.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var a=this.cameras.length;if(a===0)throw new Error("No cameras found");if(a===1)r.style.display="none";else{var s=Fr.selectCamera();r.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var i=1,o=0,l=this.cameras;o<l.length;o++){var d=l[o],u=d.id,f=d.label==null?u:d.label;(!f||f==="")&&(f=[Fr.anonymousCameraPrefix(),i++].join(" "));var p=document.createElement("option");p.value=u,p.innerText=f,this.options.push(p),this.selectElement.appendChild(p)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,a=this.options;r<a.length;r++){var s=a[r];if(s.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var a=new e(r);return a.render(t),a},e}(),OLe=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Gl.createElement("input",ni.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var a=Fr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(a),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Fr.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,a,s){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=a.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var a=new e;return a.render(t,r),a},e}(),Ks;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Ks||(Ks={}));function kLe(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function ILe(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var MLe=function(){function e(t,r,a){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=a===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Ic(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new mK(this.verbose),this.persistedDataManager=new jLe,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,r){var a=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(i,o){if(t)t(i,o);else{if(a.lastMatchFound===i)return;a.lastMatchFound=i,a.setHeaderMessage(Fr.lastMatch(i),Ks.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(i,o){r&&r(i,o)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new $E(this.getScanRegionId(),ILe(this.config,this.verbose))},e.prototype.pause=function(t){(Wo(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var a=document.getElementById(t.elementId);a&&(a.innerHTML="",t.resetBasicLayout(a))};return this.html5Qrcode?new Promise(function(a,s){if(!t.html5Qrcode){a();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(i){if(!t.html5Qrcode){a();return}t.html5Qrcode.clear(),r(),a()}).catch(function(i){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",i),s(i)}):(t.html5Qrcode.clear(),r(),a())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ho.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ho.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ho.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ho.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ho.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ho.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ho.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),a=this.getScanRegionId();r.id=a,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Ic.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),i=this.getDashboardId();s.id=i,s.style.width="100%",t.appendChild(s),this.setupInitialDashboard(s)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r);var a=new SLe;a.renderInto(r);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",r.appendChild(s)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,a){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(Fr.cameraPermissionRequesting());var i=function(){a||s.createPermissionButton(t,r)};$E.getCameras().then(function(o){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),o&&o.length>0?(t.removeChild(r),s.renderCameraSelection(o)):(s.setHeaderMessage(Fr.noCameraFound(),Ks.STATUS_WARNING),i())}).catch(function(o){s.persistedDataManager.setHasPermission(!1),a?a.disabled=!1:i(),s.setHeaderMessage(o,Ks.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var a=this,s=Gl.createElement("button",this.getCameraPermissionButtonId());s.innerText=Fr.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,a.createCameraListUi(t,r,s)}),r.appendChild(s)},e.prototype.createPermissionsUi=function(t,r){var a=this;if(Ic.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){QD.hasPermissions().then(function(s){s?a.createCameraListUi(t,r):(a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r))}).catch(function(s){a.persistedDataManager.setHasPermission(!1),a.createPermissionButton(t,r)});return}this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var a=document.createElement("div");a.id=this.getDashboardSectionCameraScanRegionId(),a.style.display=Ic.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(a);var s=document.createElement("div");s.style.textAlign="center",a.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(a,s),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Ic.isFileScanType(this.currentScanType),a=this,s=function(i){if(!a.html5Qrcode)throw"html5Qrcode not defined";Ic.isFileScanType(a.currentScanType)&&(a.setHeaderMessage(Fr.loadingImage()),a.html5Qrcode.scanFileV2(i,!0).then(function(o){a.resetHeaderMessage(),a.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){a.setHeaderMessage(o,Ks.STATUS_WARNING),a.qrCodeErrorCallback(o,fK.createFrom(o))}))};this.fileSelectionUi=_Le.create(t,r,s)},e.prototype.renderCameraSelection=function(t){var r=this,a=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var i=OLe.create(s,!1),o=function(w){var C=w.zoomFeature();if(C.isSupported()){i.setOnCameraZoomValueChangeCallback(function(S){C.apply(S)});var N=1;r.config.defaultZoomValueIfSupported&&(N=r.config.defaultZoomValueIfSupported),N=Z6e(N,C.min(),C.max()),i.setValues(C.min(),C.max(),N,C.step()),i.show()}},l=PLe.create(s,t),d=document.createElement("span"),u=Gl.createElement("button",ni.CAMERA_START_BUTTON_ID);u.innerText=Fr.scanButtonStartScanningText(),d.appendChild(u);var f=Gl.createElement("button",ni.CAMERA_STOP_BUTTON_ID);f.innerText=Fr.scanButtonStopScanningText(),f.style.display="none",f.disabled=!0,d.appendChild(f);var p,x=function(w){if(!w.torchFeature().isSupported()){p&&p.hide();return}p?p.updateTorchCapability(w.torchFeature()):p=TLe.create(d,w.torchFeature(),{display:"none",marginLeft:"5px"},function(C){a.setHeaderMessage(C,Ks.STATUS_WARNING)}),p.show()};s.appendChild(d);var y=function(w){w||(u.style.display="none"),u.innerText=Fr.scanButtonStartScanningText(),u.style.opacity="1",u.disabled=!1,w&&(u.style.display="inline-block")};if(u.addEventListener("click",function(w){u.innerText=Fr.scanButtonScanningStarting(),l.disable(),u.disabled=!0,u.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!1),a.resetHeaderMessage();var C=l.getValue();a.persistedDataManager.setLastUsedCameraId(C),a.html5Qrcode.start(C,kLe(a.config),a.qrCodeSuccessCallback,a.qrCodeErrorCallback).then(function(N){f.disabled=!1,f.style.display="inline-block",y(!1);var S=a.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&x(S),r.config.showZoomSliderIfSupported===!0&&o(S)}).catch(function(N){a.showHideScanTypeSwapLink(!0),l.enable(),y(!0),a.setHeaderMessage(N,Ks.STATUS_WARNING)})}),l.hasSingleItem()&&u.click(),f.addEventListener("click",function(w){if(!a.html5Qrcode)throw"html5Qrcode not defined";f.disabled=!0,a.html5Qrcode.stop().then(function(C){r.scanTypeSelector.hasMoreThanOneScanType()&&a.showHideScanTypeSwapLink(!0),l.enable(),u.disabled=!1,f.style.display="none",u.style.display="inline-block",p&&(p.reset(),p.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),a.insertCameraScanImageToScanRegion()}).catch(function(C){f.disabled=!1,a.setHeaderMessage(C,Ks.STATUS_WARNING)})}),a.persistedDataManager.getLastUsedCameraId()){var j=a.persistedDataManager.getLastUsedCameraId();l.hasValue(j)?(l.setValue(j),u.click()):a.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=Fr.textIfCameraScanSelected(),a=Fr.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");i.style.textAlign="center";var o=Gl.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Ic.isCameraScanType(this.currentScanType)?r:a,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Ic.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=a,t.currentScanType=Md.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=r,t.currentScanType=Md.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),i.appendChild(o),s.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){QD.hasPermissions().then(function(a){if(a){var s=document.getElementById(r.getCameraPermissionButtonId());if(!s)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(a){r.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Ks.STATUS_DEFAULT);var a=this.getHeaderMessageDiv();switch(a.innerText=t,a.style.display="block",r){case Ks.STATUS_SUCCESS:a.style.background="rgba(106, 175, 80, 0.26)",a.style.color="#477735";break;case Ks.STATUS_WARNING:a.style.background="rgba(203, 36, 49, 0.14)",a.style.color="#cb2431";break;case Ks.STATUS_DEFAULT:default:a.style.background="rgba(0, 0, 0, 0)",a.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=yLe,this.cameraScanImage.alt=Fr.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(a){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=bLe,this.fileScanImage.alt=Fr.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ni.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ni.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function RLe(){const[e,t]=E.useState(!1),[r,a]=E.useState(null),[s,i]=E.useState(""),o=E.useRef(null),{toast:l}=rr(),d=Zt({mutationFn:async x=>{const y=await fetch("/api/client/process-payment",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!y.ok)throw new Error("Erro ao processar pagamento");return y.json()},onSuccess:x=>{l({title:"Pagamento processado!",description:`Cashback de ${Be(x.cashback)} adicionado à sua conta`,variant:"default"}),a(null),t(!1)},onError:()=>{l({title:"Erro no pagamento",description:"Não foi possível processar o pagamento",variant:"destructive"})}}),u=()=>{t(!0),i(""),a(null);const x=new MLe("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1);x.render(y=>{try{const j=JSON.parse(y);j.type==="payment"&&j.merchant_id?(a(j),x.clear(),t(!1)):i("QR Code inválido. Use apenas QR Codes de pagamento do Vale Cashback.")}catch{i("QR Code não reconhecido. Verifique se é um QR Code válido.")}},()=>{}),o.current=x},f=()=>{o.current&&o.current.clear(),t(!1),i("")},p=()=>{r&&d.mutate(r)};return E.useEffect(()=>()=>{o.current&&o.current.clear()},[]),n.jsx(_t,{title:"Escanear QR Code",type:"client",children:n.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5"}),"Scanner de QR Code"]})}),n.jsxs(ae,{children:[!e&&!r&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx(Pn,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Pronto para escanear"}),n.jsx("p",{className:"text-muted-foreground mb-6",children:"Escaneie o QR Code do lojista para realizar o pagamento e ganhar cashback"}),n.jsxs(J,{onClick:u,size:"lg",children:[n.jsx(oc,{className:"mr-2 h-5 w-5"}),"Iniciar Scanner"]})]}),e&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{id:"qr-reader",className:"border rounded-lg overflow-hidden"}),s&&n.jsxs($s,{variant:"destructive",children:[n.jsx(Yr,{className:"h-4 w-4"}),n.jsx(Vs,{children:s})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx(J,{variant:"outline",onClick:f,children:"Parar Scanner"})})]}),r&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs($s,{children:[n.jsx(Jn,{className:"h-4 w-4"}),n.jsx(Vs,{children:"QR Code escaneado com sucesso!"})]}),n.jsxs("div",{className:"p-4 border rounded-lg bg-muted/50",children:[n.jsx("h3",{className:"font-medium mb-3",children:"Detalhes do Pagamento"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Loja:"}),n.jsx("span",{className:"font-medium",children:r.merchant_name})]}),r.amount&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Valor:"}),n.jsx("span",{className:"font-medium text-lg",children:Be(r.amount)})]}),r.description&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Descrição:"}),n.jsx("span",{className:"font-medium",children:r.description})]}),r.amount&&n.jsxs("div",{className:"flex justify-between pt-2 border-t",children:[n.jsx("span",{className:"text-muted-foreground",children:"Cashback estimado:"}),n.jsxs("span",{className:"font-medium text-green-600",children:[Be(r.amount*.05)," (5%)"]})]})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx(J,{onClick:p,disabled:d.isPending,className:"flex-1",children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Jn,{className:"mr-2 h-4 w-4"}),"Confirmar Pagamento"]})}),n.jsx(J,{variant:"outline",onClick:()=>a(null),children:"Cancelar"})]})]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Como Usar"})}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:n.jsx("span",{className:"text-sm font-bold text-primary",children:"1"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Peça o QR Code"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Solicite ao lojista para gerar o QR Code com o valor da sua compra"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:n.jsx("span",{className:"text-sm font-bold text-primary",children:"2"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Escaneie"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Use o scanner para ler o QR Code apresentado pelo lojista"})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:n.jsx("span",{className:"text-sm font-bold text-primary",children:"3"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Confirme"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifique os dados e confirme o pagamento para ganhar cashback"})]})]})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Benefícios"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsx(Jn,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-medium",children:"5% de Cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ganhe 5% de volta em todas as compras"})]}),n.jsxs("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[n.jsx(Pn,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),n.jsx("h4",{className:"font-medium",children:"Pagamento Rápido"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Processo simples e seguro"})]})]})})]})]})})}function ZN(e){return n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[n.jsx("path",{d:"M19 5l-7-3-7 3"}),n.jsx("path",{d:"M5 6.5v6.5l7 3 7-3v-6.5"}),n.jsx("path",{d:"M5 13l7 3 7-3",fill:"currentColor",strokeOpacity:"0.5"}),n.jsx("path",{d:"M12 16v4"}),n.jsx("path",{d:"M8 13.5v2.5l4 2 4-2v-2.5",stroke:"currentColor",strokeOpacity:"0.7"})]})}function Wb(e){return n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"currentColor",...e,children:n.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.1768 3.74033C17.9332 1.49908 14.9465 0.272754 11.7854 0.272754C5.30974 0.272754 0.0434977 5.52866 0.0434977 11.9926C0.0434977 14.0756 0.642364 16.1039 1.78464 17.8665L0 24.2727L6.54487 22.5265C8.24794 23.5588 10.1951 24.0919 12.1865 24.0919H12.1949C18.6689 24.0919 24 18.8343 24 12.371C24 9.21831 22.4203 6.23147 20.1768 3.74033ZM11.7938 22.0637C10.0358 22.0637 8.31147 21.5473 6.81003 20.5734L6.47107 20.363L2.8058 21.3954L3.85827 17.8248L3.62613 17.4693C2.55346 15.9029 1.99555 14.073 1.99555 12.1843C1.99555 6.549 6.3458 2.20925 11.9855 2.20925C14.6387 2.20925 17.1233 3.24344 19.0209 5.15886C20.9185 7.07428 21.8802 9.57722 21.8802 12.2322C21.8802 17.8665 17.4331 22.0637 11.7938 22.0637ZM17.1317 14.6169C16.8472 14.4737 15.4083 13.7655 15.1489 13.6724C14.8894 13.5792 14.6966 13.5309 14.5037 13.8164C14.3109 14.1019 13.7555 14.7602 13.5844 14.9528C13.4134 15.1454 13.2506 15.1686 12.9661 15.0253C10.7475 13.9166 9.29507 13.0351 7.85095 10.5488C7.51198 9.98273 8.0256 9.9994 8.50161 9.04618C8.59461 8.85352 8.54636 8.68419 8.47359 8.54096C8.40081 8.39774 7.90136 6.9612 7.6586 6.39508C7.42364 5.84563 7.18047 5.92909 7.00203 5.92909C6.82358 5.92909 6.63074 5.90587 6.43789 5.90587C6.24504 5.90587 5.9372 5.97852 5.67775 6.264C5.41831 6.54948 4.66273 7.25769 4.66273 8.69422C4.66273 10.1307 5.72713 11.5257 5.86663 11.7182C6.00614 11.9108 7.87587 14.848 10.7725 16.0862C12.6284 16.8528 13.3673 16.9127 14.2962 16.7667C14.8765 16.6735 16.0221 16.0401 16.2648 15.3785C16.5076 14.7169 16.5076 14.1508 16.4348 14.0344C16.3621 13.918 16.1693 13.8481 15.8847 13.7049L17.1317 14.6169Z"})})}function yK({className:e}){const t=new Date,r=new Date(t);r.setDate(t.getDate()-3),r.setHours(t.getHours()-7),r.setMinutes(t.getMinutes()-22);const a=t.getTime()-r.getTime(),s=Math.floor(a/(1e3*60*60*24)),i=Math.floor(a%(1e3*60*60*24)/(1e3*60*60)),o=Math.floor(a%(1e3*60*60)/(1e3*60)),l=new Date(t);l.setDate(t.getDate()-3);const d=l.toLocaleDateString("en-US")+" "+l.getHours().toString().padStart(2,"0")+":"+l.getMinutes().toString().padStart(2,"0"),u=new Date(t);u.setDate(t.getDate()-5);const f=u.toLocaleDateString("en-US")+" "+u.getHours().toString().padStart(2,"0")+":"+u.getMinutes().toString().padStart(2,"0");return n.jsxs(ne,{className:e,children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Informações do Sistema"}),n.jsx(Re,{children:"Status e dados operacionais"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:[n.jsx(_te,{className:"h-6 w-6 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:"Versão"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"1.0.0"})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:[n.jsx(wte,{className:"h-6 w-6 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:"Último backup"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:d})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:[n.jsx(Ote,{className:"h-6 w-6 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:"Último deploy"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:f})]})]}),n.jsxs("div",{className:"flex items-center space-x-4 rounded-md border p-4",children:[n.jsx(Vn,{className:"h-6 w-6 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium leading-none",children:"Tempo online"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[s," dias, ",i," horas, ",o," minutos"]})]})]})]})})]})}function DLe(){const{user:e}=Oa(),{toast:t}=rr(),{t:r}=bs(),[a,s]=E.useState("overview"),{data:i,isLoading:o,error:l}=Nt({queryKey:["/api/client/referrals"],retry:1,refetchOnWindowFocus:!1,refetchInterval:!1,staleTime:6e4,placeholderData:{referralCode:(e==null?void 0:e.invitation_code)||"ABC123",referralUrl:`https://valecashback.com/convite/${(e==null?void 0:e.invitation_code)||"ABC123"}`,referralsCount:0,pendingReferrals:0,totalEarned:"0.00",commission:"1.0",referrals:[]},enabled:!!e});l&&console.error("Erro ao buscar dados de referência:",l),Nt({queryKey:["/api/admin/settings/rates"]});const d=async()=>{try{if(i!=null&&i.referralUrl){const N=document.createElement("textarea");N.value=i.referralUrl,N.style.position="fixed",N.style.left="-999999px",N.style.top="-999999px",document.body.appendChild(N),N.focus(),N.select();try{await navigator.clipboard.writeText(i.referralUrl)}catch{document.execCommand("copy")}document.body.removeChild(N),t({title:r("common.success"),description:r("referrals.linkCopied"),variant:"default"})}}catch(N){console.error("Erro ao copiar link:",N),t({title:r("common.error"),description:r("referrals.copyError"),variant:"destructive"})}},u=()=>{const N=`${r("referrals.shareMessage",{code:(i==null?void 0:i.referralCode)||"ABC123"})} ${i==null?void 0:i.referralUrl}`,S=`https://wa.me/?text=${encodeURIComponent(N)}`;window.open(S,"_blank")},f=Zt({mutationFn:async N=>(await St("POST","/api/client/referrals/invite",N)).json(),onSuccess:()=>{t({title:r("common.success"),description:r("referrals.inviteSent"),variant:"default"}),x(""),j(""),Ut.invalidateQueries({queryKey:["/api/client/referrals"]})},onError:N=>{t({title:r("common.error"),description:N.message||r("referrals.inviteError"),variant:"destructive"})}}),[p,x]=E.useState(""),[y,j]=E.useState(""),w=N=>{if(N.preventDefault(),!p||!y){t({title:r("common.error"),description:r("referrals.requiredFields"),variant:"destructive"});return}f.mutate({email:p,name:y})},C=[{header:r("common.name"),accessorKey:"name"},{header:r("common.type"),accessorKey:"user_type",cell:N=>n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.user_type==="merchant"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:N.user_type==="merchant"?r("users.merchant"):r("users.client")})})},{header:r("common.contact"),accessorKey:"email",cell:N=>n.jsxs("div",{className:"flex flex-col text-xs",children:[n.jsx("span",{children:N.email||r("common.emailNotProvided")}),n.jsx("span",{className:"text-muted-foreground",children:N.phone||r("common.phoneNotProvided")})]})},{header:r("merchant.storeName"),accessorKey:"store_name",cell:N=>n.jsx("div",{className:"flex items-center",children:N.user_type==="merchant"?n.jsx("span",{children:N.store_name||r("merchant.noStoreName")}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"N/A"})})},{header:r("common.date"),accessorKey:"date"},{header:r("common.status"),accessorKey:"status",cell:N=>n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:N.status==="active"?r("common.active"):r("common.pending")})})},{header:r("referrals.commission"),accessorKey:"commission",cell:N=>n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{className:"font-medium",children:["$ ",N.commission]})})}];return(e==null?void 0:e.type)!=="client"?n.jsx(_t,{title:r("navigation.referrals"),type:"client",children:n.jsxs(ne,{className:"border-destructive",children:[n.jsxs(de,{children:[n.jsx(ue,{className:"text-destructive",children:r("common.restrictedAccess")}),n.jsx(Re,{children:r("referrals.clientOnly")})]}),n.jsx(ae,{children:n.jsx("p",{children:r("referrals.permissionDenied")})})]})}):l?n.jsx(_t,{title:r("common.Referrals"),type:"client",children:n.jsxs(ne,{className:"border-destructive",children:[n.jsxs(de,{children:[n.jsx(ue,{className:"text-destructive",children:r("common.loadingError")}),n.jsx(Re,{children:r("referrals.loadingError")})]}),n.jsxs(ae,{children:[n.jsx("p",{children:r("common.reloadMessage")}),n.jsxs(J,{onClick:()=>window.location.reload(),className:"mt-4",children:[n.jsx(Br,{className:"h-4 w-4 mr-2"}),r("common.reloadPage")]})]})]})}):n.jsx(_t,{title:r("common.Referrals"),type:"client",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs(Dr,{value:a,onValueChange:s,className:"space-y-4",children:[n.jsxs(Pr,{children:[n.jsxs($e,{value:"overview",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),r("referrals.overview")]}),n.jsxs($e,{value:"invite",children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),r("referrals.inviteFriends")]}),n.jsxs($e,{value:"list",children:[n.jsx(fa,{className:"h-4 w-4 mr-2"}),r("referrals.myReferrals")]})]}),n.jsx(Ze,{value:"overview",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs(ne,{className:"overflow-hidden border-primary/20 shadow-lg hover:shadow-primary/10 transition-all duration-300",children:[n.jsxs(de,{className:"bg-gradient-to-r from-primary/5 to-primary/10",children:[n.jsxs(ue,{className:"flex items-center text-xl font-bold text-primary",children:[n.jsx(gS,{className:"h-5 w-5 mr-2 text-primary"}),r("referrals.yourReferralCode")]}),n.jsx(Re,{className:"text-sm",children:r("referrals.shareCodeDescription")})]}),n.jsx(ae,{className:"flex justify-center pt-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-6",children:[n.jsx(Se.div,{className:"text-4xl font-bold px-8 py-4 rounded-lg bg-gradient-to-r from-primary/10 to-primary/20 text-primary shadow-inner",initial:{scale:.9},animate:{scale:1},transition:{duration:.5,type:"spring",stiffness:260,damping:20},whileHover:{scale:1.05},children:(i==null?void 0:i.referralCode)||"..."}),n.jsxs("div",{className:"flex flex-wrap gap-3",children:[n.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsxs(J,{variant:"outline",size:"sm",onClick:d,className:"flex items-center shadow-sm transition-all border-primary/30 hover:border-primary hover:bg-primary/5",children:[n.jsx(nm,{className:"h-4 w-4 mr-2"}),r("referrals.copyLink")]})}),n.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsxs(J,{variant:"outline",size:"sm",onClick:u,className:"flex items-center shadow-sm text-green-600 border-green-600 hover:bg-green-50 transition-all",children:[n.jsx(Wb,{className:"h-4 w-4 mr-2"}),r("common.share")]})})]})]})}),n.jsxs(jr,{className:"flex flex-col items-start space-y-2 bg-gradient-to-r from-primary/5 to-primary/10 mt-4 rounded-b-lg border-t border-primary/10",children:[n.jsxs("p",{className:"text-sm",children:[r("referrals.commissionRate"),": ",n.jsx("span",{className:"font-medium text-primary",children:"1%"})," ",r("referrals.perReferral")]}),n.jsx("p",{className:"text-sm",children:r("referrals.shareCodeExplanation")})]})]})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:n.jsxs(ne,{className:"overflow-hidden border-primary/20 shadow-lg hover:shadow-primary/10 transition-all duration-300",children:[n.jsxs(de,{className:"bg-gradient-to-r from-blue-50 to-blue-100",children:[n.jsxs(ue,{className:"flex items-center text-xl font-bold text-blue-600",children:[n.jsx(Ui,{className:"h-5 w-5 mr-2 text-blue-600"}),r("referrals.earningsStats")]}),n.jsx(Re,{className:"text-sm",children:r("referrals.trackEarnings")})]}),n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(Se.div,{className:"flex flex-col items-center justify-center p-5 bg-gradient-to-b from-blue-50 to-blue-100 rounded-lg shadow-sm",whileHover:{scale:1.02,boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[n.jsx("span",{className:"text-4xl font-bold text-blue-600",children:(i==null?void 0:i.referralsCount)||0}),n.jsx("span",{className:"text-sm mt-1",children:r("referrals.totalReferrals")})]}),n.jsxs(Se.div,{className:"flex flex-col items-center justify-center p-5 bg-gradient-to-b from-purple-50 to-purple-100 rounded-lg shadow-sm",whileHover:{scale:1.02,boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[n.jsx("span",{className:"text-4xl font-bold text-purple-600",children:(i==null?void 0:i.pendingReferrals)||0}),n.jsx("span",{className:"text-sm mt-1",children:r("referrals.pendingReferrals")})]}),n.jsxs(Se.div,{className:"flex flex-col items-center justify-center p-5 bg-gradient-to-b from-green-50 to-green-100 rounded-lg shadow-sm col-span-2",whileHover:{scale:1.02,boxShadow:"0 5px 15px rgba(0,0,0,0.1)"},children:[n.jsxs("span",{className:"text-4xl font-bold text-green-600",children:["$ ",(i==null?void 0:i.totalEarned)||"0.00"]}),n.jsx("span",{className:"text-sm mt-1",children:r("referrals.totalEarned")})]})]})}),n.jsx(jr,{className:"flex flex-col items-start space-y-2 bg-gradient-to-r from-blue-50 to-blue-100 mt-4 rounded-b-lg border-t border-blue-100",children:n.jsx("p",{className:"text-sm text-blue-600",children:r("referrals.howItWorks")})})]})})]})}),n.jsx(Ze,{value:"invite",children:n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs(ne,{className:"overflow-hidden border-primary/20 shadow-lg",children:[n.jsxs(de,{className:"bg-gradient-to-r from-primary/5 to-primary/10",children:[n.jsxs(ue,{className:"flex items-center",children:[n.jsx(sl,{className:"h-5 w-5 mr-2"}),r("referrals.inviteFriends")]}),n.jsx(Re,{children:r("referrals.inviteDescription")})]}),n.jsx(ae,{className:"pt-6",children:n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-1",children:[n.jsx(Le,{htmlFor:"friend-name",children:r("common.name")}),n.jsx(ge,{id:"friend-name",placeholder:r("common.enterName"),value:y,onChange:N=>j(N.target.value)})]}),n.jsxs("div",{className:"space-y-1",children:[n.jsx(Le,{htmlFor:"friend-email",children:r("common.email")}),n.jsx(ge,{id:"friend-email",type:"email",placeholder:r("common.enterEmail"),value:p,onChange:N=>x(N.target.value)})]}),n.jsx(J,{type:"submit",className:"w-full",disabled:f.isPending,children:f.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),r("common.sending")]}):n.jsxs(n.Fragment,{children:[n.jsx(im,{className:"h-4 w-4 mr-2"}),r("referrals.sendInvitation")]})})]})}),n.jsxs(jr,{className:"flex flex-col items-start space-y-2 bg-gradient-to-r from-primary/5 to-primary/10 pt-4 rounded-b-lg border-t border-primary/10",children:[n.jsxs("div",{className:"flex items-center w-full",children:[n.jsx("div",{className:"flex-1 border-t border-border"}),n.jsx("span",{className:"px-2 text-xs text-muted-foreground",children:r("common.or")}),n.jsx("div",{className:"flex-1 border-t border-border"})]}),n.jsxs("div",{className:"w-full space-y-3",children:[n.jsx("p",{className:"text-sm",children:r("referrals.alternateShareMethods")}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsxs(J,{variant:"outline",size:"sm",onClick:d,className:"flex items-center",children:[n.jsx(nm,{className:"h-4 w-4 mr-2"}),r("referrals.copyLink")]})}),n.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:n.jsxs(J,{variant:"outline",size:"sm",onClick:u,className:"flex items-center text-green-600 border-green-600 hover:bg-green-50",children:[n.jsx(Wb,{className:"h-4 w-4 mr-2"}),r("common.shareViaWhatsApp")]})})]})]})]})]})})}),n.jsx(Ze,{value:"list",children:n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:n.jsxs(ne,{className:"overflow-hidden border-primary/20 shadow-lg",children:[n.jsxs(de,{className:"bg-gradient-to-r from-primary/5 to-primary/10",children:[n.jsxs(ue,{className:"flex items-center",children:[n.jsx(fa,{className:"h-5 w-5 mr-2"}),r("referrals.myReferrals")]}),n.jsx(Re,{children:r("referrals.trackReferrals")})]}),n.jsx(ae,{className:"pt-6",children:o?n.jsx("div",{className:"flex items-center justify-center p-8",children:n.jsx(Br,{className:"h-8 w-8 animate-spin text-primary/70"})}):i!=null&&i.referrals&&i.referrals.length>0?n.jsx(Va,{columns:C,data:i.referrals}):n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qt,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:r("referrals.noReferralsYet")}),n.jsx("p",{className:"text-muted-foreground mb-6",children:r("referrals.startInviting")}),n.jsxs(J,{variant:"outline",onClick:()=>s("invite"),children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),r("referrals.inviteNow")]})]})}),n.jsx(jr,{className:"flex flex-col items-start space-y-2 bg-gradient-to-r from-primary/5 to-primary/10 pt-4 rounded-b-lg border-t border-primary/10",children:(i==null?void 0:i.referrals)&&i.referrals.length>0&&n.jsxs($s,{className:"bg-transparent border-primary/20",children:[n.jsx(gS,{className:"h-4 w-4"}),n.jsx(qi,{children:r("referrals.rewardsTitle")}),n.jsx(Vs,{children:r("referrals.rewardsDescription")})]})})]})})})]}),n.jsx(yK,{className:"mt-6"})]})})}var q_="Switch",[LLe,IBe]=va(q_),[FLe,BLe]=LLe(q_),bK=E.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:f,...p}=e,[x,y]=E.useState(null),j=qt(t,_=>y(_)),w=E.useRef(!1),C=x?f||!!x.closest("form"):!0,[N=!1,S]=zs({prop:s,defaultProp:i,onChange:u});return n.jsxs(FLe,{scope:r,checked:N,disabled:l,children:[n.jsx(ht.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":NK(N),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:j,onClick:ze(e.onClick,_=>{S(I=>!I),C&&(w.current=_.isPropagationStopped(),w.current||_.stopPropagation())})}),C&&n.jsx($Le,{control:x,bubbles:!w.current,name:a,value:d,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});bK.displayName=q_;var wK="SwitchThumb",jK=E.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,s=BLe(wK,r);return n.jsx(ht.span,{"data-state":NK(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})});jK.displayName=wK;var $Le=e=>{const{control:t,checked:r,bubbles:a=!0,...s}=e,i=E.useRef(null),o=Cw(r),l=vw(t);return E.useEffect(()=>{const d=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==r&&p){const x=new Event("click",{bubbles:a});p.call(d,r),d.dispatchEvent(x)}},[o,r,a]),n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function NK(e){return e?"checked":"unchecked"}var CK=bK,VLe=jK;const Tt=E.forwardRef(({className:e,...t},r)=>n.jsx(CK,{className:Ue("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:n.jsx(VLe,{className:Ue("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Tt.displayName=CK.displayName;function zLe(){const[e,t]=E.useState(!1),[r,a]=E.useState(!1),[s,i]=E.useState(null),{toast:o}=rr(),{user:l}=Oa(),{data:d,isLoading:u,isError:f,refetch:p}=Nt({queryKey:["/api/client/profile"],retry:2,refetchOnWindowFocus:!1});E.useEffect(()=>{f&&(console.error("Erro ao carregar perfil"),i("Não foi possível carregar seus dados de perfil."))},[f]);const x=E.useRef(null),[y,j]=E.useState(!1),w={email:!0,push:!0,marketing:!1},C={showBalance:!0,showActivity:!0},N=d?{...d,notifications:d.notifications||w,privacy:d.privacy||C,address:d.address||"",city:d.city||"",state:d.state||""}:{id:(l==null?void 0:l.id)||0,name:(l==null?void 0:l.name)||"Usuário",email:(l==null?void 0:l.email)||"",photo:(l==null?void 0:l.photo)||null,phone:(l==null?void 0:l.phone)||null,address:"",city:"",state:"",notifications:w,privacy:C},S=Zt({mutationFn:async D=>{const R=URL.createObjectURL(D);return Ut.setQueryData(["/api/client/profile"],V=>({...V,photo:R})),new Promise((V,z)=>{const B=new FileReader;B.readAsDataURL(D),B.onload=()=>{const q=B.result;V(q)},B.onerror=()=>{z(new Error("Falha ao processar a imagem"))}}).then(async V=>{const z=await St("POST","/api/client/profile/photo",{photo:V});if(!z.ok){const B=await z.json();throw new Error(B.message||"Falha ao atualizar foto")}return z.json()})},onSuccess:()=>{o({title:"Foto atualizada",description:"Sua foto de perfil foi atualizada com sucesso."}),Ut.invalidateQueries({queryKey:["/api/client/profile"]})},onError:D=>{Ut.invalidateQueries({queryKey:["/api/client/profile"]}),o({title:"Erro",description:D instanceof Error?D.message:"Ocorreu um erro ao atualizar a foto. Tente novamente.",variant:"destructive"})},onSettled:()=>{j(!1)}}),_=D=>{if(D.target.files&&D.target.files.length>0){const R=D.target.files[0];if(R.size>5*1024*1024){o({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 5MB.",variant:"destructive"});return}j(!0),S.mutate(R)}},I=()=>{x.current&&x.current.click()},T=async D=>{D.preventDefault(),t(!0);const R=D.target,V=new FormData(R),z={name:V.get("name"),email:V.get("email"),phone:V.get("phone"),address:V.get("address"),city:V.get("city"),state:V.get("state")};try{const B=await St("PATCH","/api/client/profile",z);if(B.ok)o({title:"Perfil atualizado",description:"Suas informações foram atualizadas com sucesso."}),Ut.invalidateQueries({queryKey:["/api/client/profile"]});else{const q=await B.json();throw new Error(q.message||"Falha ao atualizar perfil")}}catch(B){console.error("Error updating profile:",B),o({title:"Erro",description:B instanceof Error?B.message:"Ocorreu um erro ao atualizar o perfil. Tente novamente.",variant:"destructive"})}finally{t(!1)}},M=async D=>{D.preventDefault(),a(!0);const R=D.target,V=new FormData(R),z=V.get("current-password"),B=V.get("new-password"),q=V.get("confirm-password");if(B!==q){o({title:"Senhas não coincidem",description:"A nova senha e a confirmação devem ser iguais.",variant:"destructive"}),a(!1);return}try{const $=await St("POST","/api/client/profile/password",{currentPassword:z,newPassword:B});if($.ok)o({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."}),R.reset();else{const L=await $.json();throw new Error(L.message||"Falha ao alterar senha")}}catch($){o({title:"Erro",description:$ instanceof Error?$.message:"Ocorreu um erro ao alterar a senha. Tente novamente.",variant:"destructive"})}finally{a(!1)}},O=(D="")=>D.split(" ").map(R=>R[0]).slice(0,2).join("").toUpperCase();return n.jsx(_t,{title:"Perfil",type:"client",children:u?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?n.jsxs("div",{className:"flex flex-col justify-center items-center h-64 gap-4",children:[n.jsx("div",{className:"bg-destructive/10 p-3 rounded-full",children:n.jsx(Xu,{className:"h-8 w-8 text-destructive"})}),n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold",children:"Erro ao carregar perfil"}),n.jsx("p",{className:"text-muted-foreground mt-1",children:s}),n.jsx(J,{className:"mt-4",onClick:()=>{i(null),p()},children:"Tentar novamente"})]})]}):n.jsxs(Dr,{defaultValue:"personal",className:"space-y-6",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[n.jsxs($e,{value:"personal",className:"flex items-center",children:[n.jsx(ir,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Pessoal"})]}),n.jsxs($e,{value:"security",className:"flex items-center",children:[n.jsx(ZT,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Segurança"})]}),n.jsxs($e,{value:"preferences",className:"flex items-center",children:[n.jsx(ki,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Preferências"})]})]}),n.jsx(Ze,{value:"personal",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Informações Pessoais"}),n.jsx(Re,{children:"Atualize suas informações pessoais"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:T,children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center space-y-3",children:[n.jsxs("div",{className:"relative group cursor-pointer hover:shadow-lg transition-all duration-300 rounded-full overflow-hidden ring-2 ring-offset-2 ring-primary/50",onClick:I,children:[n.jsxs(ra,{className:"h-24 w-24 border-2 border-white shadow",children:[n.jsx(ga,{src:N.photo||void 0,alt:N.name}),n.jsx(na,{className:"text-lg bg-secondary text-white",children:O(N.name)})]}),n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent flex flex-col items-center justify-end p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx(oc,{className:"w-5 h-5 text-white mb-1"}),n.jsx("span",{className:"text-white text-xs font-medium",children:"Alterar foto"})]})]}),n.jsx("input",{type:"file",ref:x,onChange:_,accept:"image/jpeg, image/png, image/gif, image/webp",className:"hidden"}),y&&n.jsxs("div",{className:"flex items-center text-primary",children:[n.jsx(lt,{className:"mr-1 h-3 w-3 animate-spin"}),n.jsx("span",{className:"text-xs",children:"Atualizando foto..."})]})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"name",children:"Nome completo"}),n.jsx(ge,{id:"name",name:"name",defaultValue:N.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"email",children:"E-mail"}),n.jsx(ge,{id:"email",name:"email",type:"email",defaultValue:N.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"phone",children:"Telefone"}),n.jsx(ge,{id:"phone",name:"phone",defaultValue:N.phone||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"address",children:"Endereço"}),n.jsx(ge,{id:"address",name:"address",defaultValue:N.address||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"city",children:"Cidade"}),n.jsx(ge,{id:"city",name:"city",defaultValue:N.city||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"state",children:"Estado"}),n.jsx(ge,{id:"state",name:"state",defaultValue:N.state||""})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(J,{type:"submit",disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar alterações"})})]})})]})}),n.jsxs(Ze,{value:"security",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Alterar Senha"}),n.jsx(Re,{children:"Atualize sua senha para manter sua conta segura"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:M,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"current-password",children:"Senha atual"}),n.jsx(ge,{id:"current-password",name:"current-password",type:"password",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"new-password",children:"Nova senha"}),n.jsx(ge,{id:"new-password",name:"new-password",type:"password",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"confirm-password",children:"Confirmar nova senha"}),n.jsx(ge,{id:"confirm-password",name:"confirm-password",type:"password",required:!0})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{type:"submit",disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Alterando..."]}):"Alterar senha"})})]})})]}),n.jsxs(ne,{className:"mt-6",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Segurança da Conta"}),n.jsx(Re,{children:"Configurações adicionais de segurança"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Autenticação de dois fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurança à sua conta"})]}),n.jsx(J,{children:"Configurar"})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Sessões ativas"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Gerencie dispositivos conectados à sua conta"})]}),n.jsx(J,{variant:"outline",children:"Visualizar"})]})]})]})]}),n.jsxs(Ze,{value:"preferences",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Notificações"}),n.jsx(Re,{children:"Configure como você deseja receber as notificações"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"E-mail"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações por e-mail"})]}),n.jsx(Tt,{checked:N.notifications.email})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações push no seu dispositivo"})]}),n.jsx(Tt,{checked:N.notifications.push})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Marketing"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba ofertas e novidades sobre o Vale Cashback"})]}),n.jsx(Tt,{checked:N.notifications.marketing})]})]})]}),n.jsxs(ne,{className:"mt-6",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Privacidade"}),n.jsx(Re,{children:"Gerencie quais informações são compartilhadas"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Mostrar saldo"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Exibir seu saldo de cashback para outros usuários"})]}),n.jsx(Tt,{checked:N.privacy.showBalance})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Mostrar atividade"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Permitir que outros usuários vejam suas atividades recentes"})]}),n.jsx(Tt,{checked:N.privacy.showActivity})]})]})]})]})]})})}function ULe(){const[e,t]=E.useState(""),[r,a]=E.useState("all"),[s,i]=E.useState("all"),{data:o,isLoading:l}=Nt({queryKey:["/api/client/stores"],placeholderData:[{id:21,name:"Tech Store Brasil",category:"Eletrônicos",address:"Av. Paulista, 1000",city:"São Paulo",state:"SP",phone:"(11) 3333-4444",rating:4.8,cashbackRate:5,isActive:!0,description:"Eletrônicos e tecnologia com os melhores preços",operatingHours:"08:00 - 18:00",totalTransactions:45,totalCashback:1250.8},{id:22,name:"Restaurante Sabor Caseiro",category:"Alimentação",address:"Rua Augusta, 500",city:"São Paulo",state:"SP",phone:"(11) 4444-5555",rating:4.6,cashbackRate:5,isActive:!0,description:"Comida caseira e saborosa",operatingHours:"11:00 - 22:00",totalTransactions:78,totalCashback:890.45},{id:23,name:"Farmácia Central",category:"Farmácia",address:"Rua das Flores, 200",city:"Rio de Janeiro",state:"RJ",phone:"(21) 5555-6666",rating:4.7,cashbackRate:5,isActive:!0,description:"Medicamentos e produtos de saúde",operatingHours:"07:00 - 23:00",totalTransactions:92,totalCashback:678.9},{id:24,name:"Supermercado Bom Preço",category:"Supermercado",address:"Av. Brasil, 1500",city:"Belo Horizonte",state:"MG",phone:"(31) 6666-7777",rating:4.5,cashbackRate:5,isActive:!0,description:"Produtos frescos e qualidade garantida",operatingHours:"06:00 - 22:00",totalTransactions:156,totalCashback:2340.6},{id:25,name:"Posto Combustível Eficiente",category:"Combustível",address:"BR-101, Km 45",city:"Recife",state:"PE",phone:"(81) 7777-8888",rating:4.4,cashbackRate:5,isActive:!0,description:"Combustível de qualidade e conveniência",operatingHours:"24 horas",totalTransactions:203,totalCashback:3456.78}]}),d=[{value:"all",label:"Todas as Categorias"},{value:"Eletrônicos",label:"Eletrônicos"},{value:"Alimentação",label:"Alimentação"},{value:"Farmácia",label:"Farmácia"},{value:"Supermercado",label:"Supermercado"},{value:"Combustível",label:"Combustível"},{value:"Vestuário",label:"Vestuário"},{value:"Casa e Jardim",label:"Casa e Jardim"}],u=[{value:"all",label:"Todos os Estados"},{value:"SP",label:"São Paulo"},{value:"RJ",label:"Rio de Janeiro"},{value:"MG",label:"Minas Gerais"},{value:"PE",label:"Pernambuco"},{value:"BA",label:"Bahia"},{value:"PR",label:"Paraná"},{value:"RS",label:"Rio Grande do Sul"}],f=(o==null?void 0:o.filter(y=>{const j=y.name.toLowerCase().includes(e.toLowerCase())||y.description.toLowerCase().includes(e.toLowerCase()),w=r==="all"||y.category===r,C=s==="all"||y.state===s;return j&&w&&C&&y.isActive}))||[],p=(o==null?void 0:o.length)||0,x=(o==null?void 0:o.filter(y=>y.isActive).length)||0;return l?n.jsx(_t,{title:"Lojas Parceiras",type:"client",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{children:"Carregando lojas parceiras..."})]})})}):n.jsxs(_t,{title:"Lojas Parceiras",type:"client",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Lojas Parceiras Vale Cashback"}),n.jsx("p",{className:"text-muted-foreground",children:"Descubra onde você pode ganhar cashback em suas compras"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cr,{className:"h-5 w-5 text-primary"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Lojas"}),n.jsx("p",{className:"text-2xl font-bold",children:p})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(xt,{className:"bg-green-100 text-green-800",children:[n.jsx(fa,{className:"h-3 w-3 mr-1"}),"5%"]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cashback"}),n.jsx("p",{className:"text-lg font-bold",children:"Em todas as lojas"})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Lojas Ativas"}),n.jsx("p",{className:"text-2xl font-bold",children:x})]})]})})})]}),n.jsxs(ne,{className:"mb-6",children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(zF,{className:"h-5 w-5"}),"Filtros"]})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar lojas...",value:e,onChange:y=>t(y.target.value),className:"pl-10"})]}),n.jsxs(ur,{value:r,onValueChange:a,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Categoria"})}),n.jsx(dr,{children:d.map(y=>n.jsx(ve,{value:y.value,children:y.label},y.value))})]}),n.jsxs(ur,{value:s,onValueChange:i,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Estado"})}),n.jsx(dr,{children:u.map(y=>n.jsx(ve,{value:y.value,children:y.label},y.value))})]})]})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.length===0?n.jsxs("div",{className:"col-span-full text-center py-12",children:[n.jsx(Cr,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhuma loja encontrada"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros para encontrar lojas"})]}):f.map(y=>n.jsxs(ne,{className:"hover:shadow-lg transition-shadow",children:[n.jsx(de,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx(ue,{className:"text-lg",children:y.name}),n.jsx(xt,{variant:"outline",className:"mt-1",children:y.category})]}),n.jsxs(xt,{className:"bg-green-100 text-green-800",children:[y.cashbackRate,"% Cashback"]})]})}),n.jsxs(ae,{children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:y.description}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sm,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs("span",{children:[y.address,", ",y.city," - ",y.state]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Bd,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:y.phone})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Vn,{className:"h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:y.operatingHours})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(al,{className:"h-4 w-4 text-yellow-500 fill-current"}),n.jsxs("span",{children:[y.rating.toFixed(1)," (",y.totalTransactions," avaliações)"]})]})]}),n.jsx("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"font-medium",children:"Cashback Total Pago:"}),n.jsx("span",{className:"font-bold text-green-600",children:Be(y.totalCashback)})]})}),n.jsxs(J,{className:"w-full mt-4",variant:"outline",children:[n.jsx(Cr,{className:"mr-2 h-4 w-4"}),"Ver Detalhes"]})]})]},y.id))}),n.jsxs(ne,{className:"mt-8",children:[n.jsx(de,{children:n.jsx(ue,{children:"Como Funciona o Cashback"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"1"})}),n.jsx("h3",{className:"font-medium mb-2",children:"Faça sua Compra"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Realize sua compra normalmente em qualquer loja parceira"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"2"})}),n.jsx("h3",{className:"font-medium mb-2",children:"Escaneie o QR Code"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Use o app para escanear o QR Code gerado pelo lojista"})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"3"})}),n.jsx("h3",{className:"font-medium mb-2",children:"Receba o Cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ganhe 5% de volta instantaneamente em sua conta"})]})]})})]})]})}function WLe({onScan:e,onError:t,style:r,className:a}){const[s,i]=E.useState("waiting"),[o,l]=E.useState(""),d=E.useRef(null),u=E.useRef(null),f=E.useRef(`qr-reader-${Date.now()}`),p=E.useRef(!0),x={fps:10,qrbox:{width:220,height:220},aspectRatio:1,disableFlip:!1},y=async()=>{try{if(!p.current||!u.current)return;u.current.innerHTML="";const C=document.createElement("div");C.id=f.current,C.style.width="100%",C.style.height="100%",u.current.appendChild(C);const N=new $E(f.current);d.current=N;const S=jk()?{facingMode:"environment"}:{facingMode:"user"};console.log("Iniciando scanner com configuração:",jk()?"câmera traseira (ambiente móvel)":"câmera padrão (ambiente desktop)"),await N.start(S,x,_=>{p.current&&(console.log("QR Code detectado:",_),e(_))},()=>{}),i("scanning"),console.log("Scanner iniciado com sucesso")}catch(C){console.error("Erro ao inicializar scanner:",C),p.current&&(i("error"),l("Não foi possível acessar a câmera. Verifique se você concedeu permissão de câmera ao navegador."),t&&t(C instanceof Error?C:new Error(String(C))))}},j=async()=>{try{d.current&&(await d.current.stop().catch(()=>{console.log("Scanner já estava parado ou ocorreu erro ao parar")}),d.current=null)}catch(C){console.error("Erro ao parar scanner:",C)}},w=async()=>{i("waiting"),l("");try{await j(),setTimeout(()=>{p.current&&y()},500)}catch(C){console.error("Erro ao reiniciar scanner:",C)}};return E.useEffect(()=>{p.current=!0;const C=setTimeout(()=>{p.current&&y()},500);return()=>{clearTimeout(C),p.current=!1,j()}},[]),n.jsxs("div",{className:`qr-scanner-wrapper relative ${a||""}`,style:{overflow:"hidden",borderRadius:"0.5rem",width:"100%",...r},children:[n.jsx("div",{ref:u,"data-testid":"qr-reader",style:{width:"100%",height:"300px",background:"#000",position:"relative"}}),s==="waiting"&&n.jsx("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx(lt,{className:"h-10 w-10 animate-spin mx-auto mb-4 text-primary"}),n.jsx("p",{className:"text-foreground",children:"Iniciando câmera..."}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Permita o acesso à câmera quando solicitado"})]})}),s==="error"&&n.jsx("div",{className:"absolute inset-0 bg-background/90 flex items-center justify-center p-4",children:n.jsxs("div",{className:"text-center max-w-sm",children:[n.jsx(Yr,{className:"h-10 w-10 mx-auto mb-4 text-destructive"}),n.jsx("h3",{className:"font-medium text-lg mb-2",children:"Erro ao acessar câmera"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:o}),n.jsxs(J,{onClick:w,className:"mx-auto",variant:"default",children:[n.jsx(Br,{className:"h-4 w-4 mr-2"}),"Tentar novamente"]})]})}),s==="scanning"&&n.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center",children:n.jsx("div",{className:"bg-background/70 p-2 rounded-full backdrop-blur-sm",children:n.jsx(oc,{className:"h-5 w-5 text-primary"})})})]})}function HLe(){const{user:e}=Oa(),{toast:t}=rr(),r=Nl(),[,a]=Fd(),[s,i]=E.useState(!0),[o,l]=E.useState(""),[d,u]=E.useState(null),[f,p]=E.useState(!1),[x,y]=E.useState(Date.now()),j=Zt({mutationFn:async O=>{console.log("Iniciando o processamento do pagamento:",O);try{const D=await St("POST","/api/client/process-payment",O);if(!D.ok){const V=await D.json();throw new Error(V.error||"Erro ao processar pagamento")}const R=await D.json();return console.log("Resposta do processamento:",R),R}catch(D){throw console.error("Erro no processamento:",D),D}},onSuccess:O=>{t({title:"Pagamento realizado com sucesso",description:`Você pagou ${Be(O.amount)} para ${O.merchant_name}`}),r.invalidateQueries({queryKey:["/api/client/wallet"]}),r.invalidateQueries({queryKey:["/api/client/transactions"]}),u(null),i(!0),setTimeout(()=>{a("/client/transactions")},2e3)},onError:O=>{t({title:"Erro ao processar pagamento",description:O.message||"Não foi possível processar o pagamento. Tente novamente.",variant:"destructive"})}}),w=async O=>{if(O)try{p(!0);const D=await fetch(`/api/payment-qr/${O}`);if(!D.ok){const V=await D.json();throw new Error(V.error||"QR Code inválido ou expirado")}const R=await D.json();u(R),i(!1)}catch(D){t({title:"Erro ao ler QR Code",description:D.message||"QR Code inválido ou expirado. Tente novamente.",variant:"destructive"})}finally{p(!1)}},C=O=>{if(O){console.log("QR Code detectado:",O);try{const D=JSON.parse(O);D.id&&D.type==="payment_request"?(console.log("Verificando QR code com ID:",D.id),w(D.id)):D.code?(console.log("Verificando QR code com código alternativo:",D.code),w(D.code)):t({title:"QR Code inválido",description:"Este QR Code não contém um código de pagamento válido.",variant:"destructive"})}catch{console.log("Não é um JSON válido, tentando como código direto:",O),w(O)}}},N=O=>{console.error("Erro ao escanear:",O),t({title:"Erro ao escanear QR Code",description:"Houve um problema ao acessar a câmera. Tente usar o código manual.",variant:"destructive"})},S=O=>{var V;if(!d||!d.qr_code_id){t({title:"Dados de pagamento inválidos",description:"Não foi possível processar o pagamento. Tente escanear novamente.",variant:"destructive"});return}p(!0);const D=parseFloat(((V=d.amount)==null?void 0:V.toString())||"0");if(isNaN(D)||D<=0){t({title:"Valor inválido",description:"O valor do pagamento é inválido ou não foi informado. Tente escanear novamente.",variant:"destructive"}),p(!1);return}const R=Math.round(D*100)/100;console.log("Enviando dados para processamento:",{qr_code_id:d.qr_code_id,payment_type:O,valorOriginal:D,valorArredondado:R}),j.mutate({qr_code_id:d.qr_code_id,payment_data:d,payment_type:O},{onError:z=>{console.error("Erro ao processar pagamento:",z),p(!1);const B=z.message||"";B.includes("Saldo insuficiente")?t({title:"Saldo insuficiente",description:"Você não tem saldo suficiente na carteira para realizar este pagamento.",variant:"destructive"}):B.includes("Bônus insuficiente")?t({title:"Bônus insuficiente",description:"Você não tem bônus suficiente para realizar este pagamento.",variant:"destructive"}):t({title:"Erro ao processar pagamento",description:B||"Ocorreu um erro ao processar o pagamento. Tente novamente.",variant:"destructive"})}})},_=()=>{if(!o.trim()){t({title:"Código vazio",description:"Por favor, insira um código de pagamento válido.",variant:"destructive"});return}w(o.trim())},I=()=>{u(null),i(!0),l("")};E.useEffect(()=>{e||a("/auth")},[e,a]);const T=()=>{y(Date.now())},M=()=>f?n.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[n.jsx(lt,{className:"h-16 w-16 animate-spin text-primary"}),n.jsx("p",{className:"mt-4 text-lg",children:"Carregando..."})]}):s?n.jsxs("div",{className:"flex flex-col space-y-6",children:[n.jsxs(ne,{className:"w-full",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Escaneie o QR Code"}),n.jsx(Re,{children:"Aponte a câmera para o QR Code gerado pelo lojista"})]}),n.jsx(ae,{children:n.jsx("div",{className:"w-full aspect-square relative overflow-hidden rounded-md mb-4",children:n.jsx(WLe,{onScan:C,onError:O=>{N(O),setTimeout(T,1e3)},style:{width:"100%",height:"100%"}},x)})})]}),n.jsxs(ne,{className:"w-full",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Ou insira o código manualmente"}),n.jsx(Re,{children:"Se tiver problemas com a câmera, insira o código fornecido pelo lojista"})]}),n.jsx(ae,{children:n.jsx("div",{className:"grid w-full items-center gap-4",children:n.jsxs("div",{className:"flex flex-col space-y-1.5",children:[n.jsx(Le,{htmlFor:"code",children:"Código de pagamento"}),n.jsx(ge,{id:"code",placeholder:"Digite o código aqui",value:o,onChange:O=>l(O.target.value)})]})})}),n.jsx(jr,{children:n.jsx(J,{onClick:_,className:"w-full",children:"Verificar código"})})]})]}):n.jsxs(ne,{className:"w-full",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Confirmar pagamento"}),n.jsx(Re,{children:"Detalhes do pagamento a ser realizado"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"bg-muted/30 rounded-lg p-3 mb-2",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground mb-1 sm:mb-0",children:"Lojista:"}),n.jsx("span",{className:"font-semibold text-primary",children:(d==null?void 0:d.merchant_name)||"Lojista"})]})}),n.jsx("div",{className:"bg-primary/10 rounded-lg p-4 text-center mb-3",children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Valor a pagar:"}),n.jsx("span",{className:"font-bold text-2xl text-primary",children:Be((d==null?void 0:d.amount)||0)})]})}),n.jsx("div",{className:"bg-muted/30 rounded-lg p-3 mb-2",children:n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Descrição:"}),n.jsx("span",{className:"text-sm break-words",children:(d==null?void 0:d.description)||"Pagamento via Vale Cashback"})]})}),n.jsxs("div",{className:"border-t pt-4 mt-4",children:[n.jsx("p",{className:"text-center font-medium mb-3",children:"Escolha a forma de pagamento:"}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsxs(J,{className:"w-full py-3",variant:"default",onClick:()=>S("wallet"),disabled:j.isPending,children:[j.isPending?n.jsx(lt,{className:"h-5 w-5 mr-2 animate-spin"}):n.jsx(ta,{className:"h-5 w-5 mr-2"}),"Pagar com Saldo"]}),n.jsxs(J,{className:"w-full py-3",variant:"outline",onClick:()=>S("bonus"),disabled:j.isPending,children:[j.isPending?n.jsx(lt,{className:"h-5 w-5 mr-2 animate-spin"}):n.jsx(cc,{className:"h-5 w-5 mr-2"}),"Pagar com Bônus"]})]})]})]})}),n.jsx(jr,{className:"flex justify-between",children:n.jsxs(J,{variant:"destructive",onClick:I,disabled:j.isPending,children:[n.jsx(ph,{className:"h-4 w-4 mr-2"}),"Cancelar"]})})]});return n.jsx(_t,{title:"Pagar com QR Code",type:"client",children:n.jsxs("div",{className:"container mx-auto p-4 max-w-md",children:[n.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Pagar com QR Code"}),M()]})})}function JD(){const{data:e,isLoading:t,error:r}=Nt({queryKey:["/api/merchant/dashboard"],refetchOnWindowFocus:!1,staleTime:3e4,retry:1,queryFn:async()=>{var i,o,l,d,u,f,p,x;try{console.log("Carregando dados do dashboard do lojista...");const y=await fetch("/api/merchant/dashboard",{credentials:"include",headers:{"Cache-Control":"no-cache"}});if(!y.ok)throw console.error("Erro na API do dashboard:",await y.text()),new Error("Erro ao carregar dados do dashboard");const j=await y.json();console.log("Dados brutos recebidos:",j);const w=C=>{if(C==null)return 0;if(typeof C=="string"){const N=C.replace(/[$,\s]/g,"");return parseFloat(N)||0}return typeof C=="number"?isNaN(C)?0:C:0};return{salesSummary:{today:{total:w((o=(i=j.salesSummary)==null?void 0:i.today)==null?void 0:o.total),transactions:w((d=(l=j.salesSummary)==null?void 0:l.today)==null?void 0:d.transactions),average:w((f=(u=j.salesSummary)==null?void 0:u.today)==null?void 0:f.average),commission:w((x=(p=j.salesSummary)==null?void 0:p.today)==null?void 0:x.commission)}},weekSalesData:(j.weekSalesData||[]).map(C=>({day:C.day||"",value:w(C.value)})),recentSales:(j.recentSales||[]).map(C=>({id:C.id||0,customer:C.customer||"Cliente",date:C.date||new Date().toLocaleDateString("en-US"),amount:w(C.amount),cashback:w(C.cashback),items:C.items||"Produto"})),topProducts:(j.topProducts||[]).map(C=>({name:C.name||"Produto",sales:w(C.sales),total:w(C.total)}))}}catch(y){throw console.error("Erro ao carregar dashboard:",y),y}}}),s=e||{salesSummary:{today:{total:1250.8,transactions:8,average:156.35,commission:31.27}},weekSalesData:[{day:"Dom",value:320},{day:"Seg",value:450},{day:"Ter",value:380},{day:"Qua",value:520},{day:"Qui",value:410},{day:"Sex",value:680},{day:"Sáb",value:750}],recentSales:[{id:1,customer:"João Silva",date:"2025-06-05",amount:89.9,cashback:4.5,items:"Café Premium, Açúcar"},{id:2,customer:"Maria Santos",date:"2025-06-05",amount:156.8,cashback:7.84,items:"Kit Lanche"}],topProducts:[{name:"Café Premium",sales:45,total:2250},{name:"Kit Lanche",sales:32,total:1890.4},{name:"Açúcar Cristal",sales:28,total:420}]};return t?n.jsx(_t,{title:"Dashboard Lojista",type:"merchant",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{children:"Carregando dados da loja..."})]})})}):r?n.jsx(_t,{title:"Dashboard Lojista",type:"merchant",children:n.jsxs($s,{variant:"destructive",children:[n.jsx(Yr,{className:"h-4 w-4"}),n.jsx(qi,{children:"Erro ao carregar dados"}),n.jsx(Vs,{children:"Não foi possível carregar os dados do dashboard. Tente novamente."})]})}):n.jsxs(_t,{title:"Dashboard Lojista",type:"merchant",children:[n.jsxs(M3,{className:"mb-6",children:[n.jsx($i,{title:"Vendas Hoje",value:Be(s.salesSummary.today.total),description:`${s.salesSummary.today.transactions} transações`,icon:n.jsx(Ku,{className:"h-5 w-5 text-primary"})}),n.jsx($i,{title:"Comissão Hoje",value:Be(s.salesSummary.today.commission),description:"2.5% das vendas",icon:n.jsx(fa,{className:"h-5 w-5 text-green-500"})}),n.jsx($i,{title:"Ticket Médio",value:Be(s.salesSummary.today.average),description:"Valor médio por venda",icon:n.jsx(Hr,{className:"h-5 w-5 text-blue-500"})}),n.jsx($i,{title:"Clientes Atendidos",value:s.salesSummary.today.transactions.toString(),description:"Clientes únicos hoje",icon:n.jsx(Qt,{className:"h-5 w-5 text-purple-500"})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsx(U_,{title:"Vendas da Semana",data:s.weekSalesData,bars:[{dataKey:"value",name:"Vendas (R$)"}],xAxisDataKey:"day"}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Vendas Recentes"}),n.jsx(Re,{children:"Últimas transações realizadas"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[s.recentSales.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma venda registrada hoje."}):s.recentSales.map(i=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",children:i.customer}),n.jsx("span",{className:"font-semibold text-green-600",children:Be(i.amount)})]}),n.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground mb-2",children:[n.jsxs("span",{children:["Cashback: ",Be(i.cashback)]}),n.jsx("span",{children:new Date(i.date).toLocaleDateString("pt-BR")})]}),n.jsx("p",{className:"text-sm",children:i.items})]},i.id)),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(Rt,{href:"/merchant/transactions",children:n.jsx(J,{variant:"outline",size:"sm",children:"Ver todas as vendas"})})})]})})]})]}),n.jsxs(ne,{className:"mb-6",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Produtos Mais Vendidos"}),n.jsx(Re,{children:"Ranking dos produtos com melhor performance"})]}),n.jsx(ae,{children:n.jsx("div",{className:"space-y-4",children:s.topProducts.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum produto vendido ainda."}):s.topProducts.map((i,o)=>n.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-full flex items-center justify-center text-sm font-medium",children:o+1}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:i.name}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.sales," vendas"]})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-semibold",children:Be(i.total)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total vendido"})]})]},i.name))})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Ações Rápidas"}),n.jsx(Re,{children:"Acesso rápido às principais funcionalidades"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[n.jsx(Rt,{href:"/merchant/payment-qr",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(Pn,{className:"h-6 w-6"}),n.jsx("span",{children:"QR Code"})]})}),n.jsx(Rt,{href:"/merchant/transactions",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(Ku,{className:"h-6 w-6"}),n.jsx("span",{children:"Vendas"})]})}),n.jsx(Rt,{href:"/merchant/customers",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(Qt,{className:"h-6 w-6"}),n.jsx("span",{children:"Clientes"})]})}),n.jsx(Rt,{href:"/merchant/reports",children:n.jsxs(J,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center gap-2",children:[n.jsx(ea,{className:"h-6 w-6"}),n.jsx("span",{children:"Relatórios"})]})})]})})]})]})}var G_="Checkbox",[qLe,MBe]=va(G_),[GLe,KLe]=qLe(G_),SK=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:a,checked:s,defaultChecked:i,required:o,disabled:l,value:d="on",onCheckedChange:u,form:f,...p}=e,[x,y]=E.useState(null),j=qt(t,I=>y(I)),w=E.useRef(!1),C=x?f||!!x.closest("form"):!0,[N=!1,S]=zs({prop:s,defaultProp:i,onChange:u}),_=E.useRef(N);return E.useEffect(()=>{const I=x==null?void 0:x.form;if(I){const T=()=>S(_.current);return I.addEventListener("reset",T),()=>I.removeEventListener("reset",T)}},[x,S]),n.jsxs(GLe,{scope:r,state:N,disabled:l,children:[n.jsx(ht.button,{type:"button",role:"checkbox","aria-checked":yd(N)?"mixed":N,"aria-required":o,"data-state":TK(N),"data-disabled":l?"":void 0,disabled:l,value:d,...p,ref:j,onKeyDown:ze(e.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:ze(e.onClick,I=>{S(T=>yd(T)?!0:!T),C&&(w.current=I.isPropagationStopped(),w.current||I.stopPropagation())})}),C&&n.jsx(YLe,{control:x,bubbles:!w.current,name:a,value:d,checked:N,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"},defaultChecked:yd(i)?!1:i})]})});SK.displayName=G_;var AK="CheckboxIndicator",EK=E.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:a,...s}=e,i=KLe(AK,r);return n.jsx(sa,{present:a||yd(i.state)||i.state===!0,children:n.jsx(ht.span,{"data-state":TK(i.state),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});EK.displayName=AK;var YLe=e=>{const{control:t,checked:r,bubbles:a=!0,defaultChecked:s,...i}=e,o=E.useRef(null),l=Cw(r),d=vw(t);E.useEffect(()=>{const f=o.current,p=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==r&&y){const j=new Event("click",{bubbles:a});f.indeterminate=yd(r),y.call(f,yd(r)?!1:r),f.dispatchEvent(j)}},[l,r,a]);const u=E.useRef(yd(r)?!1:r);return n.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function yd(e){return e==="indeterminate"}function TK(e){return yd(e)?"indeterminate":e?"checked":"unchecked"}var _K=SK,XLe=EK;const PK=E.forwardRef(({className:e,...t},r)=>n.jsx(_K,{ref:r,className:Ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:n.jsx(XLe,{className:Ue("flex items-center justify-center text-current"),children:n.jsx(cc,{className:"h-4 w-4"})})}));PK.displayName=_K.displayName;const Kr={cashbackRate:.02,referralRate:.01,merchantCommission:.02,platformFee:.05,minWithdrawal:20,withdrawalFee:.05};function QLe(){var Gt;const[e,t]=E.useState(""),[r,a]=E.useState("name"),[s,i]=E.useState(null),[o,l]=E.useState([]),[d,u]=E.useState(!1),[f,p]=E.useState(!1),[x,y]=E.useState([]),[j,w]=E.useState(null),[C,N]=E.useState(1),[S,_]=E.useState(!1),[I,T]=E.useState("cash"),[M,O]=E.useState(""),[D,R]=E.useState(""),[V,z]=E.useState(!0),[B,q]=E.useState(0),[$,L]=E.useState(!1),H=E.useRef(null),{toast:G}=rr(),{data:Y}=Nt({queryKey:["/api/merchant/products"],queryFn:async()=>{try{const Ee=await fetch("/api/merchant/products",{credentials:"include"});return Ee.ok?await Ee.json():(console.log("Usando dados de produtos de exemplo"),{products:[{id:1,name:"Produto A",price:29.99,description:"Descrição do produto A",category:"Categoria 1",sku:"SKU001",in_stock:50},{id:2,name:"Produto B",price:49.99,description:"Descrição do produto B",category:"Categoria 1",sku:"SKU002",in_stock:30},{id:3,name:"Produto C",price:19.99,description:"Descrição do produto C",category:"Categoria 2",sku:"SKU003",in_stock:100},{id:4,name:"Produto D",price:39.99,description:"Descrição do produto D",category:"Categoria 2",sku:"SKU004",in_stock:25},{id:5,name:"Produto E",price:59.99,description:"Descrição do produto E",category:"Categoria 3",sku:"SKU005",in_stock:15}]})}catch(Ee){return console.error("Erro ao carregar produtos:",Ee),{products:[]}}}}),te=Array.isArray(Y==null?void 0:Y.products)?Y==null?void 0:Y.products:[],{data:X={transactions:[]}}=Nt({queryKey:["/api/merchant/sales"],queryFn:async()=>{try{const Ee=await fetch("/api/merchant/sales",{credentials:"include"});return Ee.ok?{transactions:await Ee.json()}:(console.log("Usando dados de vendas de exemplo"),{transactions:[]})}catch(Ee){return console.error("Erro ao carregar vendas:",Ee),{transactions:[]}}}}),fe=Zt({mutationFn:async Ee=>await(await St("POST","/api/merchant/sales",Ee)).json(),onSuccess:()=>{L(!1),G({title:"Venda registrada com sucesso",description:`Venda para ${s==null?void 0:s.name} foi processada e os valores de cashback foram distribuídos automaticamente.`}),it(),Ut.invalidateQueries({queryKey:["/api/merchant/sales"]}),Ut.invalidateQueries({queryKey:["/api/merchant/dashboard"]})},onError:Ee=>{L(!1),G({title:"Erro ao registrar venda",description:Ee.message||"Ocorreu um erro ao processar a venda. Tente novamente.",variant:"destructive"})}}),re=x.reduce((Ee,ot)=>Ee+ot.price*ot.quantity,0),se=M?parseFloat(M.toString()):0,Te=Math.max(0,re-se),vt=Te*Kr.cashbackRate,Me=s!=null&&s.referredBy?Te*Kr.referralRate:0,he=Te*Kr.merchantCommission;E.useEffect(()=>{if(e.length<2){l([]);return}return H.current&&clearTimeout(H.current),u(!0),H.current=setTimeout(async()=>{try{const ot=await(await St("GET",`/api/merchant/customers?term=${encodeURIComponent(e)}&searchBy=${r}`)).json();l(ot||[])}catch(Ee){console.error("Erro ao buscar clientes:",Ee),G({title:"Erro na busca",description:"Não foi possível buscar os clientes. Tente novamente.",variant:"destructive"})}finally{u(!1)}},500),()=>{H.current&&clearTimeout(H.current)}},[e,r,G]);const rt=(Ee,ot)=>{ot&&(ot.stopPropagation(),ot.preventDefault()),i(Ee),t(""),l([]),setTimeout(()=>{p(!1)},200)},Ae=Ee=>{if(Ee&&(Ee.stopPropagation(),Ee.preventDefault()),!j)return;const ot=x.findIndex(ia=>ia.id===j.id);if(ot>=0){const ia=[...x];ia[ot].quantity+=C,y(ia)}else y([...x,{...j,quantity:C}]);w(null),N(1),setTimeout(()=>{_(!1)},200)},Je=Ee=>{y(x.filter(ot=>ot.id!==Ee))},Ge=()=>{w(null),N(1),_(!0)},je=()=>{t(""),l([]),p(!0)},it=()=>{i(null),y([]),T("cash"),O(""),R(""),z(!0)},wt=async Ee=>{if(Ee.preventDefault(),!s){G({title:"Cliente não selecionado",description:"Selecione um cliente para registrar a venda.",variant:"destructive"});return}L(!0);const ot=x.length>0?Te:B,ia=x.length>0?re:B,st=x.length>0?vt:B*Kr.cashbackRate,ie=s.referredBy?x.length>0?Me:B*Kr.referralRate:0,xe=x.length>0?Te*Kr.platformFee:B*Kr.platformFee,Ne={customerId:s.id,items:x.length>0?x.map(et=>({productId:et.id,quantity:et.quantity,price:et.price})):[],subtotal:ia,discount:se,total:ot,cashback:st,referralBonus:ie,platformFee:xe,merchantCommission:x.length>0?he:B*Kr.merchantCommission,referrerId:s.referredBy,paymentMethod:I,notes:D,sendReceipt:V,manualAmount:x.length===0?B:null};fe.mutate(Ne)},nr=[{header:"ID",accessorKey:"id"},{header:"Cliente",accessorKey:"customer"},{header:"Data/Hora",accessorKey:"date"},{header:"Valor",accessorKey:"amount",cell:Ee=>`$ ${parseFloat(String(Ee.amount)).toFixed(2)}`},{header:"Cashback",accessorKey:"cashback",cell:Ee=>{const ot=Ee.cashback||Ee.cashback_amount;return`$ ${parseFloat(String(ot)).toFixed(2)}`}}],pr=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:Ee=>{G({title:`Venda #${Ee.id}`,description:`Cliente: ${Ee.customer}, Valor: R$ ${parseFloat(String(Ee.amount)).toFixed(2)}, Cashback: R$ ${parseFloat(String(Ee.cashback)).toFixed(2)}`})}}];return n.jsxs(_t,{title:"Registro de Vendas",type:"merchant",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Nova Venda"}),n.jsx(Re,{children:"Registre uma venda para processar cashback e benefícios automaticamente"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:wt,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{children:"Cliente"}),s?n.jsxs("div",{className:"p-3 border rounded-lg bg-muted",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("div",{className:"font-medium",children:s.name}),n.jsx(J,{type:"button",variant:"ghost",size:"sm",onClick:()=>i(null),children:"Trocar"})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.email," • ",s.phone||"Sem telefone"]}),s.referredBy&&n.jsxs("div",{className:"mt-1 text-xs text-blue-600",children:["Cliente indicado • Bônus de ",(Kr.referralRate*100).toFixed(0),"% será aplicado"]})]}):n.jsxs(J,{type:"button",variant:"outline",className:"w-full",onClick:je,children:[n.jsx(ir,{className:"mr-2 h-4 w-4"})," Buscar Cliente"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Le,{children:"Produtos no Carrinho"}),n.jsxs("span",{className:"text-sm text-muted-foreground",children:[x.length," ",x.length===1?"item":"itens"]})]}),n.jsx("div",{className:"border rounded-md p-2 mb-2 max-h-64 overflow-y-auto",children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"Produto"}),n.jsx(Et,{className:"text-center",children:"Qtd"}),n.jsx(Et,{className:"text-right",children:"Valor"}),n.jsx(Et,{className:"text-center w-16",children:"Ações"})]})}),n.jsx(pl,{children:x.length===0?n.jsx(Tn,{children:n.jsx(bt,{colSpan:4,className:"text-center py-4 text-muted-foreground",children:"Nenhum produto adicionado ao carrinho."})}):x.map(Ee=>n.jsxs(Tn,{children:[n.jsx(bt,{children:Ee.name}),n.jsx(bt,{className:"text-center",children:Ee.quantity}),n.jsxs(bt,{className:"text-right",children:["$ ",(Ee.price*Ee.quantity).toFixed(2)]}),n.jsx(bt,{className:"text-center",children:n.jsx(J,{variant:"ghost",size:"icon",onClick:()=>Je(Ee.id),disabled:$,children:n.jsx(Ru,{className:"h-4 w-4 text-destructive"})})})]},Ee.id))})]})}),n.jsxs(J,{type:"button",variant:"outline",size:"sm",onClick:Ge,disabled:$,children:[n.jsx(mw,{className:"mr-2 h-4 w-4"})," Adicionar Produto"]})]}),x.length===0&&n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"manualAmount",children:"Valor Manual ($)"}),n.jsx(ge,{id:"manualAmount",type:"number",min:"0",step:"0.01",placeholder:"0,00",value:B||"",onChange:Ee=>q(parseFloat(Ee.target.value)||0),disabled:$||x.length>0,className:"bg-orange-50"}),n.jsx("div",{className:"text-xs text-muted-foreground",children:"Informe o valor da venda manual quando não houver produtos específicos selecionados"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"subtotal",children:"Subtotal ($)"}),n.jsx(ge,{id:"subtotal",value:x.length>0?re.toFixed(2):B.toFixed(2),readOnly:!0,className:"bg-muted"})]}),n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"discount",children:"Desconto ($)"}),n.jsx(ge,{id:"discount",type:"number",min:"0",step:"0.01",placeholder:"0,00",value:M,onChange:Ee=>O(Ee.target.value),disabled:$})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"total",children:"Total ($)"}),n.jsx(ge,{id:"total",value:x.length>0?Te.toFixed(2):(B-se).toFixed(2),readOnly:!0,className:"bg-muted font-medium"})]}),n.jsxs("div",{children:[n.jsxs(Le,{htmlFor:"cashback",children:["Cashback (",Kr.cashbackRate*100,"%)"]}),n.jsx(ge,{id:"cashback",value:x.length>0?vt.toFixed(2):(B*Kr.cashbackRate).toFixed(2),readOnly:!0,className:"bg-muted text-green-600"})]})]}),n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"payment-method",children:"Método de Pagamento"}),n.jsxs(ur,{defaultValue:I,onValueChange:T,disabled:$,children:[n.jsx(cr,{id:"payment-method",children:n.jsx(fr,{placeholder:"Selecione um método"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"cash",children:"Dinheiro"}),n.jsx(ve,{value:"credit_card",children:"Cartão de Crédito"}),n.jsx(ve,{value:"debit_card",children:"Cartão de Débito"}),n.jsx(ve,{value:"pix",children:"PIX"}),n.jsx(ve,{value:"cashback",children:"Saldo de Cashback"})]})]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(PK,{id:"send-receipt",checked:V,onCheckedChange:Ee=>z(Ee),disabled:$}),n.jsx(Le,{htmlFor:"send-receipt",children:"Enviar comprovante por e-mail"})]}),n.jsx(J,{type:"submit",className:"w-full bg-accent hover:bg-accent/90",disabled:$||!s||x.length===0&&B<=0,children:$||fe.isPending?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Ku,{className:"mr-2 h-4 w-4"}),"Registrar Venda"]})})]})})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs(ne,{className:"bg-orange-50 border-orange-200",children:[n.jsx(de,{className:"pb-2",children:n.jsxs(ue,{className:"text-base flex items-center text-orange-700",children:[n.jsx(YT,{className:"mr-2 h-4 w-4"}),"Resumo da Distribuição de Valores"]})}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Valor da Venda:"}),n.jsxs("span",{className:"font-medium",children:["$ ",x.length>0?Te.toFixed(2):(B-se).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Cashback do Cliente (",Kr.cashbackRate*100,"%):"]}),n.jsxs("span",{className:"text-green-600",children:["$ ",x.length>0?vt.toFixed(2):(B*Kr.cashbackRate).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Taxa da Plataforma (",Kr.platformFee*100,"%):"]}),n.jsxs("span",{className:"text-blue-600",children:["$ ",x.length>0?(Te*Kr.platformFee).toFixed(2):(B*Kr.platformFee).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Taxa de Indicação (",Kr.referralRate*100,"%):"]}),n.jsxs("span",{className:"text-blue-600",children:["$ ",s!=null&&s.referredBy?x.length>0?Me.toFixed(2):(B*Kr.referralRate).toFixed(2):"0.00"]})]}),(s==null?void 0:s.referredBy)&&n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Bônus para Referenciador (",Kr.referralRate*100,"%):"]}),n.jsxs("span",{className:"text-blue-600",children:["$ ",x.length>0?Me.toFixed(2):(B*Kr.referralRate).toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Taxa do Lojista (",Kr.merchantCommission*100,"%):"]}),n.jsxs("span",{className:"text-orange-600",children:["$ ",x.length>0?he.toFixed(2):(B*Kr.merchantCommission).toFixed(2)]})]}),n.jsx("div",{className:"pt-2 border-t",children:n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Valor Líquido:"}),n.jsxs("span",{children:["$ ",x.length>0?(Te-he-Te*Kr.platformFee-(s!=null&&s.referredBy?Te*Kr.referralRate:0)).toFixed(2):(B-B*Kr.merchantCommission-B*Kr.platformFee-(s!=null&&s.referredBy?B*Kr.referralRate:0)).toFixed(2)]})]})})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Vendas Recentes"})}),n.jsx(ae,{children:n.jsx(Va,{data:(X==null?void 0:X.transactions)||[],columns:nr,actions:pr,pagination:{pageIndex:0,pageSize:5,pageCount:Math.ceil((((Gt=X==null?void 0:X.transactions)==null?void 0:Gt.length)||0)/5),onPageChange:Ee=>console.log("Page changed:",Ee)}})})]})]})]}),n.jsx(wn,{open:f,onOpenChange:Ee=>{if(!Ee&&!d)p(!1);else if(!Ee&&d)return},children:n.jsxs(un,{className:"sm:max-w-md",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Buscar Cliente"}),n.jsx(jn,{children:"Encontre o cliente pelo nome, e-mail, telefone ou código"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(ur,{defaultValue:r,onValueChange:Ee=>a(Ee),children:[n.jsx(cr,{className:"w-[120px]",children:n.jsx(fr,{placeholder:"Buscar por"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"name",children:"Nome"}),n.jsx(ve,{value:"email",children:"E-mail"}),n.jsx(ve,{value:"phone",children:"Telefone"}),n.jsx(ve,{value:"code",children:"Código"})]})]}),n.jsxs("div",{className:"relative flex-1",children:[n.jsx(ge,{placeholder:`Buscar por ${r==="name"?"nome":r==="email"?"e-mail":r==="phone"?"telefone":"código"}`,value:e,onChange:Ee=>t(Ee.target.value),className:"pl-9"}),n.jsx(ts,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"})]})]}),n.jsx("div",{className:"max-h-[300px] overflow-y-auto border rounded-md",children:d?n.jsxs("div",{className:"p-4 text-center",children:[n.jsx(lt,{className:"h-5 w-5 animate-spin mx-auto mb-2"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Buscando clientes..."})]}):o.length>0?n.jsx("div",{className:"divide-y",children:o.map(Ee=>n.jsxs("div",{className:"p-3 hover:bg-muted cursor-pointer transition-colors",onClick:ot=>rt(Ee,ot),children:[n.jsx("div",{className:"font-medium",children:Ee.name}),n.jsxs("div",{className:"text-sm text-muted-foreground flex flex-wrap gap-x-3",children:[n.jsxs("span",{className:"flex items-center",children:[n.jsx(Us,{className:"h-3 w-3 mr-1"})," ",Ee.email]}),Ee.phone&&n.jsxs("span",{className:"flex items-center",children:[n.jsx(Bd,{className:"h-3 w-3 mr-1"})," ",Ee.phone]})]}),Ee.referredBy&&n.jsx("div",{className:"mt-1 text-xs text-blue-600",children:"Cliente indicado • Bônus de indicação aplicável"})]},Ee.id))}):e.length>0?n.jsx("div",{className:"p-4 text-center",children:n.jsx("span",{className:"text-sm text-muted-foreground",children:"Nenhum cliente encontrado"})}):n.jsx("div",{className:"p-4 text-center",children:n.jsx("span",{className:"text-sm text-muted-foreground",children:"Digite para buscar clientes"})})})]}),n.jsx(Aa,{className:"sm:justify-start",children:n.jsx(J,{type:"button",variant:"secondary",onClick:()=>p(!1),children:"Cancelar"})})]})}),n.jsx(wn,{open:S,onOpenChange:Ee=>{if(!Ee&&!$)_(!1);else if(!Ee&&$)return},children:n.jsxs(un,{className:"sm:max-w-md",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Adicionar Produto"}),n.jsx(jn,{children:"Selecione um produto para adicionar ao carrinho"})]}),n.jsxs("div",{className:"space-y-4 py-4",children:[n.jsxs(ur,{onValueChange:Ee=>{const ot=te.find(ia=>ia.id.toString()===Ee);ot&&w(ot)},children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione um produto"})}),n.jsx(dr,{children:te.map(Ee=>n.jsxs(ve,{value:Ee.id.toString(),children:[Ee.name," - $ ",Ee.price.toFixed(2)]},Ee.id))})]}),j&&n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"p-3 border rounded-md bg-muted",children:[n.jsx("div",{className:"font-medium",children:j.name}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Preço unitário: $ ",j.price.toFixed(2)]}),j.category&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Categoria: ",j.category]})]}),n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"quantity",children:"Quantidade"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{type:"button",variant:"outline",size:"icon",onClick:()=>N(Math.max(1,C-1)),children:"-"}),n.jsx(ge,{id:"quantity",type:"number",min:"1",value:C,onChange:Ee=>N(parseInt(Ee.target.value)||1),className:"text-center"}),n.jsx(J,{type:"button",variant:"outline",size:"icon",onClick:()=>N(C+1),children:"+"})]})]}),n.jsx("div",{className:"pt-2",children:n.jsxs("div",{className:"flex justify-between font-medium",children:[n.jsx("span",{children:"Total:"}),n.jsxs("span",{children:["$ ",(j.price*C).toFixed(2)]})]})})]})]}),n.jsxs(Aa,{children:[n.jsx(J,{type:"button",variant:"secondary",onClick:()=>_(!1),children:"Cancelar"}),n.jsx(J,{type:"button",onClick:Ee=>Ae(Ee),disabled:!j,className:"bg-accent hover:bg-accent/90",children:"Adicionar ao Carrinho"})]})]})})]})}const e6=[];function ZLe(){const[e,t]=E.useState(!1),[r,a]=E.useState(!1),[s,i]=E.useState(null),[o,l]=E.useState(!1),{toast:d}=rr(),[u,f]=E.useState({name:"",description:"",category:"",price:"",inventory:"",active:!0}),{data:p,isLoading:x}=Nt({queryKey:["/api/merchant/products"],placeholderData:{products:[]}}),y=T=>{var M;T?(f({name:T.name,description:T.description||"",category:T.category||"",price:T.price.toString(),inventory:((M=T.inventory)==null?void 0:M.toString())||"",active:T.active}),i(T)):(f({name:"",description:"",category:"",price:"",inventory:"",active:!0}),i(null)),t(!0)},j=T=>{i(T),a(!0)},w=T=>{const{name:M,value:O}=T.target;f(D=>({...D,[M]:O}))},C=T=>{const{name:M,checked:O}=T.target;f(D=>({...D,[M]:O}))},N=async T=>{if(T.preventDefault(),!u.name||!u.price){d({title:"Campos obrigatórios",description:"Preencha todos os campos obrigatórios.",variant:"destructive"});return}l(!0);try{const M=s?`/api/merchant/products/${s.id}`:"/api/merchant/products";await St(s?"PATCH":"POST",M,{name:u.name,description:u.description,category:u.category,price:parseFloat(u.price),inventory:u.inventory?parseInt(u.inventory):null,active:u.active}),d({title:s?"Produto atualizado":"Produto adicionado",description:`${u.name} foi ${s?"atualizado":"adicionado"} com sucesso.`}),t(!1),Ut.invalidateQueries({queryKey:["/api/merchant/products"]})}catch{d({title:"Erro",description:`Erro ao ${s?"atualizar":"adicionar"} o produto.`,variant:"destructive"})}finally{l(!1)}},S=async()=>{if(s){l(!0);try{await St("DELETE",`/api/merchant/products/${s.id}`),d({title:"Produto removido",description:`${s.name} foi removido com sucesso.`}),a(!1),Ut.invalidateQueries({queryKey:["/api/merchant/products"]})}catch{d({title:"Erro",description:"Erro ao remover o produto.",variant:"destructive"})}finally{l(!1)}}},_=[{header:"Nome",accessorKey:"name"},{header:"Categoria",accessorKey:"category"},{header:"Preço",accessorKey:"price",cell:T=>Be(T.price)},{header:"Estoque",accessorKey:"inventory"},{header:"Status",accessorKey:"active",cell:T=>n.jsx(xt,{variant:T.active?"success":"secondary",children:T.active?"Ativo":"Inativo"})}],I=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:T=>{d({title:T.name,description:T.description||"Sem descrição disponível"})}},{label:"Editar",icon:n.jsx(Cd,{className:"h-4 w-4"}),onClick:y},{label:"Excluir",icon:n.jsx(Ru,{className:"h-4 w-4"}),onClick:j}];return n.jsxs(_t,{title:"Produtos/Serviços",type:"merchant",children:[n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Catálogo de Produtos"}),n.jsx(Re,{children:"Gerencie os produtos e serviços do seu estabelecimento"})]}),n.jsxs(J,{className:"bg-accent",onClick:()=>y(),children:[n.jsx(mw,{className:"mr-2 h-4 w-4"})," Adicionar Produto"]})]}),n.jsx(ae,{children:n.jsx(Va,{data:(p==null?void 0:p.products)||e6,columns:_,actions:I,searchable:!0,onSearch:T=>console.log("Searching:",T),filters:[{name:"Categoria",options:[{label:"Todas as categorias",value:"all"},{label:"Alimentos",value:"Alimentos"},{label:"Bebidas",value:"Bebidas"},{label:"Laticínios",value:"Laticínios"},{label:"Higiene",value:"Higiene"},{label:"Limpeza",value:"Limpeza"}],onChange:T=>console.log("Category filter:",T)},{name:"Status",options:[{label:"Todos",value:"all"},{label:"Ativos",value:"active"},{label:"Inativos",value:"inactive"}],onChange:T=>console.log("Status filter:",T)}],pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(((p==null?void 0:p.products)||e6).length/10),onPageChange:T=>console.log("Page:",T)},exportable:!0,onExport:()=>console.log("Exporting products")})})]}),n.jsx(wn,{open:e,onOpenChange:t,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:s?"Editar Produto":"Adicionar Produto"}),n.jsx(jn,{children:"Preencha as informações do produto abaixo"})]}),n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"name",children:"Nome *"}),n.jsx(ge,{id:"name",name:"name",value:u.name,onChange:w,placeholder:"Nome do produto",required:!0,disabled:o})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"description",children:"Descrição"}),n.jsx(Bs,{id:"description",name:"description",value:u.description,onChange:w,placeholder:"Descrição do produto",disabled:o})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"category",children:"Categoria"}),n.jsx(ge,{id:"category",name:"category",value:u.category,onChange:w,placeholder:"Categoria",disabled:o})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"price",children:"Preço ($) *"}),n.jsx(ge,{id:"price",name:"price",type:"number",min:"0",step:"0.01",value:u.price,onChange:w,placeholder:"0,00",required:!0,disabled:o})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"inventory",children:"Estoque"}),n.jsx(ge,{id:"inventory",name:"inventory",type:"number",min:"0",step:"1",value:u.inventory,onChange:w,placeholder:"Quantidade em estoque",disabled:o})]}),n.jsxs("div",{className:"flex items-center space-x-2 pt-8",children:[n.jsx("input",{type:"checkbox",id:"active",name:"active",checked:u.active,onChange:C,className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",disabled:o}),n.jsx(Le,{htmlFor:"active",children:"Produto ativo"})]})]}),n.jsxs(Aa,{children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:o,children:"Cancelar"}),n.jsx(J,{type:"submit",className:"bg-accent",disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),s?"Atualizando...":"Salvando..."]}):n.jsx(n.Fragment,{children:s?"Atualizar":"Salvar"})})]})]})]})}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Confirmar exclusão"}),n.jsxs(jn,{children:['Tem certeza que deseja excluir o produto "',s==null?void 0:s.name,'"? Esta ação não pode ser desfeita.']})]}),n.jsxs(Aa,{children:[n.jsx(J,{variant:"outline",onClick:()=>a(!1),disabled:o,children:"Cancelar"}),n.jsx(J,{variant:"destructive",onClick:S,disabled:o,children:o?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Excluindo..."]}):"Excluir"})]})]})})]})}function JLe({onSuccess:e,onError:t}={}){const[r,a]=E.useState(!1),[s,i]=E.useState(null),{toast:o}=rr(),l=E.useCallback(async(f,p)=>{a(!0);try{const y=await(await St("POST","/api/merchant/qrcode",{amount:f,description:p})).json();return i(y),e==null||e(y),y}catch(x){const y=x;o({title:"Erro ao gerar QR Code",description:y.message,variant:"destructive"}),t==null||t(y)}finally{a(!1)}},[o,e,t]),d=E.useCallback(async(f,p="cashback")=>{a(!0);try{const y=await(await St("POST","/api/client/pay-qrcode",{code:f,payment_method:p})).json();return e==null||e(y),y}catch(x){const y=x;return o({title:"QR Code inválido",description:y.message,variant:"destructive"}),t==null||t(y),null}finally{a(!1)}},[o,e,t]),u=E.useCallback(async f=>{a(!0);try{const x=await(await St("POST","/api/merchant/process-qrcode",{qrData:f})).json();return e==null||e(x),x}catch(p){const x=p;throw o({title:"Erro ao processar QR Code",description:x.message,variant:"destructive"}),t==null||t(x),x}finally{a(!1)}},[o,e,t]);return{loading:r,qrCode:s,generateQRCode:l,validateQRCode:d,processQrCode:u}}function e7e(){const[e,t]=E.useState(!1),[r,a]=E.useState(null),[s,i]=E.useState(!1);return{scanning:e,error:r,permission:s,startScanner:()=>{a(null),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({video:!0}).then(()=>{i(!0),t(!0)}).catch(d=>{a("Permissão de câmera negada. Por favor, conceda acesso à câmera para escanear QR codes."),t(!1)}):(a("Seu navegador não suporta acesso à câmera. Tente usar outro navegador."),t(!1))},stopScanner:()=>{t(!1)}}}function t7e({onScan:e,scanning:t}){E.useRef(null);const[r,a]=E.useState(!1);return E.useEffect(()=>{if(t){a(!0);const s=setTimeout(()=>{const i=JSON.stringify({type:"customer",id:123,name:"Maria Silva",email:"maria@example.com",wallet_id:"WALLET123"});e(i),a(!1)},3e3);return()=>clearTimeout(s)}},[t,e]),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"bg-gray-800 rounded-lg aspect-video flex items-center justify-center overflow-hidden",style:{minHeight:"300px"},children:t?r?n.jsxs("div",{className:"relative w-full h-full",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-700 to-gray-900"}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-64 h-64 border-2 border-white/50 rounded-lg"}),n.jsx("div",{className:"absolute top-0 left-0 w-64 h-64",children:n.jsx("div",{className:"w-16 h-2 bg-green-500 absolute top-0 left-0 animate-[scanline_2s_ease-in-out_infinite]"})})]})}),n.jsx("div",{className:"absolute bottom-4 left-0 right-0 text-center text-white",children:n.jsx("p",{children:"Posicione o QR code dentro da área"})})]}):n.jsxs("div",{className:"text-white flex flex-col items-center",children:[n.jsx(oc,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"Câmera inicializando..."})]}):n.jsxs("div",{className:"text-white flex flex-col items-center",children:[n.jsx(gte,{className:"h-12 w-12 mb-2 opacity-50"}),n.jsx("p",{children:"Câmera desativada"})]})}),n.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes scanline {
          0% {
            top: 0;
          }
          50% {
            top: calc(100% - 8px);
          }
          100% {
            top: 0;
          }
        }
      `}})]})}function r7e({onSubmit:e,isProcessing:t}){const[r,a]=E.useState(""),s=i=>{i.preventDefault(),r.trim()&&e(r)};return n.jsxs("form",{onSubmit:s,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"qr-code",children:"Código QR"}),n.jsx(ge,{id:"qr-code",placeholder:"Digite o código QR manualmente",value:r,onChange:i=>a(i.target.value),disabled:t})]}),n.jsx(J,{type:"submit",className:"w-full",disabled:!r.trim()||t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Processar Código"]})})]})}function n7e({result:e,onReset:t,onProceed:r,isProcessing:a}){if(!e)return null;const s=e.type==="customer",i=e.type==="payment";return n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx("div",{className:"h-10 w-10 rounded-full bg-green-100 text-green-600 flex items-center justify-center mr-3",children:n.jsx(cc,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg",children:"QR Code Válido"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:s?"Cliente identificado com sucesso!":i?"Pagamento identificado com sucesso!":"Código processado com sucesso!"})]})]}),n.jsx(ne,{children:n.jsxs(ae,{className:"pt-6",children:[s&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-5 w-5 text-primary mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),n.jsx("p",{className:"font-medium",children:e.name})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Us,{className:"h-5 w-5 text-primary mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Email"}),n.jsx("p",{children:e.email})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Mr,{className:"h-5 w-5 text-primary mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Carteira"}),n.jsx("p",{children:e.wallet_id})]})]})]}),i&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-5 w-5 text-primary mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cliente"}),n.jsx("p",{className:"font-medium",children:e.customer_name})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Mr,{className:"h-5 w-5 text-primary mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor"}),n.jsxs("p",{className:"font-medium",children:["R$ ",e.amount.toFixed(2)]})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:"h-5 w-5 text-primary mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Data"}),n.jsx("p",{children:e.date})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(YT,{className:"h-5 w-5 text-green-500 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cashback"}),n.jsxs("p",{className:"text-green-600",children:["R$ ",e.cashback.toFixed(2)]})]})]})]})]})}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs(J,{variant:"outline",onClick:t,className:"flex-1",disabled:a,children:[n.jsx(ph,{className:"h-4 w-4 mr-2"}),"Cancelar"]}),n.jsx(J,{onClick:r,className:"flex-1",disabled:a,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(cc,{className:"h-4 w-4 mr-2"}),s?"Registrar Venda":i?"Confirmar Pagamento":"Continuar"]})})]})]})}function a7e(){const[e,t]=E.useState("camera"),[r,a]=E.useState(null),[s,i]=E.useState(!1),{toast:o}=rr(),{scanning:l,error:d,permission:u,startScanner:f,stopScanner:p}=e7e(),{processQrCode:x}=JLe({onSuccess:S=>{a(S),p(),o({title:"QR Code processado",description:"Código QR verificado com sucesso!"})},onError:S=>{o({title:"Erro ao processar QR Code",description:S.message||"O código QR não pôde ser processado. Tente novamente.",variant:"destructive"})}}),y=Zt({mutationFn:S=>x(S),onError:()=>{o({title:"Erro ao processar QR Code",description:"O código QR não pôde ser processado. Tente novamente.",variant:"destructive"})}}),j=S=>{S&&y.mutate(S)},w=S=>{y.mutate(S)},C=()=>{a(null),i(!1),e==="camera"&&f()},N=()=>{i(!0),r.type==="customer"?setTimeout(()=>{window.location.href=`/merchant/sales?customer=${r.id}`},1500):r.type==="payment"?setTimeout(()=>{o({title:"Pagamento confirmado",description:`Pagamento de R$ ${r.amount.toFixed(2)} confirmado com sucesso.`}),C()},1500):setTimeout(()=>{o({title:"Código processado",description:"O código QR foi processado com sucesso."}),C()},1500)};return E.useEffect(()=>(e==="camera"&&!r?f():(e!=="camera"||r)&&p(),()=>{p()}),[e,r]),n.jsx(_t,{title:"Scanner QR Code",type:"merchant",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Scanner QR Code Vale Cashback"}),n.jsx(Re,{children:"Escaneie códigos QR para identificar clientes ou confirmar pagamentos"})]}),n.jsx(ae,{children:r?n.jsx(n7e,{result:r,onReset:C,onProceed:N,isProcessing:s}):n.jsxs("div",{children:[n.jsxs(Dr,{defaultValue:"camera",value:e,onValueChange:t,children:[n.jsxs(Pr,{className:"mb-4",children:[n.jsxs($e,{value:"camera",children:[n.jsx(oc,{className:"h-4 w-4 mr-2"}),"Câmera"]}),n.jsxs($e,{value:"manual",children:[n.jsx(Pn,{className:"h-4 w-4 mr-2"}),"Entrada Manual"]})]}),n.jsxs(Ze,{value:"camera",children:[d?n.jsx("div",{className:"rounded-lg border border-yellow-200 bg-yellow-50 p-4 mb-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(Yr,{className:"h-5 w-5 text-yellow-600 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-yellow-800",children:"Alerta de Câmera"}),n.jsx("p",{className:"text-sm text-yellow-700",children:d})]})]})}):n.jsx(t7e,{onScan:j,scanning:l}),!d&&u&&!l&&n.jsx("div",{className:"mt-4 flex justify-center",children:n.jsxs(J,{onClick:f,children:[n.jsx(oc,{className:"h-4 w-4 mr-2"}),"Ativar Câmera"]})})]}),n.jsx(Ze,{value:"manual",children:n.jsx(r7e,{onSubmit:w,isProcessing:y.isPending})})]}),n.jsx("div",{className:"mt-6 border-t pt-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(am,{className:"h-5 w-5 text-blue-500 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Como usar o Scanner QR"}),n.jsxs("ul",{className:"mt-2 space-y-2 text-sm text-muted-foreground",children:[n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"1."}),n.jsx("span",{children:"Para identificar um cliente, peça que ele mostre o código QR do aplicativo Vale Cashback."})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"2."}),n.jsx("span",{children:"Para confirmar um pagamento em cashback, escaneie o QR de pagamento gerado pelo cliente."})]}),n.jsxs("li",{className:"flex items-start",children:[n.jsx("span",{className:"mr-2",children:"3."}),n.jsx("span",{children:'Se a câmera não funcionar, utilize a aba "Entrada Manual" para digitar o código.'})]})]})]})]})})]})})]})})}const t6=[{id:1,name:"João Silva",email:"joao@email.com",purchases:12,totalSpent:1250.5,totalCashback:25.01,lastPurchase:"15/07/2023",transactions:[{id:101,date:"15/07/2023",amount:150,cashback:3,items:"5 itens"},{id:95,date:"10/07/2023",amount:200,cashback:4,items:"3 itens"},{id:87,date:"05/07/2023",amount:75.5,cashback:1.51,items:"2 itens"}],purchaseHistory:[{month:"Fev",value:150},{month:"Mar",value:200},{month:"Abr",value:175},{month:"Mai",value:350},{month:"Jun",value:225},{month:"Jul",value:150}]},{id:2,name:"Maria Souza",email:"maria@email.com",purchases:8,totalSpent:980.25,totalCashback:19.6,lastPurchase:"12/07/2023",transactions:[{id:99,date:"12/07/2023",amount:125.75,cashback:2.51,items:"4 itens"},{id:92,date:"08/07/2023",amount:85,cashback:1.7,items:"2 itens"},{id:85,date:"01/07/2023",amount:150.5,cashback:3.01,items:"3 itens"}],purchaseHistory:[{month:"Fev",value:100},{month:"Mar",value:150},{month:"Abr",value:200},{month:"Mai",value:180},{month:"Jun",value:225},{month:"Jul",value:125}]},{id:3,name:"Carlos Oliveira",email:"carlos@email.com",purchases:5,totalSpent:520,totalCashback:10.4,lastPurchase:"08/07/2023",transactions:[{id:97,date:"08/07/2023",amount:95,cashback:1.9,items:"3 itens"},{id:88,date:"02/07/2023",amount:125,cashback:2.5,items:"2 itens"},{id:82,date:"25/06/2023",amount:100,cashback:2,items:"1 item"}],purchaseHistory:[{month:"Fev",value:0},{month:"Mar",value:85},{month:"Abr",value:120},{month:"Mai",value:95},{month:"Jun",value:125},{month:"Jul",value:95}]},{id:4,name:"Ana Lima",email:"ana@email.com",purchases:15,totalSpent:1825.75,totalCashback:36.51,lastPurchase:"20/07/2023",transactions:[{id:105,date:"20/07/2023",amount:175.25,cashback:3.5,items:"6 itens"},{id:100,date:"15/07/2023",amount:120.5,cashback:2.41,items:"4 itens"},{id:93,date:"10/07/2023",amount:195,cashback:3.9,items:"5 itens"}],purchaseHistory:[{month:"Fev",value:200},{month:"Mar",value:250},{month:"Abr",value:300},{month:"Mai",value:350},{month:"Jun",value:400},{month:"Jul",value:325}]},{id:5,name:"Paulo Santos",email:"paulo@email.com",purchases:3,totalSpent:245,totalCashback:4.9,lastPurchase:"05/07/2023",transactions:[{id:90,date:"05/07/2023",amount:85,cashback:1.7,items:"2 itens"},{id:83,date:"28/06/2023",amount:75,cashback:1.5,items:"1 item"},{id:78,date:"20/06/2023",amount:85,cashback:1.7,items:"2 itens"}],purchaseHistory:[{month:"Fev",value:0},{month:"Mar",value:0},{month:"Abr",value:0},{month:"Mai",value:0},{month:"Jun",value:160},{month:"Jul",value:85}]}];function s7e(){const[e,t]=E.useState(null),[r,a]=E.useState(!1),{toast:s}=rr(),{data:i,isLoading:o}=Nt({queryKey:["/api/merchant/customers"]}),l=f=>{t(f),a(!0)},d=[{header:"Nome",accessorKey:"name"},{header:"Email",accessorKey:"email"},{header:"Compras",accessorKey:"purchases"},{header:"Total Gasto",accessorKey:"totalSpent",cell:f=>`R$ ${f.totalSpent.toFixed(2)}`},{header:"Cashback",accessorKey:"totalCashback",cell:f=>`R$ ${f.totalCashback.toFixed(2)}`},{header:"Última Compra",accessorKey:"lastPurchase"}],u=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:l}];return n.jsxs(_t,{title:"Clientes",type:"merchant",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Lista de Clientes"}),n.jsx(Re,{children:"Informações sobre os clientes do seu estabelecimento"})]}),n.jsx(ae,{children:n.jsx(Va,{data:(i==null?void 0:i.customers)||t6,columns:d,actions:u,searchable:!0,onSearch:f=>console.log("Searching:",f),pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(((i==null?void 0:i.customers)||t6).length/10),onPageChange:f=>console.log("Page:",f)},exportable:!0,onExport:()=>s({title:"Exportando dados",description:"Os dados dos clientes estão sendo exportados."})})})]}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{className:"max-w-4xl",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes do Cliente"}),n.jsx(jn,{children:"Informações detalhadas sobre o cliente"})]}),e&&n.jsxs(Dr,{defaultValue:"overview",className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3",children:[n.jsxs($e,{value:"overview",className:"flex items-center",children:[n.jsx(ea,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Visão Geral"})]}),n.jsxs($e,{value:"purchases",className:"flex items-center",children:[n.jsx(pd,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Compras"})]}),n.jsxs($e,{value:"analytics",className:"flex items-center",children:[n.jsx(lc,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Análise"})]})]}),n.jsx(Ze,{value:"overview",className:"mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Nome:"}),n.jsx("span",{className:"font-medium",children:e.name})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Email:"}),n.jsx("span",{className:"font-medium",children:e.email})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Número de compras:"}),n.jsx("span",{className:"font-medium",children:e.purchases})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total gasto:"}),n.jsxs("span",{className:"font-medium",children:["R$ ",e.totalSpent.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between py-2 border-b",children:[n.jsx("span",{className:"text-muted-foreground",children:"Total de cashback:"}),n.jsxs("span",{className:"font-medium",children:["R$ ",e.totalCashback.toFixed(2)]})]}),n.jsxs("div",{className:"flex justify-between py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Última compra:"}),n.jsx("span",{className:"font-medium",children:e.lastPurchase})]})]}),n.jsxs("div",{className:"p-4 bg-muted/10 rounded-lg",children:[n.jsx("h3",{className:"font-medium mb-2",children:"Valor médio de compra"}),n.jsxs("div",{className:"text-3xl font-bold text-accent",children:["R$ ",(e.totalSpent/e.purchases).toFixed(2)]}),n.jsx("h3",{className:"font-medium mt-4 mb-2",children:"Taxa de conversão de cashback"}),n.jsxs("div",{className:"text-3xl font-bold text-accent",children:[(e.totalCashback/e.totalSpent*100).toFixed(2),"%"]}),n.jsx("h3",{className:"font-medium mt-4 mb-2",children:"Status do cliente"}),n.jsx(xt,{className:"bg-accent",children:e.purchases>10?"Cliente frequente":e.purchases>5?"Cliente regular":"Cliente ocasional"})]})]})}),n.jsx(Ze,{value:"purchases",className:"mt-4",children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"ID"}),n.jsx(Et,{children:"Data"}),n.jsx(Et,{children:"Itens"}),n.jsx(Et,{className:"text-right",children:"Valor"}),n.jsx(Et,{className:"text-right",children:"Cashback"})]})}),n.jsx(pl,{children:e.transactions.map(f=>n.jsxs(Tn,{children:[n.jsx(bt,{children:f.id}),n.jsx(bt,{children:f.date}),n.jsx(bt,{children:f.items}),n.jsxs(bt,{className:"text-right",children:["R$ ",f.amount.toFixed(2)]}),n.jsxs(bt,{className:"text-right",children:["R$ ",f.cashback.toFixed(2)]})]},f.id))})]})}),n.jsxs(Ze,{value:"analytics",className:"mt-4",children:[n.jsx(Vj,{title:"Histórico de Compras",data:e.purchaseHistory,lines:[{dataKey:"value",name:"Valor Gasto (R$)"}],xAxisDataKey:"month",height:250}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-muted-foreground text-sm",children:"Frequência de Compra"}),n.jsxs("div",{className:"text-2xl font-bold",children:[(30/(e.purchases||1)).toFixed(1)," dias"]}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"entre compras em média"})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-muted-foreground text-sm",children:"Itens por Compra"}),n.jsx("div",{className:"text-2xl font-bold",children:(e.transactions.reduce((f,p)=>f+parseInt(p.items),0)/e.transactions.length).toFixed(1)}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"itens em média"})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-muted-foreground text-sm",children:"Tendência"}),n.jsx("div",{className:"text-2xl font-bold text-green-600",children:"↑ 12.5%"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"aumento em compras"})]})})})]})]})]})]})})]})}var i7e="Separator",r6="horizontal",o7e=["horizontal","vertical"],OK=E.forwardRef((e,t)=>{const{decorative:r,orientation:a=r6,...s}=e,i=l7e(a)?a:r6,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return n.jsx(ht.div,{"data-orientation":i,...l,...s,ref:t})});OK.displayName=i7e;function l7e(e){return o7e.includes(e)}var kK=OK;const Sa=E.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...a},s)=>n.jsx(kK,{ref:s,decorative:r,orientation:t,className:Ue("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...a}));Sa.displayName=kK.displayName;function c7e(){const[e,t]=E.useState(!1),[r,a]=E.useState(!1);E.useState("general");const[s,i]=E.useState(!1),o=E.useRef(null),l=E.useRef(null),{toast:d}=rr(),{data:u,isLoading:f}=Nt({queryKey:["/api/merchant/profile"]}),{data:p,isLoading:x}=Nt({queryKey:["/api/merchant/stats"],enabled:!!u}),y=u||{id:0,name:"",email:"",phone:"",address:"",city:"",state:"",country:"",status:"pending",category:"",description:"",business_hours:"",logo:null,photo:null,owner:"",created_at:new Date().toISOString(),invitationCode:"",approved:!1,cashbackRate:0,commissionRate:0,cashbackTotal:0,cashbackPromotions:{enabled:!1,doubleOnWeekends:!1,specialCategories:!1,minimumPurchase:0}},j=p||{totalSales:0,totalCustomers:0,averageOrderValue:0,totalCashbackIssued:0,conversionRate:0,recentSales:[]},w=y.cashbackPromotions||{enabled:!1,doubleOnWeekends:!1,specialCategories:!1,minimumPurchase:0},[C,N]=E.useState({show:!1,message:"",type:"loading"}),S=Zt({mutationFn:async q=>{const $=URL.createObjectURL(q);return Ut.setQueryData(["/api/merchant/profile"],L=>({...L,photo:$})),new Promise((L,H)=>{const G=new FileReader;G.readAsDataURL(q),G.onload=()=>{const Y=G.result;L(Y)},G.onerror=()=>{H(new Error("Falha ao processar a imagem"))}}).then(async L=>{const H=await St("POST","/api/merchant/profile/photo",{photo:L});if(!H.ok){const G=await H.json();throw new Error(G.message||"Falha ao atualizar foto")}return H.json()})},onSuccess:()=>{d({title:"Foto atualizada",description:"Sua foto de perfil foi atualizada com sucesso."}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]})},onError:q=>{Ut.invalidateQueries({queryKey:["/api/merchant/profile"]}),d({title:"Erro",description:q instanceof Error?q.message:"Ocorreu um erro ao atualizar a foto. Tente novamente.",variant:"destructive"})}}),_=Zt({mutationFn:async q=>{N({show:!0,message:"Atualizando o logo da loja...",type:"loading"});const $=URL.createObjectURL(q);return Ut.setQueryData(["/api/merchant/profile"],L=>({...L,logo:$})),new Promise((L,H)=>{const G=new FileReader;G.readAsDataURL(q),G.onload=()=>{const Y=G.result;L(Y)},G.onerror=()=>{H(new Error("Falha ao processar a imagem"))}}).then(async L=>{const H=await St("POST","/api/merchant/profile/logo",{logo:L});if(!H.ok){const G=await H.json();throw new Error(G.message||"Falha ao atualizar logo")}return H.json()})},onSuccess:()=>{N({show:!0,message:"Logo atualizado com sucesso!",type:"success"}),d({title:"Logo atualizado",description:"A imagem da loja foi atualizada com sucesso."}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]}),setTimeout(()=>{N(q=>({...q,show:!1}))},3e3)},onError:q=>{N({show:!0,message:q instanceof Error?q.message:"Falha ao atualizar logo",type:"error"}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]}),d({title:"Erro",description:q instanceof Error?q.message:"Ocorreu um erro ao atualizar a logo. Tente novamente.",variant:"destructive"}),setTimeout(()=>{N($=>({...$,show:!1}))},3e3)},onSettled:()=>{i(!1)}}),I=q=>{switch(q==null?void 0:q.toLowerCase()){case"active":case"ativo":return n.jsx(xt,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Ativo"});case"pending":case"pendente":return n.jsx(xt,{variant:"outline",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:"Pendente"});case"suspended":case"suspenso":return n.jsx(xt,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:"Suspenso"});default:return n.jsx(xt,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:"Desconhecido"})}},T=q=>{if(q.target.files&&q.target.files.length>0){const $=q.target.files[0];if($.size>5*1024*1024){d({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 5MB.",variant:"destructive"});return}i(!0),_.mutate($)}},M=q=>{if(q.target.files&&q.target.files.length>0){const $=q.target.files[0];if($.size>5*1024*1024){d({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 5MB.",variant:"destructive"});return}S.mutate($)}},O=()=>{o.current&&o.current.click()},D=()=>{l.current&&l.current.click()},R=async q=>{try{const $=await St("PATCH","/api/merchant/profile/status",{active:q});if($.ok)d({title:q?"Loja ativada":"Loja desativada",description:q?"Sua loja está agora visível para os clientes.":"Sua loja está temporariamente invisível para os clientes."}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]});else{const L=await $.json();throw new Error(L.message||"Falha ao atualizar status da loja")}}catch($){d({title:"Erro",description:$ instanceof Error?$.message:"Ocorreu um erro ao atualizar o status da loja.",variant:"destructive"})}},V=async q=>{q.preventDefault();const $=q.target;t(!0);try{const L=new FormData($),H={name:L.get("name"),description:L.get("description"),address:L.get("address"),city:L.get("city"),state:L.get("state"),phone:L.get("phone"),email:L.get("email"),website:L.get("website"),category:L.get("category"),owner:L.get("owner"),business_hours:L.get("business_hours")},G=await St("PATCH","/api/merchant/profile",H);if(G.ok)d({title:"Perfil atualizado",description:"As informações da loja foram atualizadas com sucesso."}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]});else{const Y=await G.json();throw new Error(Y.message||"Falha ao atualizar perfil")}}catch(L){console.error("Error updating profile:",L),d({title:"Erro",description:L instanceof Error?L.message:"Ocorreu um erro ao atualizar o perfil. Tente novamente.",variant:"destructive"})}finally{t(!1)}},z=async q=>{q.preventDefault();const $=q.target;a(!0);try{const L=new FormData($),H=L.get("current_password"),G=L.get("new_password"),Y=L.get("confirm_password");if(!H||!G||!Y){d({title:"Campos obrigatórios",description:"Todos os campos são obrigatórios para alterar sua senha.",variant:"destructive"});return}if(G!==Y){d({title:"Senhas não coincidem",description:"A nova senha e a confirmação devem ser idênticas.",variant:"destructive"});return}if(G.length<6){d({title:"Senha muito curta",description:"A nova senha deve ter pelo menos 6 caracteres.",variant:"destructive"});return}const te=await St("POST","/api/merchant/change-password",{currentPassword:H,newPassword:G});if(te.ok)d({title:"Senha alterada",description:"Sua senha foi atualizada com sucesso."}),$.reset();else{const X=await te.json();throw new Error(X.message||"Falha ao alterar senha")}}catch(L){d({title:"Erro",description:L instanceof Error?L.message:"Ocorreu um erro ao alterar sua senha. Tente novamente.",variant:"destructive"})}finally{a(!1)}},B=(q="")=>q.split(" ").map($=>$[0]).slice(0,2).join("").toUpperCase();return n.jsx(_t,{title:"Perfil da Loja",type:"merchant",children:f?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(Dr,{defaultValue:"general",className:"space-y-6",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3 lg:w-[600px] rounded-xl shadow-sm",children:[n.jsxs($e,{value:"general",className:"flex items-center h-12",children:[n.jsx(Cr,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Informações Gerais"})]}),n.jsxs($e,{value:"cashback",className:"flex items-center h-12",children:[n.jsx(yte,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Cashback"})]}),n.jsxs($e,{value:"security",className:"flex items-center h-12",children:[n.jsx(Pte,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Segurança"})]})]}),n.jsxs(Ze,{value:"general",children:[n.jsxs("div",{className:"flex flex-col p-8 mb-6 bg-gradient-to-br from-primary/10 via-accent/5 to-background rounded-xl shadow-md",children:[n.jsx("div",{className:"w-full flex flex-col items-center justify-center mb-6",children:n.jsxs("div",{onClick:O,className:"relative cursor-pointer group transition duration-300 transform hover:scale-105 mb-4",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:n.jsx(oc,{className:"text-white opacity-0 group-hover:opacity-100 h-8 w-8"})}),n.jsxs(ra,{className:"h-32 w-32 border-4 border-white shadow-lg",children:[n.jsx(ga,{src:y.logo,alt:y.name}),n.jsx(na,{className:"text-2xl bg-accent text-white",children:B(y.name)})]}),n.jsx("div",{className:"text-center mt-2 text-sm text-primary font-medium",children:"Logo da Loja"})]})}),n.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[n.jsxs("div",{onClick:D,className:"relative cursor-pointer group transition duration-300 transform hover:scale-105",children:[n.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all flex items-center justify-center",children:n.jsx(oc,{className:"text-white opacity-0 group-hover:opacity-100 h-6 w-6"})}),n.jsxs(ra,{className:"h-24 w-24 border-4 border-white shadow-lg",children:[n.jsx(ga,{src:y.photo,alt:y.owner||y.name}),n.jsx(na,{className:"text-xl bg-primary text-white",children:B(y.owner||y.name)})]}),n.jsx("div",{className:"text-center mt-2 text-xs text-muted-foreground",children:"Foto de Perfil"})]}),n.jsxs("div",{className:"flex flex-col items-center md:items-start gap-2 mt-4 md:mt-0 flex-1",children:[n.jsx(xt,{variant:y.approved?"default":"outline",className:"mb-1 px-3 py-1 font-medium",children:y.approved?"Aprovado":"Aprovação Pendente"}),n.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-center md:text-left",children:y.name}),n.jsxs("p",{className:"text-muted-foreground text-sm text-center md:text-left",children:["Lojista desde ",new Date(y.created_at).toLocaleDateString()]}),n.jsxs("div",{className:"flex flex-wrap items-center justify-center md:justify-start gap-2 mt-2",children:[n.jsx(xt,{variant:"outline",className:"px-3 py-1 text-sm bg-background",children:y.category||"Categoria não definida"}),I(y.status)]})]})]}),n.jsx("input",{type:"file",ref:o,onChange:T,accept:"image/jpeg, image/png, image/gif, image/webp",className:"hidden"}),n.jsx("input",{type:"file",ref:l,onChange:M,accept:"image/jpeg, image/png, image/gif, image/webp",className:"hidden"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[n.jsx(ne,{className:"shadow-md hover:shadow-lg transition-shadow duration-300",children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(Hr,{className:"w-10 h-10 text-accent mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total em Vendas"}),n.jsx("h3",{className:"text-2xl font-bold",children:Be(j.totalSales)})]})})}),n.jsx(ne,{className:"shadow-md hover:shadow-lg transition-shadow duration-300",children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(ir,{className:"w-10 h-10 text-accent mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Clientes"}),n.jsx("h3",{className:"text-2xl font-bold",children:j.totalCustomers})]})})}),n.jsx(ne,{className:"shadow-md hover:shadow-lg transition-shadow duration-300",children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(fa,{className:"w-10 h-10 text-accent mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total em Cashback"}),n.jsx("h3",{className:"text-2xl font-bold",children:Be(j.totalCashbackIssued)})]})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Informações da Loja"}),n.jsx(Re,{children:"Atualize as informações da sua loja"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:V,children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center md:items-start",children:[n.jsx(Le,{htmlFor:"store-status",className:"mb-2 font-medium text-sm text-gray-600",children:"Status da Loja"}),n.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[n.jsx(Tt,{id:"store-status",checked:y.status==="active",onCheckedChange:R}),n.jsx("span",{className:"text-sm",children:y.status==="active"?"Loja Ativa":"Loja Inativa"})]}),n.jsx("input",{type:"file",ref:o,onChange:T,accept:"image/jpeg, image/png, image/gif, image/webp",className:"hidden"}),n.jsx("input",{type:"file",ref:l,onChange:M,accept:"image/jpeg, image/png, image/gif, image/webp",className:"hidden"}),n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s&&n.jsxs("div",{className:"flex items-center text-accent",children:[n.jsx(lt,{className:"mr-1 h-3 w-3 animate-spin"}),n.jsx("span",{className:"text-xs",children:"Atualizando logo..."})]}),n.jsx("div",{className:"flex items-center space-x-2",children:I(y.status||"pending")}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[n.jsx(Tt,{id:"active-status",checked:y.status==="active",onCheckedChange:R}),n.jsx(Le,{htmlFor:"active-status",className:"text-sm cursor-pointer",children:y.status==="active"?"Loja Ativa":"Loja Inativa"})]})]})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"name",children:"Nome da Loja"}),n.jsx(ge,{id:"name",name:"name",defaultValue:y.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"category",children:"Categoria"}),n.jsxs("select",{id:"category",name:"category",defaultValue:y.category,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[n.jsx("option",{value:"Supermercado",children:"Supermercado"}),n.jsx("option",{value:"Restaurante",children:"Restaurante"}),n.jsx("option",{value:"Farmácia",children:"Farmácia"}),n.jsx("option",{value:"Posto de Combustível",children:"Posto de Combustível"}),n.jsx("option",{value:"Vestuário",children:"Vestuário"}),n.jsx("option",{value:"Outros",children:"Outros"})]})]}),n.jsxs("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Le,{htmlFor:"description",children:"Descrição"}),n.jsx(Bs,{id:"description",name:"description",defaultValue:y.description,rows:3,placeholder:"Descreva sua loja em poucas palavras"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"owner",children:"Responsável"}),n.jsx(ge,{id:"owner",name:"owner",defaultValue:y.owner,placeholder:"Nome do proprietário/responsável"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"email",children:"E-mail"}),n.jsx(ge,{id:"email",name:"email",type:"email",defaultValue:y.email,placeholder:"contato@minhaloja.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"phone",children:"Telefone"}),n.jsx(ge,{id:"phone",name:"phone",defaultValue:y.phone,placeholder:"(00) 00000-0000"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"website",children:"Website"}),n.jsx(ge,{id:"website",name:"website",defaultValue:y.website,placeholder:"www.minhaloja.com"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"address",children:"Endereço"}),n.jsx(ge,{id:"address",name:"address",defaultValue:y.address,placeholder:"Rua, número"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"city-state",children:"Cidade/Estado"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx(ge,{id:"city",name:"city",defaultValue:y.city,placeholder:"Cidade",className:"flex-1"}),n.jsx(ge,{id:"state",name:"state",defaultValue:y.state,placeholder:"UF",className:"w-20"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"business-hours",children:"Horário de Funcionamento"}),n.jsx(ge,{id:"business-hours",name:"business_hours",defaultValue:y.business_hours,placeholder:"Seg-Sex: 9h às 18h, Sáb: 9h às 13h"})]}),n.jsx("div",{className:"space-y-2 flex items-center",children:n.jsxs($s,{variant:"outline",className:"bg-muted/40 border-accent/20",children:[n.jsx(Yr,{className:"h-4 w-4 text-accent"}),n.jsx(qi,{className:"text-sm",children:"Status da Loja"}),n.jsx(Vs,{className:"text-xs",children:"Para alterar o status de visibilidade da loja, use o toggle próximo ao logo."})]})})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(J,{type:"submit",className:"bg-accent",disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar alterações"})})]})}),y.invitationCode&&n.jsxs(jr,{className:"bg-muted/50 flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cr,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-muted-foreground",children:"Seu código convite: "}),n.jsx("span",{className:"font-medium ml-1",children:y.invitationCode})]}),n.jsxs("span",{className:"text-xs text-muted-foreground sm:ml-auto",children:["Indique novos lojistas e ganhe bônus de ",Be(25)]})]})]})]}),n.jsxs(Ze,{value:"security",className:"space-y-6",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Alterar Senha"}),n.jsx(Re,{children:"Altere sua senha de acesso ao sistema"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:z,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"current_password",children:"Senha Atual"}),n.jsx(ge,{id:"current_password",name:"current_password",type:"password",placeholder:"Digite sua senha atual",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"new_password",children:"Nova Senha"}),n.jsx(ge,{id:"new_password",name:"new_password",type:"password",placeholder:"Digite a nova senha",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"confirm_password",children:"Confirmar Nova Senha"}),n.jsx(ge,{id:"confirm_password",name:"confirm_password",type:"password",placeholder:"Confirme a nova senha",required:!0})]}),n.jsxs($s,{variant:"outline",className:"bg-muted/40 border-muted-foreground/20",children:[n.jsx(Yr,{className:"h-4 w-4"}),n.jsx(qi,{className:"text-sm",children:"Segurança"}),n.jsx(Vs,{className:"text-xs",children:"Use senhas fortes com pelo menos 6 caracteres, incluindo letras, números e caracteres especiais."})]}),n.jsx(J,{type:"submit",className:"bg-primary",disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Atualizando..."]}):"Alterar Senha"})]})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Segurança da Conta"}),n.jsx(Re,{children:"Configurações de segurança adicionais"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Autenticação em Dois Fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurança"})]}),n.jsx(J,{variant:"outline",disabled:!0,children:"Em breve"})]}),n.jsx(Sa,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium",children:"Logins Recentes"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Verifique os dispositivos conectados"})]}),n.jsx(J,{variant:"outline",disabled:!0,children:"Em breve"})]})]})]})]}),n.jsxs(Ze,{value:"cashback",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[n.jsx(ne,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-indigo-100",children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(Hr,{className:"w-8 h-8 text-indigo-600 mb-2"}),n.jsx("p",{className:"text-sm text-indigo-700",children:"Cashback Base"}),n.jsxs("h3",{className:"text-2xl font-bold text-indigo-900",children:[y.cashbackRate||2,"%"]}),n.jsx("p",{className:"text-xs text-indigo-600 text-center",children:"Porcentagem padrão de retorno para o cliente"})]})})}),n.jsx(ne,{className:"bg-gradient-to-br from-purple-50 to-violet-50 border-violet-100",children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(fa,{className:"w-8 h-8 text-violet-600 mb-2"}),n.jsx("p",{className:"text-sm text-violet-700",children:"Comissão Sistema"}),n.jsxs("h3",{className:"text-2xl font-bold text-violet-900",children:[y.commissionRate||2,"%"]}),n.jsx("p",{className:"text-xs text-violet-600 text-center",children:"Taxa cobrada pelo Vale Cashback"})]})})}),n.jsx(ne,{className:"bg-gradient-to-br from-teal-50 to-green-50 border-green-100",children:n.jsx(ae,{className:"p-6",children:n.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[n.jsx(Cr,{className:"w-8 h-8 text-green-600 mb-2"}),n.jsx("p",{className:"text-sm text-green-700",children:"Total de Cashback"}),n.jsx("h3",{className:"text-2xl font-bold text-green-900",children:y.cashbackTotal?Be(y.cashbackTotal):Be(0)}),n.jsx("p",{className:"text-xs text-green-600 text-center",children:"Valor total distribuído em cashback"})]})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações de Cashback"}),n.jsx(Re,{children:"Personalize as regras de cashback para seus clientes"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:async q=>{q.preventDefault();const $=q.target,L=new FormData($);try{t(!0);const H={cashbackPromotions:{enabled:L.get("enable-promotions")==="on",doubleOnWeekends:L.get("double-weekends")==="on",specialCategories:L.get("special-categories")==="on",minimumPurchase:parseFloat(L.get("minimum-purchase"))||0,firstPurchaseBonus:L.get("first-purchase-bonus")==="on",birthDayBonus:L.get("birthday-bonus")==="on"}},G=await St("PATCH","/api/merchant/settings/cashback",H);if(G.ok)d({title:"Configurações atualizadas",description:"As configurações de cashback foram atualizadas com sucesso."}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]});else{const Y=await G.json();throw new Error(Y.message||"Falha ao atualizar configurações")}}catch(H){d({title:"Erro",description:H instanceof Error?H.message:"Ocorreu um erro ao atualizar as configurações. Tente novamente.",variant:"destructive"})}finally{t(!1)}},children:[n.jsxs($s,{className:"mb-6 bg-blue-50 border-blue-100",children:[n.jsx(Yr,{className:"h-4 w-4 text-blue-600"}),n.jsx(qi,{className:"text-blue-800",children:"Informação"}),n.jsx(Vs,{className:"text-blue-700",children:"O cashback é calculado como uma porcentagem do valor da compra. Você pode personalizar regras adicionais abaixo."})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Taxa de comissão padrão"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Esta é a taxa padrão definida pelo sistema"})]}),n.jsxs("div",{className:"bg-muted p-2 px-3 rounded-lg font-medium",children:[y.commissionRate||2,"%"]})]}),n.jsx(Sa,{}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("h3",{className:"font-medium",children:"Configurações de Promoções"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Defina regras especiais para aumentar a fidelização de clientes"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{htmlFor:"enable-promotions",children:"Habilitar promoções de cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Ofereça bônus de cashback em determinadas situações"})]}),n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"enable-promotions",name:"enable-promotions",className:"hidden",defaultChecked:w.enabled}),n.jsx(Tt,{id:"enable-promotions-switch",checked:w.enabled,onCheckedChange:q=>{const $=document.getElementById("enable-promotions");$&&($.checked=q)}})]})]}),n.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{htmlFor:"double-weekends",children:"Cashback em dobro nos finais de semana"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"O cashback será dobrado em compras realizadas aos sábados e domingos"})]}),n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"double-weekends",name:"double-weekends",className:"hidden",defaultChecked:w.doubleOnWeekends}),n.jsx(Tt,{id:"double-weekends-switch",checked:w.doubleOnWeekends,onCheckedChange:q=>{const $=document.getElementById("double-weekends");$&&($.checked=q)},disabled:!w.enabled})]})]}),n.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{htmlFor:"special-categories",children:"Cashback para categorias especiais"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Oferece cashback aumentado para certas categorias de produtos"})]}),n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"special-categories",name:"special-categories",className:"hidden",defaultChecked:w.specialCategories}),n.jsx(Tt,{id:"special-categories-switch",checked:w.specialCategories,onCheckedChange:q=>{const $=document.getElementById("special-categories");$&&($.checked=q)},disabled:!w.enabled})]})]}),n.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{htmlFor:"first-purchase-bonus",children:"Bônus na primeira compra"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Oferece um bônus extra na primeira compra de um cliente"})]}),n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"first-purchase-bonus",name:"first-purchase-bonus",className:"hidden",defaultChecked:w.firstPurchaseBonus}),n.jsx(Tt,{id:"first-purchase-bonus-switch",checked:w.firstPurchaseBonus||!1,onCheckedChange:q=>{const $=document.getElementById("first-purchase-bonus");$&&($.checked=q)},disabled:!w.enabled})]})]}),n.jsxs("div",{className:"flex items-center justify-between border-t pt-4",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{htmlFor:"birthday-bonus",children:"Bônus de aniversário"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Oferece cashback dobrado quando cliente compra no mês do seu aniversário"})]}),n.jsxs("div",{children:[n.jsx("input",{type:"checkbox",id:"birthday-bonus",name:"birthday-bonus",className:"hidden",defaultChecked:w.birthDayBonus}),n.jsx(Tt,{id:"birthday-bonus-switch",checked:w.birthDayBonus||!1,onCheckedChange:q=>{const $=document.getElementById("birthday-bonus");$&&($.checked=q)},disabled:!w.enabled})]})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"minimum-purchase",children:"Valor mínimo de compra para cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Defina um valor mínimo de compra para que o cashback seja aplicado"}),n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-2.5 text-muted-foreground",children:"$"}),n.jsx(ge,{id:"minimum-purchase",name:"minimum-purchase",type:"number",className:"pl-7",defaultValue:w.minimumPurchase||0,min:0,step:5,disabled:!w.enabled})]})]})})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(J,{type:"submit",className:"bg-accent",disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar configurações"})})]})}),n.jsxs(jr,{className:"bg-muted/50 justify-between flex-col sm:flex-row items-start border-t",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsxs("span",{className:"flex items-center mb-1",children:[n.jsx(Jn,{className:"h-3 w-3 mr-1 text-green-600"})," Cálculo automático de taxas"]}),n.jsxs("span",{className:"flex items-center",children:[n.jsx(Jn,{className:"h-3 w-3 mr-1 text-green-600"})," Distribuição proporcional do cashback"]})]}),n.jsx("div",{className:"text-sm text-muted-foreground mt-2 sm:mt-0",children:n.jsxs("span",{className:"flex items-center",children:["Última atualização: ",new Date().toLocaleDateString()]})})]})]}),n.jsxs(ne,{className:"mt-6",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Visualização para Clientes"}),n.jsx(Re,{children:"Assim é como os clientes veem sua loja"})]}),n.jsx(ae,{children:n.jsx("div",{className:"bg-muted p-6 rounded-lg",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsxs(ra,{className:"h-16 w-16",children:[n.jsx(ga,{src:y.logo,alt:y.name}),n.jsx(na,{className:"text-lg bg-accent text-white",children:B(y.name)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-xl font-bold",children:y.name}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:y.category}),n.jsx("p",{className:"text-sm mb-4",children:y.description}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(sm,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsxs("span",{children:[y.address,", ",y.city,"/",y.state]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Bd,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{children:y.phone})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Us,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{children:y.email})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Oi,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{children:y.website})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{children:y.business_hours})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsxs("span",{children:["Responsável: ",y.owner]})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs("div",{className:"px-3 py-1 rounded-full bg-accent/90 text-white text-sm",children:[y.cashbackRate||2,"% de cashback"]}),w.enabled&&w.doubleOnWeekends&&n.jsx("div",{className:"px-3 py-1 rounded-full bg-blue-600 text-white text-sm",children:"2x aos finais de semana"}),w.enabled&&w.firstPurchaseBonus&&n.jsx("div",{className:"px-3 py-1 rounded-full bg-green-600 text-white text-sm",children:"Bônus na primeira compra"}),w.enabled&&w.birthDayBonus&&n.jsx("div",{className:"px-3 py-1 rounded-full bg-purple-600 text-white text-sm",children:"Bônus de aniversário"}),w.enabled&&w.minimumPurchase>0&&n.jsxs("div",{className:"px-3 py-1 rounded-full bg-gray-600 text-white text-sm",children:["Mínimo: ",Be(w.minimumPurchase)]})]})]})]})})})]})]})]})})}var zt=function(){return zt=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},zt.apply(this,arguments)};function d7e(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}function IK(e,t,r){for(var a=0,s=t.length,i;a<s;a++)(i||!(a in t))&&(i||(i=Array.prototype.slice.call(t,0,a)),i[a]=t[a]);return e.concat(i||Array.prototype.slice.call(t))}function Q0(e){return e.mode==="multiple"}function Z0(e){return e.mode==="range"}function zj(e){return e.mode==="single"}var u7e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function h7e(e,t){return Ot(e,"LLLL y",t)}function f7e(e,t){return Ot(e,"d",t)}function m7e(e,t){return Ot(e,"LLLL",t)}function p7e(e){return"".concat(e)}function x7e(e,t){return Ot(e,"cccccc",t)}function g7e(e,t){return Ot(e,"yyyy",t)}var v7e=Object.freeze({__proto__:null,formatCaption:h7e,formatDay:f7e,formatMonthCaption:m7e,formatWeekNumber:p7e,formatWeekdayName:x7e,formatYearCaption:g7e}),y7e=function(e,t,r){return Ot(e,"do MMMM (EEEE)",r)},b7e=function(){return"Month: "},w7e=function(){return"Go to next month"},j7e=function(){return"Go to previous month"},N7e=function(e,t){return Ot(e,"cccc",t)},C7e=function(e){return"Week n. ".concat(e)},S7e=function(){return"Year: "},A7e=Object.freeze({__proto__:null,labelDay:y7e,labelMonthDropdown:b7e,labelNext:w7e,labelPrevious:j7e,labelWeekNumber:C7e,labelWeekday:N7e,labelYearDropdown:S7e});function E7e(){var e="buttons",t=u7e,r=ap,a={},s={},i=1,o={},l=new Date;return{captionLayout:e,classNames:t,formatters:v7e,labels:A7e,locale:r,modifiersClassNames:a,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function T7e(e){var t=e.fromYear,r=e.toYear,a=e.fromMonth,s=e.toMonth,i=e.fromDate,o=e.toDate;return a?i=Fs(a):t&&(i=new Date(t,0,1)),s?o=x3(s):r&&(o=new Date(r,11,31)),{fromDate:i?mm(i):void 0,toDate:o?mm(o):void 0}}var MK=E.createContext(void 0);function _7e(e){var t,r=e.initialProps,a=E7e(),s=T7e(r),i=s.fromDate,o=s.toDate,l=(t=r.captionLayout)!==null&&t!==void 0?t:a.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var d;(zj(r)||Q0(r)||Z0(r))&&(d=r.onSelect);var u=zt(zt(zt({},a),r),{captionLayout:l,classNames:zt(zt({},a.classNames),r.classNames),components:zt({},r.components),formatters:zt(zt({},a.formatters),r.formatters),fromDate:i,labels:zt(zt({},a.labels),r.labels),mode:r.mode||a.mode,modifiers:zt(zt({},a.modifiers),r.modifiers),modifiersClassNames:zt(zt({},a.modifiersClassNames),r.modifiersClassNames),onSelect:d,styles:zt(zt({},a.styles),r.styles),toDate:o});return n.jsx(MK.Provider,{value:u,children:e.children})}function rn(){var e=E.useContext(MK);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function RK(e){var t=rn(),r=t.locale,a=t.classNames,s=t.styles,i=t.formatters.formatCaption;return n.jsx("div",{className:a.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:r})})}function P7e(e){return n.jsx("svg",zt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:n.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DK(e){var t,r,a=e.onChange,s=e.value,i=e.children,o=e.caption,l=e.className,d=e.style,u=rn(),f=(r=(t=u.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&r!==void 0?r:P7e;return n.jsxs("div",{className:l,style:d,children:[n.jsx("span",{className:u.classNames.vhidden,children:e["aria-label"]}),n.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:s,onChange:a,children:i}),n.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,n.jsx(f,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function O7e(e){var t,r=rn(),a=r.fromDate,s=r.toDate,i=r.styles,o=r.locale,l=r.formatters.formatMonthCaption,d=r.classNames,u=r.components,f=r.labels.labelMonthDropdown;if(!a)return n.jsx(n.Fragment,{});if(!s)return n.jsx(n.Fragment,{});var p=[];if(gfe(a,s))for(var x=Fs(a),y=a.getMonth();y<=s.getMonth();y++)p.push(yN(x,y));else for(var x=Fs(new Date),y=0;y<=11;y++)p.push(yN(x,y));var j=function(C){var N=Number(C.target.value),S=yN(Fs(e.displayMonth),N);e.onChange(S)},w=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:DK;return n.jsx(w,{name:"months","aria-label":f(),className:d.dropdown_month,style:i.dropdown_month,onChange:j,value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:p.map(function(C){return n.jsx("option",{value:C.getMonth(),children:l(C,{locale:o})},C.getMonth())})})}function k7e(e){var t,r=e.displayMonth,a=rn(),s=a.fromDate,i=a.toDate,o=a.locale,l=a.styles,d=a.classNames,u=a.components,f=a.formatters.formatYearCaption,p=a.labels.labelYearDropdown,x=[];if(!s)return n.jsx(n.Fragment,{});if(!i)return n.jsx(n.Fragment,{});for(var y=s.getFullYear(),j=i.getFullYear(),w=y;w<=j;w++)x.push(xM(Lz(new Date),w));var C=function(S){var _=xM(Fs(r),Number(S.target.value));e.onChange(_)},N=(t=u==null?void 0:u.Dropdown)!==null&&t!==void 0?t:DK;return n.jsx(N,{name:"years","aria-label":p(),className:d.dropdown_year,style:l.dropdown_year,onChange:C,value:r.getFullYear(),caption:f(r,{locale:o}),children:x.map(function(S){return n.jsx("option",{value:S.getFullYear(),children:f(S,{locale:o})},S.getFullYear())})})}function I7e(e,t){var r=E.useState(e),a=r[0],s=r[1],i=t===void 0?a:t;return[i,s]}function M7e(e){var t=e.month,r=e.defaultMonth,a=e.today,s=t||r||a||new Date,i=e.toDate,o=e.fromDate,l=e.numberOfMonths,d=l===void 0?1:l;if(i&&pg(i,s)<0){var u=-1*(d-1);s=Yi(i,u)}return o&&pg(s,o)<0&&(s=o),Fs(s)}function R7e(){var e=rn(),t=M7e(e),r=I7e(t,e.month),a=r[0],s=r[1],i=function(o){var l;if(!e.disableNavigation){var d=Fs(o);s(d),(l=e.onMonthChange)===null||l===void 0||l.call(e,d)}};return[a,i]}function D7e(e,t){for(var r=t.reverseMonths,a=t.numberOfMonths,s=Fs(e),i=Fs(Yi(s,a)),o=pg(i,s),l=[],d=0;d<o;d++){var u=Yi(s,d);l.push(u)}return r&&(l=l.reverse()),l}function L7e(e,t){if(!t.disableNavigation){var r=t.toDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=a?i:1,l=Fs(e);if(!r)return Yi(l,o);var d=pg(r,e);if(!(d<i))return Yi(l,o)}}function F7e(e,t){if(!t.disableNavigation){var r=t.fromDate,a=t.pagedNavigation,s=t.numberOfMonths,i=s===void 0?1:s,o=a?i:1,l=Fs(e);if(!r)return Yi(l,-o);var d=pg(l,r);if(!(d<=0))return Yi(l,-o)}}var LK=E.createContext(void 0);function B7e(e){var t=rn(),r=R7e(),a=r[0],s=r[1],i=D7e(a,t),o=L7e(a,t),l=F7e(a,t),d=function(p){return i.some(function(x){return v3(p,x)})},u=function(p,x){d(p)||(x&&Wz(p,x)?s(Yi(p,1+t.numberOfMonths*-1)):s(p))},f={currentMonth:a,displayMonths:i,goToMonth:s,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:d};return n.jsx(LK.Provider,{value:f,children:e.children})}function J0(){var e=E.useContext(LK);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function n6(e){var t,r=rn(),a=r.classNames,s=r.styles,i=r.components,o=J0().goToMonth,l=function(f){o(Yi(f,e.displayIndex?-e.displayIndex:0))},d=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:RK,u=n.jsx(d,{id:e.id,displayMonth:e.displayMonth});return n.jsxs("div",{className:a.caption_dropdowns,style:s.caption_dropdowns,children:[n.jsx("div",{className:a.vhidden,children:u}),n.jsx(O7e,{onChange:l,displayMonth:e.displayMonth}),n.jsx(k7e,{onChange:l,displayMonth:e.displayMonth})]})}function $7e(e){return n.jsx("svg",zt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function V7e(e){return n.jsx("svg",zt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:n.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Hb=E.forwardRef(function(e,t){var r=rn(),a=r.classNames,s=r.styles,i=[a.button_reset,a.button];e.className&&i.push(e.className);var o=i.join(" "),l=zt(zt({},s.button_reset),s.button);return e.style&&Object.assign(l,e.style),n.jsx("button",zt({},e,{ref:t,type:"button",className:o,style:l}))});function z7e(e){var t,r,a=rn(),s=a.dir,i=a.locale,o=a.classNames,l=a.styles,d=a.labels,u=d.labelPrevious,f=d.labelNext,p=a.components;if(!e.nextMonth&&!e.previousMonth)return n.jsx(n.Fragment,{});var x=u(e.previousMonth,{locale:i}),y=[o.nav_button,o.nav_button_previous].join(" "),j=f(e.nextMonth,{locale:i}),w=[o.nav_button,o.nav_button_next].join(" "),C=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:V7e,N=(r=p==null?void 0:p.IconLeft)!==null&&r!==void 0?r:$7e;return n.jsxs("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&n.jsx(Hb,{name:"previous-month","aria-label":x,className:y,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:s==="rtl"?n.jsx(C,{className:o.nav_icon,style:l.nav_icon}):n.jsx(N,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&n.jsx(Hb,{name:"next-month","aria-label":j,className:w,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:s==="rtl"?n.jsx(N,{className:o.nav_icon,style:l.nav_icon}):n.jsx(C,{className:o.nav_icon,style:l.nav_icon})})]})}function a6(e){var t=rn().numberOfMonths,r=J0(),a=r.previousMonth,s=r.nextMonth,i=r.goToMonth,o=r.displayMonths,l=o.findIndex(function(j){return v3(e.displayMonth,j)}),d=l===0,u=l===o.length-1,f=t>1&&(d||!u),p=t>1&&(u||!d),x=function(){a&&i(a)},y=function(){s&&i(s)};return n.jsx(z7e,{displayMonth:e.displayMonth,hideNext:f,hidePrevious:p,nextMonth:s,previousMonth:a,onPreviousClick:x,onNextClick:y})}function U7e(e){var t,r=rn(),a=r.classNames,s=r.disableNavigation,i=r.styles,o=r.captionLayout,l=r.components,d=(t=l==null?void 0:l.CaptionLabel)!==null&&t!==void 0?t:RK,u;return s?u=n.jsx(d,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?u=n.jsx(n6,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?u=n.jsxs(n.Fragment,{children:[n.jsx(n6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),n.jsx(a6,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):u=n.jsxs(n.Fragment,{children:[n.jsx(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(a6,{displayMonth:e.displayMonth,id:e.id})]}),n.jsx("div",{className:a.caption,style:i.caption,children:u})}function W7e(e){var t=rn(),r=t.footer,a=t.styles,s=t.classNames.tfoot;return r?n.jsx("tfoot",{className:s,style:a.tfoot,children:n.jsx("tr",{children:n.jsx("td",{colSpan:8,children:r})})}):n.jsx(n.Fragment,{})}function H7e(e,t,r){for(var a=r?eh(new Date):vl(new Date,{locale:e,weekStartsOn:t}),s=[],i=0;i<7;i++){var o=ds(a,i);s.push(o)}return s}function q7e(){var e=rn(),t=e.classNames,r=e.styles,a=e.showWeekNumber,s=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,d=e.labels.labelWeekday,u=H7e(s,i,o);return n.jsxs("tr",{style:r.head_row,className:t.head_row,children:[a&&n.jsx("td",{style:r.head_cell,className:t.head_cell}),u.map(function(f,p){return n.jsx("th",{scope:"col",className:t.head_cell,style:r.head_cell,"aria-label":d(f,{locale:s}),children:l(f,{locale:s})},p)})]})}function G7e(){var e,t=rn(),r=t.classNames,a=t.styles,s=t.components,i=(e=s==null?void 0:s.HeadRow)!==null&&e!==void 0?e:q7e;return n.jsx("thead",{style:a.head,className:r.head,children:n.jsx(i,{})})}function K7e(e){var t=rn(),r=t.locale,a=t.formatters.formatDay;return n.jsx(n.Fragment,{children:a(e.date,{locale:r})})}var K_=E.createContext(void 0);function Y7e(e){if(!Q0(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return n.jsx(K_.Provider,{value:t,children:e.children})}return n.jsx(X7e,{initialProps:e.initialProps,children:e.children})}function X7e(e){var t=e.initialProps,r=e.children,a=t.selected,s=t.min,i=t.max,o=function(u,f,p){var x,y;(x=t.onDayClick)===null||x===void 0||x.call(t,u,f,p);var j=!!(f.selected&&s&&(a==null?void 0:a.length)===s);if(!j){var w=!!(!f.selected&&i&&(a==null?void 0:a.length)===i);if(!w){var C=a?IK([],a):[];if(f.selected){var N=C.findIndex(function(S){return ks(u,S)});C.splice(N,1)}else C.push(u);(y=t.onSelect)===null||y===void 0||y.call(t,C,u,f,p)}}},l={disabled:[]};a&&l.disabled.push(function(u){var f=i&&a.length>i-1,p=a.some(function(x){return ks(x,u)});return!!(f&&!p)});var d={selected:a,onDayClick:o,modifiers:l};return n.jsx(K_.Provider,{value:d,children:r})}function Y_(){var e=E.useContext(K_);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function Q7e(e,t){var r=t||{},a=r.from,s=r.to;return a&&s?ks(s,e)&&ks(a,e)?void 0:ks(s,e)?{from:s,to:void 0}:ks(a,e)?void 0:tA(a,e)?{from:e,to:s}:{from:a,to:e}:s?tA(e,s)?{from:s,to:e}:{from:e,to:s}:a?Wz(e,a)?{from:e,to:a}:{from:a,to:e}:{from:e,to:void 0}}var X_=E.createContext(void 0);function Z7e(e){if(!Z0(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return n.jsx(X_.Provider,{value:t,children:e.children})}return n.jsx(J7e,{initialProps:e.initialProps,children:e.children})}function J7e(e){var t=e.initialProps,r=e.children,a=t.selected,s=a||{},i=s.from,o=s.to,l=t.min,d=t.max,u=function(y,j,w){var C,N;(C=t.onDayClick)===null||C===void 0||C.call(t,y,j,w);var S=Q7e(y,a);(N=t.onSelect)===null||N===void 0||N.call(t,S,y,j,w)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(f.range_start=[i],o?(f.range_end=[o],ks(i,o)||(f.range_middle=[{after:i,before:o}])):f.range_end=[i]):o&&(f.range_start=[o],f.range_end=[o]),l&&(i&&!o&&f.disabled.push({after:_y(i,l-1),before:ds(i,l-1)}),i&&o&&f.disabled.push({after:i,before:ds(i,l-1)}),!i&&o&&f.disabled.push({after:_y(o,l-1),before:ds(o,l-1)})),d){if(i&&!o&&(f.disabled.push({before:ds(i,-d+1)}),f.disabled.push({after:ds(i,d-1)})),i&&o){var p=Jo(o,i)+1,x=d-p;f.disabled.push({before:_y(i,x)}),f.disabled.push({after:ds(o,x)})}!i&&o&&(f.disabled.push({before:ds(o,-d+1)}),f.disabled.push({after:ds(o,d-1)}))}return n.jsx(X_.Provider,{value:{selected:a,onDayClick:u,modifiers:f},children:r})}function Q_(){var e=E.useContext(X_);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Iy(e){return Array.isArray(e)?IK([],e):e!==void 0?[e]:[]}function eFe(e){var t={};return Object.entries(e).forEach(function(r){var a=r[0],s=r[1];t[a]=Iy(s)}),t}var Io;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Io||(Io={}));var tFe=Io.Selected,Il=Io.Disabled,rFe=Io.Hidden,nFe=Io.Today,JN=Io.RangeEnd,eC=Io.RangeMiddle,tC=Io.RangeStart,aFe=Io.Outside;function sFe(e,t,r){var a,s=(a={},a[tFe]=Iy(e.selected),a[Il]=Iy(e.disabled),a[rFe]=Iy(e.hidden),a[nFe]=[e.today],a[JN]=[],a[eC]=[],a[tC]=[],a[aFe]=[],a);return e.fromDate&&s[Il].push({before:e.fromDate}),e.toDate&&s[Il].push({after:e.toDate}),Q0(e)?s[Il]=s[Il].concat(t.modifiers[Il]):Z0(e)&&(s[Il]=s[Il].concat(r.modifiers[Il]),s[tC]=r.modifiers[tC],s[eC]=r.modifiers[eC],s[JN]=r.modifiers[JN]),s}var FK=E.createContext(void 0);function iFe(e){var t=rn(),r=Y_(),a=Q_(),s=sFe(t,r,a),i=eFe(t.modifiers),o=zt(zt({},s),i);return n.jsx(FK.Provider,{value:o,children:e.children})}function BK(){var e=E.useContext(FK);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function oFe(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function lFe(e){return!!(e&&typeof e=="object"&&"from"in e)}function cFe(e){return!!(e&&typeof e=="object"&&"after"in e)}function dFe(e){return!!(e&&typeof e=="object"&&"before"in e)}function uFe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function hFe(e,t){var r,a=t.from,s=t.to;if(a&&s){var i=Jo(s,a)<0;i&&(r=[s,a],a=r[0],s=r[1]);var o=Jo(e,a)>=0&&Jo(s,e)>=0;return o}return s?ks(s,e):a?ks(a,e):!1}function fFe(e){return p3(e)}function mFe(e){return Array.isArray(e)&&e.every(p3)}function pFe(e,t){return t.some(function(r){if(typeof r=="boolean")return r;if(fFe(r))return ks(e,r);if(mFe(r))return r.includes(e);if(lFe(r))return hFe(e,r);if(uFe(r))return r.dayOfWeek.includes(e.getDay());if(oFe(r)){var a=Jo(r.before,e),s=Jo(r.after,e),i=a>0,o=s<0,l=tA(r.before,r.after);return l?o&&i:i||o}return cFe(r)?Jo(e,r.after)>0:dFe(r)?Jo(r.before,e)>0:typeof r=="function"?r(e):!1})}function Z_(e,t,r){var a=Object.keys(t).reduce(function(i,o){var l=t[o];return pFe(e,l)&&i.push(o),i},[]),s={};return a.forEach(function(i){return s[i]=!0}),r&&!v3(e,r)&&(s.outside=!0),s}function xFe(e,t){for(var r=Fs(e[0]),a=x3(e[e.length-1]),s,i,o=r;o<=a;){var l=Z_(o,t),d=!l.disabled&&!l.hidden;if(!d){o=ds(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=ds(o,1)}return i||s}var gFe=365;function $K(e,t){var r=t.moveBy,a=t.direction,s=t.context,i=t.modifiers,o=t.retry,l=o===void 0?{count:0,lastFocused:e}:o,d=s.weekStartsOn,u=s.fromDate,f=s.toDate,p=s.locale,x={day:ds,week:eA,month:Yi,year:mhe,startOfWeek:function(C){return s.ISOWeek?eh(C):vl(C,{locale:p,weekStartsOn:d})},endOfWeek:function(C){return s.ISOWeek?Fz(C):g3(C,{locale:p,weekStartsOn:d})}},y=x[r](e,a==="after"?1:-1);a==="before"&&u?y=phe([u,y]):a==="after"&&f&&(y=xhe([f,y]));var j=!0;if(i){var w=Z_(y,i);j=!w.disabled&&!w.hidden}return j?y:l.count>gFe?l.lastFocused:$K(y,{moveBy:r,direction:a,context:s,modifiers:i,retry:zt(zt({},l),{count:l.count+1})})}var VK=E.createContext(void 0);function vFe(e){var t=J0(),r=BK(),a=E.useState(),s=a[0],i=a[1],o=E.useState(),l=o[0],d=o[1],u=xFe(t.displayMonths,r),f=s??(l&&t.isDateDisplayed(l))?l:u,p=function(){d(s),i(void 0)},x=function(C){i(C)},y=rn(),j=function(C,N){if(s){var S=$K(s,{moveBy:C,direction:N,context:y,modifiers:r});ks(s,S)||(t.goToDate(S,s),x(S))}},w={focusedDay:s,focusTarget:f,blur:p,focus:x,focusDayAfter:function(){return j("day","after")},focusDayBefore:function(){return j("day","before")},focusWeekAfter:function(){return j("week","after")},focusWeekBefore:function(){return j("week","before")},focusMonthBefore:function(){return j("month","before")},focusMonthAfter:function(){return j("month","after")},focusYearBefore:function(){return j("year","before")},focusYearAfter:function(){return j("year","after")},focusStartOfWeek:function(){return j("startOfWeek","before")},focusEndOfWeek:function(){return j("endOfWeek","after")}};return n.jsx(VK.Provider,{value:w,children:e.children})}function J_(){var e=E.useContext(VK);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function yFe(e,t){var r=BK(),a=Z_(e,r,t);return a}var eP=E.createContext(void 0);function bFe(e){if(!zj(e.initialProps)){var t={selected:void 0};return n.jsx(eP.Provider,{value:t,children:e.children})}return n.jsx(wFe,{initialProps:e.initialProps,children:e.children})}function wFe(e){var t=e.initialProps,r=e.children,a=function(i,o,l){var d,u,f;if((d=t.onDayClick)===null||d===void 0||d.call(t,i,o,l),o.selected&&!t.required){(u=t.onSelect)===null||u===void 0||u.call(t,void 0,i,o,l);return}(f=t.onSelect)===null||f===void 0||f.call(t,i,i,o,l)},s={selected:t.selected,onDayClick:a};return n.jsx(eP.Provider,{value:s,children:r})}function zK(){var e=E.useContext(eP);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function jFe(e,t){var r=rn(),a=zK(),s=Y_(),i=Q_(),o=J_(),l=o.focusDayAfter,d=o.focusDayBefore,u=o.focusWeekAfter,f=o.focusWeekBefore,p=o.blur,x=o.focus,y=o.focusMonthBefore,j=o.focusMonthAfter,w=o.focusYearBefore,C=o.focusYearAfter,N=o.focusStartOfWeek,S=o.focusEndOfWeek,_=function(G){var Y,te,X,fe;zj(r)?(Y=a.onDayClick)===null||Y===void 0||Y.call(a,e,t,G):Q0(r)?(te=s.onDayClick)===null||te===void 0||te.call(s,e,t,G):Z0(r)?(X=i.onDayClick)===null||X===void 0||X.call(i,e,t,G):(fe=r.onDayClick)===null||fe===void 0||fe.call(r,e,t,G)},I=function(G){var Y;x(e),(Y=r.onDayFocus)===null||Y===void 0||Y.call(r,e,t,G)},T=function(G){var Y;p(),(Y=r.onDayBlur)===null||Y===void 0||Y.call(r,e,t,G)},M=function(G){var Y;(Y=r.onDayMouseEnter)===null||Y===void 0||Y.call(r,e,t,G)},O=function(G){var Y;(Y=r.onDayMouseLeave)===null||Y===void 0||Y.call(r,e,t,G)},D=function(G){var Y;(Y=r.onDayPointerEnter)===null||Y===void 0||Y.call(r,e,t,G)},R=function(G){var Y;(Y=r.onDayPointerLeave)===null||Y===void 0||Y.call(r,e,t,G)},V=function(G){var Y;(Y=r.onDayTouchCancel)===null||Y===void 0||Y.call(r,e,t,G)},z=function(G){var Y;(Y=r.onDayTouchEnd)===null||Y===void 0||Y.call(r,e,t,G)},B=function(G){var Y;(Y=r.onDayTouchMove)===null||Y===void 0||Y.call(r,e,t,G)},q=function(G){var Y;(Y=r.onDayTouchStart)===null||Y===void 0||Y.call(r,e,t,G)},$=function(G){var Y;(Y=r.onDayKeyUp)===null||Y===void 0||Y.call(r,e,t,G)},L=function(G){var Y;switch(G.key){case"ArrowLeft":G.preventDefault(),G.stopPropagation(),r.dir==="rtl"?l():d();break;case"ArrowRight":G.preventDefault(),G.stopPropagation(),r.dir==="rtl"?d():l();break;case"ArrowDown":G.preventDefault(),G.stopPropagation(),u();break;case"ArrowUp":G.preventDefault(),G.stopPropagation(),f();break;case"PageUp":G.preventDefault(),G.stopPropagation(),G.shiftKey?w():y();break;case"PageDown":G.preventDefault(),G.stopPropagation(),G.shiftKey?C():j();break;case"Home":G.preventDefault(),G.stopPropagation(),N();break;case"End":G.preventDefault(),G.stopPropagation(),S();break}(Y=r.onDayKeyDown)===null||Y===void 0||Y.call(r,e,t,G)},H={onClick:_,onFocus:I,onBlur:T,onKeyDown:L,onKeyUp:$,onMouseEnter:M,onMouseLeave:O,onPointerEnter:D,onPointerLeave:R,onTouchCancel:V,onTouchEnd:z,onTouchMove:B,onTouchStart:q};return H}function NFe(){var e=rn(),t=zK(),r=Y_(),a=Q_(),s=zj(e)?t.selected:Q0(e)?r.selected:Z0(e)?a.selected:void 0;return s}function CFe(e){return Object.values(Io).includes(e)}function SFe(e,t){var r=[e.classNames.day];return Object.keys(t).forEach(function(a){var s=e.modifiersClassNames[a];if(s)r.push(s);else if(CFe(a)){var i=e.classNames["day_".concat(a)];i&&r.push(i)}}),r}function AFe(e,t){var r=zt({},e.styles.day);return Object.keys(t).forEach(function(a){var s;r=zt(zt({},r),(s=e.modifiersStyles)===null||s===void 0?void 0:s[a])}),r}function EFe(e,t,r){var a,s,i,o=rn(),l=J_(),d=yFe(e,t),u=jFe(e,d),f=NFe(),p=!!(o.onDayClick||o.mode!=="default");E.useEffect(function(){var M;d.outside||l.focusedDay&&p&&ks(l.focusedDay,e)&&((M=r.current)===null||M===void 0||M.focus())},[l.focusedDay,e,r,p,d.outside]);var x=SFe(o,d).join(" "),y=AFe(o,d),j=!!(d.outside&&!o.showOutsideDays||d.hidden),w=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:K7e,C=n.jsx(w,{date:e,displayMonth:t,activeModifiers:d}),N={style:y,className:x,children:C,role:"gridcell"},S=l.focusTarget&&ks(l.focusTarget,e)&&!d.outside,_=l.focusedDay&&ks(l.focusedDay,e),I=zt(zt(zt({},N),(a={disabled:d.disabled,role:"gridcell"},a["aria-selected"]=d.selected,a.tabIndex=_||S?0:-1,a)),u),T={isButton:p,isHidden:j,activeModifiers:d,selectedDays:f,buttonProps:I,divProps:N};return T}function TFe(e){var t=E.useRef(null),r=EFe(e.date,e.displayMonth,t);return r.isHidden?n.jsx("div",{role:"gridcell"}):r.isButton?n.jsx(Hb,zt({name:"day",ref:t},r.buttonProps)):n.jsx("div",zt({},r.divProps))}function _Fe(e){var t=e.number,r=e.dates,a=rn(),s=a.onWeekNumberClick,i=a.styles,o=a.classNames,l=a.locale,d=a.labels.labelWeekNumber,u=a.formatters.formatWeekNumber,f=u(Number(t),{locale:l});if(!s)return n.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:f});var p=d(Number(t),{locale:l}),x=function(y){s(t,r,y)};return n.jsx(Hb,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:x,children:f})}function PFe(e){var t,r,a=rn(),s=a.styles,i=a.classNames,o=a.showWeekNumber,l=a.components,d=(t=l==null?void 0:l.Day)!==null&&t!==void 0?t:TFe,u=(r=l==null?void 0:l.WeekNumber)!==null&&r!==void 0?r:_Fe,f;return o&&(f=n.jsx("td",{className:i.cell,style:s.cell,children:n.jsx(u,{number:e.weekNumber,dates:e.dates})})),n.jsxs("tr",{className:i.row,style:s.row,children:[f,e.dates.map(function(p){return n.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:n.jsx(d,{displayMonth:e.displayMonth,date:p})},mfe(p))})]})}function s6(e,t,r){for(var a=r!=null&&r.ISOWeek?Fz(t):g3(t,r),s=r!=null&&r.ISOWeek?eh(e):vl(e,r),i=Jo(a,s),o=[],l=0;l<=i;l++)o.push(ds(s,l));var d=o.reduce(function(u,f){var p=r!=null&&r.ISOWeek?$z(f):zz(f,r),x=u.find(function(y){return y.weekNumber===p});return x?(x.dates.push(f),u):(u.push({weekNumber:p,dates:[f]}),u)},[]);return d}function OFe(e,t){var r=s6(Fs(e),x3(e),t);if(t!=null&&t.useFixedWeeks){var a=xfe(e,t);if(a<6){var s=r[r.length-1],i=s.dates[s.dates.length-1],o=eA(i,6-a),l=s6(eA(i,1),o,t);r.push.apply(r,l)}}return r}function kFe(e){var t,r,a,s=rn(),i=s.locale,o=s.classNames,l=s.styles,d=s.hideHead,u=s.fixedWeeks,f=s.components,p=s.weekStartsOn,x=s.firstWeekContainsDate,y=s.ISOWeek,j=OFe(e.displayMonth,{useFixedWeeks:!!u,ISOWeek:y,locale:i,weekStartsOn:p,firstWeekContainsDate:x}),w=(t=f==null?void 0:f.Head)!==null&&t!==void 0?t:G7e,C=(r=f==null?void 0:f.Row)!==null&&r!==void 0?r:PFe,N=(a=f==null?void 0:f.Footer)!==null&&a!==void 0?a:W7e;return n.jsxs("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!d&&n.jsx(w,{}),n.jsx("tbody",{className:o.tbody,style:l.tbody,children:j.map(function(S){return n.jsx(C,{displayMonth:e.displayMonth,dates:S.dates,weekNumber:S.weekNumber},S.weekNumber)})}),n.jsx(N,{displayMonth:e.displayMonth})]})}function IFe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var MFe=IFe()?E.useLayoutEffect:E.useEffect,rC=!1,RFe=0;function i6(){return"react-day-picker-".concat(++RFe)}function DFe(e){var t,r=e??(rC?i6():null),a=E.useState(r),s=a[0],i=a[1];return MFe(function(){s===null&&i(i6())},[]),E.useEffect(function(){rC===!1&&(rC=!0)},[]),(t=e??s)!==null&&t!==void 0?t:void 0}function LFe(e){var t,r,a=rn(),s=a.dir,i=a.classNames,o=a.styles,l=a.components,d=J0().displayMonths,u=DFe(a.id?"".concat(a.id,"-").concat(e.displayIndex):void 0),f=a.id?"".concat(a.id,"-grid-").concat(e.displayIndex):void 0,p=[i.month],x=o.month,y=e.displayIndex===0,j=e.displayIndex===d.length-1,w=!y&&!j;s==="rtl"&&(t=[y,j],j=t[0],y=t[1]),y&&(p.push(i.caption_start),x=zt(zt({},x),o.caption_start)),j&&(p.push(i.caption_end),x=zt(zt({},x),o.caption_end)),w&&(p.push(i.caption_between),x=zt(zt({},x),o.caption_between));var C=(r=l==null?void 0:l.Caption)!==null&&r!==void 0?r:U7e;return n.jsxs("div",{className:p.join(" "),style:x,children:[n.jsx(C,{id:u,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),n.jsx(kFe,{id:f,"aria-labelledby":u,displayMonth:e.displayMonth})]},e.displayIndex)}function FFe(e){var t=rn(),r=t.classNames,a=t.styles;return n.jsx("div",{className:r.months,style:a.months,children:e.children})}function BFe(e){var t,r,a=e.initialProps,s=rn(),i=J_(),o=J0(),l=E.useState(!1),d=l[0],u=l[1];E.useEffect(function(){s.initialFocus&&i.focusTarget&&(d||(i.focus(i.focusTarget),u(!0)))},[s.initialFocus,d,i.focus,i.focusTarget,i]);var f=[s.classNames.root,s.className];s.numberOfMonths>1&&f.push(s.classNames.multiple_months),s.showWeekNumber&&f.push(s.classNames.with_weeknumber);var p=zt(zt({},s.styles.root),s.style),x=Object.keys(a).filter(function(j){return j.startsWith("data-")}).reduce(function(j,w){var C;return zt(zt({},j),(C={},C[w]=a[w],C))},{}),y=(r=(t=a.components)===null||t===void 0?void 0:t.Months)!==null&&r!==void 0?r:FFe;return n.jsx("div",zt({className:f.join(" "),style:p,dir:s.dir,id:s.id,nonce:a.nonce,title:a.title,lang:a.lang},x,{children:n.jsx(y,{children:o.displayMonths.map(function(j,w){return n.jsx(LFe,{displayIndex:w,displayMonth:j},w)})})}))}function $Fe(e){var t=e.children,r=d7e(e,["children"]);return n.jsx(_7e,{initialProps:r,children:n.jsx(B7e,{children:n.jsx(bFe,{initialProps:r,children:n.jsx(Y7e,{initialProps:r,children:n.jsx(Z7e,{initialProps:r,children:n.jsx(iFe,{children:n.jsx(vFe,{children:t})})})})})})})}function VFe(e){return n.jsx($Fe,zt({},e,{children:n.jsx(BFe,{initialProps:e})}))}function vp({className:e,classNames:t,showOutsideDays:r=!0,...a}){return n.jsx(VFe,{showOutsideDays:r,className:Ue("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Ue(IS({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Ue(IS({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:s,...i})=>n.jsx(XT,{className:Ue("h-4 w-4",s),...i}),IconRight:({className:s,...i})=>n.jsx(_o,{className:Ue("h-4 w-4",s),...i})},...a})}vp.displayName="Calendar";const o6={cash:n.jsx(ta,{className:"h-4 w-4"}),credit_card:n.jsx(Mr,{className:"h-4 w-4"}),debit_card:n.jsx(Mr,{className:"h-4 w-4"}),pix:n.jsx(Pn,{className:"h-4 w-4"}),cashback:n.jsx(ta,{className:"h-4 w-4"})},zFe={completed:n.jsx(cs,{className:"h-4 w-4 text-green-500"}),pending:n.jsx(Vn,{className:"h-4 w-4 text-yellow-500"}),cancelled:n.jsx(Ls,{className:"h-4 w-4 text-red-500"})};function UFe(){var B,q,$;const[e,t]=E.useState(""),[r,a]=E.useState({from:void 0,to:void 0}),[s,i]=E.useState(null),[o,l]=E.useState(null),[d,u]=E.useState("all"),{toast:f}=rr();E.useEffect(()=>{const L=setInterval(()=>{Ut.invalidateQueries({queryKey:["/api/merchant/transactions"]})},5e3);return()=>clearInterval(L)},[]);const{data:p,isLoading:x,error:y}=Nt({queryKey:["/api/merchant/transactions"],refetchOnWindowFocus:!0,retry:3,refetchOnMount:!0,enabled:!0,queryFn:async()=>{try{const L=await fetch("/api/merchant/transactions",{credentials:"include",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}});if(!L.ok)throw console.error("Resposta da API não está ok:",await L.text()),new Error("Falha ao buscar transações");return await L.json()}catch(L){return console.error("Erro na busca de transações:",L),{transactions:[],totalAmount:0,totalCashback:0,statusCounts:[],paymentMethodSummary:[]}}}}),j=((p==null?void 0:p.transactions)||[]).filter(L=>{if(d!=="all"&&L.status!==d||e&&!L.customer.toLowerCase().includes(e.toLowerCase())||s!==null&&L.status!==s||o!==null&&L.paymentMethod!==o)return!1;if(r.from||r.to){const H=new Date(L.date);if(r.from&&H<r.from)return!1;if(r.to){const G=new Date(r.to);if(G.setHours(23,59,59,999),H>G)return!1}}return!0}),w=j.reduce((L,H)=>L+(H.amount||0),0),C=j.reduce((L,H)=>L+(H.cashback||0),0),N=(p==null?void 0:p.statusCounts)||[],S=((B=N.find(L=>L.status==="completed"))==null?void 0:B.count)||((p==null?void 0:p.transactions)||[]).filter(L=>L.status==="completed").length,_=((q=N.find(L=>L.status==="pending"))==null?void 0:q.count)||((p==null?void 0:p.transactions)||[]).filter(L=>L.status==="pending").length,I=(($=N.find(L=>L.status==="cancelled"))==null?void 0:$.count)||((p==null?void 0:p.transactions)||[]).filter(L=>L.status==="cancelled").length,T=(p==null?void 0:p.paymentMethodSummary)||[],M=T.length>0?T.reduce((L,H)=>(L[H.method]=parseFloat(H.sum.toString()),L),{}):((p==null?void 0:p.transactions)||[]).reduce((L,H)=>(L[H.paymentMethod]=(L[H.paymentMethod]||0)+H.amount,L),{}),O=()=>{f({title:"Exportação iniciada",description:"Seus dados estão sendo exportados para CSV."}),setTimeout(()=>{f({title:"Exportação concluída",description:"Arquivo CSV exportado com sucesso."})},1500)},D=L=>{try{const H=L.amount||0,G=L.platformFee||H*.05,Y=L.merchantCommission||H*.02,te=L.clientCashback||L.cashback||H*.02,X=L.referralBonus||H*.01,fe=L.netAmount||H-G-te-X,re=Be(H),se=Be(fe),Te=Be(G),vt=Be(te),Me=Be(X),he=Be(Y);let rt=L.date;try{rt=Ot(new Date(L.date),"dd/MM/yyyy HH:mm")}catch{}const Ae=[`Cliente: ${L.customer}`,`Data: ${rt}`,`Origem: ${L.source==="qrcode"?"QR Code":"Manual"}`,L.qrCodeId?`ID do QR Code: ${L.qrCodeId}`:"",`Método: ${{cash:"Dinheiro",credit_card:"Cartão de Crédito",debit_card:"Cartão de Débito",pix:"Pix",cashback:"Cashback",wallet:"Carteira Digital"}[L.paymentMethod]||L.paymentMethod}`,`Status: ${{completed:"Concluída",pending:"Pendente",cancelled:"Cancelada"}[L.status]||L.status}`,`Descrição: ${L.description||"Não especificada"}`,"----------------------------------------",`Valor Total: ${re}`,`Taxa da Plataforma (5%): ${Te}`,`Cashback do Cliente (2%): ${vt}`,`Bônus de Indicação (1%): ${Me}`,`Valor Líquido: ${se}`].filter(Boolean).join(`
`);f({title:`Detalhes da Venda #${L.id}`,description:n.jsx("pre",{className:"whitespace-pre-wrap text-xs mt-2 font-mono bg-muted p-2 rounded",children:Ae}),duration:1e4})}catch(H){console.error("Erro ao exibir detalhes da transação:",H),f({title:`Venda #${L.id}`,description:`Cliente: ${L.customer}`,variant:"default"})}},R=L=>{try{const H=L.amount||0,G=L.platformFee||H*.05,Y=L.merchantCommission||H*.02,te=L.clientCashback||L.cashback||H*.02,X=L.referralBonus||H*.01,fe=L.netAmount||H-G-te-X;let re="N/A";try{re=Ot(new Date(L.date),"dd/MM/yyyy HH:mm:ss")}catch{}const se=`
Vale Cashback - Recibo de Venda
==============================
Nº da Transação: ${L.id}
Data/Hora: ${re}
Cliente: ${L.customer}
Origem: ${L.source==="qrcode"?"QR Code":"Manual"}
${L.qrCodeId?`ID do QR Code: ${L.qrCodeId}`:""}
Método de Pagamento: ${{cash:"Dinheiro",credit_card:"Cartão de Crédito",debit_card:"Cartão de Débito",pix:"Pix",cashback:"Cashback",wallet:"Carteira Digital"}[L.paymentMethod]||L.paymentMethod}
Status: ${{completed:"Concluída",pending:"Pendente",cancelled:"Cancelada"}[L.status]||L.status}

DETALHES DA TRANSAÇÃO
==============================
${L.description||"Venda Vale Cashback"}
${L.items||""}
${L.itemsList?L.itemsList.map(Te=>`${Te.name} x${Te.quantity} - ${Be(Te.price*Te.quantity)}`).join(`
`):""}

RESUMO FINANCEIRO
==============================
Valor Bruto: ${Be(H)}
(-) Taxa da Plataforma (5%): ${Be(G)}
(-) Cashback do Cliente (2%): ${Be(te)}
(-) Bônus de Indicação (1%): ${Be(X)}
==============================
(=) Valor Líquido: ${Be(fe)}

Obrigado por usar o Vale Cashback!
www.valecashback.com
      `.trim();f({title:"Recibo gerado com sucesso",description:n.jsxs("div",{className:"mt-2",children:[n.jsxs("p",{className:"mb-2",children:["Recibo para a venda #",L.id," está pronto para impressão"]}),n.jsxs(J,{size:"sm",variant:"secondary",className:"w-full",onClick:()=>{const Te=new Blob([se],{type:"text/plain"}),vt=URL.createObjectURL(Te),Me=document.createElement("a");Me.href=vt,Me.download=`recibo-venda-${L.id}.txt`,document.body.appendChild(Me),Me.click(),document.body.removeChild(Me),URL.revokeObjectURL(vt)},children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Baixar Recibo"]})]}),duration:1e4})}catch(H){console.error("Erro ao preparar impressão do recibo:",H),f({title:"Erro ao gerar recibo",description:"Não foi possível gerar o recibo para esta transação.",variant:"destructive"})}},V=[{header:"ID",accessorKey:"id"},{header:"Cliente",accessorKey:"customer",cell:L=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:L.customer})]})},{header:"Data",accessorKey:"date",cell:L=>{try{const H=new Date(L.date);return Ot(H,"dd/MM/yyyy HH:mm")}catch{return L.date||"N/A"}}},{header:"Origem",accessorKey:"source",cell:L=>{const H={manual:"Manual",qrcode:"QR Code"},G={manual:n.jsx(Bi,{className:"h-4 w-4 mr-1"}),qrcode:n.jsx(Pn,{className:"h-4 w-4 mr-1"})};return n.jsxs("div",{className:"flex items-center",children:[G[L.source||"manual"],n.jsx("span",{children:H[L.source||"manual"]})]})}},{header:"Valor Total",accessorKey:"amount",cell:L=>n.jsx("span",{className:"font-medium",children:Be(L.amount)})},{header:"Valor Líquido",accessorKey:"netAmount",cell:L=>{const H=L.netAmount??L.amount-(L.platformFee||0)-(L.clientCashback||0)-(L.referralBonus||0);return n.jsx("span",{className:"font-medium text-blue-600",children:Be(H)})}},{header:"Taxa Total",accessorKey:"fees",cell:L=>{const H=(L.platformFee||0)+(L.clientCashback||0)+(L.referralBonus||0);return n.jsx("span",{className:"text-orange-600 font-medium",children:Be(H)})}},{header:"Cashback Cliente",accessorKey:"clientCashback",cell:L=>n.jsx("span",{className:"text-green-600",children:Be(L.clientCashback||L.cashback||0)})},{header:"Pagamento",accessorKey:"paymentMethod",cell:L=>{const H={cash:"Dinheiro",credit_card:"Crédito",debit_card:"Débito",pix:"Pix",cashback:"Cashback",wallet:"Carteira Digital"};return n.jsxs("div",{className:"flex items-center",children:[o6[L.paymentMethod]||n.jsx(Mr,{className:"h-4 w-4 mr-1"}),n.jsx("span",{className:"ml-1",children:H[L.paymentMethod]||L.paymentMethod})]})}},{header:"Status",accessorKey:"status",cell:L=>{const H={completed:"Concluída",pending:"Pendente",cancelled:"Cancelada"},G={completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800"};return n.jsxs("div",{className:`rounded-full px-2 py-1 text-xs font-medium inline-flex items-center ${G[L.status]}`,children:[zFe[L.status],n.jsx("span",{className:"ml-1",children:H[L.status]})]})}}],z=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:L=>D(L)},{label:"Imprimir recibo",icon:n.jsx(HF,{className:"h-4 w-4"}),onClick:L=>R(L)}];return y&&(console.error("Erro ao carregar transações:",y),f({title:"Erro ao carregar transações",description:"Não foi possível carregar suas transações. Tente novamente mais tarde.",variant:"destructive"})),x?n.jsx(_t,{title:"Histórico de Transações",type:"merchant",children:n.jsxs("div",{className:"flex flex-col items-center justify-center p-12 min-h-[50vh]",children:[n.jsx("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-t-transparent border-primary"}),n.jsx("p",{className:"mt-4 text-muted-foreground",children:"Carregando transações..."})]})}):n.jsx(_t,{title:"Histórico de Transações",type:"merchant",children:n.jsxs(Dr,{defaultValue:"all",value:d,onValueChange:u,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs(Pr,{children:[n.jsx($e,{value:"all",children:"Todas"}),n.jsx($e,{value:"completed",children:"Concluídas"}),n.jsx($e,{value:"pending",children:"Pendentes"}),n.jsx($e,{value:"cancelled",children:"Canceladas"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(ep,{children:[n.jsx(tp,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"w-[240px] justify-start text-left font-normal",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),r.from?r.to?n.jsxs(n.Fragment,{children:[Ot(r.from,"dd/MM/yyyy")," -"," ",Ot(r.to,"dd/MM/yyyy")]}):Ot(r.from,"dd/MM/yyyy"):n.jsx("span",{children:"Selecione um período"})]})}),n.jsx(yh,{className:"w-auto p-0",children:n.jsx(vp,{initialFocus:!0,mode:"range",defaultMonth:new Date,selected:{from:r.from||void 0,to:r.to||void 0},onSelect:L=>{a(L||{from:void 0,to:void 0})},locale:ap})})]}),n.jsxs(J,{variant:"outline",onClick:O,children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total Vendas"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Be(w)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[j.length," transações"]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total Cashback"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:Be(C)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[w>0?Number((C/w*100).toFixed(1)):0,"% do total"]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Status"})}),n.jsx(ae,{className:"pt-0",children:n.jsxs("div",{className:"space-y-1.5",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(cs,{className:"h-3.5 w-3.5 text-green-500 mr-1.5"}),n.jsx("span",{children:"Concluídas"})]}),n.jsx("span",{className:"text-sm font-medium",children:S})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Vn,{className:"h-3.5 w-3.5 text-yellow-500 mr-1.5"}),n.jsx("span",{children:"Pendentes"})]}),n.jsx("span",{className:"text-sm font-medium",children:_})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Ls,{className:"h-3.5 w-3.5 text-red-500 mr-1.5"}),n.jsx("span",{children:"Canceladas"})]}),n.jsx("span",{className:"text-sm font-medium",children:I})]})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Pagamento"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:Object.entries(M).map(([L,H])=>{const G={cash:"Dinheiro",credit_card:"Crédito",debit_card:"Débito",pix:"Pix",cashback:"Cashback"};return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[o6[L]||n.jsx(Mr,{className:"h-3.5 w-3.5 mr-1.5"}),n.jsx("span",{className:"ml-1",children:G[L]||L})]}),n.jsx("span",{className:"text-sm font-medium",children:Be(H)})]},L)})})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Transações"}),n.jsx(Re,{children:"Histórico completo de vendas realizadas na sua loja"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative w-full md:w-[300px]",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar por cliente...",className:"pl-8",value:e,onChange:L=>t(L.target.value)})]}),n.jsxs("div",{className:"flex flex-1 gap-4",children:[n.jsxs(ur,{value:s===null?"all":s,onValueChange:L=>i(L==="all"?null:L),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Status"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os status"}),n.jsx(ve,{value:"completed",children:"Concluídas"}),n.jsx(ve,{value:"pending",children:"Pendentes"}),n.jsx(ve,{value:"cancelled",children:"Canceladas"})]})]}),n.jsxs(ur,{value:o===null?"all":o,onValueChange:L=>l(L==="all"?null:L),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Forma de pagamento"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os pagamentos"}),n.jsx(ve,{value:"cash",children:"Dinheiro"}),n.jsx(ve,{value:"credit_card",children:"Cartão de Crédito"}),n.jsx(ve,{value:"debit_card",children:"Cartão de Débito"}),n.jsx(ve,{value:"pix",children:"Pix"}),n.jsx(ve,{value:"cashback",children:"Cashback"})]})]})]})]}),n.jsx(Va,{data:j,columns:V,actions:z,searchable:!1,pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(j.length/10),onPageChange:()=>{}}})]})]})]})})}const WFe={completed:"bg-green-500",pending:"bg-orange-500",cancelled:"bg-red-500",refunded:"bg-blue-500"};function HFe(){const{user:e}=Oa(),{toast:t}=rr(),{t:r}=bs(),a=Nl(),[s,i]=E.useState(""),[o,l]=E.useState(null),[d,u]=E.useState(""),[f,p]=E.useState(""),[x,y]=E.useState(""),[j,w]=E.useState(""),[C,N]=E.useState(!1),[S,_]=E.useState(!1),[I,T]=E.useState(!1),[M,O]=E.useState(!1);console.log("Usuário na página de transações:",e);const{data:D,isLoading:R}=Nt({queryKey:["/api/merchant/sales"],queryFn:async()=>{try{const re=await fetch("/api/merchant/sales",{credentials:"include"});return re.ok?await re.json():(console.log("Usando dados de exemplo para gestão de transações"),[{id:1,userName:"Maria Silva",amount:270.5,cashback_amount:5.41,payment_method:"CREDIT_CARD",status:"completed",created_at:new Date().toISOString(),description:"Compra de produtos"},{id:2,userName:"João Santos",amount:150.25,cashback_amount:3,payment_method:"PIX",status:"completed",created_at:new Date().toISOString(),description:"Serviços prestados"},{id:3,userName:"Ana Oliveira",amount:320,cashback_amount:6.4,payment_method:"CASH",status:"pending",created_at:new Date().toISOString(),description:"Venda em processamento"}])}catch(re){return console.error("Erro ao carregar transações:",re),[]}}}),z=(Array.isArray(D)?D:[]).filter(re=>{var Te,vt,Me;if(!s)return!0;const se=s.toLowerCase();return(((Te=re.id)==null?void 0:Te.toString())||"").includes(se)||(re.userName||"").toLowerCase().includes(se)||(re.amount||"").toString().includes(se)||((vt=re.payment_method)==null?void 0:vt.toLowerCase().includes(se))||((Me=re.status)==null?void 0:Me.toLowerCase().includes(se))}),B=Zt({mutationFn:async({id:re,reason:se})=>await(await St("PUT",`/api/merchant/sales/${re}/status`,{status:"cancelled",reason:se})).json(),onSuccess:()=>{t({title:r("merchant.transactionManagement.dialogs.cancel.success"),description:r("merchant.transactionManagement.dialogs.cancel.successDescription")}),a.invalidateQueries({queryKey:["/api/merchant/sales"]}),a.invalidateQueries({queryKey:["/api/merchant/dashboard"]}),_(!1),u("")},onError:re=>{t({title:r("merchant.transactionManagement.dialogs.cancel.error"),description:re.message,variant:"destructive"})}}),q=Zt({mutationFn:async({id:re,reason:se})=>await(await St("PUT",`/api/merchant/sales/${re}/status`,{status:"refunded",reason:se})).json(),onSuccess:()=>{t({title:r("merchant.transactionManagement.dialogs.refund.success"),description:r("merchant.transactionManagement.dialogs.refund.successDescription")}),a.invalidateQueries({queryKey:["/api/merchant/sales"]}),a.invalidateQueries({queryKey:["/api/merchant/dashboard"]}),T(!1),p("")},onError:re=>{t({title:r("merchant.transactionManagement.dialogs.refund.error"),description:re.message,variant:"destructive"})}}),$=Zt({mutationFn:async re=>await(await St("PUT",`/api/merchant/sales/${re}/status`,{status:"completed"})).json(),onSuccess:()=>{t({title:r("merchant.transactionManagement.dialogs.complete.success"),description:r("merchant.transactionManagement.dialogs.complete.successDescription")}),a.invalidateQueries({queryKey:["/api/merchant/sales"]}),a.invalidateQueries({queryKey:["/api/merchant/dashboard"]})},onError:re=>{t({title:r("merchant.transactionManagement.dialogs.complete.error"),description:re.message,variant:"destructive"})}}),L=Zt({mutationFn:async({id:re,notes:se,payment_method:Te})=>{const vt={};return se!==void 0&&(vt.notes=se),Te!==void 0&&(vt.payment_method=Te),await(await St("PUT",`/api/merchant/sales/${re}`,vt)).json()},onSuccess:()=>{t({title:r("merchant.transactionManagement.dialogs.edit.success"),description:r("merchant.transactionManagement.dialogs.edit.successDescription")}),a.invalidateQueries({queryKey:["/api/merchant/sales"]}),O(!1)},onError:re=>{t({title:r("merchant.transactionManagement.dialogs.edit.error"),description:re.message,variant:"destructive"})}}),H=Zt({mutationFn:async re=>await(await St("DELETE",`/api/merchant/sales/${re}`)).json(),onSuccess:()=>{t({title:r("merchant.transactionManagement.dialogs.delete.success"),description:r("merchant.transactionManagement.dialogs.delete.successDescription")}),a.invalidateQueries({queryKey:["/api/merchant/sales"]}),a.invalidateQueries({queryKey:["/api/merchant/dashboard"]}),N(!1)},onError:re=>{t({title:r("merchant.transactionManagement.dialogs.delete.error"),description:re.message,variant:"destructive"})}}),G=re=>{l(re),_(!0)},Y=re=>{l(re),T(!0)},te=re=>{l(re),y(re.description||""),w(re.payment_method||""),O(!0)},X=re=>{l(re),N(!0)},fe=re=>{$.mutate(re)};return n.jsxs(_t,{title:r("merchant.transactionManagement.title")||"Gerenciamento de Transações",type:"merchant",children:[n.jsxs("div",{className:"container mx-auto py-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:r("merchant.transactionManagement.title")||"Gerenciamento de Transações"}),n.jsx("div",{className:"flex gap-2",children:n.jsx(ge,{placeholder:r("merchant.transactionManagement.searchPlaceholder")||"Buscar transações...",value:s,onChange:re=>i(re.target.value),className:"max-w-xs"})})]}),n.jsx(Sa,{className:"my-4"}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:r("merchant.transactionManagement.transactions")||"Transações"}),n.jsx(Re,{children:r("merchant.transactionManagement.description")||"Gerencie suas transações: visualize, edite, cancele ou reembolse"})]}),n.jsx(ae,{children:R?n.jsx("div",{className:"flex justify-center p-4",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-border"})}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"ID"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.customer")||"Cliente"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.date")||"Data"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.amount")||"Valor"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.cashback")||"Cashback"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.method")||"Método"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.status")||"Status"}),n.jsx(Et,{children:r("merchant.transactionManagement.table.actions")||"Ações"})]})}),n.jsx(pl,{children:(z==null?void 0:z.length)>0?z.map(re=>{var se;return n.jsxs(Tn,{children:[n.jsx(bt,{children:re.id}),n.jsx(bt,{children:re.userName||"N/A"}),n.jsx(bt,{children:re.created_at?Ot(new Date(re.created_at),"dd/MM/yyyy HH:mm"):"N/A"}),n.jsx(bt,{children:Be(re.amount)}),n.jsx(bt,{children:Be(re.cashback_amount)}),n.jsx(bt,{children:r(`payment_methods.${(se=re.payment_method)==null?void 0:se.toLowerCase()}`)||re.payment_method}),n.jsx(bt,{children:n.jsx(xt,{className:`${WFe[re.status]||"bg-gray-500"} text-white`,children:r(`transaction_status.${re.status}`)||re.status})}),n.jsx(bt,{children:n.jsxs("div",{className:"flex space-x-2",children:[["completed","pending"].includes(re.status)&&n.jsx(J,{size:"icon",variant:"ghost",onClick:()=>te(re),title:r("merchant.transactionManagement.buttons.edit"),children:n.jsx(Cd,{className:"h-4 w-4"})}),re.status==="pending"&&n.jsx(J,{size:"icon",variant:"ghost",onClick:()=>fe(re.id),title:r("merchant.transactionManagement.buttons.complete"),children:n.jsx(cc,{className:"h-4 w-4 text-green-500"})}),["completed","pending"].includes(re.status)&&n.jsx(J,{size:"icon",variant:"ghost",onClick:()=>G(re),title:r("merchant.transactionManagement.buttons.cancel"),children:n.jsx(ph,{className:"h-4 w-4 text-red-500"})}),re.status==="completed"&&n.jsx(J,{size:"icon",variant:"ghost",onClick:()=>Y(re),title:r("merchant.transactionManagement.buttons.refund"),children:n.jsx(Br,{className:"h-4 w-4 text-blue-500"})}),["cancelled","refunded"].includes(re.status)&&n.jsx(J,{size:"icon",variant:"ghost",onClick:()=>X(re),title:r("merchant.transactionManagement.buttons.delete"),children:n.jsx(Ru,{className:"h-4 w-4 text-red-500"})})]})})]},re.id)}):n.jsx(Tn,{children:n.jsx(bt,{colSpan:8,className:"text-center py-4",children:r("merchant.transactionManagement.noTransactionsFound")})})})]})})})]})]}),n.jsx(wn,{open:S,onOpenChange:_,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:r("merchant.transactionManagement.dialogs.cancel.title")}),n.jsx(jn,{children:r("merchant.transactionManagement.dialogs.cancel.description")})]}),o&&n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.transactionId")}),n.jsx("p",{className:"text-sm",children:o.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.customer")}),n.jsx("p",{className:"text-sm",children:o.userName||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.amount")}),n.jsx("p",{className:"text-sm",children:Be(o.amount)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.cashback")}),n.jsx("p",{className:"text-sm",children:Be(o.cashback_amount)})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:r("merchant.transactionManagement.fields.cancelReason")}),n.jsx(Bs,{value:d,onChange:re=>u(re.target.value),placeholder:r("merchant.transactionManagement.placeholders.cancelReason")})]})]}),n.jsxs(Aa,{children:[n.jsx(zv,{asChild:!0,children:n.jsx(J,{variant:"outline",children:r("common.cancel")})}),n.jsxs(J,{variant:"destructive",onClick:()=>B.mutate({id:o.id,reason:d}),disabled:B.isPending,children:[B.isPending?n.jsx(lt,{className:"h-4 w-4 animate-spin mr-2"}):null,r("merchant.transactionManagement.buttons.confirmCancel")]})]})]})}),n.jsx(wn,{open:I,onOpenChange:T,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:r("merchant.transactionManagement.dialogs.refund.title")}),n.jsx(jn,{children:r("merchant.transactionManagement.dialogs.refund.description")})]}),o&&n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.transactionId")}),n.jsx("p",{className:"text-sm",children:o.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.customer")}),n.jsx("p",{className:"text-sm",children:o.userName||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.amount")}),n.jsx("p",{className:"text-sm",children:Be(o.amount)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.cashback")}),n.jsx("p",{className:"text-sm",children:Be(o.cashback_amount)})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:r("merchant.transactionManagement.fields.refundReason")}),n.jsx(Bs,{value:f,onChange:re=>p(re.target.value),placeholder:r("merchant.transactionManagement.placeholders.refundReason")})]})]}),n.jsxs(Aa,{children:[n.jsx(zv,{asChild:!0,children:n.jsx(J,{variant:"outline",children:r("common.cancel")})}),n.jsxs(J,{variant:"default",onClick:()=>q.mutate({id:o.id,reason:f}),disabled:q.isPending,children:[q.isPending?n.jsx(lt,{className:"h-4 w-4 animate-spin mr-2"}):null,r("merchant.transactionManagement.buttons.confirmRefund")]})]})]})}),n.jsx(wn,{open:C,onOpenChange:N,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:r("merchant.transactionManagement.dialogs.delete.title")}),n.jsx(jn,{children:r("merchant.transactionManagement.dialogs.delete.description")})]}),o&&n.jsx("div",{className:"space-y-4 py-2",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.transactionId")}),n.jsx("p",{className:"text-sm",children:o.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.customer")}),n.jsx("p",{className:"text-sm",children:o.userName||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.amount")}),n.jsx("p",{className:"text-sm",children:Be(o.amount)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.status")}),n.jsx("p",{className:"text-sm",children:o.status})]})]})}),n.jsxs(Aa,{children:[n.jsx(zv,{asChild:!0,children:n.jsx(J,{variant:"outline",children:r("common.cancel")})}),n.jsxs(J,{variant:"destructive",onClick:()=>H.mutate(o.id),disabled:H.isPending,children:[H.isPending?n.jsx(lt,{className:"h-4 w-4 animate-spin mr-2"}):null,r("merchant.transactionManagement.buttons.deleteForever")]})]})]})}),n.jsx(wn,{open:M,onOpenChange:O,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:r("merchant.transactionManagement.dialogs.edit.title")}),n.jsx(jn,{children:r("merchant.transactionManagement.dialogs.edit.description")})]}),o&&n.jsxs("div",{className:"space-y-4 py-2",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.transactionId")}),n.jsx("p",{className:"text-sm",children:o.id})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.customer")}),n.jsx("p",{className:"text-sm",children:o.userName||"N/A"})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.amount")}),n.jsx("p",{className:"text-sm",children:Be(o.amount)})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium",children:r("merchant.transactionManagement.fields.status")}),n.jsx("p",{className:"text-sm",children:o.status})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:r("merchant.transactionManagement.fields.paymentMethod")}),n.jsxs(ur,{value:j,onValueChange:w,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:r("merchant.transactionManagement.placeholders.selectPaymentMethod")})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"CASH",children:r("payment_methods.cash")}),n.jsx(ve,{value:"CREDIT_CARD",children:r("payment_methods.credit_card")}),n.jsx(ve,{value:"DEBIT_CARD",children:r("payment_methods.debit_card")}),n.jsx(ve,{value:"PIX",children:r("payment_methods.pix")}),n.jsx(ve,{value:"CASHBACK",children:r("payment_methods.cashback")})]})]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm font-medium mb-2",children:r("merchant.transactionManagement.fields.notes")}),n.jsx(Bs,{value:x,onChange:re=>y(re.target.value),placeholder:r("merchant.transactionManagement.placeholders.notes")})]})]}),n.jsxs(Aa,{children:[n.jsx(zv,{asChild:!0,children:n.jsx(J,{variant:"outline",children:r("common.cancel")})}),n.jsxs(J,{variant:"default",onClick:()=>L.mutate({id:o.id,notes:x,payment_method:j}),disabled:L.isPending,children:[L.isPending?n.jsx(lt,{className:"h-4 w-4 animate-spin mr-2"}):null,r("merchant.transactionManagement.buttons.saveChanges")]})]})]})})]})}const qFe={salesData:{total:0,count:0,average:0,cashback:0,previousPeriodChange:0,timeline:[],byPaymentMethod:[],topProducts:[]},customersData:{total:0,new:0,returning:0,timeline:[],byFrequency:[],topCustomers:[]},cashbackData:{total:0,count:0,average:0,timeline:[],distribution:[]}};function GFe(){var x,y,j,w,C,N,S,_,I,T,M,O,D,R,V,z,B,q,$;const[e,t]=E.useState("sales"),[r,a]=E.useState({period:"month",dateRange:{from:null,to:null}}),{toast:s}=rr(),{data:i,isLoading:o}=Nt({queryKey:["/api/merchant/reports",e,r]}),l=i?{salesData:{total:((x=i.salesData)==null?void 0:x.total)??0,count:((y=i.salesData)==null?void 0:y.count)??0,average:((j=i.salesData)==null?void 0:j.average)??0,cashback:((w=i.salesData)==null?void 0:w.cashback)??0,previousPeriodChange:((C=i.salesData)==null?void 0:C.previousPeriodChange)??0,timeline:((N=i.salesData)==null?void 0:N.timeline)??[],byPaymentMethod:((S=i.salesData)==null?void 0:S.byPaymentMethod)??[],topProducts:((_=i.salesData)==null?void 0:_.topProducts)??[]},customersData:{total:((I=i.customersData)==null?void 0:I.total)??0,new:((T=i.customersData)==null?void 0:T.new)??0,returning:((M=i.customersData)==null?void 0:M.returning)??0,timeline:((O=i.customersData)==null?void 0:O.timeline)??[],byFrequency:((D=i.customersData)==null?void 0:D.byFrequency)??[],topCustomers:((R=i.customersData)==null?void 0:R.topCustomers)??[]},cashbackData:{total:((V=i.cashbackData)==null?void 0:V.total)??0,count:((z=i.cashbackData)==null?void 0:z.count)??0,average:((B=i.cashbackData)==null?void 0:B.average)??0,timeline:((q=i.cashbackData)==null?void 0:q.timeline)??[],distribution:(($=i.cashbackData)==null?void 0:$.distribution)??[]}}:qFe,d=L=>{let H=null,G=null;const Y=new Date;L==="today"?(H=Y,G=Y):L==="week"?(H=_y(Y,7),G=Y):L==="month"?(H=bN(Y,1),G=Y):L==="quarter"?(H=bN(Y,3),G=Y):L==="year"&&(H=bN(Y,12),G=Y),a({...r,period:L,dateRange:{from:H,to:G}})},u=()=>{s({title:"Exportação iniciada",description:"Seus dados estão sendo exportados para CSV."}),setTimeout(()=>{s({title:"Exportação concluída",description:"Arquivo CSV exportado com sucesso."})},1500)},f=L=>{if(L==null)return"0.00";const H=typeof L=="string"?parseFloat(L):L;return isNaN(H)?"0.00":H.toFixed(2)},p=(L,H)=>{const G=typeof L=="string"?parseFloat(L):L,Y=typeof H=="string"?parseFloat(H):H;return isNaN(G)||isNaN(Y)||Y===0?0:G/Y*100};return n.jsx(_t,{title:"Relatórios Financeiros",type:"merchant",children:n.jsxs(Dr,{defaultValue:"sales",value:e,onValueChange:t,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs(Pr,{children:[n.jsxs($e,{value:"sales",children:[n.jsx(So,{className:"h-4 w-4 mr-2"}),"Vendas"]}),n.jsxs($e,{value:"customers",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Clientes"]}),n.jsxs($e,{value:"cashback",children:[n.jsx(fa,{className:"h-4 w-4 mr-2"}),"Cashback"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(ur,{value:r.period,onValueChange:d,children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Período"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"today",children:"Hoje"}),n.jsx(ve,{value:"week",children:"Últimos 7 dias"}),n.jsx(ve,{value:"month",children:"Últimos 30 dias"}),n.jsx(ve,{value:"quarter",children:"Últimos 3 meses"}),n.jsx(ve,{value:"year",children:"Último ano"}),n.jsx(ve,{value:"custom",children:"Personalizado"})]})]}),r.period==="custom"&&n.jsxs(ep,{children:[n.jsx(tp,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"w-[240px] justify-start text-left font-normal",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),r.dateRange.from?r.dateRange.to?n.jsxs(n.Fragment,{children:[Ot(r.dateRange.from,"dd/MM/yyyy")," -"," ",Ot(r.dateRange.to,"dd/MM/yyyy")]}):Ot(r.dateRange.from,"dd/MM/yyyy"):n.jsx("span",{children:"Selecione um período"})]})}),n.jsx(yh,{className:"w-auto p-0",children:n.jsx(vp,{initialFocus:!0,mode:"range",defaultMonth:new Date,selected:{from:r.dateRange.from||void 0,to:r.dateRange.to||void 0},onSelect:L=>{L!=null&&L.from&&a({...r,dateRange:{from:L.from,to:L.to||null}})},locale:X0})})]}),n.jsxs(J,{variant:"outline",onClick:u,children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),n.jsxs(Ze,{value:"sales",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total de Vendas"})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",f(l.salesData.total)]}),n.jsxs("div",{className:"flex items-center text-sm text-muted-foreground mt-1",children:[(()=>{const L=parseFloat(String(l.salesData.previousPeriodChange));return isNaN(L)?n.jsx("span",{children:"0%"}):L>=0?n.jsxs(n.Fragment,{children:[n.jsx(KT,{className:"h-4 w-4 text-green-500 mr-1"}),n.jsxs("span",{className:"text-green-500 font-medium",children:["+",L.toFixed(1),"%"]})]}):n.jsxs(n.Fragment,{children:[n.jsx(xS,{className:"h-4 w-4 text-red-500 mr-1"}),n.jsxs("span",{className:"text-red-500 font-medium",children:[L.toFixed(1),"%"]})]})})(),n.jsx("span",{className:"ml-1",children:"vs. período anterior"})]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Qtd. Transações"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:parseInt(String(l.salesData.count))||0}),n.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Média: R$ ",f(l.salesData.average),"/venda"]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total Cashback"})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",f(l.salesData.cashback)]}),n.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[p(l.salesData.cashback,l.salesData.total).toFixed(1),"% do total de vendas"]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Comissão Lojas"})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["R$ ",(()=>{const L=parseFloat(String(l.salesData.total));return isNaN(L)?"0.00":(L*.02).toFixed(2)})()]}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Taxa de 2% sobre vendas"})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[n.jsxs(ne,{className:"md:col-span-2",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Vendas por Período"}),n.jsx(Re,{children:"Receita diária no período selecionado"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(ky,{data:l.salesData.timeline||[],margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:"date"}),n.jsx(Li,{}),n.jsx(Gn,{}),n.jsx(ms,{}),n.jsx(vd,{type:"monotone",dataKey:"value",name:"Vendas (R$)",stroke:"#0080ff",activeDot:{r:8}})]})})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Métodos de Pagamento"}),n.jsx(Re,{children:"Distribuição por método de pagamento"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(Bx,{children:[n.jsx(hi,{data:l.salesData.byPaymentMethod||[],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:L,percent:H})=>`${L}: ${(H*100).toFixed(0)}%`,children:(l.salesData.byPaymentMethod||[]).map((L,H)=>n.jsx(xd,{fill:["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"][H%5]},`cell-${H}`))}),n.jsx(Gn,{formatter:L=>`R$ ${L.toFixed(2)}`})]})})})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Produtos Mais Vendidos"}),n.jsx(Re,{children:"Top 5 produtos por quantidade vendida"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(z_,{data:l.salesData.topProducts||[],margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:"name"}),n.jsx(Li,{yAxisId:"left",orientation:"left",stroke:"#0080ff"}),n.jsx(Li,{yAxisId:"right",orientation:"right",stroke:"#ff4d4f"}),n.jsx(Gn,{}),n.jsx(ms,{}),n.jsx(Hi,{yAxisId:"left",dataKey:"value",name:"Quantidade",fill:"#0080ff"}),n.jsx(Hi,{yAxisId:"right",dataKey:"revenue",name:"Receita (R$)",fill:"#ff4d4f"})]})})})})]})]}),n.jsxs(Ze,{value:"customers",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total de Clientes"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:parseInt(String(l.customersData.total))||0}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Clientes cadastrados"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Novos Clientes"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:parseInt(String(l.customersData.new))||0}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"No período selecionado"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Taxa de Retorno"})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(()=>{const L=parseFloat(String(l.customersData.total)),H=parseFloat(String(l.customersData.returning));return isNaN(L)||L===0||isNaN(H)?"0":Math.round(H/L*100)})(),"%"]}),n.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[parseInt(String(l.customersData.returning))||0," clientes recorrentes"]})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[n.jsxs(ne,{className:"md:col-span-2",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Evolução de Clientes"}),n.jsx(Re,{children:"Crescimento no período selecionado"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(ky,{data:l.customersData.timeline||[],margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:"date"}),n.jsx(Li,{}),n.jsx(Gn,{}),n.jsx(ms,{}),n.jsx(vd,{type:"monotone",dataKey:"value",name:"Clientes",stroke:"#0080ff",strokeWidth:2,activeDot:{r:8}})]})})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Frequência de Compra"}),n.jsx(Re,{children:"Segmentação por atividade"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(Bx,{children:[n.jsx(hi,{data:l.customersData.byFrequency||[],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:L,percent:H})=>`${L}: ${(H*100).toFixed(0)}%`,children:(l.customersData.byFrequency||[]).map((L,H)=>n.jsx(xd,{fill:["#0088FE","#00C49F","#FFBB28","#FF8042"][H%4]},`cell-${H}`))}),n.jsx(Gn,{})]})})})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Principais Clientes"}),n.jsx(Re,{children:"Top 5 clientes com maior valor em compras"})]}),n.jsx(ae,{children:n.jsx("div",{className:"space-y-8",children:(l.customersData.topCustomers||[]).length>0?(l.customersData.topCustomers||[]).map((L,H)=>{var re;const G=(L==null?void 0:L.name)||"Cliente",Y=parseInt(String(L==null?void 0:L.visits))||0,te=parseFloat(String(L==null?void 0:L.spent))||0,X=parseFloat(String((re=(l.customersData.topCustomers||[])[0])==null?void 0:re.spent))||0,fe=X>0?Math.round(te/X*100):0;return n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"text-accent font-bold w-6",children:H+1}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"font-medium",children:G}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[Y," visitas · R$ ",te.toFixed(2)]})]}),n.jsx("div",{className:"w-full max-w-md bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:`${fe}%`}})})]},H)}):n.jsx("div",{className:"text-center text-muted-foreground py-4",children:"Nenhum cliente encontrado no período selecionado"})})})]})]}),n.jsxs(Ze,{value:"cashback",children:[n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total Cashback"})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["R$ ",f(l.cashbackData.total)]}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Concedido no período"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Média por Venda"})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"text-2xl font-bold",children:["R$ ",f(l.cashbackData.average)]}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Valor médio de cashback"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total Transações"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:parseInt(String(l.cashbackData.count))||0}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Com cashback aplicado"})]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:[n.jsxs(ne,{className:"md:col-span-2",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Evolução do Cashback"}),n.jsx(Re,{children:"Valores diários no período selecionado"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(ky,{data:l.cashbackData.timeline||[],margin:{top:5,right:30,left:20,bottom:5},children:[n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:"date"}),n.jsx(Li,{}),n.jsx(Gn,{formatter:L=>`R$ ${L.toFixed(2)}`}),n.jsx(ms,{}),n.jsx(vd,{type:"monotone",dataKey:"value",name:"Cashback (R$)",stroke:"#00c49f",activeDot:{r:8}})]})})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Distribuição de Cashback"}),n.jsx(Re,{children:"Por tipo de benefício"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(Bx,{children:[n.jsx(hi,{data:l.cashbackData.distribution||[],cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#82ca9d",dataKey:"value",nameKey:"name",label:({name:L,percent:H})=>`${L}: ${(H*100).toFixed(0)}%`,children:(l.cashbackData.distribution||[]).map((L,H)=>n.jsx(xd,{fill:["#82ca9d","#ffc658","#8884d8"][H%3]},`cell-${H}`))}),n.jsx(Gn,{formatter:L=>`R$ ${L.toFixed(2)}`})]})})})})]})]})]})]})})}const KFe=we.object({name:we.string().min(2,{message:"Nome da loja deve ter pelo menos 2 caracteres"}),description:we.string().max(500,{message:"Descrição deve ter no máximo 500 caracteres"}).optional(),address:we.string().min(5,{message:"Endereço deve ser informado corretamente"}),phone:we.string().min(10,{message:"Telefone deve ter pelo menos 10 dígitos"}),email:we.string().email({message:"Email inválido"}),website:we.string().url({message:"URL inválida"}).optional().or(we.literal("")),category:we.string().min(1,{message:"Selecione uma categoria"})}),YFe=we.object({acceptCashback:we.boolean().default(!0),cashbackBonus:we.number().min(0).max(10).default(0),acceptCreditCard:we.boolean().default(!0),acceptDebitCard:we.boolean().default(!0),acceptPix:we.boolean().default(!0),acceptCash:we.boolean().default(!0),minimumValue:we.number().min(0).default(0),autoWithdraw:we.boolean().default(!1),bankName:we.string().optional(),bankAccount:we.string().optional(),bankAgency:we.string().optional(),pixKey:we.string().optional()}),XFe=we.object({emailSales:we.boolean().default(!0),emailReferrals:we.boolean().default(!0),emailCashback:we.boolean().default(!0),emailMarketing:we.boolean().default(!1),browserNotifications:we.boolean().default(!0),smsNotifications:we.boolean().default(!1),dailySummary:we.boolean().default(!0),weeklySummary:we.boolean().default(!0),monthlySummary:we.boolean().default(!0)}),QFe=we.object({currentPassword:we.string().min(6,{message:"Senha atual deve ter pelo menos 6 caracteres"}),newPassword:we.string().min(8,{message:"Nova senha deve ter pelo menos 8 caracteres"}).regex(/[A-Z]/,{message:"Senha deve conter pelo menos uma letra maiúscula"}).regex(/[0-9]/,{message:"Senha deve conter pelo menos um número"}),confirmPassword:we.string().min(8,{message:"Confirmação de senha deve ter pelo menos 8 caracteres"})}).refine(e=>e.newPassword===e.confirmPassword,{message:"Senhas não conferem",path:["confirmPassword"]});function ZFe(){var S,_,I,T,M,O,D,R,V,z,B,q,$,L,H,G,Y,te,X,fe,re;const[e,t]=E.useState("profile"),{toast:r}=rr(),{data:a,isLoading:s}=Nt({queryKey:["/api/merchant/profile"],placeholderData:{id:1,name:"Loja Example",description:"Supermercado com produtos naturais e orgânicos.",address:"Rua das Flores, 123 - Centro",phone:"11999887766",email:"contato@example.com",website:"https://example.com",category:"supermarket",paymentSettings:{acceptCashback:!0,cashbackBonus:1,acceptCreditCard:!0,acceptDebitCard:!0,acceptPix:!0,acceptCash:!0,minimumValue:10,autoWithdraw:!0,bankName:"Banco do Brasil",bankAccount:"12345-6",bankAgency:"1234",pixKey:"contato@example.com"},notificationSettings:{emailSales:!0,emailReferrals:!0,emailCashback:!0,emailMarketing:!1,browserNotifications:!0,smsNotifications:!1,dailySummary:!0,weeklySummary:!0,monthlySummary:!0}}}),i=Ea({resolver:Ta(KFe),defaultValues:{name:(a==null?void 0:a.name)||"",description:(a==null?void 0:a.description)||"",address:(a==null?void 0:a.address)||"",phone:(a==null?void 0:a.phone)||"",email:(a==null?void 0:a.email)||"",website:(a==null?void 0:a.website)||"",category:(a==null?void 0:a.category)||""}}),o=Ea({resolver:Ta(YFe),defaultValues:{acceptCashback:((S=a==null?void 0:a.paymentSettings)==null?void 0:S.acceptCashback)||!0,cashbackBonus:((_=a==null?void 0:a.paymentSettings)==null?void 0:_.cashbackBonus)||0,acceptCreditCard:((I=a==null?void 0:a.paymentSettings)==null?void 0:I.acceptCreditCard)||!0,acceptDebitCard:((T=a==null?void 0:a.paymentSettings)==null?void 0:T.acceptDebitCard)||!0,acceptPix:((M=a==null?void 0:a.paymentSettings)==null?void 0:M.acceptPix)||!0,acceptCash:((O=a==null?void 0:a.paymentSettings)==null?void 0:O.acceptCash)||!0,minimumValue:((D=a==null?void 0:a.paymentSettings)==null?void 0:D.minimumValue)||0,autoWithdraw:((R=a==null?void 0:a.paymentSettings)==null?void 0:R.autoWithdraw)||!1,bankName:((V=a==null?void 0:a.paymentSettings)==null?void 0:V.bankName)||"",bankAccount:((z=a==null?void 0:a.paymentSettings)==null?void 0:z.bankAccount)||"",bankAgency:((B=a==null?void 0:a.paymentSettings)==null?void 0:B.bankAgency)||"",pixKey:((q=a==null?void 0:a.paymentSettings)==null?void 0:q.pixKey)||""}}),l=Ea({resolver:Ta(XFe),defaultValues:{emailSales:(($=a==null?void 0:a.notificationSettings)==null?void 0:$.emailSales)||!0,emailReferrals:((L=a==null?void 0:a.notificationSettings)==null?void 0:L.emailReferrals)||!0,emailCashback:((H=a==null?void 0:a.notificationSettings)==null?void 0:H.emailCashback)||!0,emailMarketing:((G=a==null?void 0:a.notificationSettings)==null?void 0:G.emailMarketing)||!1,browserNotifications:((Y=a==null?void 0:a.notificationSettings)==null?void 0:Y.browserNotifications)||!0,smsNotifications:((te=a==null?void 0:a.notificationSettings)==null?void 0:te.smsNotifications)||!1,dailySummary:((X=a==null?void 0:a.notificationSettings)==null?void 0:X.dailySummary)||!0,weeklySummary:((fe=a==null?void 0:a.notificationSettings)==null?void 0:fe.weeklySummary)||!0,monthlySummary:((re=a==null?void 0:a.notificationSettings)==null?void 0:re.monthlySummary)||!0}}),d=Ea({resolver:Ta(QFe),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),u=Zt({mutationFn:async se=>(await St("PATCH","/api/merchant/profile",se)).json(),onSuccess:()=>{r({title:"Perfil atualizado",description:"As informações da sua loja foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]})},onError:se=>{r({title:"Erro ao atualizar perfil",description:se.message||"Ocorreu um erro ao atualizar o perfil. Tente novamente.",variant:"destructive"})}}),f=Zt({mutationFn:async se=>(await St("PATCH","/api/merchant/settings/payment",se)).json(),onSuccess:()=>{r({title:"Configurações de pagamento atualizadas",description:"As configurações de pagamento foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]})},onError:se=>{r({title:"Erro ao atualizar configurações",description:se.message||"Ocorreu um erro ao atualizar as configurações de pagamento. Tente novamente.",variant:"destructive"})}}),p=Zt({mutationFn:async se=>(await St("PATCH","/api/merchant/settings/notifications",se)).json(),onSuccess:()=>{r({title:"Configurações de notificações atualizadas",description:"As configurações de notificações foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/merchant/profile"]})},onError:se=>{r({title:"Erro ao atualizar configurações",description:se.message||"Ocorreu um erro ao atualizar as configurações de notificações. Tente novamente.",variant:"destructive"})}}),x=Zt({mutationFn:async se=>(await St("POST","/api/merchant/change-password",{currentPassword:se.currentPassword,newPassword:se.newPassword})).json(),onSuccess:()=>{r({title:"Senha atualizada",description:"Sua senha foi atualizada com sucesso",variant:"default"}),d.reset({currentPassword:"",newPassword:"",confirmPassword:""})},onError:se=>{r({title:"Erro ao atualizar senha",description:se.message||"Ocorreu um erro ao atualizar a senha. Verifique se a senha atual está correta.",variant:"destructive"})}}),y=se=>{u.mutate(se)},j=se=>{f.mutate(se)},w=se=>{p.mutate(se)},C=se=>{x.mutate(se)},N=()=>{r({title:"Solicitar Desativação",description:"Entre em contato com o suporte para solicitar a desativação da sua loja.",variant:"default"})};return n.jsx(_t,{title:"Configurações",type:"merchant",children:n.jsxs(Dr,{defaultValue:"profile",value:e,onValueChange:t,className:"space-y-4",children:[n.jsxs(Pr,{children:[n.jsx($e,{value:"profile",children:"Perfil da Loja"}),n.jsx($e,{value:"payments",children:"Pagamentos"}),n.jsx($e,{value:"notifications",children:"Notificações"}),n.jsx($e,{value:"security",children:"Segurança"})]}),n.jsx(Ze,{value:"profile",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Informações da Loja"}),n.jsx(Re,{children:"Atualize as informações da sua loja que serão exibidas para os clientes"})]}),n.jsx(ae,{children:n.jsx($a,{...i,children:n.jsxs("form",{id:"profile-form",onSubmit:i.handleSubmit(y),className:"space-y-4",children:[n.jsx(Ie,{control:i.control,name:"name",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome da Loja"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Nome da Loja",...se})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:i.control,name:"description",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Descrição"}),n.jsx(ke,{children:n.jsx(Bs,{placeholder:"Descreva sua loja em poucas palavras",className:"resize-none",...se})}),n.jsx(Pt,{children:"Esta descrição será exibida para os clientes no aplicativo."}),n.jsx(tt,{})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:i.control,name:"category",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Categoria"}),n.jsxs(ur,{onValueChange:se.onChange,defaultValue:se.value,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione uma categoria"})})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"supermarket",children:"Supermercado"}),n.jsx(ve,{value:"restaurant",children:"Restaurante"}),n.jsx(ve,{value:"pharmacy",children:"Farmácia"}),n.jsx(ve,{value:"clothing",children:"Vestuário"}),n.jsx(ve,{value:"electronics",children:"Eletrônicos"}),n.jsx(ve,{value:"beauty",children:"Beleza"}),n.jsx(ve,{value:"other",children:"Outros"})]})]}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:i.control,name:"address",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Endereço"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Endereço completo",...se})}),n.jsx(tt,{})]})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:i.control,name:"phone",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Telefone"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"(00) 00000-0000",...se})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:i.control,name:"email",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Email"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"contato@sualoja.com",...se})}),n.jsx(tt,{})]})})]}),n.jsx(Ie,{control:i.control,name:"website",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Website (opcional)"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"https://www.sualoja.com",...se})}),n.jsx(tt,{})]})})]})})}),n.jsxs(jr,{className:"flex justify-between",children:[n.jsxs(J,{variant:"outline",onClick:N,children:[n.jsx(Ru,{className:"h-4 w-4 mr-2"}),"Solicitar Desativação"]}),n.jsx(J,{type:"submit",form:"profile-form",disabled:u.isPending,children:u.isPending?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Alterações"]})})]})]})}),n.jsx(Ze,{value:"payments",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações de Pagamento"}),n.jsx(Re,{children:"Gerencie os métodos de pagamento e configurações financeiras"})]}),n.jsx(ae,{children:n.jsx($a,{...o,children:n.jsxs("form",{id:"payment-form",onSubmit:o.handleSubmit(j),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Métodos de Pagamento Aceitos"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Selecione os métodos de pagamento que sua loja aceita"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:o.control,name:"acceptCreditCard",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Cartão de Crédito"}),n.jsx(Pt,{children:"Aceitar pagamentos com cartão de crédito"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:o.control,name:"acceptDebitCard",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Cartão de Débito"}),n.jsx(Pt,{children:"Aceitar pagamentos com cartão de débito"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:o.control,name:"acceptPix",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"PIX"}),n.jsx(Pt,{children:"Aceitar pagamentos via PIX"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:o.control,name:"acceptCash",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Dinheiro"}),n.jsx(Pt,{children:"Aceitar pagamentos em dinheiro"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:o.control,name:"acceptCashback",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3 md:col-span-2",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Saldo de Cashback"}),n.jsx(Pt,{children:"Permitir que clientes paguem usando saldo de cashback"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})})]})]}),n.jsx(Sa,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Configurações de Cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure as opções de cashback para sua loja"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:o.control,name:"cashbackBonus",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Bônus de Cashback (%)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"0",max:"10",step:"0.5",placeholder:"0",...se,onChange:Te=>se.onChange(parseFloat(Te.target.value)||0)})}),n.jsx(Pt,{children:"Adicional ao cashback padrão de 2%. O sistema somará este valor."}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:o.control,name:"minimumValue",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Valor Mínimo para Cashback (R$)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"0",step:"0.01",placeholder:"0,00",...se,onChange:Te=>se.onChange(parseFloat(Te.target.value)||0)})}),n.jsx(Pt,{children:"Valor mínimo da compra para gerar cashback."}),n.jsx(tt,{})]})})]})]}),n.jsx(Sa,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Dados Bancários"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure suas informações bancárias para recebimentos"}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:o.control,name:"bankName",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Banco"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Nome do banco",...se})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:o.control,name:"bankAgency",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Agência"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Número da agência",...se})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:o.control,name:"bankAccount",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Conta"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Número da conta",...se})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:o.control,name:"pixKey",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Chave PIX"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Sua chave PIX",...se})}),n.jsx(tt,{})]})})]})]}),n.jsx(Sa,{}),n.jsx("div",{children:n.jsx(Ie,{control:o.control,name:"autoWithdraw",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Saque Automático"}),n.jsx(Pt,{children:"Transferir automaticamente o saldo disponível para a conta bancária"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})})})]})})}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"payment-form",className:"ml-auto",disabled:f.isPending,children:f.isPending?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})})]})}),n.jsx(Ze,{value:"notifications",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações de Notificações"}),n.jsx(Re,{children:"Gerencie como e quando você deseja receber notificações"})]}),n.jsx(ae,{children:n.jsx($a,{...l,children:n.jsxs("form",{id:"notification-form",onSubmit:l.handleSubmit(w),className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Notificações por Email"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ie,{control:l.control,name:"emailSales",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Hr,{className:"h-4 w-4 mr-2 text-green-500"}),"Vendas"]}),n.jsx(Pt,{children:"Receber notificações por email para cada venda"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:l.control,name:"emailReferrals",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Users,{className:"h-4 w-4 mr-2 text-blue-500"}),"Indicações"]}),n.jsx(Pt,{children:"Receber notificações quando uma loja se cadastrar usando sua indicação"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:l.control,name:"emailCashback",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(YT,{className:"h-4 w-4 mr-2 text-orange-500"}),"Cashback"]}),n.jsx(Pt,{children:"Receber notificações sobre distribuição de cashback"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:l.control,name:"emailMarketing",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Us,{className:"h-4 w-4 mr-2 text-purple-500"}),"Marketing"]}),n.jsx(Pt,{children:"Receber emails com dicas, novidades e ofertas"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})})]})]}),n.jsx(Sa,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Outras Notificações"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ie,{control:l.control,name:"browserNotifications",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(ki,{className:"h-4 w-4 mr-2 text-blue-500"}),"Notificações no Navegador"]}),n.jsx(Pt,{children:"Receber notificações em tempo real no navegador"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:l.control,name:"smsNotifications",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Us,{className:"h-4 w-4 mr-2 text-green-500"}),"Notificações por SMS"]}),n.jsx(Pt,{children:"Receber notificações importantes por SMS"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})})]})]}),n.jsx(Sa,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Relatórios Periódicos"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ie,{control:l.control,name:"dailySummary",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 mr-2 text-blue-500"}),"Resumo Diário"]}),n.jsx(Pt,{children:"Receber resumo diário de vendas e transações"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:l.control,name:"weeklySummary",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 mr-2 text-purple-500"}),"Resumo Semanal"]}),n.jsx(Pt,{children:"Receber relatório semanal com análise de desempenho"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})}),n.jsx(Ie,{control:l.control,name:"monthlySummary",render:({field:se})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 mr-2 text-orange-500"}),"Resumo Mensal"]}),n.jsx(Pt,{children:"Receber relatório mensal consolidado"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:se.value,onCheckedChange:se.onChange})})]})})]})]})]})})}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"notification-form",className:"ml-auto",disabled:p.isPending,children:p.isPending?n.jsx(n.Fragment,{children:"Salvando..."}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})})]})}),n.jsx(Ze,{value:"security",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Segurança"}),n.jsx(Re,{children:"Gerencie as configurações de segurança da sua conta"})]}),n.jsxs(ae,{children:[n.jsx($a,{...d,children:n.jsxs("form",{id:"security-form",onSubmit:d.handleSubmit(C),className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Alterar Senha"}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ie,{control:d.control,name:"currentPassword",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Senha Atual"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"Sua senha atual",...se})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:d.control,name:"newPassword",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nova Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"Nova senha",...se})}),n.jsx(Pt,{children:"A senha deve ter pelo menos 8 caracteres, incluindo uma letra maiúscula e um número."}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:d.control,name:"confirmPassword",render:({field:se})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Confirmar Nova Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"Confirme a nova senha",...se})}),n.jsx(tt,{})]})})]})]}),n.jsx("div",{className:"pt-4",children:n.jsx(J,{type:"submit",disabled:x.isPending,children:x.isPending?n.jsx(n.Fragment,{children:"Atualizando..."}):n.jsxs(n.Fragment,{children:[n.jsx(ZT,{className:"h-4 w-4 mr-2"}),"Atualizar Senha"]})})})]})}),n.jsx(Sa,{className:"my-6"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sessões Ativas"}),n.jsxs("div",{className:"border rounded-lg",children:[n.jsx("div",{className:"p-4 border-b",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Este dispositivo"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Windows • Chrome • São Paulo, SP"})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Ativo agora"})]})]})}),n.jsxs("div",{className:"p-4",children:[n.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Sessões em outros dispositivos não detectadas"}),n.jsx(J,{variant:"outline",size:"sm",children:"Encerrar todas as outras sessões"})]})]})]})]})]})})]})})}var tP="Collapsible",[JFe,UK]=va(tP),[e9e,rP]=JFe(tP),WK=E.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:a,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[d=!1,u]=zs({prop:a,defaultProp:s,onChange:o});return n.jsx(e9e,{scope:r,disabled:i,contentId:ii(),open:d,onOpenToggle:E.useCallback(()=>u(f=>!f),[u]),children:n.jsx(ht.div,{"data-state":aP(d),"data-disabled":i?"":void 0,...l,ref:t})})});WK.displayName=tP;var HK="CollapsibleTrigger",qK=E.forwardRef((e,t)=>{const{__scopeCollapsible:r,...a}=e,s=rP(HK,r);return n.jsx(ht.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":aP(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...a,ref:t,onClick:ze(e.onClick,s.onOpenToggle)})});qK.displayName=HK;var nP="CollapsibleContent",GK=E.forwardRef((e,t)=>{const{forceMount:r,...a}=e,s=rP(nP,e.__scopeCollapsible);return n.jsx(sa,{present:r||s.open,children:({present:i})=>n.jsx(t9e,{...a,ref:t,present:i})})});GK.displayName=nP;var t9e=E.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:a,children:s,...i}=e,o=rP(nP,r),[l,d]=E.useState(a),u=E.useRef(null),f=qt(t,u),p=E.useRef(0),x=p.current,y=E.useRef(0),j=y.current,w=o.open||l,C=E.useRef(w),N=E.useRef(void 0);return E.useEffect(()=>{const S=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(S)},[]),Xn(()=>{const S=u.current;if(S){N.current=N.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const _=S.getBoundingClientRect();p.current=_.height,y.current=_.width,C.current||(S.style.transitionDuration=N.current.transitionDuration,S.style.animationName=N.current.animationName),d(a)}},[o.open,a]),n.jsx(ht.div,{"data-state":aP(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...i,ref:f,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":j?`${j}px`:void 0,...e.style},children:w&&s})});function aP(e){return e?"open":"closed"}var r9e=WK,n9e=qK,a9e=GK,wc="Accordion",s9e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[sP,i9e,o9e]=b0(wc),[Uj,RBe]=va(wc,[o9e,UK]),iP=UK(),KK=Q.forwardRef((e,t)=>{const{type:r,...a}=e,s=a,i=a;return n.jsx(sP.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?n.jsx(u9e,{...i,ref:t}):n.jsx(d9e,{...s,ref:t})})});KK.displayName=wc;var[YK,l9e]=Uj(wc),[XK,c9e]=Uj(wc,{collapsible:!1}),d9e=Q.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,d]=zs({prop:r,defaultProp:a,onChange:s});return n.jsx(YK,{scope:e.__scopeAccordion,value:l?[l]:[],onItemOpen:d,onItemClose:Q.useCallback(()=>i&&d(""),[i,d]),children:n.jsx(XK,{scope:e.__scopeAccordion,collapsible:i,children:n.jsx(QK,{...o,ref:t})})})}),u9e=Q.forwardRef((e,t)=>{const{value:r,defaultValue:a,onValueChange:s=()=>{},...i}=e,[o=[],l]=zs({prop:r,defaultProp:a,onChange:s}),d=Q.useCallback(f=>l((p=[])=>[...p,f]),[l]),u=Q.useCallback(f=>l((p=[])=>p.filter(x=>x!==f)),[l]);return n.jsx(YK,{scope:e.__scopeAccordion,value:o,onItemOpen:d,onItemClose:u,children:n.jsx(XK,{scope:e.__scopeAccordion,collapsible:!0,children:n.jsx(QK,{...i,ref:t})})})}),[h9e,Wj]=Uj(wc),QK=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:a,dir:s,orientation:i="vertical",...o}=e,l=Q.useRef(null),d=qt(l,t),u=i9e(r),p=xh(s)==="ltr",x=ze(e.onKeyDown,y=>{var D;if(!s9e.includes(y.key))return;const j=y.target,w=u().filter(R=>{var V;return!((V=R.ref.current)!=null&&V.disabled)}),C=w.findIndex(R=>R.ref.current===j),N=w.length;if(C===-1)return;y.preventDefault();let S=C;const _=0,I=N-1,T=()=>{S=C+1,S>I&&(S=_)},M=()=>{S=C-1,S<_&&(S=I)};switch(y.key){case"Home":S=_;break;case"End":S=I;break;case"ArrowRight":i==="horizontal"&&(p?T():M());break;case"ArrowDown":i==="vertical"&&T();break;case"ArrowLeft":i==="horizontal"&&(p?M():T());break;case"ArrowUp":i==="vertical"&&M();break}const O=S%N;(D=w[O].ref.current)==null||D.focus()});return n.jsx(h9e,{scope:r,disabled:a,direction:s,orientation:i,children:n.jsx(sP.Slot,{scope:r,children:n.jsx(ht.div,{...o,"data-orientation":i,ref:d,onKeyDown:a?void 0:x})})})}),qb="AccordionItem",[f9e,oP]=Uj(qb),ZK=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,value:a,...s}=e,i=Wj(qb,r),o=l9e(qb,r),l=iP(r),d=ii(),u=a&&o.value.includes(a)||!1,f=i.disabled||e.disabled;return n.jsx(f9e,{scope:r,open:u,disabled:f,triggerId:d,children:n.jsx(r9e,{"data-orientation":i.orientation,"data-state":aY(u),...l,...s,ref:t,disabled:f,open:u,onOpenChange:p=>{p?o.onItemOpen(a):o.onItemClose(a)}})})});ZK.displayName=qb;var JK="AccordionHeader",eY=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Wj(wc,r),i=oP(JK,r);return n.jsx(ht.h3,{"data-orientation":s.orientation,"data-state":aY(i.open),"data-disabled":i.disabled?"":void 0,...a,ref:t})});eY.displayName=JK;var VE="AccordionTrigger",tY=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Wj(wc,r),i=oP(VE,r),o=c9e(VE,r),l=iP(r);return n.jsx(sP.ItemSlot,{scope:r,children:n.jsx(n9e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...a,ref:t})})});tY.displayName=VE;var rY="AccordionContent",nY=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,...a}=e,s=Wj(wc,r),i=oP(rY,r),o=iP(r);return n.jsx(a9e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});nY.displayName=rY;function aY(e){return e?"open":"closed"}var m9e=KK,p9e=ZK,x9e=eY,sY=tY,iY=nY;const g9e=m9e,oY=E.forwardRef(({className:e,...t},r)=>n.jsx(p9e,{ref:r,className:Ue("border-b",e),...t}));oY.displayName="AccordionItem";const lY=E.forwardRef(({className:e,children:t,...r},a)=>n.jsx(x9e,{className:"flex",children:n.jsxs(sY,{ref:a,className:Ue("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,n.jsx(N0,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));lY.displayName=sY.displayName;const cY=E.forwardRef(({className:e,children:t,...r},a)=>n.jsx(iY,{ref:a,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:n.jsx("div",{className:Ue("pb-4 pt-0",e),children:t})}));cY.displayName=iY.displayName;const v9e=we.object({subject:we.string().min(5,{message:"Assunto deve ter pelo menos 5 caracteres"}),category:we.string().min(1,{message:"Selecione uma categoria"}),priority:we.string().min(1,{message:"Selecione uma prioridade"}),message:we.string().min(20,{message:"Mensagem deve ter pelo menos 20 caracteres"}),attachment:we.any().optional()}),y9e=[{question:"Como funciona o sistema de cashback?",answer:"O sistema de cashback é uma forma de fidelização onde os clientes recebem de volta uma porcentagem do valor gasto em suas compras. Por padrão, a taxa de cashback é de 2% sobre o valor da compra, mas você pode oferecer um bônus adicional através das configurações da sua loja. O valor do cashback é creditado automaticamente na carteira digital do cliente, que pode utilizá-lo em compras futuras em qualquer estabelecimento parceiro."},{question:"Como recebo os pagamentos das vendas?",answer:"Os pagamentos das vendas são processados automaticamente e transferidos para sua conta bancária cadastrada. Se você utiliza os meios de pagamento integrados (cartão de crédito, débito ou PIX), o valor é transferido em até 2 dias úteis, já descontada a taxa de serviço. Para pagamentos em dinheiro ou cashback, o sistema apenas registra a venda para fins de controle e distribuição de cashback, mas o valor já foi recebido diretamente por você no momento da venda."},{question:"Como funciona o programa de indicações para lojistas?",answer:"Ao indicar outros estabelecimentos para participar da plataforma, você recebe comissões contínuas sobre as vendas realizadas por eles. Você ganha 0,5% sobre todas as vendas processadas pela loja indicada, além de um bônus fixo mensal de $ 50 por loja ativa que você indicou. Compartilhe seu código de indicação ou link personalizado com outros lojistas, e quando eles se cadastrarem usando seu código, serão automaticamente vinculados à sua indicação."},{question:"Como configurar taxas de cashback personalizadas?",answer:"Você pode configurar uma taxa adicional de cashback (bônus) nas configurações da sua loja, em 'Pagamentos'. O sistema sempre aplica o cashback padrão de 2%, mas você pode adicionar um bônus de até 10% para aumentar a atratividade da sua loja. Você também pode definir um valor mínimo de compra para que o cliente tenha direito ao cashback."},{question:"Como resolver problemas com pagamentos?",answer:"Se ocorrer algum problema com pagamentos, verifique primeiro se as informações bancárias estão corretas nas configurações da sua loja. Se tudo estiver correto, entre em contato com nosso suporte através da aba 'Contato' informando o ID da transação que apresentou problema, e nossa equipe irá ajudá-lo a resolver a situação o mais rápido possível."},{question:"É possível estornar uma venda?",answer:"Sim, é possível estornar uma venda dentro de 7 dias após o registro. Para isso, vá até 'Histórico de Transações', encontre a venda que deseja estornar, clique em 'Ver detalhes' e depois em 'Estornar Venda'. O valor do cashback será automaticamente revertido da carteira do cliente, desde que ele tenha saldo suficiente. Caso contrário, o sistema irá gerar um saldo negativo para compensação futura."},{question:"Como gerar relatórios personalizados?",answer:"Na seção 'Relatórios', você pode personalizar e gerar diversos tipos de relatórios para análise de desempenho da sua loja. Utilize os filtros de período, tipo de pagamento e produtos para criar relatórios específicos. Todos os relatórios podem ser exportados em formato CSV para análise em ferramentas externas."}],l6=[{id:"T-1234",subject:"Dúvida sobre pagamentos",category:"payment",priority:"medium",status:"answered",created:"01/07/2023 10:22",lastUpdate:"01/07/2023 11:45",messages:[{from:"user",message:"Não estou conseguindo configurar minha conta bancária para receber os pagamentos. O sistema mostra um erro quando tento salvar.",date:"01/07/2023 10:22"},{from:"support",message:"Olá! Para configurar sua conta bancária, certifique-se de incluir o dígito verificador no número da conta. Caso o erro persista, por favor, envie um print do erro para que possamos analisar melhor.",date:"01/07/2023 11:45",agent:"Maria Suporte"}]},{id:"T-1198",subject:"Erro ao registrar venda",category:"system",priority:"high",status:"pending",created:"28/06/2023 15:30",lastUpdate:"28/06/2023 15:30",messages:[{from:"user",message:"Estou tentando registrar uma venda para o cliente João Silva, mas o sistema está mostrando um erro de 'Cliente não encontrado', mesmo eu conseguindo visualizar o cliente na lista.",date:"28/06/2023 15:30"}]},{id:"T-1002",subject:"Solicitação de novas funcionalidades",category:"suggestion",priority:"low",status:"closed",created:"15/06/2023 09:18",lastUpdate:"18/06/2023 14:05",messages:[{from:"user",message:"Gostaria de sugerir a inclusão de uma funcionalidade para enviar mensagens diretas para os clientes através do aplicativo, facilitando a comunicação sobre promoções e ofertas.",date:"15/06/2023 09:18"},{from:"support",message:"Agradecemos sua sugestão! Ela foi registrada em nosso sistema e será analisada por nossa equipe de produto. Estamos sempre buscando melhorar a plataforma com base no feedback dos nossos parceiros.",date:"15/06/2023 11:23",agent:"Carlos Suporte"},{from:"user",message:"Obrigado pelo retorno! Estou ansioso para ver novas funcionalidades no futuro.",date:"15/06/2023 13:45"},{from:"support",message:"Ficamos felizes com seu entusiasmo! Encerramos este ticket, mas sinta-se à vontade para abrir um novo caso tenha outras sugestões ou dúvidas.",date:"18/06/2023 14:05",agent:"Carlos Suporte"}]}];function b9e({message:e}){var r;const t=e.from==="user";return n.jsx("div",{className:`flex ${t?"justify-end":"justify-start"} mb-4`,children:n.jsxs("div",{className:`max-w-3/4 ${t?"bg-primary text-white":"bg-muted"} rounded-lg p-3`,children:[n.jsxs("div",{className:"flex items-center mb-1",children:[!t&&n.jsx(ra,{className:"h-6 w-6 mr-2",children:n.jsx(na,{className:"bg-secondary text-white text-xs",children:(r=e.agent)==null?void 0:r.split(" ").map(a=>a[0]).join("")})}),n.jsxs("span",{className:`text-xs ${t?"text-primary-foreground/80":"text-muted-foreground"}`,children:[t?"Você":e.agent," • ",e.date]})]}),n.jsx("p",{className:"text-sm whitespace-pre-line",children:e.message})]})})}function w9e({status:e}){switch(e){case"pending":return n.jsxs("div",{className:"flex items-center text-yellow-600",children:[n.jsx(Vn,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"Aguardando resposta"})]});case"answered":return n.jsxs("div",{className:"flex items-center text-green-600",children:[n.jsx(cs,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"Respondido"})]});case"closed":return n.jsxs("div",{className:"flex items-center text-gray-600",children:[n.jsx(Ls,{className:"h-4 w-4 mr-1"}),n.jsx("span",{children:"Encerrado"})]});default:return null}}function j9e(){const[e,t]=E.useState("contact"),[r,a]=E.useState(null),[s,i]=E.useState(""),{toast:o}=rr(),l=Ea({resolver:Ta(v9e),defaultValues:{subject:"",category:"",priority:"medium",message:""}}),d=Zt({mutationFn:async x=>new Promise(y=>setTimeout(y,1500)),onSuccess:()=>{o({title:"Mensagem enviada com sucesso",description:"Nossa equipe responderá o mais breve possível."}),l.reset()},onError:()=>{o({title:"Erro ao enviar mensagem",description:"Ocorreu um erro ao enviar sua mensagem. Tente novamente.",variant:"destructive"})}}),u=Zt({mutationFn:async x=>new Promise(y=>setTimeout(y,1500)),onSuccess:()=>{if(o({title:"Resposta enviada com sucesso",description:"Sua resposta foi adicionada ao ticket."}),i(""),r){const x=new Date().toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});a({...r,lastUpdate:x,messages:[...r.messages,{from:"user",message:s,date:x}],status:"pending"})}},onError:()=>{o({title:"Erro ao enviar resposta",description:"Ocorreu um erro ao enviar sua resposta. Tente novamente.",variant:"destructive"})}}),f=x=>{d.mutate(x)},p=()=>{if(!(!s.trim()||!r)){if(r.status==="closed"){o({title:"Ticket encerrado",description:"Este ticket está encerrado. Por favor, abra um novo ticket para continuar a conversa.",variant:"destructive"});return}u.mutate({ticketId:r.id,message:s})}};return n.jsx(_t,{title:"Central de Suporte",type:"merchant",children:n.jsxs(Dr,{defaultValue:"contact",value:e,onValueChange:t,children:[n.jsxs(Pr,{className:"mb-4",children:[n.jsxs($e,{value:"contact",children:[n.jsx(nx,{className:"h-4 w-4 mr-2"}),"Contato"]}),n.jsxs($e,{value:"tickets",children:[n.jsx(Bi,{className:"h-4 w-4 mr-2"}),"Meus Tickets"]}),n.jsxs($e,{value:"faq",children:[n.jsx(Cx,{className:"h-4 w-4 mr-2"}),"Perguntas Frequentes"]})]}),n.jsx(Ze,{value:"contact",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Enviar Mensagem"}),n.jsx(Re,{children:"Preencha o formulário abaixo para entrar em contato com nosso suporte"})]}),n.jsx(ae,{children:n.jsx($a,{...l,children:n.jsxs("form",{id:"contact-form",onSubmit:l.handleSubmit(f),className:"space-y-4",children:[n.jsx(Ie,{control:l.control,name:"subject",render:({field:x})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Assunto"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Descreva brevemente o assunto",...x})}),n.jsx(tt,{})]})}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:l.control,name:"category",render:({field:x})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Categoria"}),n.jsxs(ur,{onValueChange:x.onChange,defaultValue:x.value,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione uma categoria"})})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"payment",children:"Pagamentos"}),n.jsx(ve,{value:"cashback",children:"Cashback"}),n.jsx(ve,{value:"account",children:"Conta"}),n.jsx(ve,{value:"system",children:"Sistema"}),n.jsx(ve,{value:"suggestion",children:"Sugestão"}),n.jsx(ve,{value:"other",children:"Outro"})]})]}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:l.control,name:"priority",render:({field:x})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Prioridade"}),n.jsxs(ur,{onValueChange:x.onChange,defaultValue:x.value,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione a prioridade"})})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"low",children:"Baixa"}),n.jsx(ve,{value:"medium",children:"Média"}),n.jsx(ve,{value:"high",children:"Alta"})]})]}),n.jsx(tt,{})]})})]}),n.jsx(Ie,{control:l.control,name:"message",render:({field:x})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Mensagem"}),n.jsx(ke,{children:n.jsx(Bs,{placeholder:"Descreva detalhadamente sua dúvida ou problema",className:"min-h-[150px]",...x})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:l.control,name:"attachment",render:({field:x})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Anexo (opcional)"}),n.jsx(ke,{children:n.jsx(ge,{type:"file",onChange:y=>{y.target.files&&y.target.files.length>0&&x.onChange(y.target.files[0])}})}),n.jsx(Pt,{children:"Tamanho máximo: 5MB. Formatos aceitos: JPG, PNG, PDF."}),n.jsx(tt,{})]})})]})})}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"contact-form",disabled:d.isPending,className:"ml-auto",children:d.isPending?"Enviando...":n.jsxs(n.Fragment,{children:[n.jsx(bS,{className:"h-4 w-4 mr-2"}),"Enviar Mensagem"]})})})]})}),n.jsx("div",{children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Informações de Contato"})}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(Ete,{className:"h-5 w-5 text-primary mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Telefone"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"(11) 3456-7890"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Segunda a Sexta, 9h às 18h"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Us,{className:"h-5 w-5 text-primary mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"suporte@valecashback.com"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Resposta em até 24h"})]})]}),n.jsxs("div",{className:"mt-6 pt-4 border-t",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Xu,{className:"h-5 w-5 text-yellow-600 mr-2"}),n.jsx("h4",{className:"font-medium",children:"Suporte Prioritário"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Problemas urgentes ou críticos que afetem as operações da sua loja?"}),n.jsx(J,{variant:"outline",className:"w-full",children:"(11) 3456-7899"})]})]})]})})]})}),n.jsx(Ze,{value:"tickets",children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[n.jsx("div",{className:"md:col-span-1",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Histórico de Tickets"}),n.jsx(Re,{children:"Seus tickets de suporte recentes"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-2",children:[l6.map(x=>n.jsx(J,{variant:"outline",className:`w-full justify-start p-3 h-auto ${(r==null?void 0:r.id)===x.id?"border-primary":""}`,onClick:()=>a(x),children:n.jsxs("div",{className:"flex flex-col items-start text-left w-full",children:[n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("span",{className:"font-semibold",children:x.subject}),n.jsx("span",{className:"text-xs bg-muted rounded px-2 py-0.5",children:x.id})]}),n.jsxs("div",{className:"flex items-center justify-between w-full mt-1",children:[n.jsx("span",{className:"text-xs text-muted-foreground",children:x.created}),n.jsxs("div",{className:"text-xs",children:[x.status==="pending"&&n.jsx("span",{className:"text-yellow-600",children:"Pendente"}),x.status==="answered"&&n.jsx("span",{className:"text-green-600",children:"Respondido"}),x.status==="closed"&&n.jsx("span",{className:"text-gray-600",children:"Encerrado"})]})]})]})},x.id)),l6.length===0&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx(pk,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),n.jsx("h4",{className:"text-muted-foreground font-medium",children:"Nenhum ticket encontrado"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Seus tickets de suporte aparecerão aqui."})]})]})}),n.jsx(jr,{children:n.jsxs(J,{className:"w-full",onClick:()=>t("contact"),children:[n.jsx(nx,{className:"h-4 w-4 mr-2"}),"Novo Ticket"]})})]})}),n.jsx("div",{className:"md:col-span-2",children:r?n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx(ue,{children:r.subject}),n.jsxs(Re,{children:["Ticket #",r.id," • Criado em ",r.created]})]}),n.jsx(w9e,{status:r.status})]})}),n.jsxs(ae,{children:[n.jsx("div",{className:"space-y-3 mb-4",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Categoria:"})," ",n.jsx("span",{className:"font-medium",children:{payment:"Pagamentos",cashback:"Cashback",account:"Conta",system:"Sistema",suggestion:"Sugestão",other:"Outro"}[r.category]||r.category})]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-muted-foreground",children:"Prioridade:"})," ",n.jsx("span",{className:"font-medium",children:{low:"Baixa",medium:"Média",high:"Alta"}[r.priority]||r.priority})]})]})}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsxs("div",{className:"mb-4",children:[n.jsx("h4",{className:"font-medium text-sm mb-3",children:"Conversa"}),n.jsx("div",{className:"max-h-[400px] overflow-y-auto p-2",children:r.messages.map((x,y)=>n.jsx(b9e,{message:x},y))})]}),r.status!=="closed"&&n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center",children:n.jsx(Bs,{value:s,onChange:x=>i(x.target.value),placeholder:"Escreva sua resposta...",className:"min-h-[100px] resize-none"})}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx(J,{onClick:p,disabled:!s.trim()||u.isPending,children:u.isPending?"Enviando...":n.jsxs(n.Fragment,{children:[n.jsx(bS,{className:"h-4 w-4 mr-2"}),"Enviar"]})})})]})]})]})]}):n.jsx(ne,{children:n.jsxs(ae,{className:"flex flex-col items-center justify-center py-16",children:[n.jsx(pk,{className:"h-16 w-16 text-muted-foreground/50 mb-4"}),n.jsx("h3",{className:"font-medium text-xl mb-1",children:"Nenhum ticket selecionado"}),n.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:"Selecione um ticket da lista à esquerda para visualizar os detalhes ou crie um novo ticket."}),n.jsxs(J,{onClick:()=>t("contact"),children:[n.jsx(nx,{className:"h-4 w-4 mr-2"}),"Criar Novo Ticket"]})]})})})]})}),n.jsx(Ze,{value:"faq",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Perguntas Frequentes"}),n.jsx(Re,{children:"Respostas para as dúvidas mais comuns dos lojistas"})]}),n.jsxs(ae,{children:[n.jsx(g9e,{type:"single",collapsible:!0,className:"w-full",children:y9e.map((x,y)=>n.jsxs(oY,{value:`item-${y}`,children:[n.jsx(lY,{className:"text-left",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(am,{className:"h-4 w-4 mr-2 text-primary"}),x.question]})}),n.jsx(cY,{className:"text-muted-foreground",children:x.answer})]},y))}),n.jsx("div",{className:"mt-6 border-t pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-muted-foreground mb-4",children:"Não encontrou o que estava procurando? Entre em contato com nosso suporte."}),n.jsxs(J,{onClick:()=>t("contact"),children:[n.jsx(nx,{className:"mr-2 h-4 w-4"}),"Contatar Suporte"]})]})})]})]})})]})})}function N9e({value:e,size:t=200,title:r,description:a,amount:s,expiresAt:i,downloadable:o=!0,shareable:l=!0,loading:d=!1}){const[u,f]=E.useState(""),[p,x]=E.useState(!1);E.useEffect(()=>{!e||e.trim()===""?x(!0):x(!1)},[e]),E.useEffect(()=>{if(!i)return;const w=()=>{try{const N=new Date,S=i.getTime()-N.getTime();if(S<=0){f("Expirado");return}const _=Math.floor(S/1e3/60),I=Math.floor(S/1e3%60);f(`${_.toString().padStart(2,"0")}:${I.toString().padStart(2,"0")}`)}catch(N){console.error("Erro ao calcular tempo restante:",N),f("--:--")}};w();const C=setInterval(w,1e3);return()=>clearInterval(C)},[i]);const y=()=>{const w=document.getElementById("qr-code-canvas");if(w){const C=w.toDataURL("image/png"),N=document.createElement("a");N.href=C,N.download=`qrcode-${new Date().toISOString().slice(0,10)}.png`,document.body.appendChild(N),N.click(),document.body.removeChild(N)}},j=async()=>{if(typeof navigator<"u"&&"share"in navigator)try{const w=document.getElementById("qr-code-canvas"),C=await new Promise(S=>{w.toBlob(_=>{_&&S(_)},"image/png")}),N=new File([C],"qrcode.png",{type:"image/png"});await navigator.share({title:r||"QR Code Vale Cashback",text:a,files:[N]})}catch(w){console.error("Error sharing:",w)}else alert("Compartilhamento não é suportado pelo seu navegador")};return n.jsxs(ne,{className:"overflow-hidden",children:[r&&n.jsx(de,{children:n.jsx(ue,{className:"text-center",children:r})}),n.jsx(ae,{className:"flex flex-col items-center justify-center p-6",children:d?n.jsx(du,{className:"rounded-md",style:{width:t,height:t}}):p?n.jsxs("div",{className:"flex flex-col items-center justify-center bg-muted rounded-md",style:{width:t,height:t},children:[n.jsx(Yr,{className:"h-12 w-12 text-muted-foreground mb-2"}),n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"QR Code não disponível"})]}):n.jsxs(n.Fragment,{children:[n.jsx(gU,{id:"qr-code-canvas",value:e||"https://valecashback.com",size:t,level:"H",includeMargin:!0,fgColor:"#004B8D",className:"rounded-md"}),s&&n.jsxs("div",{className:"mt-4 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Valor:"}),n.jsxs("p",{className:"text-2xl font-bold",children:["R$ ",s.toFixed(2)]})]}),a&&n.jsx("p",{className:"mt-2 text-sm text-center text-muted-foreground",children:a}),i&&n.jsxs("div",{className:"mt-4 text-center",children:[n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Válido por:"}),n.jsx("p",{className:"text-lg font-medium",children:u})]})]})}),(o||l)&&!d&&!p&&n.jsxs(jr,{className:"flex justify-center gap-2 pb-6",children:[o&&n.jsxs(J,{variant:"outline",size:"sm",onClick:y,disabled:!e||e.trim()==="",children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Baixar"]}),l&&typeof navigator<"u"&&"share"in navigator&&n.jsxs(J,{variant:"outline",size:"sm",onClick:j,disabled:!e||e.trim()==="",children:[n.jsx(im,{className:"mr-2 h-4 w-4"}),"Compartilhar"]})]})]})}function C9e(){var N;const{user:e}=Oa(),{toast:t}=rr(),[r,a]=E.useState("overview"),{data:s,isLoading:i}=Nt({queryKey:["/api/merchant/referrals"],select:S=>{if(S&&S.referrals&&Array.isArray(S.referrals)){const _=new Map;S.referrals.forEach(T=>{_.has(T.id)||_.set(T.id,T)});const I=Array.from(_.values());return{...S,referrals:I}}return S},placeholderData:{referralCode:(e==null?void 0:e.invitation_code)||"LJ123",referralUrl:`https://valecashback.com/parceiro/${(e==null?void 0:e.invitation_code)||"LJ123"}`,referralsCount:0,approvedStores:0,pendingStores:0,totalEarned:"0.00",commission:"1.0",monthlyEarnings:[{month:"Jan",value:0},{month:"Fev",value:0},{month:"Mar",value:0},{month:"Abr",value:0},{month:"Mai",value:0},{month:"Jun",value:0},{month:"Jul",value:120},{month:"Ago",value:0},{month:"Set",value:0},{month:"Out",value:0},{month:"Nov",value:0},{month:"Dez",value:0}],referrals:[]}});Nt({queryKey:["/api/admin/settings/rates"]});const o=async()=>{try{if(s!=null&&s.referralUrl){const S=document.createElement("textarea");S.value=s.referralUrl,S.style.position="fixed",S.style.left="-999999px",S.style.top="-999999px",document.body.appendChild(S),S.focus(),S.select();try{await navigator.clipboard.writeText(s.referralUrl)}catch{document.execCommand("copy")}document.body.removeChild(S),t({title:"Link copiado!",description:"O link de indicação foi copiado para a área de transferência.",variant:"default"})}}catch(S){console.error("Erro ao copiar link:",S),t({title:"Erro ao copiar",description:"Não foi possível copiar o link. Tente novamente ou copie manualmente.",variant:"destructive"})}},l=()=>{const S=`Olá! Seja um parceiro do Vale Cashback. Use meu código de indicação ${s==null?void 0:s.referralCode} para se cadastrar: ${s==null?void 0:s.referralUrl}`,_=`https://wa.me/?text=${encodeURIComponent(S)}`;window.open(_,"_blank")},d=Zt({mutationFn:async S=>(await St("POST","/api/merchant/referrals/invite",S)).json(),onSuccess:()=>{t({title:"Convite enviado!",description:"O convite foi enviado com sucesso para o lojista informado.",variant:"default"}),f(""),x(""),j(""),Ut.invalidateQueries({queryKey:["/api/merchant/referrals"]})},onError:S=>{t({title:"Erro ao enviar convite",description:S.message||"Ocorreu um erro ao enviar o convite. Tente novamente.",variant:"destructive"})}}),[u,f]=E.useState(""),[p,x]=E.useState(""),[y,j]=E.useState(""),w=S=>{if(S.preventDefault(),!u||!p||!y){t({title:"Campos obrigatórios",description:"Por favor, preencha todos os campos.",variant:"destructive"});return}d.mutate({email:u,name:p,storeName:y})},C=[{header:"Nome",accessorKey:"name"},{header:"Tipo",accessorKey:"user_type",cell:S=>n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.user_type==="merchant"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:S.user_type==="merchant"?"Lojista":"Cliente"})})},{header:"Contato",accessorKey:"email",cell:S=>n.jsxs("div",{className:"flex flex-col text-xs",children:[n.jsx("span",{children:S.email||"Email não informado"}),n.jsx("span",{className:"text-muted-foreground",children:S.phone||"Telefone não informado"})]})},{header:"Estabelecimento",accessorKey:"store_name",cell:S=>n.jsx("div",{className:"flex items-center",children:S.user_type==="merchant"?n.jsx("span",{children:S.store_name||"Loja sem nome"}):n.jsx("span",{className:"text-muted-foreground text-xs",children:"N/A"})})},{header:"Data",accessorKey:"date"},{header:"Status",accessorKey:"status",cell:S=>n.jsx("div",{className:"flex items-center",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="active"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S.status==="active"?"Ativo":"Pendente"})})},{header:"Comissão",accessorKey:"commission",cell:S=>n.jsx("div",{className:"flex items-center",children:n.jsxs("span",{className:"font-medium",children:["R$ ",S.commission]})})}];return n.jsx(_t,{title:"Programa de Indicação para Parceiros",type:"merchant",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs(Dr,{value:r,onValueChange:a,className:"space-y-4",children:[n.jsxs(Pr,{children:[n.jsxs($e,{value:"overview",children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Visão Geral"]}),n.jsxs($e,{value:"invite",children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),"Convidar Lojistas"]}),n.jsxs($e,{value:"earnings",children:[n.jsx(vte,{className:"h-4 w-4 mr-2"}),"Ganhos"]}),n.jsxs($e,{value:"list",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Parceiros Indicados"]})]}),n.jsx(Ze,{value:"overview",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Seu Código de Indicação"}),n.jsx(Re,{children:"Indique novos lojistas e ganhe comissões por cada venda realizada"})]}),n.jsx(ae,{className:"flex justify-center",children:n.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"text-4xl font-bold border-2 border-primary px-8 py-4 rounded-lg text-primary",children:(s==null?void 0:s.referralCode)||"..."}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:o,className:"flex items-center",children:[n.jsx(nm,{className:"h-4 w-4 mr-2"}),"Copiar Link"]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:l,className:"flex items-center text-green-600 border-green-600 hover:bg-green-50",children:[n.jsx(Wb,{className:"h-4 w-4 mr-2"}),"Compartilhar"]})]})]})}),n.jsxs(jr,{className:"flex flex-col items-start space-y-2",children:[n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Taxa de comissão: ",n.jsx("span",{className:"font-medium",children:"1%"})," por indicação"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Aumente sua rede de parceiros indicando outros lojistas para o Vale Cashback. Você ganhará uma comissão de 1% sobre as vendas dos lojistas indicados."})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Estatísticas"}),n.jsx(Re,{children:"Acompanhe seus parceiros e ganhos"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-muted rounded-lg",children:[n.jsx("span",{className:"text-3xl font-bold",children:(s==null?void 0:s.referralsCount)||0}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total de Parceiros"})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-muted rounded-lg",children:[n.jsx("span",{className:"text-3xl font-bold",children:(s==null?void 0:s.approvedStores)||0}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Parceiros Ativos"})]}),n.jsxs("div",{className:"flex flex-col items-center justify-center p-4 bg-primary/10 rounded-lg col-span-2",children:[n.jsxs("span",{className:"text-3xl font-bold text-primary",children:["R$ ",(s==null?void 0:s.totalEarned)||"0,00"]}),n.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Ganho"})]})]})}),n.jsx(jr,{children:n.jsxs($s,{variant:"default",className:"w-full",children:[n.jsx(Cr,{className:"h-4 w-4"}),n.jsx(qi,{children:"Comissão recorrente"}),n.jsx(Vs,{children:"Você recebe comissão sobre todas as vendas que seus parceiros indicados realizarem!"})]})})]})]})}),n.jsx(Ze,{value:"invite",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Convidar Parceiro"}),n.jsx(Re,{children:"Envie um convite diretamente para novos lojistas"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:w,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"name",children:"Nome do Responsável"}),n.jsx(ge,{id:"name",value:p,onChange:S=>x(S.target.value),placeholder:"Digite o nome do responsável"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"storeName",children:"Nome da Loja"}),n.jsx(ge,{id:"storeName",value:y,onChange:S=>j(S.target.value),placeholder:"Digite o nome da loja"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"email",children:"E-mail"}),n.jsx(ge,{id:"email",type:"email",value:u,onChange:S=>f(S.target.value),placeholder:"Digite o e-mail para contato"})]}),n.jsx(J,{type:"submit",className:"w-full",disabled:d.isPending,children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Enviando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),"Enviar Convite"]})})]})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Compartilhar Convite"}),n.jsx(Re,{children:"Compartilhe seu link de indicação com outros lojistas"})]}),n.jsxs(ae,{className:"flex flex-col items-center space-y-4",children:[n.jsx("div",{className:"py-4",children:n.jsx(N9e,{value:(s==null?void 0:s.referralUrl)||"",title:"Escaneie para se cadastrar",description:"Aponte a câmera do celular para o QR Code",downloadable:!0,shareable:!0})}),n.jsxs("div",{className:"flex flex-wrap gap-2 justify-center",children:[n.jsxs(J,{onClick:o,className:"flex items-center",children:[n.jsx(nm,{className:"h-4 w-4 mr-2"}),"Copiar Link"]}),n.jsxs(J,{variant:"outline",onClick:l,className:"flex items-center text-green-600 border-green-600 hover:bg-green-50",children:[n.jsx(Wb,{className:"h-4 w-4 mr-2"}),"Compartilhar no WhatsApp"]}),n.jsxs(J,{variant:"outline",className:"flex items-center",children:[n.jsx(im,{className:"h-4 w-4 mr-2"}),"Outras Redes"]})]})]})]})]})}),n.jsx(Ze,{value:"earnings",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Ganhos Mensais"}),n.jsx(Re,{children:"Acompanhe suas comissões de indicação ao longo do tempo"})]}),n.jsx(ae,{children:n.jsx("div",{className:"h-[400px]",children:i?n.jsx("div",{className:"flex justify-center items-center h-full",children:n.jsx(Br,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx(U_,{title:"Comissões de Indicação (R$)",data:(s==null?void 0:s.monthlyEarnings)||[],bars:[{dataKey:"value",name:"Valor (R$)",fill:"#0ea5e9"}],xAxisDataKey:"month",grid:!0,height:350})})}),n.jsx(jr,{children:n.jsxs("div",{className:"flex w-full justify-between items-center",children:[n.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total ganho com indicações: ",n.jsxs("span",{className:"font-semibold",children:["R$ ",(s==null?void 0:s.totalEarned)||"0,00"]})]}),n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>a("list"),children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Ver Detalhes"]})]})})]})}),n.jsx(Ze,{value:"list",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Lista de Parceiros"}),n.jsx(Re,{children:"Detalhes de todos os lojistas indicados por você"})]}),n.jsx(ae,{children:i?n.jsx("div",{className:"flex justify-center items-center h-[300px]",children:n.jsx(Br,{className:"h-8 w-8 animate-spin text-primary"})}):((N=s==null?void 0:s.referrals)==null?void 0:N.length)===0?n.jsxs("div",{className:"flex flex-col items-center justify-center h-[300px] text-center",children:[n.jsx(Cr,{className:"h-16 w-16 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium",children:"Nenhum parceiro indicado"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-2 max-w-md",children:"Indique outros lojistas para o Vale Cashback e ganhe comissões sobre as vendas deles!"}),n.jsxs(J,{variant:"outline",className:"mt-4",onClick:()=>a("invite"),children:[n.jsx(sl,{className:"h-4 w-4 mr-2"}),"Convidar Parceiros"]})]}):n.jsx(Va,{data:(s==null?void 0:s.referrals)||[],columns:C,searchable:!0,onSearch:()=>{}})})]})})]}),n.jsx(yK,{className:"mt-6"})]})})}function S9e(){const[e,t]=E.useState(""),[r,a]=E.useState(""),[s,i]=E.useState(""),{toast:o}=rr(),{data:l}=Nt({queryKey:["/api/merchant/profile"],retry:1,placeholderData:{id:1,name:"Loja Vale Cashback"}}),d=Zt({mutationFn:async x=>{const y=await fetch("/api/merchant/generate-qr",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(x)});if(!y.ok)throw new Error("Erro ao gerar QR Code");return y.json()},onSuccess:x=>{i(x.qrCode),o({title:"QR Code gerado",description:"QR Code criado com sucesso!",variant:"default"})},onError:()=>{o({title:"Erro",description:"Não foi possível gerar o QR Code",variant:"destructive"})}}),u=()=>{const x=parseFloat(e);if(!x||x<=0){o({title:"Valor inválido",description:"Digite um valor válido maior que zero",variant:"destructive"});return}d.mutate({amount:x,description:r||`Pagamento - ${(l==null?void 0:l.name)||"Loja"}`})},f=()=>{navigator.clipboard.writeText(s),o({title:"Copiado!",description:"Dados do QR Code copiados para a área de transferência",variant:"default"})},p=()=>{const x=document.querySelector("canvas");if(x){const y=x.toDataURL(),j=document.createElement("a");j.download=`qr-pagamento-${e}.png`,j.href=y,j.click()}};return E.useEffect(()=>{if(!s&&l){const x=JSON.stringify({merchant_id:l.id||1,merchant_name:l.name||"Loja Exemplo",type:"payment",timestamp:Date.now()});i(x)}},[l,s]),n.jsxs(_t,{title:"QR Code de Pagamento",type:"merchant",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center gap-2",children:[n.jsx(Pn,{className:"h-5 w-5"}),"Gerar QR Code"]})}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"amount",children:"Valor da Compra"}),n.jsx(ge,{id:"amount",type:"number",placeholder:"0,00",value:e,onChange:x=>t(x.target.value),step:"0.01",min:"0"})]}),n.jsxs("div",{children:[n.jsx(Le,{htmlFor:"description",children:"Descrição (Opcional)"}),n.jsx(ge,{id:"description",placeholder:"Ex: Café e pão de açúcar",value:r,onChange:x=>a(x.target.value)})]}),n.jsx(J,{onClick:u,disabled:d.isPending,className:"w-full",children:d.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"mr-2 h-4 w-4 animate-spin"}),"Gerando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Gerar QR Code"]})}),e&&n.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Valor:"}),n.jsx("p",{className:"text-2xl font-bold text-primary",children:Be(parseFloat(e)||0)})]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"QR Code Gerado"})}),n.jsx(ae,{children:s?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:n.jsx(w3,{value:s,size:200,level:"M",includeMargin:!0})}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsxs(J,{variant:"outline",onClick:f,children:[n.jsx(nm,{className:"mr-2 h-4 w-4"}),"Copiar"]}),n.jsxs(J,{variant:"outline",onClick:p,children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Baixar"]})]}),e&&n.jsxs("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[n.jsx(Jn,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("p",{className:"font-medium",children:"QR Code Ativo"}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Valor: ",Be(parseFloat(e)||0)]})]})]}):n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(Pn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:'Preencha os dados e clique em "Gerar QR Code"'})]})})]})]}),n.jsxs(ne,{className:"mt-6",children:[n.jsx(de,{children:n.jsx(ue,{children:"Como Usar"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"1"})}),n.jsx("h3",{className:"font-medium mb-2",children:"Digite o Valor"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Informe o valor da compra do cliente"})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"2"})}),n.jsx("h3",{className:"font-medium mb-2",children:"Gere o QR Code"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:'Clique em "Gerar QR Code" para criar o pagamento'})]}),n.jsxs("div",{className:"text-center p-4",children:[n.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx("span",{className:"text-lg font-bold text-primary",children:"3"})}),n.jsx("h3",{className:"font-medium mb-2",children:"Cliente Escaneia"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"O cliente escaneia o QR Code e confirma o pagamento"})]})]})})]})]})}function A9e(){const[e,t]=E.useState(null),[r,a]=E.useState(!1),[s,i]=E.useState(""),[o,l]=E.useState("all"),{data:d,isLoading:u}=Nt({queryKey:["/api/merchant/stores"]}),f=d?d.filter(N=>{const S=s===""||N.name.toLowerCase().includes(s.toLowerCase())||N.category&&N.category.toLowerCase().includes(s.toLowerCase()),_=o==="all"||N.category===o;return S&&_}):[],p=N=>{t(N),a(!0)},x=N=>new Date(N).toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}),y=(N="")=>N.split(" ").map(S=>S[0]).slice(0,2).join("").toUpperCase(),j=[{label:"Todas as Categorias",value:"all"},{label:"Supermercado",value:"supermarket"},{label:"Farmácia",value:"pharmacy"},{label:"Restaurante",value:"restaurant"},{label:"Posto de Combustível",value:"gas_station"},{label:"Loja de Roupas",value:"clothing"},{label:"Livraria",value:"books"},{label:"Eletrônicos",value:"electronics"},{label:"Beleza e Cosméticos",value:"beauty"},{label:"Outros",value:"other"}],w=N=>({supermarket:"bg-green-50 border-green-200",pharmacy:"bg-red-50 border-red-200",restaurant:"bg-yellow-50 border-yellow-200",gas_station:"bg-blue-50 border-blue-200",clothing:"bg-purple-50 border-purple-200",books:"bg-indigo-50 border-indigo-200",electronics:"bg-gray-50 border-gray-200",beauty:"bg-pink-50 border-pink-200",other:"bg-orange-50 border-orange-200"})[N]||"bg-slate-50 border-slate-200",C=({rating:N})=>n.jsxs("div",{className:"flex items-center",children:[[...Array(5)].map((S,_)=>n.jsx(al,{size:16,className:_<Math.floor(N)?"text-yellow-400 fill-yellow-400":"text-gray-300"},_)),n.jsx("span",{className:"ml-1 text-sm font-semibold",children:N.toFixed(1)})]});return n.jsxs(_t,{title:"Lojas Parceiras",type:"merchant",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Parceiros"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:(d==null?void 0:d.length)||0})]}),n.jsx("div",{className:"h-12 w-12 bg-primary/10 rounded-full flex items-center justify-center",children:n.jsx(Cr,{className:"h-6 w-6 text-primary"})})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Parceiros Ativos"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:(d==null?void 0:d.filter(N=>N.transactions>0).length)||0})]}),n.jsx("div",{className:"h-12 w-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Qt,{className:"h-6 w-6 text-green-600"})})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Transações Totais"}),n.jsx("h3",{className:"text-2xl font-bold mt-1",children:d==null?void 0:d.reduce((N,S)=>N+(S.transactions||0),0)})]}),n.jsx("div",{className:"h-12 w-12 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(wy,{className:"h-6 w-6 text-blue-600"})})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Volume Financeiro"}),n.jsxs("h3",{className:"text-2xl font-bold mt-1",children:["R$ ",d==null?void 0:d.reduce((N,S)=>N+(S.volume||0),0).toFixed(2)]})]}),n.jsx("div",{className:"h-12 w-12 bg-amber-100 rounded-full flex items-center justify-center",children:n.jsx(Gu,{className:"h-6 w-6 text-amber-600"})})]})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"pb-3",children:[n.jsx(ue,{children:"Parceiros Vale Cashback"}),n.jsx(Re,{children:"Conheça outras lojas da rede e estabeleça parcerias"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"w-full md:w-1/3",children:[n.jsx("label",{className:"text-sm font-medium block mb-2",children:"Pesquisar"}),n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"}),n.jsx(ge,{placeholder:"Nome, categoria, etc",className:"pl-9",value:s,onChange:N=>i(N.target.value)})]})]}),n.jsxs("div",{className:"w-full md:w-1/3",children:[n.jsx("label",{className:"text-sm font-medium block mb-2",children:"Categoria"}),n.jsxs(ur,{value:o,onValueChange:l,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Todas as Categorias"})}),n.jsx(dr,{children:j.map(N=>n.jsx(ve,{value:N.value,children:N.label},N.value))})]})]}),n.jsxs("div",{className:"w-full md:w-1/3",children:[n.jsx("label",{className:"text-sm font-medium block mb-2",children:"Ordenar por"}),n.jsxs(ur,{defaultValue:"name",children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Nome"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"name",children:"Nome"}),n.jsx(ve,{value:"rating",children:"Avaliação"}),n.jsx(ve,{value:"transactions",children:"Volume de Transações"}),n.jsx(ve,{value:"newest",children:"Mais Recentes"})]})]})]})]}),u?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})}):f.length===0?n.jsxs("div",{className:"text-center py-10",children:[n.jsx(Cr,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-30"}),n.jsx("h3",{className:"mt-4 text-lg font-medium",children:"Nenhuma loja encontrada"}),n.jsx("p",{className:"mt-2 text-sm text-muted-foreground max-w-sm mx-auto",children:"Não encontramos nenhuma loja com os filtros selecionados. Tente ajustar sua busca ou voltar mais tarde."})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(N=>n.jsxs("div",{className:`border rounded-lg overflow-hidden hover:shadow-md transition cursor-pointer ${w(N.category)}`,onClick:()=>p(N),children:[n.jsxs("div",{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsxs(ra,{className:"h-12 w-12",children:[n.jsx(ga,{src:N.logo,alt:N.name}),n.jsx(na,{className:"bg-primary/10 text-primary",children:y(N.name)})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold truncate",children:N.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:N.category})]})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[N.address&&n.jsxs("div",{className:"flex items-start text-sm",children:[n.jsx(sm,{className:"h-4 w-4 mr-2 mt-0.5 text-muted-foreground"}),n.jsx("span",{className:"truncate",children:N.address})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(C,{rating:N.rating||0}),n.jsxs(xt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[N.transactions," vendas"]})]})]})]}),n.jsxs("div",{className:"bg-background/90 p-2 flex justify-between items-center border-t",children:[n.jsxs("span",{className:"text-xs text-muted-foreground",children:[n.jsx(xl,{className:"h-3 w-3 inline mr-1"}),"Desde ",x(N.createdAt)]}),n.jsxs(J,{variant:"ghost",size:"sm",className:"text-xs h-7",children:["Detalhes",n.jsx(KT,{className:"h-3 w-3 ml-1"})]})]})]},N.id))})]})]})]}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsx(un,{className:"max-w-3xl",children:e&&n.jsxs(n.Fragment,{children:[n.jsxs(hn,{children:[n.jsxs(fn,{className:"flex items-center gap-2",children:[n.jsxs(ra,{className:"h-8 w-8",children:[n.jsx(ga,{src:e.logo,alt:e.name}),n.jsx(na,{className:"bg-primary/10 text-primary",children:y(e.name)})]}),e.name]}),n.jsx(jn,{children:"Detalhes e informações sobre o parceiro"})]}),n.jsxs(Dr,{defaultValue:"info",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3",children:[n.jsxs($e,{value:"info",children:[n.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Informações"]}),n.jsxs($e,{value:"performance",children:[n.jsx(wy,{className:"h-4 w-4 mr-2"}),"Desempenho"]}),n.jsxs($e,{value:"partnership",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),"Parceria"]})]}),n.jsx(Ze,{value:"info",className:"space-y-4 mt-4",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"md:col-span-2 space-y-4",children:[n.jsx(ne,{children:n.jsxs(ae,{className:"pt-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"font-semibold",children:"Sobre a Loja"}),n.jsx(C,{rating:e.rating||0})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:e.description||`${e.name} é uma loja parceira do Vale Cashback desde ${x(e.createdAt)}.`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"flex items-start",children:[n.jsx(sm,{className:"h-4 w-4 mr-2 mt-0.5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Endereço"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.address?`${e.address}, ${e.city}/${e.state}`:"Endereço não informado"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Bd,{className:"h-4 w-4 mr-2 mt-0.5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Telefone"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone||"Não informado"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(Us,{className:"h-4 w-4 mr-2 mt-0.5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Email"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.email||"Não informado"})]})]}),n.jsxs("div",{className:"flex items-start",children:[n.jsx(xl,{className:"h-4 w-4 mr-2 mt-0.5 text-muted-foreground"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium",children:"Na plataforma desde"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:x(e.createdAt)})]})]})]})]})}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Informações Adicionais"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Categoria"}),n.jsx("p",{className:"font-medium",children:e.category||"Não categorizado"})]}),n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Proprietário"}),n.jsx("p",{className:"font-medium",children:e.owner})]}),n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de Vendas"}),n.jsxs("p",{className:"font-medium",children:[e.transactions," transações"]})]}),n.jsxs("div",{className:"p-3 bg-primary/5 rounded-lg",children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Volume Financeiro"}),n.jsxs("p",{className:"font-medium",children:["R$ ",Number(e.volume).toFixed(2)]})]})]})})]})]}),n.jsx("div",{children:n.jsxs(ne,{className:"bg-gradient-to-br from-blue-50 to-primary/5 border-primary/20",children:[n.jsx(de,{children:n.jsx(ue,{className:"text-base",children:"Oportunidades de Parceria"})}),n.jsxs(ae,{className:"space-y-3",children:[n.jsxs("div",{className:"bg-white rounded-md p-3 shadow-sm",children:[n.jsx(xt,{className:"mb-2",variant:"outline",children:"Promo"}),n.jsx("h4",{className:"font-medium text-sm",children:"Promoção Conjunta"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Crie promoções em parceria com esta loja para atrair mais clientes."})]}),n.jsxs("div",{className:"bg-white rounded-md p-3 shadow-sm",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Compartilhar Clientes"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Ofereça descontos especiais para os clientes desta loja."})]}),n.jsxs("div",{className:"bg-white rounded-md p-3 shadow-sm",children:[n.jsx("h4",{className:"font-medium text-sm",children:"Evento Conjunto"}),n.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Organize eventos ou feiras para promover ambos os negócios."})]}),n.jsxs(J,{variant:"default",className:"w-full",onClick:()=>alert("Funcionalidade será implementada em breve!"),children:["Entrar em Contato",n.jsx(Us,{className:"h-4 w-4 ml-2"})]})]})]})})]})}),n.jsx(Ze,{value:"performance",className:"space-y-4 mt-4",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{className:"text-base",children:"Desempenho no Vale Cashback"}),n.jsx(Re,{children:"Estatísticas de vendas e transações"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[n.jsx(pd,{className:"h-8 w-8 mx-auto text-primary mb-2"}),n.jsx("h3",{className:"text-2xl font-bold",children:e.transactions||0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Transações"})]}),n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[n.jsx(Gu,{className:"h-8 w-8 mx-auto text-primary mb-2"}),n.jsxs("h3",{className:"text-2xl font-bold",children:["R$ ",Number(e.volume||0).toFixed(2)]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Volume Total"})]}),n.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg text-center",children:[n.jsx(Mr,{className:"h-8 w-8 mx-auto text-primary mb-2"}),n.jsxs("h3",{className:"text-2xl font-bold",children:[e.commissionRate,"%"]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Taxa de Cashback"})]})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-medium mb-4",children:"Transações Recentes"}),e.recentTransactions&&e.recentTransactions.length>0?n.jsx("div",{className:"space-y-2",children:e.recentTransactions.map(N=>n.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted/20 rounded-lg",children:[n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium",children:["Venda #",N.id]}),n.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(N.date).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("p",{className:"text-sm font-medium",children:["R$ ",Number(N.amount).toFixed(2)]}),n.jsx(xt,{variant:"outline",className:`text-xs ${N.status==="completed"?"bg-green-50 text-green-700":"bg-yellow-50 text-yellow-700"}`,children:N.status==="completed"?"Concluída":"Pendente"})]})]},N.id))}):n.jsx("p",{className:"text-sm text-muted-foreground text-center py-6",children:"Não há transações recentes para exibir."})]})]})]})}),n.jsx(Ze,{value:"partnership",className:"space-y-4 mt-4",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{className:"text-base",children:"Oportunidades de Parceria"}),n.jsxs(Re,{children:["Explore formas de colaborar com ",e.name]})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("div",{className:"border rounded-lg p-4 hover:border-primary/50 hover:bg-primary/5 transition cursor-pointer",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx(jy,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Promoção Cruzada"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ofereça descontos aos clientes desta loja e vice-versa para aumentar a base de clientes."})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 hover:border-primary/50 hover:bg-primary/5 transition cursor-pointer",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx(Qt,{className:"h-5 w-5 text-green-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Compartilhamento de Clientes"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Crie um programa de fidelidade conjunto para incentivar compras em ambas as lojas."})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 hover:border-primary/50 hover:bg-primary/5 transition cursor-pointer",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx(pd,{className:"h-5 w-5 text-purple-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Produtos Complementares"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Identifique produtos que complementam os seus e promova-os conjuntamente."})]})]})}),n.jsx("div",{className:"border rounded-lg p-4 hover:border-primary/50 hover:bg-primary/5 transition cursor-pointer",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"h-10 w-10 bg-amber-100 rounded-full flex items-center justify-center",children:n.jsx(wy,{className:"h-5 w-5 text-amber-600"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:"Marketing Conjunto"}),n.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Compartilhe custos de marketing para promover ambos os negócios."})]})]})})]}),n.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Como Iniciar uma Parceria"}),n.jsxs("ol",{className:"list-decimal pl-5 space-y-2 text-sm",children:[n.jsxs("li",{children:["Entre em contato com o proprietário através do email: ",e.email]}),n.jsx("li",{children:"Explique sua proposta de parceria e como ambos podem se beneficiar"}),n.jsx("li",{children:"Defina objetivos claros e métricas para medir o sucesso da parceria"}),n.jsx("li",{children:"Formalize o acordo através da plataforma Vale Cashback"})]})]}),n.jsx("div",{className:"flex justify-center",children:n.jsx(J,{className:"w-full md:w-1/2",onClick:()=>alert("Funcionalidade será implementada em breve!"),children:"Iniciar Proposta de Parceria"})})]})})]})})]})]})})})]})}const My=e=>{if(e==null)return"$0.00";let t;if(typeof e=="string"){const r=e.replace(/[$,\s]/g,"");t=parseFloat(r)}else t=e;return isNaN(t)?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)},E9e=()=>{const{toast:e}=rr(),t=Nl(),{user:r}=Oa(),{t:a}=bs(),[s,i]=E.useState({amount:"",full_name:(r==null?void 0:r.name)||"",store_name:"",phone:"",email:(r==null?void 0:r.email)||"",bank_name:"",agency:"",account:"",payment_method:"bank"}),{data:o,isLoading:l}=Nt({queryKey:["/api/merchant/wallet"],refetchOnWindowFocus:!1,staleTime:3e4,retry:1}),d=o||{currentBalance:0,pendingAmount:0,pendingCount:0,availableBalance:0},u=j=>{const{name:w,value:C}=j.target;i(N=>({...N,[w]:C}))},f=j=>{i(w=>({...w,payment_method:j}))},{mutate:p,isPending:x}=Zt({mutationFn:async j=>await(await St("POST","/api/merchant/withdrawal-requests",j)).json(),onSuccess:()=>{i(j=>({...j,amount:"",bank_name:"",agency:"",account:""})),e({title:a("withdrawal.success"),description:a("common.operationPerformedSuccessfully")}),t.invalidateQueries({queryKey:["/api/merchant/wallet"]})},onError:j=>{e({title:a("withdrawal.error"),description:j.message||j.data&&j.data.message||a("common.requestProcessError"),variant:"destructive"})}}),y=j=>{if(j.preventDefault(),!s.amount||parseFloat(s.amount)<=0){e({title:a("common.invalidAmount"),description:a("common.pleaseEnterValidAmount"),variant:"destructive"});return}if(parseFloat(s.amount)>d.availableBalance){e({title:a("common.insufficientFunds"),description:a("common.amountExceedsAvailableBalance"),variant:"destructive"});return}if(parseFloat(s.amount)<1){e({title:a("common.invalidAmount"),description:a("withdrawal.minimumAmount"),variant:"destructive"});return}if(s.payment_method==="bank"&&(!s.bank_name||!s.account)){e({title:a("common.missingInformation"),description:a("common.fillRequiredFields"),variant:"destructive"});return}p(s)};return n.jsxs(ne,{className:"w-full",children:[n.jsxs(de,{children:[n.jsx(ue,{children:a("withdrawal.requestWithdrawal")}),n.jsx(Re,{children:a("withdrawal.minimumAmount")})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"mb-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex flex-col p-4 bg-muted/50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:a("withdrawal.currentBalance")}),n.jsx("span",{className:"text-2xl font-semibold",children:l?n.jsx(lt,{className:"h-5 w-5 animate-spin"}):My(d.currentBalance)})]}),n.jsxs("div",{className:"flex flex-col p-4 bg-muted/50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:a("withdrawal.availableBalance")}),n.jsx("span",{className:"text-2xl font-semibold text-primary",children:l?n.jsx(lt,{className:"h-5 w-5 animate-spin"}):My(d.availableBalance)})]}),n.jsxs("div",{className:"flex flex-col p-4 bg-muted/50 rounded-lg",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:a("withdrawal.pendingAmount")}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("span",{className:"text-2xl font-semibold",children:l?n.jsx(lt,{className:"h-5 w-5 animate-spin"}):My(d.pendingAmount)}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",d.pendingCount||0," ",d.pendingCount===1?a("common.request"):a("common.requests"),")"]})]})]})]}),n.jsxs("form",{onSubmit:y,children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Le,{htmlFor:"amount",children:a("withdrawal.withdrawalAmount")}),n.jsx(ge,{id:"amount",name:"amount",type:"number",step:"0.01",min:"1",placeholder:"0.00",value:s.amount,onChange:u})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Le,{htmlFor:"payment_method",children:a("withdrawal.withdrawalMethod")}),n.jsxs(ur,{value:s.payment_method,onValueChange:f,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:a("common.selectOption")})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"bank",children:a("withdrawal.bankTransfer")}),n.jsx(ve,{value:"zelle",children:a("withdrawal.zelle")})]})]})]}),s.payment_method==="bank"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Le,{htmlFor:"bank_name",children:a("withdrawal.bankName")}),n.jsx(ge,{id:"bank_name",name:"bank_name",placeholder:a("withdrawal.bankName"),value:s.bank_name,onChange:u})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Le,{htmlFor:"agency",children:a("withdrawal.routingNumber")}),n.jsx(ge,{id:"agency",name:"agency",placeholder:a("withdrawal.routingNumber"),value:s.agency,onChange:u})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(Le,{htmlFor:"account",children:a("withdrawal.accountNumber")}),n.jsx(ge,{id:"account",name:"account",placeholder:a("withdrawal.accountNumber"),value:s.account,onChange:u})]})]})]}),s.payment_method==="zelle"&&n.jsxs("div",{className:"space-y-4",children:[n.jsx(Le,{htmlFor:"account",children:a("withdrawal.zelleEmail")}),n.jsx(ge,{id:"account",name:"account",type:"email",placeholder:"email@example.com",value:s.account,onChange:u})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx(J,{type:"submit",className:"w-full",disabled:x||l||parseFloat(s.amount||"0")<=0,children:x?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),a("common.processing")]}):a("withdrawal.requestWithdrawal")})})]})]})]})},T9e=()=>{const{toast:e}=rr(),t=Nl(),{t:r}=bs(),{data:a,isLoading:s}=Nt({queryKey:["/api/merchant/withdrawal-requests"],refetchOnWindowFocus:!1}),i=(a==null?void 0:a.withdrawals)||[],{mutate:o,isPending:l}=Zt({mutationFn:async p=>{const x=await St("DELETE",`/api/merchant/withdrawal-requests/${p}`);if(!x.ok){const y=await x.json();throw new Error(y.message||r("common.requestError"))}return p},onSuccess:()=>{e({title:r("withdrawal.cancelSuccess")}),t.invalidateQueries({queryKey:["/api/merchant/withdrawal-requests"]}),t.invalidateQueries({queryKey:["/api/merchant/wallet"]})},onError:p=>{e({title:r("common.error"),description:p.message,variant:"destructive"})}}),d=p=>{window.confirm(r("withdrawal.cancelConfirmation"))&&o(p)},u=p=>{switch(p.toLowerCase()){case"pending":return"bg-yellow-200 text-yellow-800";case"approved":return"bg-green-200 text-green-800";case"rejected":return"bg-red-200 text-red-800";case"cancelled":return"bg-slate-200 text-slate-800";default:return"bg-slate-200 text-slate-800"}},f=p=>{switch(p.toLowerCase()){case"pending":return r("common.pending");case"approved":return r("common.approved");case"rejected":return r("common.rejected");case"cancelled":return r("common.cancelled");default:return p}};return n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:r("withdrawal.withdrawalHistory")})}),n.jsx(ae,{children:s?n.jsx("div",{className:"flex justify-center py-8",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})}):i.length===0?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:r("common.noRecordsFound")}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:r("withdrawal.requestDate")}),n.jsx(Et,{children:r("withdrawal.amount")}),n.jsx(Et,{children:r("withdrawal.withdrawalMethod")}),n.jsx(Et,{children:r("withdrawal.status")}),n.jsx(Et,{className:"text-right",children:r("withdrawal.actions")})]})}),n.jsx(pl,{children:i.map(p=>n.jsxs(Tn,{children:[n.jsx(bt,{children:Ot(new Date(p.created_at),"dd/MM/yyyy HH:mm",{locale:X0})}),n.jsx(bt,{className:"font-semibold",children:My(p.amount)}),n.jsx(bt,{children:p.payment_method==="bank"?r("withdrawal.bankTransfer"):r("withdrawal.zelle")}),n.jsx(bt,{children:n.jsx(xt,{className:u(p.status),children:f(p.status)})}),n.jsx(bt,{className:"text-right",children:p.status==="pending"&&n.jsx(J,{variant:"outline",size:"sm",onClick:()=>d(p.id),disabled:l,children:l?n.jsx(lt,{className:"h-4 w-4 animate-spin"}):r("common.cancel")})})]},p.id))})]})})})]})};function c6(){const{t:e}=bs();return n.jsx(_t,{title:"withdrawal.requestWithdrawal",type:"merchant",children:n.jsxs("div",{className:"flex flex-col space-y-8 p-4 md:p-8",children:[n.jsxs("div",{className:"flex flex-col space-y-2",children:[n.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:e("withdrawal.requestWithdrawal")}),n.jsx("p",{className:"text-muted-foreground",children:e("withdrawal.withdrawalHistory")})]}),n.jsxs(Dr,{defaultValue:"request",className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-2",children:[n.jsx($e,{value:"request",children:e("withdrawal.newRequest")}),n.jsx($e,{value:"history",children:e("withdrawal.history")})]}),n.jsx(Ze,{value:"request",className:"mt-6",children:n.jsx(E9e,{})}),n.jsx(Ze,{value:"history",className:"mt-6",children:n.jsx(T9e,{})})]})]})})}const _9e=we.object({amount:we.string().refine(e=>{const t=parseFloat(e.replace(/,/g,"."));return!isNaN(t)&&t>=20},{message:"Valor mínimo para saque: $20"}),bank_name:we.string().min(3,{message:"Nome do banco é obrigatório"}),account_number:we.string().min(5,{message:"Número da conta é obrigatório"}),account_type:we.string().min(1,{message:"Tipo de conta é obrigatório"}),payment_method:we.string().min(1,{message:"Método de pagamento é obrigatório"}),notes:we.string().optional()});function P9e({isOpen:e,onClose:t,availableBalance:r,withdrawalFee:a}){const{toast:s}=rr(),i=Nl(),[o,l]=E.useState(null),d=Ea({resolver:Ta(_9e),defaultValues:{amount:"",bank_name:"",account_number:"",account_type:"checking",payment_method:"bank_transfer",notes:""}}),u=Zt({mutationFn:async y=>(await St("POST","/api/merchant/withdrawal-requests",{...y,amount:parseFloat(y.amount.replace(/,/g,"."))})).json(),onSuccess:()=>{s({title:"Solicitação enviada com sucesso",description:"Sua solicitação de saque foi enviada e está em análise."}),i.invalidateQueries({queryKey:["/api/merchant/salaries"]}),i.invalidateQueries({queryKey:["/api/merchant/wallet"]}),i.invalidateQueries({queryKey:["/api/merchant/withdrawal-requests"]}),t(),d.reset()},onError:y=>{s({title:"Erro ao solicitar saque",description:y.message||"Tente novamente mais tarde.",variant:"destructive"})}}),f=y=>{const j=parseFloat(y.replace(/,/g,"."));if(isNaN(j))l(null);else{const w=j*a;l(j-w)}},p=y=>`$${y.toFixed(2)}`,x=y=>{if(parseFloat(y.amount.replace(/,/g,"."))>r){s({title:"Saldo insuficiente",description:`Seu saldo disponível é de ${p(r)}`,variant:"destructive"});return}u.mutate(y)};return n.jsx(wn,{open:e,onOpenChange:y=>!y&&t(),children:n.jsxs(un,{className:"sm:max-w-[500px]",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Solicitar Saque"}),n.jsxs(jn,{children:["Preencha os dados para solicitar um saque da sua conta Vale Cashback. Taxa da plataforma: ",(a*100).toFixed(0),"%"]})]}),n.jsx($a,{...d,children:n.jsxs("form",{onSubmit:d.handleSubmit(x),className:"space-y-4",children:[n.jsx(Ie,{control:d.control,name:"amount",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Valor a sacar"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:"$"}),n.jsx(ge,{...y,className:"pl-8",onChange:j=>{y.onChange(j),f(j.target.value)},placeholder:"0.00"})]})}),n.jsxs(Pt,{children:["Saldo disponível: ",p(r)]}),n.jsx(tt,{})]})}),o!==null&&n.jsxs("div",{className:"p-3 bg-muted rounded-md",children:[n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{children:"Valor solicitado:"}),n.jsx("span",{children:p(parseFloat(d.getValues().amount.replace(/,/g,".")))})]}),n.jsxs("div",{className:"flex justify-between items-center text-sm text-orange-600",children:[n.jsxs("span",{children:["Taxa da plataforma (",(a*100).toFixed(0),"%):"]}),n.jsxs("span",{children:["-",p(parseFloat(d.getValues().amount.replace(/,/g,"."))*a)]})]}),n.jsxs("div",{className:"flex justify-between items-center font-bold mt-1 pt-1 border-t border-border",children:[n.jsx("span",{children:"Valor a receber:"}),n.jsx("span",{children:p(o)})]})]}),n.jsx(Ie,{control:d.control,name:"payment_method",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Método de pagamento"}),n.jsxs(ur,{onValueChange:y.onChange,defaultValue:y.value,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione o método"})})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"bank_transfer",children:"Transferência bancária"}),n.jsx(ve,{value:"pix",children:"PIX"}),n.jsx(ve,{value:"zelle",children:"Zelle"})]})]}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:d.control,name:"bank_name",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome do banco"}),n.jsx(ke,{children:n.jsx(ge,{...y,placeholder:"Nome do seu banco"})}),n.jsx(tt,{})]})}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsx(Ie,{control:d.control,name:"account_number",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Número da conta"}),n.jsx(ke,{children:n.jsx(ge,{...y,placeholder:"Número da conta"})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:d.control,name:"account_type",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Tipo de conta"}),n.jsxs(ur,{onValueChange:y.onChange,defaultValue:y.value,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione o tipo"})})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"checking",children:"Corrente"}),n.jsx(ve,{value:"savings",children:"Poupança"})]})]}),n.jsx(tt,{})]})})]}),n.jsx(Ie,{control:d.control,name:"notes",render:({field:y})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Observações (opcional)"}),n.jsx(ke,{children:n.jsx(ge,{...y,placeholder:"Informações adicionais"})}),n.jsx(tt,{})]})}),n.jsxs(Aa,{className:"mt-6",children:[n.jsx(J,{type:"button",variant:"outline",onClick:t,disabled:u.isPending,children:"Cancelar"}),n.jsx(J,{type:"submit",disabled:u.isPending,children:u.isPending?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando"]}):"Solicitar Saque"})]})]})})]})})}const ny=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8"];function O9e(){var u,f,p,x,y,j,w,C;const[e,t]=E.useState("earnings"),[r,a]=E.useState(!1);bs();const{data:s,isLoading:i,error:o}=Nt({queryKey:["/api/merchant/salaries",e],placeholderData:{earnings:{totalSales:12850.75,totalCommissions:257.02,platformFee:642.54,netEarnings:11951.19,pendingPayouts:1200,payoutHistory:[{id:1,date:"2025-05-01",amount:1850.75,status:"completed",fees:92.54,netAmount:1758.21,method:"Bank Transfer"},{id:2,date:"2025-04-01",amount:2200.5,status:"completed",fees:110.03,netAmount:2090.47,method:"Bank Transfer"},{id:3,date:"2025-03-01",amount:1750.25,status:"completed",fees:87.51,netAmount:1662.74,method:"Bank Transfer"}]},fees:{platformFee:.05,merchantCommission:.02,clientCashback:.02,referralBonus:.01,withdrawalFee:.05,sampleCalculation:{saleAmount:1e3,platformFee:50,merchantCommission:20,clientCashback:20,referralBonus:10,netAmount:900,withdrawalFeeExample:18},recentFees:[{date:"2025-05-15",transactionType:"Sale",amount:350.75,platformFee:17.54,description:"Taxa de plataforma (5%)"},{date:"2025-05-14",transactionType:"Sale",amount:420.25,platformFee:21.01,description:"Taxa de plataforma (5%)"},{date:"2025-05-12",transactionType:"Withdrawal",amount:1200,platformFee:24,description:"Taxa do lojista (2%)"}]},transactions:{recentTransactions:[{id:1,date:"2025-05-15",customer:"Maria Silva",amount:350.75,platformFee:17.54,cashback:7.02,commission:7.02,referralBonus:3.51,netAmount:333.21,method:"Credit Card"},{id:2,date:"2025-05-14",customer:"João Santos",amount:420.25,platformFee:21.01,cashback:8.41,commission:8.41,referralBonus:4.2,netAmount:399.24,method:"PIX"},{id:3,date:"2025-05-12",customer:"Ana Oliveira",amount:275,platformFee:13.75,cashback:5.5,commission:5.5,referralBonus:2.75,netAmount:261.25,method:"Debit Card"}],feeDistribution:[{name:"Valor Líquido",value:11951.19},{name:"Taxa da Plataforma",value:642.54},{name:"Cashback ao Cliente",value:257.02},{name:"Comissão do Lojista",value:257.02},{name:"Bônus de Indicação",value:128.51}]}}}),l=N=>{if(N==null)return 0;if(typeof N=="string"){const S=parseFloat(N);return isNaN(S)?0:S}return isNaN(N)?0:N},d=N=>{switch(N){case"completed":return"bg-green-500";case"pending":return"bg-yellow-500";case"failed":return"bg-red-500";default:return"bg-gray-500"}};return i?n.jsx(_t,{title:"Comissões e Taxas",type:"merchant",children:n.jsx("div",{className:"flex justify-center items-center min-h-[300px]",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})})}):o?n.jsx(_t,{title:"Comissões e Taxas",type:"merchant",children:n.jsxs($s,{variant:"destructive",className:"mb-4",children:[n.jsx(Yr,{className:"h-4 w-4"}),n.jsx(qi,{children:"Erro ao carregar os dados"}),n.jsx(Vs,{children:"Não foi possível carregar os dados financeiros. Por favor, tente novamente mais tarde."})]})}):n.jsxs(_t,{title:"Comissões e Taxas",type:"merchant",children:[n.jsx(P9e,{isOpen:r,onClose:()=>a(!1),availableBalance:(s==null?void 0:s.earnings.netEarnings)||0,withdrawalFee:(s==null?void 0:s.fees.withdrawalFee)||.05}),n.jsxs(Dr,{defaultValue:"earnings",value:e,onValueChange:t,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs(Pr,{children:[n.jsxs($e,{value:"earnings",children:[n.jsx(ta,{className:"h-4 w-4 mr-2"}),"Ganhos e Saques"]}),n.jsxs($e,{value:"fees",children:[n.jsx(fa,{className:"h-4 w-4 mr-2"}),"Taxas"]}),n.jsxs($e,{value:"transactions",children:[n.jsx(So,{className:"h-4 w-4 mr-2"}),"Transações Detalhadas"]})]}),n.jsxs(J,{size:"sm",variant:"outline",onClick:()=>window.print(),children:[n.jsx(vS,{className:"h-4 w-4 mr-2"}),"Exportar Relatório"]})]}),n.jsxs(Ze,{value:"earnings",children:[n.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total de Vendas"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Be(l(s==null?void 0:s.earnings.totalSales))}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"No período atual"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Comissões Ganhas"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:Be(l(s==null?void 0:s.earnings.totalCommissions))}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"2% sobre o total de vendas"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Taxa da Plataforma"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-orange-600",children:Be(l(s==null?void 0:s.earnings.platformFee))}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"5% sobre o total de vendas"})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Ganhos Líquidos"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Be(l(s==null?void 0:s.earnings.netEarnings))}),n.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Após taxas e comissões"})]})]})]}),n.jsx("div",{className:"grid md:grid-cols-1 gap-6 mb-6",children:n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx(ue,{children:"Saques Pendentes & Histórico"}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>a(!0),children:"Solicitar Saque"})]})}),n.jsxs(ae,{children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"text-xl font-medium mb-1",children:"Valor Disponível para Saque"}),n.jsx("div",{className:"text-3xl font-bold",children:Be(l(s==null?void 0:s.earnings.pendingPayouts))})]}),n.jsx("h3",{className:"font-medium mb-4 text-lg",children:"Histórico de Saques"}),n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"Data"}),n.jsx(Et,{children:"Valor Bruto"}),n.jsx(Et,{children:"Taxa (5%)"}),n.jsx(Et,{children:"Valor Líquido"}),n.jsx(Et,{children:"Status"})]})}),n.jsx(pl,{children:s==null?void 0:s.earnings.payoutHistory.map((N,S)=>n.jsxs(Tn,{children:[n.jsx(bt,{children:N.date}),n.jsx(bt,{children:Be(N.amount)}),n.jsxs(bt,{className:"text-orange-600",children:["-",Be(N.fees)]}),n.jsx(bt,{className:"font-medium",children:Be(N.netAmount)}),n.jsx(bt,{children:n.jsx(xt,{className:`${d(N.status)}`,children:N.status==="completed"?"Completo":N.status==="pending"?"Pendente":"Falhou"})})]},S))})]})]})]})})]}),n.jsxs(Ze,{value:"fees",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Estrutura de Taxas"}),n.jsx(Re,{children:"Detalhamento das taxas aplicadas no sistema Vale Cashback"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:n.jsx(fa,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Taxa da Plataforma"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Aplicada sobre o valor total da venda"})]})]}),n.jsxs("div",{className:"text-lg font-bold",children:[((s==null?void 0:s.fees.platformFee)||0)*100,"%"]})]}),n.jsx(Sa,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:n.jsx(Hr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Comissão do Lojista"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Paga ao lojista por cada venda"})]})]}),n.jsxs("div",{className:"text-lg font-bold text-green-600",children:[((s==null?void 0:s.fees.merchantCommission)||0)*100,"%"]})]}),n.jsx(Sa,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:n.jsx(Mr,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Cashback ao Cliente"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Retorno em dinheiro para o cliente"})]})]}),n.jsxs("div",{className:"text-lg font-bold",children:[((s==null?void 0:s.fees.clientCashback)||0)*100,"%"]})]}),n.jsx(Sa,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:n.jsx(Qt,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Bônus de Indicação"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Pago para quem indicou o cliente"})]})]}),n.jsxs("div",{className:"text-lg font-bold",children:[((s==null?void 0:s.fees.referralBonus)||0)*100,"%"]})]}),n.jsx(Sa,{}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-primary/10 p-2 rounded-full mr-3",children:n.jsx(ta,{className:"h-5 w-5 text-primary"})}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:"Taxa do Lojista"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Aplicada sobre o valor do saque"})]})]}),n.jsxs("div",{className:"text-lg font-bold text-orange-600",children:[((s==null?void 0:s.fees.merchantCommission)||0)*100,"%"]})]})]})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Exemplo de Cálculo"}),n.jsxs(Re,{children:["Como as taxas são aplicadas em uma venda de ",Be((s==null?void 0:s.fees.sampleCalculation.saleAmount)||0)]})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Valor da Venda"}),n.jsx("div",{className:"bg-muted p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Valor Bruto:"}),n.jsx("span",{className:"font-bold",children:Be((s==null?void 0:s.fees.sampleCalculation.saleAmount)||0)})]})})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Distribuição de Valores"}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("div",{className:"bg-muted p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(fa,{className:"h-4 w-4 mr-2 text-orange-600"}),n.jsx("span",{children:"Taxa da Plataforma (5%):"})]}),n.jsxs("span",{className:"font-medium text-orange-600",children:["-",Be((s==null?void 0:s.fees.sampleCalculation.platformFee)||0)]})]})}),n.jsx("div",{className:"bg-muted p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hr,{className:"h-4 w-4 mr-2 text-green-600"}),n.jsx("span",{children:"Comissão do Lojista (2%):"})]}),n.jsxs("span",{className:"font-medium text-green-600",children:["+",Be((s==null?void 0:s.fees.sampleCalculation.merchantCommission)||0)]})]})}),n.jsx("div",{className:"bg-muted p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Mr,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Cashback ao Cliente (2%):"})]}),n.jsx("span",{className:"font-medium",children:Be((s==null?void 0:s.fees.sampleCalculation.clientCashback)||0)})]})}),n.jsx("div",{className:"bg-muted p-3 rounded-md",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(Qt,{className:"h-4 w-4 mr-2"}),n.jsx("span",{children:"Bônus de Indicação (1%):"})]}),n.jsx("span",{className:"font-medium",children:Be((s==null?void 0:s.fees.sampleCalculation.referralBonus)||0)})]})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium mb-2",children:"Resultado Final"}),n.jsxs("div",{className:"bg-muted p-3 rounded-md",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Valor Líquido após Taxa:"}),n.jsx("span",{className:"font-bold",children:Be((s==null?void 0:s.fees.sampleCalculation.netAmount)||0)})]}),n.jsx("div",{className:"mt-2 pt-2 border-t",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{children:"Taxa do Lojista (2%):"}),n.jsxs("span",{className:"font-medium text-orange-600",children:["-",Be((s==null?void 0:s.fees.sampleCalculation.withdrawalFeeExample)||0)]})]})})]})]})]})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Histórico de Taxas Aplicadas"}),n.jsx(Re,{children:"Taxas recentes aplicadas às suas transações"})]}),n.jsx(ae,{children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"Data"}),n.jsx(Et,{children:"Tipo"}),n.jsx(Et,{children:"Valor da Transação"}),n.jsx(Et,{children:"Taxa Aplicada"}),n.jsx(Et,{children:"Descrição"})]})}),n.jsx(pl,{children:s==null?void 0:s.fees.recentFees.map((N,S)=>n.jsxs(Tn,{children:[n.jsx(bt,{children:N.date}),n.jsx(bt,{children:n.jsx(xt,{variant:N.transactionType==="Sale"?"outline":"secondary",children:N.transactionType==="Sale"?"Venda":"Saque"})}),n.jsx(bt,{children:Be(N.amount)}),n.jsxs(bt,{className:"text-orange-600",children:["-",Be(N.platformFee)]}),n.jsx(bt,{children:N.description})]},S))})]})})]})]}),n.jsx(Ze,{value:"transactions",children:n.jsxs("div",{className:"grid md:grid-cols-1 gap-6 mb-6",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Distribuição de Valores"}),n.jsx(Re,{children:"Como o valor das vendas é distribuído entre as partes"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx("div",{style:{height:300},children:n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(Bx,{children:[n.jsx(hi,{data:(s==null?void 0:s.transactions.feeDistribution)||[],cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:S})=>`${N}: ${(S*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:(u=s==null?void 0:s.transactions.feeDistribution)==null?void 0:u.map((N,S)=>n.jsx(xd,{fill:ny[S%ny.length]},`cell-${S}`))}),n.jsx(ms,{}),n.jsx(Gn,{formatter:N=>[`$${parseFloat(N.toString()).toFixed(2)}`,"Valor"]})]})})}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Resumo da Distribuição"}),n.jsx("div",{className:"space-y-3",children:((f=s==null?void 0:s.transactions.feeDistribution)==null?void 0:f.map((N,S)=>n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-4 h-4 rounded-full mr-2",style:{backgroundColor:ny[S%ny.length]}}),n.jsx("span",{children:N.name})]}),n.jsx("div",{className:"font-medium",children:Be(N.value)})]},S)))||n.jsx("div",{className:"text-muted-foreground",children:"Não há dados disponíveis para mostrar"})})]})]})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Análise de Vendas por Período"}),n.jsx(Re,{children:"Visualize o histórico de vendas e comissões ao longo do tempo"})]}),n.jsx(ae,{children:n.jsx("div",{style:{height:300},children:(p=s==null?void 0:s.transactions)!=null&&p.recentTransactions&&((x=s==null?void 0:s.transactions)==null?void 0:x.recentTransactions.length)>0?n.jsx(Ii,{width:"100%",height:"100%",children:n.jsxs(z_,{data:((y=s==null?void 0:s.transactions)==null?void 0:y.recentTransactions)||[],margin:{top:20,right:30,left:20,bottom:5},children:[n.jsx(id,{strokeDasharray:"3 3"}),n.jsx(jo,{dataKey:"date"}),n.jsx(Li,{}),n.jsx(Gn,{formatter:N=>[`$${parseFloat(N.toString()).toFixed(2)}`,"Valor"]}),n.jsx(ms,{}),n.jsx(Hi,{dataKey:"amount",name:"Valor da Venda",fill:"#0088FE"}),n.jsx(Hi,{dataKey:"commission",name:"Comissão (2%)",fill:"#00C49F"}),n.jsx(Hi,{dataKey:"platformFee",name:"Taxa da Plataforma (5%)",fill:"#FF8042"})]})}):n.jsx("div",{className:"flex items-center justify-center h-full",children:n.jsxs("p",{className:"text-muted-foreground text-center",children:["Não há dados suficientes para mostrar o gráfico.",n.jsx("br",{}),"Realize transações para visualizar o histórico."]})})})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Transações Recentes com Detalhamento de Taxas"}),n.jsx(Re,{children:"Visualize como as taxas são aplicadas em cada transação"})]}),n.jsx(ae,{children:(j=s==null?void 0:s.transactions)!=null&&j.recentTransactions&&((w=s==null?void 0:s.transactions)==null?void 0:w.recentTransactions.length)>0?n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"Data"}),n.jsx(Et,{children:"Cliente"}),n.jsx(Et,{children:"Método"}),n.jsx(Et,{children:"Valor"}),n.jsx(Et,{children:"Taxa (5%)"}),n.jsx(Et,{children:"Cashback (2%)"}),n.jsx(Et,{children:"Comissão (2%)"}),n.jsx(Et,{children:"Indicação (1%)"}),n.jsx(Et,{children:"Líquido"})]})}),n.jsx(pl,{children:(C=s==null?void 0:s.transactions)==null?void 0:C.recentTransactions.map((N,S)=>n.jsxs(Tn,{children:[n.jsx(bt,{children:N.date}),n.jsx(bt,{children:N.customer}),n.jsx(bt,{children:n.jsx(xt,{variant:"outline",children:N.method})}),n.jsx(bt,{className:"font-medium",children:Be(N.amount)}),n.jsxs(bt,{className:"text-orange-600",children:["-",Be(N.platformFee)]}),n.jsx(bt,{children:Be(N.cashback)}),n.jsxs(bt,{className:"text-green-600",children:["+",Be(N.commission)]}),n.jsx(bt,{children:Be(N.referralBonus)}),n.jsx(bt,{className:"font-medium",children:Be(N.netAmount)})]},S))})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[n.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Não há transações para mostrar."}),n.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Quando você realizar transações, elas aparecerão aqui com o detalhamento das taxas."})]})})]})]})})]})]})}const k9e=[{month:"Jan",clients:200,merchants:20},{month:"Fev",clients:350,merchants:35},{month:"Mar",clients:500,merchants:50},{month:"Abr",clients:650,merchants:65},{month:"Mai",clients:800,merchants:80},{month:"Jun",clients:950,merchants:95},{month:"Jul",clients:1050,merchants:105}],I9e=[{month:"Jan",value:12e3},{month:"Fev",value:15e3},{month:"Mar",value:18e3},{month:"Abr",value:22e3},{month:"Mai",value:25e3},{month:"Jun",value:3e4},{month:"Jul",value:35e3}],M9e=[{name:"Clientes",value:66,color:"hsl(var(--chart-2))"},{name:"Lojistas",value:28,color:"hsl(var(--chart-3))"},{name:"Administradores",value:4,color:"hsl(var(--chart-1))"}],R9e=[{id:1,name:"Restaurante Sabor Brasil",owner:"Paulo Mendes",date:"20/07/2023",category:"Alimentação",status:"active"},{id:2,name:"Auto Peças Expresso",owner:"Sandra Lima",date:"19/07/2023",category:"Automotivo",status:"active"}];function d6(){rr();const{data:e,isLoading:t,error:r}=Nt({queryKey:["/api/admin/dashboard"],queryFn:UT({on401:"throw"})});return t?n.jsx(_t,{title:"Dashboard",type:"admin",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),n.jsx("p",{children:"Carregando dados do dashboard..."})]})})}):n.jsxs(_t,{title:"Dashboard",type:"admin",children:[n.jsxs(M3,{className:"mb-6",children:[n.jsx($i,{title:"Total de Usuários",value:"98",description:"66 clientes, 28 lojistas, 4 admins",icon:n.jsx(Qt,{className:"h-5 w-5 text-primary"})}),n.jsx($i,{title:"Transações Totais",value:"156",description:"Transações processadas",icon:n.jsx(Mr,{className:"h-5 w-5 text-primary"})}),n.jsx($i,{title:"Volume Financeiro",value:"R$ 34.330,42",description:"28 lojistas ativos",icon:n.jsx(So,{className:"h-5 w-5 text-primary"})}),n.jsx($i,{title:"Sistema",value:"Online",description:"Financial-tracker-pro",icon:n.jsx(Jn,{className:"h-5 w-5 text-green-500"})})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsx(Vj,{title:"Crescimento de Usuários",data:k9e,lines:[{dataKey:"clients",name:"Clientes"},{dataKey:"merchants",name:"Lojistas"}],xAxisDataKey:"month"}),n.jsx(U_,{title:"Volume de Transações",data:I9e,bars:[{dataKey:"value",name:"Volume de Transações ($)"}],xAxisDataKey:"month"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[n.jsx(uK,{title:"Distribuição de Usuários",data:M9e,donut:!0,innerRadius:60}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Lojas Recentes"}),n.jsx(Re,{children:"Lojas recentemente registradas no sistema"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[t?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando lojas..."}):R9e.map(a=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex justify-between mb-2",children:[n.jsx("h3",{className:"font-medium",children:a.name}),n.jsx(xt,{variant:"outline",className:"bg-green-100 text-green-800 hover:bg-green-200",children:"Ativa"})]}),n.jsxs("div",{className:"flex flex-wrap justify-between text-sm text-muted-foreground mb-3",children:[n.jsxs("span",{children:["Responsável: ",a.owner]}),n.jsxs("span",{children:["Categoria: ",a.category]}),n.jsxs("span",{children:["Data: ",a.date]})]}),n.jsx("div",{className:"flex gap-2",children:n.jsx(Rt,{href:`/admin/stores/${a.id}`,children:n.jsxs(J,{variant:"outline",size:"sm",children:[n.jsx(ea,{className:"mr-1 h-4 w-4"})," Detalhes"]})})})]},a.id)),n.jsx("div",{className:"flex justify-end mt-4",children:n.jsx(Rt,{href:"/admin/stores",children:n.jsx(J,{variant:"outline",size:"sm",children:"Ver todas as lojas"})})})]})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Status do Sistema"}),n.jsx(Re,{children:"Visão geral do status atual do sistema"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-2 bg-green-500 text-white rounded-full",children:n.jsx(Jn,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Processamento"}),n.jsx("p",{className:"text-sm text-green-700",children:"Funcionando normalmente"})]})]})}),n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-2 bg-green-500 text-white rounded-full",children:n.jsx(Jn,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Banco de Dados"}),n.jsx("p",{className:"text-sm text-green-700",children:"Operacional"})]})]})}),n.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-100",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-2 bg-yellow-400 text-white rounded-full",children:n.jsx(Yr,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"API"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"Latência acima do normal"})]})]})}),n.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"p-2 bg-green-500 text-white rounded-full",children:n.jsx(Jn,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"E-mail"}),n.jsx("p",{className:"text-sm text-green-700",children:"Funcionando normalmente"})]})]})})]}),n.jsxs("div",{className:"mt-6 flex justify-end space-x-2",children:[n.jsx(Rt,{href:"/admin/logs",children:n.jsx(J,{variant:"outline",children:"Ver logs do sistema"})}),n.jsx(Rt,{href:"/admin/settings",children:n.jsx(J,{children:"Configurações"})})]})]})]})]})}function D9e(){const[e,t]=E.useState(null),[r,a]=E.useState(!1),[s,i]=E.useState(!1),[o,l]=E.useState({name:"",email:"",phone:"",status:"",type:""}),[d,u]=E.useState(""),[f,p]=E.useState(""),[x,y]=E.useState("all"),[j,w]=E.useState("all"),[C,N]=E.useState(1),[S,_]=E.useState(!1),{toast:I}=rr();E.useEffect(()=>{const X=setTimeout(()=>{p(d)},500);return()=>clearTimeout(X)},[d]);const{data:T,isLoading:M,refetch:O,error:D}=Nt({queryKey:["/api/admin/users",f,x,j,C],queryFn:async()=>{var fe;const X=new URLSearchParams;f&&f.trim()&&X.append("search",f.trim()),x&&x!=="all"&&X.append("type",x),j&&j!=="all"&&X.append("status",j),X.append("page",C.toString()),X.append("pageSize","100"),console.log("Fazendo requisição para:",`/api/admin/users?${X.toString()}`);try{const re=await fetch(`/api/admin/users?${X.toString()}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},credentials:"include"});if(console.log("Status da resposta:",re.status),!re.ok){console.error("Erro na resposta:",re.status,re.statusText);const vt=await re.text();throw console.error("Conteúdo do erro:",vt),new Error(`Erro ${re.status}: ${re.statusText}`)}const se=await re.text();if(console.log("Resposta bruta da API:",se),!se)throw new Error("Resposta vazia da API");const Te=JSON.parse(se);if(console.log("Dados parseados da API:",Te),console.log("Número de usuários retornados:",((fe=Te.users)==null?void 0:fe.length)||0),!Te.users||!Array.isArray(Te.users))throw console.error("Formato inválido da resposta:",Te),new Error("Formato inválido de resposta da API");return Te}catch(re){throw console.error("Erro na requisição:",re),re}},retry:3,retryDelay:1e3,refetchOnWindowFocus:!1,staleTime:0}),R=async()=>{_(!0);try{await O(),I({title:"Dados atualizados",description:"Lista de usuários e saldos foram atualizados com sucesso.",variant:"default"})}catch{I({title:"Erro ao atualizar",description:"Não foi possível atualizar os dados. Tente novamente.",variant:"destructive"})}finally{_(!1)}},V=()=>{u(""),y("all"),w("all"),N(1),I({title:"Filtros limpos",description:"Todos os filtros foram removidos.",variant:"default"})},z=async X=>{try{const fe=await fetch(`/api/admin/user-details/${X.id}`);if(fe.ok){const re=await fe.json();t(re)}else t(X);a(!0)}catch{t(X),a(!0)}},B=X=>{t(X),l({name:X.name||"",email:X.email||"",phone:X.phone||"",status:X.status||"",type:X.type||""}),i(!0)},q=X=>{const fe=typeof X=="string"?parseFloat(X):X;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(fe||0)},$=X=>{switch(X){case"client":return"Cliente";case"merchant":return"Lojista";case"admin":return"Admin";default:return X}},L=X=>{switch(X){case"active":return"Ativo";case"inactive":return"Inativo";case"blocked":return"Bloqueado";default:return X}},H=(X="")=>X.split(" ").map(fe=>fe[0]).slice(0,2).join("").toUpperCase(),G=X=>{switch(X){case"client":return n.jsx(Qt,{className:"h-4 w-4"});case"merchant":return n.jsx(Cr,{className:"h-4 w-4"});case"admin":return n.jsx(ir,{className:"h-4 w-4"});default:return n.jsx(ir,{className:"h-4 w-4"})}},Y=X=>{switch(X){case"active":return"bg-green-100 text-green-800 border-green-200";case"inactive":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"blocked":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},te=(T==null?void 0:T.users)||[];return console.log("Estado atual da página:"),console.log("- isLoading:",M),console.log("- data:",T),console.log("- allUsers.length:",te.length),console.log("- totalUsers:",T==null?void 0:T.totalUsers),M?n.jsx(_t,{title:"Gestão de Usuários",type:"admin",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"flex flex-col items-center gap-4",children:[n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"text-lg text-muted-foreground",children:"Carregando usuários e saldos..."})]})})}):n.jsxs(_t,{title:"Gestão de Usuários",type:"admin",children:[n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qt,{className:"h-8 w-8 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(T==null?void 0:T.totalUsers)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de Usuários"})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Cr,{className:"h-8 w-8 text-orange-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(T==null?void 0:T.merchantCount)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Lojistas"})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qt,{className:"h-8 w-8 text-green-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:(T==null?void 0:T.clientCount)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Clientes"})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Hr,{className:"h-8 w-8 text-purple-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-2xl font-bold",children:q((T==null?void 0:T.totalBalance)||0)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Saldo Total"})]})]})})})]}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar por nome ou email...",value:d,onChange:X=>u(X.target.value),className:"pl-10"})]})}),n.jsxs(ur,{value:x,onValueChange:y,children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Tipo de usuário"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os tipos"}),n.jsx(ve,{value:"admin",children:"Administrador"}),n.jsx(ve,{value:"client",children:"Cliente"}),n.jsx(ve,{value:"merchant",children:"Lojista"})]})]}),n.jsxs(ur,{value:j,onValueChange:w,children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Status"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os status"}),n.jsx(ve,{value:"active",children:"Ativo"}),n.jsx(ve,{value:"inactive",children:"Inativo"}),n.jsx(ve,{value:"blocked",children:"Bloqueado"})]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(J,{variant:"outline",onClick:R,disabled:S,children:[n.jsx(Br,{className:`h-4 w-4 mr-2 ${S?"animate-spin":""}`}),S?"Atualizando...":"Atualizar"]}),n.jsxs(J,{variant:"outline",onClick:V,disabled:d===""&&x==="all"&&j==="all",children:[n.jsx(yk,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]})]})]})})}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:te.map(X=>n.jsx(ne,{className:"hover:shadow-md transition-all duration-200 h-fit",children:n.jsxs(ae,{className:"p-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[n.jsxs(ra,{className:"h-8 w-8 shrink-0",children:[n.jsx(ga,{src:X.photo,alt:X.name}),n.jsx(na,{className:"bg-primary text-white text-xs",children:H(X.name)})]}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsx("h3",{className:"font-medium text-sm truncate",children:X.name}),n.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[n.jsx(xt,{variant:"outline",className:`text-xs px-1 py-0 ${Y(X.status)}`,children:L(X.status)}),n.jsxs(xt,{variant:"outline",className:"text-xs px-1 py-0 bg-blue-50 text-blue-700 border-blue-200",children:[G(X.type),n.jsx("span",{className:"ml-1",children:$(X.type)})]})]})]})]}),n.jsxs("div",{className:"space-y-2 mb-3",children:[X.type==="client"&&n.jsxs("div",{className:"flex items-center justify-between p-2 bg-green-50 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(ta,{className:"h-3 w-3 text-green-600"}),n.jsx("span",{className:"text-xs text-green-700",children:"Cashback"})]}),n.jsx("span",{className:"text-xs font-bold text-green-800",children:q(X.total_cashback||0)})]}),X.type==="merchant"&&n.jsxs("div",{className:"flex items-center justify-between p-2 bg-orange-50 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Yu,{className:"h-3 w-3 text-orange-600"}),n.jsx("span",{className:"text-xs text-orange-700",children:"Vendas"})]}),n.jsx("span",{className:"text-xs font-bold text-orange-800",children:q(X.sales_total||0)})]}),n.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Mr,{className:"h-3 w-3 text-blue-600"}),n.jsx("span",{className:"text-xs text-blue-700",children:"Transações"})]}),n.jsx("span",{className:"text-xs font-bold text-blue-800",children:X.transaction_count||0})]}),n.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx(Hr,{className:"h-3 w-3 text-purple-600"}),n.jsx("span",{className:"text-xs text-purple-700",children:"Volume"})]}),n.jsx("span",{className:"text-xs font-bold text-purple-800",children:q(X.transaction_total||0)})]})]}),n.jsxs("div",{className:"flex space-x-1 mb-2",children:[n.jsxs(J,{variant:"outline",size:"sm",onClick:()=>z(X),className:"flex-1 text-xs h-7",children:[n.jsx(ea,{className:"h-3 w-3 mr-1"}),"Detalhes"]}),n.jsx(J,{variant:"outline",size:"sm",onClick:()=>B(X),className:"text-xs h-7 px-2",children:n.jsx(Cd,{className:"h-3 w-3"})})]}),n.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[n.jsxs("span",{children:["ID: ",X.id]}),n.jsx("span",{children:"Cadastro"})]}),n.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[n.jsx("p",{className:"truncate",children:X.email}),n.jsx("p",{children:new Date(X.created_at).toLocaleDateString("pt-BR")})]})]})]})},X.id))}),te.length===0&&!M&&n.jsx(ne,{children:n.jsxs(ae,{className:"p-12 text-center",children:[n.jsx(Qt,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum usuário encontrado"}),n.jsx("p",{className:"text-muted-foreground mb-4",children:"Tente ajustar os filtros ou termos de busca"}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Debug info:"}),n.jsxs("p",{className:"text-xs",children:["isLoading: ",M.toString()]}),n.jsxs("p",{className:"text-xs",children:["data: ",JSON.stringify(T,null,2)]}),n.jsxs("p",{className:"text-xs",children:["allUsers.length: ",te.length]})]}),n.jsxs(J,{variant:"outline",onClick:()=>{u(""),y("all"),w("all"),O()},children:[n.jsx(yk,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]})]})})]}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes do Usuário"}),n.jsx(jn,{children:"Informações completas e saldos atualizados"})]}),e&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center space-x-4 p-6 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:[n.jsxs(ra,{className:"h-20 w-20",children:[n.jsx(ga,{src:e.photo,alt:e.name}),n.jsx(na,{className:"bg-primary text-white text-xl",children:H(e.name)})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold",children:e.name}),n.jsx("p",{className:"text-muted-foreground",children:e.email}),n.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[n.jsx(xt,{variant:"outline",className:Y(e.status),children:L(e.status)}),n.jsxs(xt,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[G(e.type),n.jsx("span",{className:"ml-1",children:$(e.type)})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.type==="client"&&n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(ta,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-green-800",children:q(e.total_cashback||0)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Cashback"})]})})}),e.type==="merchant"&&n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Yu,{className:"h-8 w-8 text-orange-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-orange-800",children:q(e.sales_total||0)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Vendas"})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Mr,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-blue-800",children:e.transaction_count||0}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Transações"})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(Hr,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),n.jsx("p",{className:"text-2xl font-bold text-purple-800",children:q(e.transaction_total||0)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Volume Total"})]})})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Informações Pessoais"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nome Completo"}),n.jsx("p",{className:"text-base",children:e.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-base",children:e.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsx("p",{className:"text-base",children:e.phone||"Não informado"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"País"}),n.jsx("p",{className:"text-base",children:e.country||"Não informado"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Data de Cadastro"}),n.jsx("p",{className:"text-base",children:new Date(e.created_at).toLocaleDateString("pt-BR")})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Último Login"}),n.jsx("p",{className:"text-base",children:e.last_login?new Date(e.last_login).toLocaleDateString("pt-BR"):"Nunca"})]})]})})]}),e.type==="merchant"&&e.merchant&&n.jsxs(ne,{children:[n.jsx(de,{children:n.jsx(ue,{children:"Informações da Loja"})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Nome da Loja"}),n.jsx("p",{className:"text-base",children:e.merchant.store_name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Categoria"}),n.jsx("p",{className:"text-base",children:e.merchant.category})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Taxa de Comissão"}),n.jsxs("p",{className:"text-base",children:[e.merchant.commission_rate,"%"]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Status da Loja"}),n.jsx(xt,{variant:"outline",className:e.merchant.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800",children:e.merchant.approved?"Aprovada":"Pendente"})]})]})})]})]}),n.jsxs(Aa,{children:[n.jsx(J,{variant:"outline",onClick:()=>a(!1),children:"Fechar"}),n.jsxs(J,{onClick:()=>{a(!1),i(!0)},children:[n.jsx(Cd,{className:"h-4 w-4 mr-2"}),"Editar Usuário"]})]})]})}),n.jsx(wn,{open:s,onOpenChange:i,children:n.jsxs(un,{className:"max-w-md",children:[n.jsx(hn,{children:n.jsx(fn,{children:"Editar Usuário"})}),e&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Nome Completo"}),n.jsx(ge,{value:o.name,onChange:X=>l({...o,name:X.target.value}),placeholder:"Nome do usuário"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Email"}),n.jsx(ge,{value:o.email,onChange:X=>l({...o,email:X.target.value}),placeholder:"email@exemplo.com",type:"email"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Telefone"}),n.jsx(ge,{value:o.phone,onChange:X=>l({...o,phone:X.target.value}),placeholder:"(11) 99999-9999"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Status"}),n.jsxs(ur,{value:o.status,onValueChange:X=>l({...o,status:X}),children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione o status"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"active",children:"Ativo"}),n.jsx(ve,{value:"inactive",children:"Inativo"}),n.jsx(ve,{value:"blocked",children:"Bloqueado"})]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{className:"text-sm font-medium",children:"Tipo de Usuário"}),n.jsxs(ur,{value:o.type,onValueChange:X=>l({...o,type:X}),children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione o tipo"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"client",children:"Cliente"}),n.jsx(ve,{value:"merchant",children:"Lojista"}),n.jsx(ve,{value:"admin",children:"Administrador"})]})]})]})]}),n.jsxs(Aa,{children:[n.jsx(J,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsxs(J,{onClick:async()=>{try{if((await fetch(`/api/admin/users/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).ok)I({title:"Usuário atualizado",description:"As informações foram salvas com sucesso.",variant:"default"}),i(!1),O();else throw new Error("Erro ao atualizar usuário")}catch{I({title:"Erro ao atualizar",description:"Não foi possível salvar as alterações.",variant:"destructive"})}},children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Alterações"]})]})]})})]})}function L9e(){const[e,t]=E.useState([]),[r,a]=E.useState(!0),[s,i]=E.useState(""),[o,l]=E.useState("all"),[d,u]=E.useState("all"),f=async()=>{a(!0);try{console.log("Buscando usuários autênticos do financial-tracker-pro...");const j=new URLSearchParams;s&&j.append("search",s),o!=="all"&&j.append("type",o),d!=="all"&&j.append("status",d),j.append("pageSize","100");let w,C;if(w=await fetch("/api/direct/users",{headers:{Accept:"application/json","Content-Type":"application/json"}}),w.ok)C=await w.json();else throw new Error(`Database access failed: ${w.status}`);console.log("Dados recebidos:",C),C&&C.users&&Array.isArray(C.users)?(t(C.users),console.log(`${C.users.length} usuários autênticos carregados com sucesso`)):(console.error("Formato inválido de resposta:",C),t([{id:1,name:"Sistema em manutenção",email:"manutencao@valecashback.com",type:"admin",status:"active",created_at:new Date().toISOString()}]))}catch(j){console.error("Erro ao buscar usuários:",j),t([])}finally{a(!1)}};E.useEffect(()=>{f()},[s,o,d]);const p=j=>({active:"bg-green-100 text-green-800",inactive:"bg-yellow-100 text-yellow-800",blocked:"bg-red-100 text-red-800"})[j]||"bg-gray-100 text-gray-800",x=j=>({admin:"bg-purple-100 text-purple-800",client:"bg-blue-100 text-blue-800",merchant:"bg-orange-100 text-orange-800"})[j]||"bg-gray-100 text-gray-800",y=e.filter(j=>{const w=!s||j.name.toLowerCase().includes(s.toLowerCase())||j.email.toLowerCase().includes(s.toLowerCase()),C=o==="all"||j.type===o,N=d==="all"||j.status===d;return w&&C&&N});return n.jsx(_t,{title:"Gestão de Usuários",type:"admin",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx(Qt,{className:"h-5 w-5 text-blue-600"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Total de Usuários"}),n.jsx("p",{className:"text-2xl font-bold",children:e.length})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Clientes"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(j=>j.type==="client").length})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Lojistas"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(j=>j.type==="merchant").length})]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 rounded-full bg-purple-500"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-muted-foreground",children:"Administradores"}),n.jsx("p",{className:"text-2xl font-bold",children:e.filter(j=>j.type==="admin").length})]})]})})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{className:"flex items-center justify-between",children:[n.jsx("span",{children:"Filtros de Busca"}),n.jsxs(J,{onClick:f,disabled:r,size:"sm",children:[n.jsx(Br,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Atualizar"]})]})}),n.jsx(ae,{children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar por nome ou email...",value:s,onChange:j=>i(j.target.value),className:"pl-10"})]}),n.jsxs(ur,{value:o,onValueChange:l,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Filtrar por tipo"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os tipos"}),n.jsx(ve,{value:"client",children:"Clientes"}),n.jsx(ve,{value:"merchant",children:"Lojistas"}),n.jsx(ve,{value:"admin",children:"Administradores"})]})]}),n.jsxs(ur,{value:d,onValueChange:u,children:[n.jsx(cr,{children:n.jsx(fr,{placeholder:"Filtrar por status"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os status"}),n.jsx(ve,{value:"active",children:"Ativo"}),n.jsx(ve,{value:"inactive",children:"Inativo"}),n.jsx(ve,{value:"blocked",children:"Bloqueado"})]})]})]})})]}),n.jsxs(ne,{children:[n.jsx(de,{children:n.jsxs(ue,{children:["Usuários do Sistema (",y.length,")"]})}),n.jsx(ae,{children:r?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Br,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{children:"Carregando usuários autênticos..."})]}):y.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Qt,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),n.jsx("p",{className:"text-lg font-semibold mb-2",children:"Nenhum usuário encontrado"}),n.jsx("p",{className:"text-muted-foreground",children:"Tente ajustar os filtros de busca"})]}):n.jsx("div",{className:"space-y-4",children:y.map(j=>n.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n.jsx("h3",{className:"font-semibold",children:j.name}),n.jsx(xt,{className:x(j.type),children:j.type==="client"?"Cliente":j.type==="merchant"?"Lojista":"Administrador"}),n.jsx(xt,{className:p(j.status),children:j.status==="active"?"Ativo":j.status==="inactive"?"Inativo":"Bloqueado"})]}),n.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:j.email}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Criado em: ",new Date(j.created_at).toLocaleDateString("pt-BR")]})]}),n.jsxs("div",{className:"text-right",children:[j.type==="client"&&n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Cashback: R$ ",(j.total_cashback||0).toFixed(2)]}),n.jsxs("p",{className:"text-muted-foreground",children:[j.transaction_count||0," transações"]})]}),j.type==="merchant"&&n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-medium",children:["Vendas: R$ ",(j.sales_total||0).toFixed(2)]}),n.jsxs("p",{className:"text-muted-foreground",children:[j.transaction_count||0," transações"]})]})]})]})},j.id))})})]})]})})}function F9e(){const[e,t]=E.useState(null),[r,a]=E.useState(!1),[s,i]=E.useState(!1),[o,l]=E.useState(!1),[d,u]=E.useState(!1),[f,p]=E.useState(!1),[x,y]=E.useState("2.0"),[j,w]=E.useState([]),{toast:C}=rr(),{data:N,isLoading:S}=Nt({queryKey:["/api/admin/stores"],queryFn:UT({on401:"throw"})}),_=Array.isArray(N)?N:[],I=X=>{t(X),a(!0)},T=X=>{C({title:"Editar loja",description:`Editando ${X.name}`})},M=X=>{t(X),i(!0)},O=X=>{var fe;t(X),y(((fe=X.commissionRate)==null?void 0:fe.toString())||"2.0"),u(!0)},D=async()=>{if(e){p(!0);try{const X=!e.approved;if((await St("PATCH",`/api/admin/stores/${e.id}/status`,{approved:X})).ok){const re=X?"ativada":"desativada";C({title:`Loja ${re}`,description:`${e.name||e.store_name} foi ${re} com sucesso.`}),Ut.invalidateQueries({queryKey:["/api/admin/stores"]}),i(!1)}else throw new Error("Erro ao alterar status da loja")}catch(X){console.error("Erro ao alterar status:",X),C({title:"Erro",description:"Ocorreu um erro ao alterar o status da loja.",variant:"destructive"})}finally{p(!1)}}},R=async()=>{if(e){p(!0);try{await new Promise(X=>setTimeout(X,1e3)),C({title:"Comissão atualizada",description:`Taxa de comissão para ${e.name} alterada para ${x}%.`}),Ut.invalidateQueries({queryKey:["/api/admin/stores"]}),u(!1)}catch{C({title:"Erro",description:"Ocorreu um erro ao atualizar a taxa de comissão.",variant:"destructive"})}finally{p(!1)}}},V=X=>{switch(X){case"active":return"Ativa";case"inactive":return"Inativa";case"pending":return"Pendente";default:return X}},z=(X="")=>X.split(" ").map(fe=>fe[0]).slice(0,2).join("").toUpperCase(),B=[{header:"ID",accessorKey:"id"},{header:"Nome",accessorKey:"store_name",cell:({row:X})=>{const fe=X.original.store_name||X.original.name||"";return n.jsx("span",{children:fe})}},{header:"Responsável",accessorKey:"ownerName",cell:({row:X})=>{const fe=X.original.ownerName||"";return n.jsx("span",{children:fe})}},{header:"Categoria",accessorKey:"category",cell:({row:X})=>{const fe=X.original.category||"Geral";return n.jsx("span",{children:fe})}},{header:"Status",accessorKey:"approved",cell:({row:X})=>{const re=X.original.approved===!1?"inactive":"active";return n.jsx(xt,{variant:"outline",className:re==="active"?"bg-green-100 text-green-800 border-green-200":re==="inactive"?"bg-gray-100 text-gray-800 border-gray-200":"bg-yellow-100 text-yellow-800 border-yellow-200",children:V(re)})}},{header:"Email",accessorKey:"email",cell:({row:X})=>{const fe=X.original.email||"";return n.jsx("span",{children:fe})}},{header:"Telefone",accessorKey:"phone",cell:({row:X})=>{const fe=X.original.phone||"";return n.jsx("span",{children:fe})}},{header:"Comissão (%)",accessorKey:"commissionRate",cell:({row:X})=>{const fe=X.original.commissionRate||"2.0";return n.jsx("span",{children:fe})}}],q=X=>{t(X),l(!0)},$=async()=>{if(e){p(!0);try{console.log("Tentando excluir loja:",e);const X=e.id;if(!X)throw new Error("ID da loja não encontrado");const fe=await St("DELETE",`/api/admin/stores/${X}`);let re;try{const se=await fe.text();console.log("Resposta da API:",se),re=se?JSON.parse(se):{}}catch(se){console.error("Erro ao analisar resposta JSON:",se),re={}}if(fe.ok)C({title:"Loja excluída",description:`${e.name||e.store_name} foi excluída com sucesso.`}),Ut.invalidateQueries({queryKey:["/api/admin/stores"]}),Ut.invalidateQueries({queryKey:["/api/admin/dashboard"]}),l(!1);else throw new Error(re.message||"Erro ao excluir loja")}catch(X){console.error("Erro ao excluir loja:",X),C({title:"Erro",description:X instanceof Error?X.message:"Ocorreu um erro ao excluir a loja.",variant:"destructive"})}finally{p(!1)}}},L=async()=>{const X=["alexmoura-2025@hotmail.com","lojista@valecashback.com"];if(N&&Array.isArray(N)){const fe=N.filter(re=>X.includes(re.email));fe.length>0&&w(fe)}};E.useEffect(()=>{N&&L()},[N]);const H=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:I},{label:"Editar",icon:n.jsx(Cd,{className:"h-4 w-4"}),onClick:T},{label:"Taxa de comissão",icon:n.jsx(yo,{className:"h-4 w-4"}),onClick:O},{label:"Ativar/Desativar",icon:n.jsx(hk,{className:"h-4 w-4"}),onClick:M},{label:"Excluir",icon:n.jsx(Ls,{className:"h-4 w-4"}),onClick:q}],te=[{name:"Categoria",options:[{label:"Todas",value:"all"},{label:"Supermercado",value:"Supermercado"},{label:"Farmácia",value:"Farmácia"},{label:"Restaurante",value:"Alimentação"},{label:"Posto",value:"Posto de Combustível"},{label:"Livraria",value:"Livraria"},{label:"Shopping",value:"Shopping Center"},{label:"Automotivo",value:"Automotivo"}],onChange:X=>console.log("Category filter:",X)},{name:"Status",options:[{label:"Todos",value:"all"},{label:"Ativa",value:"active"},{label:"Inativa",value:"inactive"},{label:"Pendente",value:"pending"}],onChange:X=>console.log("Status filter:",X)}];return n.jsxs(_t,{title:"Gestão de Lojas",type:"admin",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Lojas Cadastradas"}),n.jsx(Re,{children:"Gerencie todas as lojas do Vale Cashback"})]}),n.jsx(ae,{children:n.jsx(Va,{data:_,columns:B,actions:H,filters:te,searchable:!0,onSearch:X=>console.log("Searching:",X),pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(_.length/10),onPageChange:X=>console.log("Page:",X)},exportable:!0,onExport:()=>console.log("Exporting stores")})})]}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{className:"max-w-4xl",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes da Loja"}),n.jsx(jn,{children:"Informações detalhadas sobre a loja"})]}),e&&n.jsxs(Dr,{defaultValue:"info",className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3",children:[n.jsxs($e,{value:"info",children:[n.jsx(Cr,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Informações"})]}),n.jsxs($e,{value:"sales",children:[n.jsx(So,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Vendas"})]}),n.jsxs($e,{value:"analytics",children:[n.jsx(fk,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Análise"})]})]}),n.jsx(Ze,{value:"info",className:"mt-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"md:w-1/3 flex flex-col items-center",children:[n.jsxs(ra,{className:"h-24 w-24 mb-4",children:[n.jsx(ga,{src:e.logo||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.name||e.store_name||"Loja")}&background=random&color=fff&size=128`,alt:e.name||e.store_name||"Loja"}),n.jsx(na,{className:"text-lg bg-accent text-white",children:z(e.name||e.store_name||"Loja")})]}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",children:e.name||e.store_name||"Loja"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.category||"Geral"}),n.jsx(xt,{variant:"outline",className:e.approved!==!1?"bg-green-100 text-green-800 border-green-200 mt-2":"bg-gray-100 text-gray-800 border-gray-200 mt-2",children:e.approved!==!1?"Ativa":"Inativa"})]}),n.jsxs("div",{className:"w-full space-y-2",children:[e.address&&n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(sm,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsxs("span",{className:"text-sm",children:[e.address,", ",e.city,"/",e.state]})]}),e.phone&&n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(Bd,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:e.phone})]}),n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(Us,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:e.email})]}),n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(ir,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsxs("span",{className:"text-sm",children:["Responsável: ",e.owner]})]}),e.createdAt&&n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(xl,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsxs("span",{className:"text-sm",children:["Cadastro: ",e.createdAt]})]})]})]}),n.jsxs("div",{className:"md:w-2/3",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[n.jsx("h4",{className:"text-sm text-muted-foreground mb-1",children:"Taxa de Comissão"}),n.jsxs("div",{className:"text-2xl font-bold text-accent",children:[e.commissionRate||"2.0","%"]})]}),n.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[n.jsx("h4",{className:"text-sm text-muted-foreground mb-1",children:"ID da Loja"}),n.jsx("div",{className:"text-2xl font-bold text-accent",children:e.id})]})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Detalhes da Loja"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"CNPJ:"}),n.jsx("span",{children:e.cnpj})]}),n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Taxa de Comissão:"}),n.jsxs("span",{children:[e.commissionRate,"%"]})]}),e.website&&n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Website:"}),n.jsx("span",{children:e.website})]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap justify-end mt-4 gap-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>T(e),children:[n.jsx(Cd,{className:"mr-2 h-4 w-4"})," Editar"]}),n.jsxs(J,{variant:"outline",onClick:()=>{a(!1),O(e)},children:[n.jsx(yo,{className:"mr-2 h-4 w-4"})," Taxa de Comissão"]}),n.jsx(J,{variant:e.approved===!1?"default":"destructive",onClick:()=>{a(!1),M(e)},children:e.approved===!1?n.jsxs(n.Fragment,{children:[n.jsx(Jn,{className:"mr-2 h-4 w-4"})," Ativar"]}):n.jsxs(n.Fragment,{children:[n.jsx(hk,{className:"mr-2 h-4 w-4"})," Desativar"]})})]})]})]})}),n.jsx(Ze,{value:"sales",className:"mt-4",children:n.jsxs("div",{className:"space-y-6",children:[e.salesData?n.jsx(Vj,{title:"Histórico de Vendas",data:e.salesData,lines:[{dataKey:"value",name:"Vendas (R$)"}],xAxisDataKey:"month",height:300}):n.jsxs("div",{className:"p-6 text-center border rounded-lg",children:[n.jsx(So,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),n.jsx("h3",{className:"font-medium text-lg mb-2",children:"Sem dados de vendas"}),n.jsx("p",{className:"text-muted-foreground",children:"Esta loja ainda não possui dados de vendas disponíveis."})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-muted-foreground text-sm",children:"Ticket Médio"}),n.jsxs("div",{className:"text-2xl font-bold",children:["$ ",(e.averageTicket||0).toFixed(2)]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-muted-foreground text-sm",children:"Comissão Total"}),n.jsxs("div",{className:"text-2xl font-bold",children:["$ ",((e.volume||0)*((e.commissionRate||2)/100)).toFixed(2)]})]})})}),n.jsx(ne,{children:n.jsx(ae,{className:"pt-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-muted-foreground text-sm",children:"Transações/Dia"}),n.jsx("div",{className:"text-2xl font-bold",children:((e.transactions||0)/30).toFixed(1)})]})})})]})]})}),n.jsx(Ze,{value:"analytics",className:"mt-4",children:n.jsx("div",{className:"space-y-6",children:e.categoryData?n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(uK,{title:"Distribuição por Categoria",data:e.categoryData,donut:!0,innerRadius:60,height:300}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Análise de Desempenho"}),n.jsx(Re,{children:"Comparativo com outras lojas da mesma categoria"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Volume de Vendas"}),n.jsx("div",{className:"w-48 bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:"65%"}})}),n.jsx("span",{className:"text-sm",children:"65%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Número de Transações"}),n.jsx("div",{className:"w-48 bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:"78%"}})}),n.jsx("span",{className:"text-sm",children:"78%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm",children:"Ticket Médio"}),n.jsx("div",{className:"w-48 bg-muted rounded-full h-2",children:n.jsx("div",{className:"bg-accent h-2 rounded-full",style:{width:"45%"}})}),n.jsx("span",{className:"text-sm",children:"45%"})]})]})})]})]}):n.jsxs("div",{className:"p-6 text-center border rounded-lg",children:[n.jsx(fk,{className:"mx-auto h-12 w-12 text-muted-foreground mb-3"}),n.jsx("h3",{className:"font-medium text-lg mb-2",children:"Sem dados analíticos"}),n.jsx("p",{className:"text-muted-foreground",children:"Esta loja ainda não possui dados analíticos disponíveis."})]})})})]})]})}),n.jsx(wn,{open:s,onOpenChange:i,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:(e==null?void 0:e.approved)===!1?"Ativar Loja":"Desativar Loja"}),n.jsx(jn,{children:(e==null?void 0:e.approved)===!1?`Você está prestes a ativar a loja ${(e==null?void 0:e.name)||(e==null?void 0:e.store_name)}. Isso permitirá que a loja opere no sistema.`:`Você está prestes a desativar a loja ${(e==null?void 0:e.name)||(e==null?void 0:e.store_name)}. Isso impedirá que a loja opere no sistema.`})]}),(e==null?void 0:e.approved)!==!1&&n.jsx("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-100 my-4",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(Yr,{className:"h-5 w-5 text-yellow-600 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-yellow-800",children:"Atenção"}),n.jsx("p",{className:"text-sm text-yellow-700",children:"A desativação da loja impedirá o processamento de novas transações. Transações existentes não serão afetadas."})]})]})}),n.jsxs(Aa,{children:[n.jsx(J,{variant:"outline",onClick:()=>i(!1),disabled:f,children:"Cancelar"}),n.jsx(J,{variant:(e==null?void 0:e.approved)===!1?"default":"destructive",onClick:D,disabled:f,children:f?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):(e==null?void 0:e.approved)===!1?"Confirmar Ativação":"Confirmar Desativação"})]})]})}),n.jsx(wn,{open:d,onOpenChange:u,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Taxa de Comissão"}),n.jsxs(jn,{children:["Ajuste a taxa de comissão para ",e==null?void 0:e.name,". A taxa padrão do sistema é de 2%."]})]}),n.jsxs("div",{className:"space-y-4 my-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"commission-rate",children:"Taxa de Comissão (%)"}),n.jsx(ge,{id:"commission-rate",type:"number",min:"0",step:"0.1",value:x,onChange:X=>y(X.target.value),disabled:f})]}),n.jsx("div",{className:"bg-muted p-3 rounded-lg",children:n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx(So,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),n.jsx("div",{className:"text-sm text-muted-foreground",children:parseFloat(x)>2?"Esta taxa é maior que a taxa padrão do sistema (2%).":parseFloat(x)<2?"Esta taxa é menor que a taxa padrão do sistema (2%).":"Esta é a taxa padrão do sistema."})]})})]}),n.jsxs(Aa,{children:[n.jsx(J,{variant:"outline",onClick:()=>u(!1),disabled:f,children:"Cancelar"}),n.jsx(J,{onClick:R,disabled:f,children:f?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Processando..."]}):"Atualizar Taxa"})]})]})}),n.jsx(wn,{open:o,onOpenChange:l,children:n.jsxs(un,{children:[n.jsxs(hn,{children:[n.jsxs(fn,{className:"flex items-center text-destructive",children:[n.jsx(Xu,{className:"h-5 w-5 mr-2"})," Excluir Loja"]}),n.jsx(jn,{children:"Esta ação é irreversível. Tem certeza que deseja excluir esta loja permanentemente? Todos os dados relacionados à loja serão perdidos."})]}),e&&n.jsxs("div",{className:"flex items-center space-x-4 py-2 border rounded-md p-3 bg-muted/30",children:[n.jsxs(ra,{children:[n.jsx(ga,{src:e.logo}),n.jsx(na,{className:"bg-accent text-white",children:z(e.name)})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-semibold",children:e.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:e.category}),n.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ID: ",e.id]}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:["Email: ",e.email||"N/A"]})]})]}),n.jsxs("div",{className:"bg-destructive/10 p-3 rounded-md border border-destructive/20 text-sm",children:[n.jsxs("p",{className:"font-medium text-destructive flex items-center",children:[n.jsx(Yr,{className:"h-4 w-4 mr-2"})," Atenção"]}),n.jsx("p",{className:"mt-1 text-muted-foreground",children:"A exclusão afetará todas as transações e dados históricos relacionados a esta loja. Considere desativar a loja em vez de excluí-la completamente."})]}),n.jsxs(Aa,{className:"gap-2",children:[n.jsx(J,{variant:"outline",onClick:()=>l(!1),children:"Cancelar"}),n.jsx(J,{variant:"destructive",onClick:$,disabled:f,className:"gap-2",children:f?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"h-4 w-4 animate-spin"}),"Processando"]}):n.jsxs(n.Fragment,{children:[n.jsx(kte,{className:"h-4 w-4"}),"Excluir Permanentemente"]})})]})]})}),j.length>0&&n.jsxs(ne,{className:"mt-4 border-yellow-300",children:[n.jsxs(de,{className:"pb-2",children:[n.jsxs(ue,{className:"text-base flex items-center",children:[n.jsx(Xu,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Lojas para exclusão"]}),n.jsxs(Re,{children:["Foram encontradas ",j.length," lojas com emails marcados para exclusão"]})]}),n.jsxs(ae,{children:[n.jsx("ul",{className:"space-y-2 text-sm",children:j.map((X,fe)=>n.jsxs("li",{className:"flex items-center justify-between border-b pb-2",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-yellow-500 mr-2"}),n.jsxs("span",{children:[X.id,": ",X.name||X.store_name," (",X.email,")"]})]}),n.jsxs(J,{variant:"destructive",size:"sm",onClick:async()=>{t(X),p(!0);try{const re=X.id;if(!re)throw new Error("ID da loja não encontrado");if((await St("DELETE",`/api/admin/stores/${re}`)).ok)C({title:"Loja excluída",description:`${X.name||X.store_name} foi excluída com sucesso.`}),w(Te=>Te.filter(vt=>vt.id!==X.id)),Ut.invalidateQueries({queryKey:["/api/admin/stores"]}),Ut.invalidateQueries({queryKey:["/api/admin/dashboard"]});else throw new Error("Erro ao excluir loja")}catch(re){console.error("Erro ao excluir loja:",re),C({title:"Erro",description:re instanceof Error?re.message:"Ocorreu um erro ao excluir a loja.",variant:"destructive"})}finally{p(!1)}},disabled:f,children:[f?n.jsx(lt,{className:"h-4 w-4 animate-spin"}):n.jsx(Ls,{className:"h-4 w-4"}),n.jsx("span",{className:"ml-2",children:"Excluir"})]})]},fe))}),n.jsxs("div",{className:"flex mt-4 justify-between",children:[n.jsxs(J,{variant:"outline",className:"text-yellow-600 border-yellow-300 hover:bg-yellow-50",onClick:()=>{C({title:"Lojas marcadas para exclusão",description:"Use os botões 'Excluir' ao lado de cada loja para removê-las."})},children:[n.jsx(Yr,{className:"h-4 w-4 mr-2"}),"Instruções"]}),n.jsxs(J,{variant:"destructive",onClick:async()=>{p(!0);try{for(const X of j)try{await St("DELETE",`/api/admin/stores/${X.id}`)}catch(fe){console.error(`Erro ao excluir loja ${X.id}:`,fe)}C({title:"Lojas excluídas",description:"Todas as lojas marcadas foram excluídas."}),w([]),Ut.invalidateQueries({queryKey:["/api/admin/stores"]}),Ut.invalidateQueries({queryKey:["/api/admin/dashboard"]})}catch(X){console.error("Erro ao excluir lojas:",X),C({title:"Erro",description:"Ocorreu um erro ao excluir algumas lojas.",variant:"destructive"})}finally{p(!1)}},disabled:f,children:[f?n.jsx(lt,{className:"h-4 w-4 animate-spin mr-2"}):n.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Excluir Todas"]})]})]})]})]})}function B9e(){const{toast:e}=rr(),[t,r]=E.useState(""),[a,s]=E.useState({from:null,to:null}),[i,o]=E.useState("all"),[l,d]=E.useState("all"),[u,f]=E.useState(null),[p,x]=E.useState("all"),[y,j]=E.useState(1),[w,C]=E.useState(10),[N,S]=E.useState(!1),[_,I]=E.useState(null),{data:T,isLoading:M,error:O}=Nt({queryKey:["/api/admin/transactions",p,y,w,t,a,i,l,u],queryFn:async()=>{try{const $=await fetch("/api/admin/transactions");if(!$.ok)throw new Error("Falha ao buscar transações");return await $.json()}catch($){throw console.error("Erro ao buscar transações:",$),$}}}),{data:D,isLoading:R}=Nt({queryKey:["/api/admin/transactions",_,"detail"],enabled:!!_,placeholderData:_?{id:_,reference:`TX-${_}`,merchant:{id:1,name:"Loja Exemplo",logo:null},customer:{id:2,name:"Cliente Exemplo",email:"cliente@example.com"},amount:{total:150,subtotal:150,tax:0,discount:0,cashback:3},fees:{platform:"5.0",merchant:"2.0",cashback:"2.0",referral:"1.0"},payment:{method:"credit_card",status:"completed"},items:[{id:1,name:"Produto Exemplo",quantity:1,price:150,total:150}],timestamps:{created:new Date().toISOString(),updated:new Date().toISOString()}}:void 0});if(M)return n.jsx(_t,{title:"Histórico de Transações",type:"admin",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Br,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando transações..."})]})})});if(O)return n.jsx(_t,{title:"Histórico de Transações",type:"admin",children:n.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:n.jsxs("div",{className:"flex flex-col items-center gap-4 max-w-md text-center",children:[n.jsx(Ls,{className:"h-12 w-12 text-destructive"}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg font-medium mb-1",children:"Erro ao carregar transações"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Não foi possível carregar as transações. Por favor, tente novamente mais tarde."})]}),n.jsx(J,{onClick:()=>window.location.reload(),children:"Tentar novamente"})]})})});const V=$=>{I($.id),S(!0)},z=$=>{e({title:"Imprimindo Recibo",description:`Preparando para imprimir recibo da transação #${$.id}`})},B=$=>{const L=$||"unknown";switch(L){case"completed":return n.jsxs("div",{className:"flex items-center",children:[n.jsx(cs,{className:"h-4 w-4 text-green-500 mr-2"}),n.jsx("span",{className:"text-green-600 font-medium",children:"Concluída"})]});case"pending":return n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 text-yellow-500 mr-2"}),n.jsx("span",{className:"text-yellow-600 font-medium",children:"Pendente"})]});case"cancelled":return n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ls,{className:"h-4 w-4 text-red-500 mr-2"}),n.jsx("span",{className:"text-red-600 font-medium",children:"Cancelada"})]});case"unknown":return n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 text-gray-500 mr-2"}),n.jsx("span",{className:"text-gray-600 font-medium",children:"Desconhecido"})]});default:return n.jsx("span",{children:L})}},q=[{header:"ID",accessorKey:"id"},{header:"Cliente",accessorKey:"customer_name",cell:({row:$})=>{const L=$.original;return n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:L.customer_name||"Cliente"})]})}},{header:"Loja",accessorKey:"merchant_name",cell:({row:$})=>{const L=$.original;return n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cr,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:L.merchant_name||"Loja"})]})}},{header:"Data",accessorKey:"created_at",cell:({row:$})=>{const L=$.original;return n.jsx("span",{children:L.created_at?Ot(new Date(L.created_at),"dd/MM/yyyy HH:mm"):""})}},{header:"Valor",accessorKey:"totalAmount",cell:({row:$})=>{const L=$.original;return n.jsx("span",{className:"font-medium",children:Be(L.totalAmount||L.total_amount)})}},{header:"Cashback",accessorKey:"cashbackAmount",cell:({row:$})=>{const L=$.original;return n.jsx("span",{className:"text-green-600 font-medium",children:Be(L.cashbackAmount||L.cashback_amount)})}},{header:"Método",accessorKey:"paymentMethod",cell:({row:$})=>{const H=$.original.paymentMethod||"";return n.jsxs("div",{className:"flex items-center",children:[H==="credit_card"?n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground mr-2"}):H==="debit_card"?n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground mr-2"}):H==="pix"?n.jsx(Pn,{className:"h-4 w-4 text-muted-foreground mr-2"}):H==="cash"?n.jsx(ta,{className:"h-4 w-4 text-muted-foreground mr-2"}):n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:H==="credit_card"?"Crédito":H==="debit_card"?"Débito":H==="pix"?"PIX":H==="cash"?"Dinheiro":H})]})}},{header:"Status",accessorKey:"status",cell:({row:$})=>{const L=$.original;return B(L.status||"unknown")}},{header:"Ações",id:"actions",cell:({row:$})=>{const L=$.original;return n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(J,{variant:"ghost",size:"icon",onClick:()=>V(L),children:n.jsx(ea,{className:"h-4 w-4"})}),n.jsx(J,{variant:"ghost",size:"icon",onClick:()=>z(L),children:n.jsx(HF,{className:"h-4 w-4"})})]})}}];return n.jsxs(_t,{title:"Histórico de Transações",type:"admin",children:[n.jsx(wn,{open:N,onOpenChange:S,children:n.jsxs(un,{className:"max-w-3xl",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes da Transação"}),n.jsxs(jn,{children:["ID da Transação: ",D==null?void 0:D.id," | Ref: ",D==null?void 0:D.reference]})]}),R?n.jsx("div",{className:"flex items-center justify-center p-6",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})}):D?n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-4",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-medium text-lg mb-2 flex items-center",children:[n.jsx(Cr,{className:"h-5 w-5 mr-2 text-primary"}),"Dados da Loja"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"ID:"}),n.jsx("div",{className:"text-sm font-medium",children:D.merchant.id}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nome:"}),n.jsx("div",{className:"text-sm font-medium",children:D.merchant.name})]})]}),n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-medium text-lg mb-2 flex items-center",children:[n.jsx(ir,{className:"h-5 w-5 mr-2 text-primary"}),"Dados do Cliente"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"ID:"}),n.jsx("div",{className:"text-sm font-medium",children:D.customer.id}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nome:"}),n.jsx("div",{className:"text-sm font-medium",children:D.customer.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Email:"}),n.jsx("div",{className:"text-sm font-medium",children:D.customer.email})]})]}),n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-medium text-lg mb-2 flex items-center",children:[n.jsx(Mr,{className:"h-5 w-5 mr-2 text-primary"}),"Pagamento"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Método:"}),n.jsx("div",{className:"text-sm font-medium",children:D.payment.method==="credit_card"?"Cartão de Crédito":D.payment.method==="debit_card"?"Cartão de Débito":D.payment.method==="pix"?"PIX":D.payment.method==="cash"?"Dinheiro":D.payment.method==="cashback"?"Cashback":D.payment.method}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Status:"}),n.jsx("div",{className:"text-sm font-medium",children:B(D.payment.status)}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Data:"}),n.jsx("div",{className:"text-sm font-medium",children:Ot(new Date(D.timestamps.created),"dd/MM/yyyy HH:mm")})]})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-medium text-lg mb-2 flex items-center",children:[n.jsx(Hr,{className:"h-5 w-5 mr-2 text-primary"}),"Valores"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Subtotal:"}),n.jsx("div",{className:"text-sm font-medium",children:Be(D.amount.subtotal)}),D.amount.discount>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Desconto:"}),n.jsxs("div",{className:"text-sm font-medium text-red-600",children:["-",Be(D.amount.discount,!1)," "]})]}),D.amount.tax>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxas:"}),n.jsx("div",{className:"text-sm font-medium",children:Be(D.amount.tax)})]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Cashback:"}),n.jsx("div",{className:"text-sm font-medium text-green-600",children:Be(D.amount.cashback)}),n.jsx("div",{className:"text-sm text-muted-foreground font-bold pt-2",children:"Total:"}),n.jsx("div",{className:"text-sm font-bold pt-2",children:Be(D.amount.total)})]})]}),n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsxs("h3",{className:"font-medium text-lg mb-2 flex items-center",children:[n.jsx(fa,{className:"h-5 w-5 mr-2 text-primary"}),"Distribuição de Taxas"]}),n.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa da Plataforma:"}),n.jsxs("div",{className:"text-sm font-medium",children:[D.fees.platform,"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Comissão do Lojista:"}),n.jsxs("div",{className:"text-sm font-medium text-green-600",children:[D.fees.merchant,"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Cashback do Cliente:"}),n.jsxs("div",{className:"text-sm font-medium",children:[D.fees.cashback,"%"]}),n.jsx("div",{className:"text-sm text-muted-foreground",children:"Bônus de Indicação:"}),n.jsxs("div",{className:"text-sm font-medium",children:[D.fees.referral,"%"]})]})]})]}),n.jsx("div",{className:"col-span-1 md:col-span-2",children:n.jsxs("div",{className:"border rounded-lg p-4",children:[n.jsx("h3",{className:"font-medium text-lg mb-2",children:"Itens da Transação"}),n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b",children:[n.jsx("th",{className:"text-left py-2 font-medium text-sm",children:"Item"}),n.jsx("th",{className:"text-right py-2 font-medium text-sm",children:"Qtd"}),n.jsx("th",{className:"text-right py-2 font-medium text-sm",children:"Preço"}),n.jsx("th",{className:"text-right py-2 font-medium text-sm",children:"Total"})]})}),n.jsx("tbody",{children:D.items.map($=>n.jsxs("tr",{className:"border-b",children:[n.jsx("td",{className:"py-2 text-sm",children:$.name}),n.jsx("td",{className:"py-2 text-sm text-right",children:$.quantity}),n.jsxs("td",{className:"py-2 text-sm text-right",children:["$ ",$.price.toFixed(2)]}),n.jsxs("td",{className:"py-2 text-sm text-right font-medium",children:["$ ",$.total.toFixed(2)]})]},$.id))}),n.jsx("tfoot",{children:n.jsxs("tr",{children:[n.jsx("td",{colSpan:3,className:"text-right py-2 font-medium",children:"Total:"}),n.jsx("td",{className:"text-right py-2 font-bold",children:Be(D.amount.total)})]})})]})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center p-6",children:[n.jsx(Ls,{className:"h-8 w-8 text-destructive mb-2"}),n.jsx("p",{className:"text-muted-foreground",children:"Não foi possível carregar os detalhes da transação."})]})]})}),n.jsxs(Dr,{defaultValue:"all",value:p,onValueChange:x,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs(Pr,{children:[n.jsx($e,{value:"all",children:"Todas"}),n.jsx($e,{value:"completed",children:"Concluídas"}),n.jsx($e,{value:"pending",children:"Pendentes"}),n.jsx($e,{value:"cancelled",children:"Canceladas"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ep,{children:[n.jsx(tp,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"px-2 flex gap-1",children:[n.jsx(xl,{className:"h-4 w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Data"}),n.jsx(N0,{className:"h-4 w-4"})]})}),n.jsx(yh,{className:"w-auto p-0",align:"end",children:n.jsx(vp,{initialFocus:!0,mode:"range",selected:{from:a.from||void 0,to:a.to||void 0},onSelect:$=>s({from:($==null?void 0:$.from)||null,to:($==null?void 0:$.to)||null})})})]}),n.jsxs(ur,{value:l||"all",onValueChange:d,children:[n.jsx(cr,{className:"w-[130px]",children:n.jsx(fr,{placeholder:"Pagamento"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos"}),n.jsx(ve,{value:"credit_card",children:"Crédito"}),n.jsx(ve,{value:"debit_card",children:"Débito"}),n.jsx(ve,{value:"pix",children:"PIX"}),n.jsx(ve,{value:"cash",children:"Dinheiro"})]})]}),n.jsxs(J,{variant:"ghost",onClick:()=>window.print(),children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"hidden md:inline",children:"Exportar"})]})]})]}),n.jsx("div",{className:"rounded-md border mb-4",children:n.jsxs("div",{className:"px-4 py-3 flex items-center gap-2",children:[n.jsx(ts,{className:"h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar transações...",className:"border-0 p-0 shadow-none focus-visible:ring-0",value:t,onChange:$=>r($.target.value)})]})}),n.jsx(Ze,{value:"all",className:"mt-0",children:n.jsxs(ne,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ue,{children:"Todas as Transações"}),n.jsx(Re,{children:"Histórico de todas as transações realizadas no sistema."})]}),n.jsx(ae,{children:T!=null&&T.transactions&&T.transactions.length>0?n.jsx(Va,{columns:q,data:T.transactions,pagination:{pageIndex:y-1,pageSize:w,pageCount:Math.ceil((T.total||0)/w),onPageChange:$=>j($+1),onPageSizeChange:C}}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[n.jsx(Bi,{className:"h-10 w-10 text-muted-foreground mb-3"}),n.jsx("h3",{className:"text-lg font-medium mb-1",children:"Nenhuma transação encontrada"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Não encontramos transações que correspondam aos filtros aplicados. Tente ajustar seus critérios de busca."})]})})]})}),n.jsx(Ze,{value:"completed",className:"mt-0",children:n.jsxs(ne,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ue,{children:"Transações Concluídas"}),n.jsx(Re,{children:"Histórico de transações com pagamento confirmado."})]}),n.jsx(ae,{children:T!=null&&T.transactions&&T.transactions.length>0?n.jsx(Va,{columns:q,data:T.transactions.filter($=>$.status==="completed"),pagination:{pageIndex:y-1,pageSize:w,pageCount:Math.ceil((T.total||0)/w),onPageChange:$=>j($+1),onPageSizeChange:C}}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[n.jsx(Bi,{className:"h-10 w-10 text-muted-foreground mb-3"}),n.jsx("h3",{className:"text-lg font-medium mb-1",children:"Nenhuma transação concluída"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Não encontramos transações concluídas que correspondam aos filtros aplicados."})]})})]})}),n.jsx(Ze,{value:"pending",className:"mt-0",children:n.jsxs(ne,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ue,{children:"Transações Pendentes"}),n.jsx(Re,{children:"Transações com pagamento em processamento."})]}),n.jsx(ae,{children:T!=null&&T.transactions&&T.transactions.length>0?n.jsx(Va,{columns:q,data:T.transactions.filter($=>$.status==="pending"),pagination:{pageIndex:y-1,pageSize:w,pageCount:Math.ceil((T.total||0)/w),onPageChange:$=>j($+1),onPageSizeChange:C}}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[n.jsx(Bi,{className:"h-10 w-10 text-muted-foreground mb-3"}),n.jsx("h3",{className:"text-lg font-medium mb-1",children:"Nenhuma transação pendente"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Não encontramos transações pendentes que correspondam aos filtros aplicados."})]})})]})}),n.jsx(Ze,{value:"cancelled",className:"mt-0",children:n.jsxs(ne,{children:[n.jsxs(de,{className:"pb-2",children:[n.jsx(ue,{children:"Transações Canceladas"}),n.jsx(Re,{children:"Histórico de transações canceladas."})]}),n.jsx(ae,{children:T!=null&&T.transactions&&T.transactions.length>0?n.jsx(Va,{columns:q,data:T.transactions.filter($=>$.status==="cancelled"),pagination:{pageIndex:y-1,pageSize:w,pageCount:Math.ceil((T.total||0)/w),onPageChange:$=>j($+1),onPageSizeChange:C}}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center",children:[n.jsx(Bi,{className:"h-10 w-10 text-muted-foreground mb-3"}),n.jsx("h3",{className:"text-lg font-medium mb-1",children:"Nenhuma transação cancelada"}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-md",children:"Não encontramos transações canceladas que correspondam aos filtros aplicados."})]})})]})})]})]})}const $9e={cashback:n.jsx(Mr,{className:"h-4 w-4"}),referral:n.jsx(ir,{className:"h-4 w-4"}),withdrawal:n.jsx(l1,{className:"h-4 w-4"}),merchant_withdrawal:n.jsx(Gu,{className:"h-4 w-4"}),client_withdrawal:n.jsx(l1,{className:"h-4 w-4"}),internal_transfer:n.jsx(Br,{className:"h-4 w-4"})},V9e={completed:n.jsx(cs,{className:"h-4 w-4 text-green-500"}),pending:n.jsx(Vn,{className:"h-4 w-4 text-yellow-500"}),cancelled:n.jsx(Ls,{className:"h-4 w-4 text-red-500"})};function z9e(){const[e,t]=E.useState(""),[r,a]=E.useState({from:null,to:null}),[s,i]=E.useState(null),[o,l]=E.useState(null),[d,u]=E.useState("all"),[f,p]=E.useState(1),[x,y]=E.useState(10),{toast:j}=rr(),{data:w,isLoading:C}=Nt({queryKey:["/api/admin/transfers",{page:f,pageSize:x,status:s,type:o,dateFrom:r.from?Ot(r.from,"yyyy-MM-dd"):void 0,dateTo:r.to?Ot(r.to,"yyyy-MM-dd"):void 0,search:e}],queryFn:async()=>{try{const O=await fetch("/api/admin/transfers");if(!O.ok)throw new Error("Falha ao buscar transferências");const R=(await O.json()).transfers||[],V=R.reduce((L,H)=>L+(parseFloat(H.amount)||0),0),z=new Map;R.forEach(L=>{const H=L.status||"unknown";z.set(H,(z.get(H)||0)+1)});const B=Array.from(z.entries()).map(([L,H])=>({status:L,count:H})),q=new Map;R.forEach(L=>{const H=L.type||"unknown",G=parseFloat(L.amount)||0;q.set(H,(q.get(H)||0)+G)});const $=Array.from(q.entries()).map(([L,H])=>({type:L,sum:H}));return{transfers:R,totalAmount:V,statusCounts:B,typeCounts:$,pageCount:Math.ceil(R.length/x)}}catch(O){throw console.error("Erro ao buscar transferências:",O),O}}}),N=(w==null?void 0:w.transfers)||[],S=()=>{j({title:"Exportação iniciada",description:"Seus dados estão sendo exportados para CSV."}),setTimeout(()=>{j({title:"Exportação concluída",description:"Arquivo CSV exportado com sucesso."})},1500)},_=O=>{j({title:`Transferência #${O.id}`,description:`Usuário: ${O.userName}, Valor: ${Be(O.amount)}`})},I=O=>{if(O.status!=="pending"){j({title:"Operação não permitida",description:"Apenas transferências pendentes podem ser aprovadas.",variant:"destructive"});return}j({title:"Transferência aprovada",description:`A transferência #${O.id} foi aprovada com sucesso.`})},T=[{header:"ID",accessorKey:"id"},{header:"Usuário",accessorKey:"userName",cell:({row:O})=>{const D=O.original;return n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:(D==null?void 0:D.userName)||"Usuário"})]})}},{header:"Data",accessorKey:"created_at",cell:({row:O})=>{const D=O.original;try{return n.jsx("span",{children:D.created_at?new Date(D.created_at).toLocaleDateString("en-US"):""})}catch{return n.jsx("span",{children:"Data inválida"})}}},{header:"Valor",accessorKey:"amount",cell:({row:O})=>{const D=O.original;return n.jsx("span",{className:"font-medium",children:Be(D.amount||0)})}},{header:"Tipo",accessorKey:"type",cell:({row:O})=>{const R=O.original.type||"unknown",V={withdrawal:"Saque",cashback:"Cashback",referral:"Indicação",merchant_withdrawal:"Saque Lojista",client_withdrawal:"Saque Cliente",internal_transfer:"Transferência Interna",unknown:"Desconhecido"};return n.jsxs("div",{className:"flex items-center",children:[$9e[R]||n.jsx(Hr,{className:"h-4 w-4 mr-2"}),n.jsx("span",{className:"ml-1",children:V[R]||R})]})}},{header:"Status",accessorKey:"status",cell:({row:O})=>{const R=O.original.status||"unknown",V={completed:"Concluída",pending:"Pendente",cancelled:"Cancelada",unknown:"Desconhecido"},z={completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",unknown:"bg-gray-100 text-gray-800"};return n.jsxs("div",{className:`rounded-full px-2 py-1 text-xs font-medium inline-flex items-center ${z[R]||"bg-gray-100 text-gray-800"}`,children:[V9e[R]||n.jsx(QT,{className:"h-4 w-4 text-gray-500"}),n.jsx("span",{className:"ml-1",children:V[R]||R})]})}},{header:"Informações",accessorKey:"userEmail",cell:({row:O})=>{const D=O.original;return n.jsxs("div",{className:"flex items-center",children:[n.jsx(Us,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{className:"truncate max-w-[200px]",children:D.userEmail||"Sem email"})]})}}],M=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:O=>_(O)},{label:"Aprovar",icon:n.jsx(cs,{className:"h-4 w-4"}),onClick:O=>I(O),show:O=>O.status==="pending"}];return n.jsx(_t,{title:"Transferências",type:"admin",children:n.jsxs(Dr,{defaultValue:"all",value:d,onValueChange:u,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs(Pr,{children:[n.jsx($e,{value:"all",children:"Todas"}),n.jsx($e,{value:"completed",children:"Concluídas"}),n.jsx($e,{value:"pending",children:"Pendentes"}),n.jsx($e,{value:"cancelled",children:"Canceladas"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(ep,{children:[n.jsx(tp,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"w-[240px] justify-start text-left font-normal",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),r.from?r.to?n.jsxs(n.Fragment,{children:[Ot(r.from,"dd/MM/yyyy")," -"," ",Ot(r.to,"dd/MM/yyyy")]}):Ot(r.from,"dd/MM/yyyy"):n.jsx("span",{children:"Selecione um período"})]})}),n.jsx(yh,{className:"w-auto p-0",children:n.jsx(vp,{initialFocus:!0,mode:"range",defaultMonth:new Date,selected:{from:r.from??void 0,to:r.to??void 0},onSelect:O=>{O!=null&&O.from&&a({from:O.from,to:O.to})},locale:ap})})]}),n.jsxs(J,{variant:"outline",onClick:S,children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total Transferido"})}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:Be(w==null?void 0:w.totalAmount)}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:[N.length," transferências"]})]})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Status"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:w!=null&&w.statusCounts&&w.statusCounts.length>0?w.statusCounts.map(O=>{const D={completed:n.jsx(cs,{className:"h-3.5 w-3.5 text-green-500 mr-1.5"}),pending:n.jsx(Vn,{className:"h-3.5 w-3.5 text-yellow-500 mr-1.5"}),cancelled:n.jsx(Ls,{className:"h-3.5 w-3.5 text-red-500 mr-1.5"})},R={completed:"Concluídas",pending:"Pendentes",cancelled:"Canceladas"};return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[D[O.status]||n.jsx(Hr,{className:"h-3.5 w-3.5 mr-1.5"}),n.jsx("span",{children:R[O.status]||O.status})]}),n.jsx("span",{className:"text-sm font-medium",children:O.count})]},O.status)}):n.jsx("div",{className:"text-sm text-center text-muted-foreground py-2",children:"Nenhum dado disponível"})})})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Tipo"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:w!=null&&w.typeCounts&&w.typeCounts.length>0?w.typeCounts.map(O=>{const D={withdrawal:"Saques",cashback:"Cashback",referral:"Indicações",merchant_withdrawal:"Saques Lojista",client_withdrawal:"Saques Cliente",internal_transfer:"Transferências Internas"},R={withdrawal:n.jsx(l1,{className:"h-3.5 w-3.5 mr-1.5"}),cashback:n.jsx(Mr,{className:"h-3.5 w-3.5 mr-1.5"}),referral:n.jsx(ir,{className:"h-3.5 w-3.5 mr-1.5"}),merchant_withdrawal:n.jsx(Gu,{className:"h-3.5 w-3.5 mr-1.5"}),client_withdrawal:n.jsx(l1,{className:"h-3.5 w-3.5 mr-1.5"}),internal_transfer:n.jsx(Br,{className:"h-3.5 w-3.5 mr-1.5"})};return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[R[O.type]||n.jsx(Hr,{className:"h-3.5 w-3.5 mr-1.5"}),n.jsx("span",{children:D[O.type]||O.type})]}),n.jsx("span",{className:"text-sm font-medium",children:Be(O.sum)})]},O.type)}):n.jsx("div",{className:"text-sm text-center text-muted-foreground py-2",children:"Nenhum dado disponível"})})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Transferências"}),n.jsx(Re,{children:"Histórico completo de transferências no sistema"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative w-full md:w-[300px]",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar por usuário...",className:"pl-8",value:e,onChange:O=>t(O.target.value)})]}),n.jsxs("div",{className:"flex flex-1 gap-4",children:[n.jsxs(ur,{value:s||"all",onValueChange:O=>i(O==="all"?null:O),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Status"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os status"}),n.jsx(ve,{value:"completed",children:"Concluídas"}),n.jsx(ve,{value:"pending",children:"Pendentes"}),n.jsx(ve,{value:"cancelled",children:"Canceladas"})]})]}),n.jsxs(ur,{value:o||"all",onValueChange:O=>l(O==="all"?null:O),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Tipo"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os tipos"}),n.jsx(ve,{value:"merchant_withdrawal",children:"Saque Lojista"}),n.jsx(ve,{value:"client_withdrawal",children:"Saque Cliente"}),n.jsx(ve,{value:"internal_transfer",children:"Transferência Interna"})]})]})]})]}),n.jsx(Va,{data:N,columns:T,actions:M,searchable:!1,pagination:{pageIndex:f-1,pageSize:x,pageCount:(w==null?void 0:w.pageCount)||1,onPageChange:O=>p(O+1)}})]})]})]})})}const Rf={cashbackRate:.02,referralRate:.01,merchantCommission:.02,platformFee:.05,minWithdrawal:20,withdrawalFee:.05},qc=e=>{const t=typeof e=="string"?parseFloat(e):e;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)},dY=({status:e})=>{switch(e){case"completed":return n.jsx(xt,{className:"bg-green-500 hover:bg-green-600",children:"Aprovado"});case"rejected":return n.jsx(xt,{variant:"destructive",children:"Recusado"});case"cancelled":return n.jsx(xt,{variant:"secondary",children:"Cancelado"});case"pending":default:return n.jsx(xt,{variant:"outline",className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",children:"Pendente"})}},U9e=({withdrawal:e,onApprove:t,onReject:r,isPending:a})=>{const[s,i]=E.useState(""),[o,l]=E.useState(!1),d=()=>{t(e.id,s),l(!1)},u=()=>{r(e.id,s),l(!1)},f=p=>{if(!p)return"N/A";const x=new Date(p);return Ot(x,"MM/dd/yyyy HH:mm",{locale:ap})};return n.jsxs(wn,{open:o,onOpenChange:l,children:[n.jsx(Qfe,{asChild:!0,children:n.jsxs(J,{variant:"ghost",size:"sm",children:[n.jsx(ea,{className:"h-4 w-4 mr-2"})," Detalhes"]})}),n.jsxs(un,{className:"sm:max-w-[600px]",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes da Solicitação de Saque"}),n.jsx(jn,{children:"Visualize e atualize o status desta solicitação."})]}),n.jsx(Lw,{className:"max-h-[60vh] pr-4",children:n.jsxs("div",{className:"space-y-6 py-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"ID da Solicitação"}),n.jsxs("p",{className:"text-sm",children:["#",e.id]})]}),n.jsx(dY,{status:e.status})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Lojista"}),n.jsx("p",{className:"text-sm",children:e.store_name||e.merchant_name}),n.jsx("p",{className:"text-xs text-muted-foreground",children:e.full_name})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Valores"}),n.jsxs("div",{className:"space-y-1",children:[n.jsx("p",{className:"text-xl font-semibold text-primary",children:qc(e.amount)}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("span",{className:"text-muted-foreground",children:["Taxa do Site (",e.fee_percentage||Rf.withdrawalFee*100,"%):"]}),n.jsxs("span",{className:"font-medium text-destructive",children:["-",qc(e.fee_amount||parseFloat(e.amount)*Rf.withdrawalFee)]})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-muted-foreground",children:"Valor Líquido:"}),n.jsx("span",{className:"font-medium text-green-600",children:qc(e.net_amount||parseFloat(e.amount)*(1-Rf.withdrawalFee))})]})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Método de Pagamento"}),n.jsx("p",{className:"text-sm capitalize",children:e.payment_method})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Data da Solicitação"}),n.jsx("p",{className:"text-sm",children:f(e.created_at)})]}),e.processed_at&&n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium",children:"Data de Processamento"}),n.jsx("p",{className:"text-sm",children:f(e.processed_at)})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-medium",children:"Dados Bancários"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Banco"}),n.jsx("p",{className:"text-sm",children:e.bank_name})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Agência"}),n.jsx("p",{className:"text-sm",children:e.agency})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Conta"}),n.jsx("p",{className:"text-sm",children:e.account})]})]})]}),n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-medium",children:"Dados de Contato"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-2",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-sm",children:e.email})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-muted-foreground",children:"Telefone"}),n.jsx("p",{className:"text-sm",children:e.phone})]})]})]}),e.notes&&n.jsxs("div",{className:"border-t pt-4",children:[n.jsx("h3",{className:"font-medium",children:"Observações"}),n.jsx("p",{className:"text-sm whitespace-pre-wrap mt-1",children:e.notes})]})]})}),e.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"border-t pt-4",children:[n.jsx(Le,{htmlFor:"admin_notes",children:"Observações (opcional)"}),n.jsx(Bs,{id:"admin_notes",placeholder:"Adicione observações sobre esta transação",className:"mt-2",value:s,onChange:p=>i(p.target.value)})]}),n.jsxs(Aa,{className:"gap-2 sm:gap-0",children:[n.jsxs(J,{type:"button",variant:"destructive",onClick:u,disabled:a,children:[a?n.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Ls,{className:"h-4 w-4 mr-2"}),"Recusar"]}),n.jsxs(J,{type:"button",variant:"default",className:"bg-green-600 hover:bg-green-700",onClick:d,disabled:a,children:[a?n.jsx(lt,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Aprovar"]})]})]})]})]})},W9e=()=>{var N,S,_,I,T,M,O,D;const{toast:e}=rr(),t=Nl(),[r,a]=E.useState(void 0),{data:s,isLoading:i,error:o}=Nt({queryKey:["/api/admin/withdrawal-requests",r],queryFn:async({queryKey:R})=>{const[V,z]=R,B=z?`/api/admin/withdrawal-requests?status=${z}`:"/api/admin/withdrawal-requests",q=await fetch(B);if(!q.ok)throw new Error("Erro ao carregar solicitações de saque");return q.json()}}),l=Zt({mutationFn:async({id:R,status:V,notes:z})=>{const B=await St("PATCH",`/api/admin/withdrawal-requests/${R}`,{status:V,admin_notes:z});if(!B.ok){const q=await B.json();throw new Error(q.message||"Erro ao processar solicitação")}return await B.json()},onSuccess:(R,V)=>{const z=V.status==="completed"?"aprovada":"recusada";e({title:`Solicitação ${z}`,description:`A solicitação de saque foi ${z} com sucesso.`,variant:"default"}),t.invalidateQueries({queryKey:["/api/admin/withdrawal-requests"]})},onError:R=>{e({title:"Erro ao processar solicitação",description:R.message||"Ocorreu um erro ao processar a solicitação. Por favor, tente novamente.",variant:"destructive"})}}),d=(R,V)=>{l.mutate({id:R,status:"completed",notes:V})},u=(R,V)=>{l.mutate({id:R,status:"rejected",notes:V})},f=R=>{const V=new Date(R);return Ot(V,"MM/dd/yyyy HH:mm",{locale:ap})},p=()=>i?n.jsx("div",{className:"flex justify-center items-center py-12",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})}):o?n.jsxs($s,{variant:"destructive",className:"my-4",children:[n.jsx(Yr,{className:"h-4 w-4"}),n.jsx(qi,{children:"Erro"}),n.jsx(Vs,{children:"Não foi possível carregar as solicitações de saque. Por favor, tente novamente."})]}):!(s!=null&&s.withdrawals)||s.withdrawals.length===0?n.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[n.jsx(VF,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),n.jsx("p",{children:"Nenhuma solicitação de saque encontrada com os filtros atuais."})]}):n.jsx("div",{className:"rounded-md border",children:n.jsxs(fl,{children:[n.jsx(ml,{children:n.jsxs(Tn,{children:[n.jsx(Et,{children:"ID"}),n.jsx(Et,{children:"Lojista"}),n.jsx(Et,{children:"Data"}),n.jsx(Et,{children:"Valor Bruto"}),n.jsxs(Et,{children:["Taxa (",Rf.withdrawalFee*100,"%)"]}),n.jsx(Et,{children:"Valor Líquido"}),n.jsx(Et,{children:"Método"}),n.jsx(Et,{children:"Status"}),n.jsx(Et,{className:"text-right",children:"Ações"})]})}),n.jsx(pl,{children:s.withdrawals.map(R=>n.jsxs(Tn,{children:[n.jsxs(bt,{className:"font-medium",children:["#",R.id]}),n.jsxs(bt,{children:[R.store_name||R.merchant_name,n.jsx("div",{className:"text-xs text-muted-foreground truncate max-w-[150px]",children:R.user_name})]}),n.jsxs(bt,{children:[f(R.created_at),R.status!=="pending"&&R.processed_at&&n.jsxs("div",{className:"text-xs text-muted-foreground",children:["Processado: ",f(R.processed_at)]})]}),n.jsx(bt,{children:qc(R.amount)}),n.jsx(bt,{className:"text-destructive",children:R.fee_amount?qc(R.fee_amount):qc(parseFloat(R.amount)*Rf.withdrawalFee)}),n.jsx(bt,{className:"text-green-600 font-medium",children:R.net_amount?qc(R.net_amount):qc(parseFloat(R.amount)*(1-Rf.withdrawalFee))}),n.jsx(bt,{className:"capitalize",children:R.payment_method}),n.jsx(bt,{children:n.jsx(dY,{status:R.status})}),n.jsx(bt,{className:"text-right",children:n.jsx(U9e,{withdrawal:R,onApprove:d,onReject:u,isPending:l.isPending})})]},R.id))})]})}),x=[{value:void 0,label:"Todos"},{value:"pending",label:"Pendentes"},{value:"completed",label:"Aprovados"},{value:"rejected",label:"Recusados"},{value:"cancelled",label:"Cancelados"}],y=((S=(N=s==null?void 0:s.withdrawals)==null?void 0:N.filter(R=>R.status==="pending"))==null?void 0:S.length)||0,j=((I=(_=s==null?void 0:s.withdrawals)==null?void 0:_.filter(R=>R.status==="completed"))==null?void 0:I.length)||0,w=((M=(T=s==null?void 0:s.withdrawals)==null?void 0:T.filter(R=>R.status==="rejected"))==null?void 0:M.length)||0,C=((D=(O=s==null?void 0:s.withdrawals)==null?void 0:O.filter(R=>R.status==="cancelled"))==null?void 0:D.length)||0;return n.jsxs(_t,{type:"admin",title:"Solicitações de Saque",children:[n.jsx(jd,{children:n.jsx("title",{children:"Solicitações de Saque | Vale Cashback"})}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between md:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Solicitações de Saque"}),n.jsx("p",{className:"text-muted-foreground",children:"Gerencie as solicitações de saque dos lojistas."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(zF,{className:"h-4 w-4 text-muted-foreground"}),n.jsxs(ur,{value:r,onValueChange:R=>a(R!=="undefined"?R:void 0),children:[n.jsx(cr,{className:"w-[180px]",children:n.jsx(fr,{placeholder:"Filtrar por status"})}),n.jsx(dr,{children:x.map(R=>{var V;return n.jsx(ve,{value:((V=R.value)==null?void 0:V.toString())||"undefined",children:R.label},R.value||"all")})})]})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ne,{children:[n.jsxs(de,{className:"py-4",children:[n.jsxs(ue,{className:"text-base font-medium flex items-center gap-2",children:[n.jsx(Vn,{className:"h-4 w-4 text-yellow-500"}),"Pendentes"]}),n.jsx(Re,{children:"Solicitações aguardando aprovação"})]}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:y})})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"py-4",children:[n.jsxs(ue,{className:"text-base font-medium flex items-center gap-2",children:[n.jsx(Jn,{className:"h-4 w-4 text-green-500"}),"Aprovados"]}),n.jsx(Re,{children:"Solicitações aprovadas"})]}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:j})})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"py-4",children:[n.jsxs(ue,{className:"text-base font-medium flex items-center gap-2",children:[n.jsx(Ls,{className:"h-4 w-4 text-red-500"}),"Recusados"]}),n.jsx(Re,{children:"Solicitações recusadas"})]}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:w})})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"py-4",children:[n.jsxs(ue,{className:"text-base font-medium flex items-center gap-2",children:[n.jsx(Yr,{className:"h-4 w-4 text-gray-500"}),"Cancelados"]}),n.jsx(Re,{children:"Solicitações canceladas pelo lojista"})]}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:C})})]})]}),p()]})]})},H9e=we.object({cashbackRate:we.preprocess(e=>parseFloat(e),we.number().min(0).max(100)),referralRate:we.preprocess(e=>parseFloat(e),we.number().min(0).max(100)),merchantCommission:we.preprocess(e=>parseFloat(e),we.number().min(0).max(100)),minWithdrawal:we.preprocess(e=>parseFloat(e),we.number().min(0)),maxCashbackBonus:we.preprocess(e=>parseFloat(e),we.number().min(0).max(100))}),q9e=we.object({requireEmailVerification:we.boolean().default(!0),maxLoginAttempts:we.preprocess(e=>parseInt(e),we.number().min(1).max(10)),passwordExpiryDays:we.preprocess(e=>parseInt(e),we.number().min(0).max(365)),sessionTimeoutMinutes:we.preprocess(e=>parseInt(e),we.number().min(5).max(1440)),requireStrongPasswords:we.boolean().default(!0),twoFactorAuth:we.boolean().default(!1)}),G9e=we.object({emailNotifications:we.boolean().default(!0),smsNotifications:we.boolean().default(!1),pushNotifications:we.boolean().default(!0),notifyOnLogin:we.boolean().default(!0),notifyOnTransactions:we.boolean().default(!0),notifyOnWithdrawals:we.boolean().default(!0),dailyReports:we.boolean().default(!1),weeklyReports:we.boolean().default(!0),monthlyReports:we.boolean().default(!0)}),K9e=we.object({maintenanceMode:we.boolean().default(!1),debugMode:we.boolean().default(!1),apiThrottleLimit:we.preprocess(e=>parseInt(e),we.number().min(10).max(1e3)),enableReferrals:we.boolean().default(!0),enableCashback:we.boolean().default(!0),enableQrCodes:we.boolean().default(!0),backupFrequencyHours:we.preprocess(e=>parseInt(e),we.number().min(1).max(168))});function Y9e(){var T,M,O,D,R,V,z,B,q,$,L,H,G,Y,te,X,fe,re,se,Te,vt,Me;const[e,t]=E.useState("rates"),{toast:r}=rr(),a={platformFee:"5.0",merchantCommission:"2.0",clientCashback:"2.0",referralCommission:"1.0",minimumWithdrawal:"50.0",maximumCashback:"10.0"},{data:s,isLoading:i}=Nt({queryKey:["/api/admin/settings/rates"],placeholderData:a}),{data:o,isLoading:l}=Nt({queryKey:["/api/admin/settings"],placeholderData:{security:{requireEmailVerification:!0,maxLoginAttempts:5,passwordExpiryDays:90,sessionTimeoutMinutes:120,requireStrongPasswords:!0,twoFactorAuth:!1},notifications:{emailNotifications:!0,smsNotifications:!1,pushNotifications:!0,notifyOnLogin:!0,notifyOnTransactions:!0,notifyOnWithdrawals:!0,dailyReports:!1,weeklyReports:!0,monthlyReports:!0},system:{maintenanceMode:!1,debugMode:!1,apiThrottleLimit:100,enableReferrals:!0,enableCashback:!0,enableQrCodes:!0,backupFrequencyHours:24}}}),d=(he,rt)=>{if(!he)return rt;const Ae=parseFloat(he);return isNaN(Ae)?rt:Ae},u=Ea({resolver:Ta(H9e),defaultValues:{cashbackRate:d(s==null?void 0:s.clientCashback,2),referralRate:d(s==null?void 0:s.referralCommission,1),merchantCommission:d(s==null?void 0:s.merchantCommission,2),minWithdrawal:d(s==null?void 0:s.minimumWithdrawal,50),maxCashbackBonus:d(s==null?void 0:s.maximumCashback,10)}});E.useEffect(()=>{s&&!i&&u.reset({cashbackRate:d(s.clientCashback,2),referralRate:d(s.referralCommission,1),merchantCommission:d(s.merchantCommission,2),minWithdrawal:d(s.minimumWithdrawal,50),maxCashbackBonus:d(s.maximumCashback,10)})},[s,i,u]);const f=Ea({resolver:Ta(q9e),defaultValues:{requireEmailVerification:((T=o==null?void 0:o.security)==null?void 0:T.requireEmailVerification)??!0,maxLoginAttempts:((M=o==null?void 0:o.security)==null?void 0:M.maxLoginAttempts)??5,passwordExpiryDays:((O=o==null?void 0:o.security)==null?void 0:O.passwordExpiryDays)??90,sessionTimeoutMinutes:((D=o==null?void 0:o.security)==null?void 0:D.sessionTimeoutMinutes)??120,requireStrongPasswords:((R=o==null?void 0:o.security)==null?void 0:R.requireStrongPasswords)??!0,twoFactorAuth:((V=o==null?void 0:o.security)==null?void 0:V.twoFactorAuth)??!1}}),p=Ea({resolver:Ta(G9e),defaultValues:{emailNotifications:((z=o==null?void 0:o.notifications)==null?void 0:z.emailNotifications)??!0,smsNotifications:((B=o==null?void 0:o.notifications)==null?void 0:B.smsNotifications)??!1,pushNotifications:((q=o==null?void 0:o.notifications)==null?void 0:q.pushNotifications)??!0,notifyOnLogin:(($=o==null?void 0:o.notifications)==null?void 0:$.notifyOnLogin)??!0,notifyOnTransactions:((L=o==null?void 0:o.notifications)==null?void 0:L.notifyOnTransactions)??!0,notifyOnWithdrawals:((H=o==null?void 0:o.notifications)==null?void 0:H.notifyOnWithdrawals)??!0,dailyReports:((G=o==null?void 0:o.notifications)==null?void 0:G.dailyReports)??!1,weeklyReports:((Y=o==null?void 0:o.notifications)==null?void 0:Y.weeklyReports)??!0,monthlyReports:((te=o==null?void 0:o.notifications)==null?void 0:te.monthlyReports)??!0}}),x=Ea({resolver:Ta(K9e),defaultValues:{maintenanceMode:((X=o==null?void 0:o.system)==null?void 0:X.maintenanceMode)??!1,debugMode:((fe=o==null?void 0:o.system)==null?void 0:fe.debugMode)??!1,apiThrottleLimit:((re=o==null?void 0:o.system)==null?void 0:re.apiThrottleLimit)??100,enableReferrals:((se=o==null?void 0:o.system)==null?void 0:se.enableReferrals)??!0,enableCashback:((Te=o==null?void 0:o.system)==null?void 0:Te.enableCashback)??!0,enableQrCodes:((vt=o==null?void 0:o.system)==null?void 0:vt.enableQrCodes)??!0,backupFrequencyHours:((Me=o==null?void 0:o.system)==null?void 0:Me.backupFrequencyHours)??24}}),y=Zt({mutationFn:async he=>{const rt={platformFee:"5.0",merchantCommission:he.merchantCommission.toString(),clientCashback:he.cashbackRate.toString(),referralCommission:he.referralRate.toString(),withdrawalFee:"5.0",minimumWithdrawal:he.minWithdrawal.toString(),maximumCashback:he.maxCashbackBonus.toString()};console.log("Enviando dados para atualização:",rt);try{const Ae=await St("PATCH","/api/admin/settings/rates",rt);if(!Ae.ok)throw new Error(`Erro ao atualizar: ${Ae.status} ${Ae.statusText}`);return await Ae.json()}catch(Ae){throw console.error("Erro na requisição:",Ae),Ae}},onSuccess:()=>{r({title:"Configurações atualizadas",description:"As configurações de taxas foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/admin/settings/rates"]})},onError:he=>{r({title:"Erro ao atualizar configurações",description:he.message||"Ocorreu um erro ao atualizar as configurações. Tente novamente.",variant:"destructive"})}}),j=Zt({mutationFn:async he=>(await St("PATCH","/api/admin/settings/security",he)).json(),onSuccess:()=>{r({title:"Configurações atualizadas",description:"As configurações de segurança foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/admin/settings"]})},onError:he=>{r({title:"Erro ao atualizar configurações",description:he.message||"Ocorreu um erro ao atualizar as configurações. Tente novamente.",variant:"destructive"})}}),w=Zt({mutationFn:async he=>(await St("PATCH","/api/admin/settings/notifications",he)).json(),onSuccess:()=>{r({title:"Configurações atualizadas",description:"As configurações de notificações foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/admin/settings"]})},onError:he=>{r({title:"Erro ao atualizar configurações",description:he.message||"Ocorreu um erro ao atualizar as configurações. Tente novamente.",variant:"destructive"})}}),C=Zt({mutationFn:async he=>(await St("PATCH","/api/admin/settings/system",he)).json(),onSuccess:()=>{r({title:"Configurações atualizadas",description:"As configurações do sistema foram atualizadas com sucesso",variant:"default"}),Ut.invalidateQueries({queryKey:["/api/admin/settings"]})},onError:he=>{r({title:"Erro ao atualizar configurações",description:he.message||"Ocorreu um erro ao atualizar as configurações. Tente novamente.",variant:"destructive"})}}),N=he=>{y.mutate(he)},S=he=>{j.mutate(he)},_=he=>{w.mutate(he)},I=he=>{he.maintenanceMode?confirm("Ativar o modo de manutenção deixará o sistema inacessível para usuários comuns. Deseja continuar?")&&C.mutate(he):C.mutate(he)};return n.jsx(_t,{title:"Configurações do Sistema",type:"admin",children:n.jsxs(Dr,{defaultValue:"rates",value:e,onValueChange:t,className:"space-y-4",children:[n.jsxs(Pr,{children:[n.jsxs($e,{value:"rates",children:[n.jsx(fa,{className:"h-4 w-4 mr-2"}),"Taxas e Valores"]}),n.jsxs($e,{value:"security",children:[n.jsx(JT,{className:"h-4 w-4 mr-2"}),"Segurança"]}),n.jsxs($e,{value:"notifications",children:[n.jsx(vk,{className:"h-4 w-4 mr-2"}),"Notificações"]}),n.jsxs($e,{value:"system",children:[n.jsx(yo,{className:"h-4 w-4 mr-2"}),"Sistema"]})]}),n.jsx(Ze,{value:"rates",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Taxas e Valores do Sistema"}),n.jsx(Re,{children:"Configure as taxas padrão de cashback, comissões e valores mínimos"})]}),n.jsxs(ae,{children:[i?n.jsx("div",{className:"flex justify-center items-center py-8",children:n.jsxs("div",{className:"flex flex-col items-center gap-2",children:[n.jsx(Br,{className:"h-8 w-8 animate-spin text-primary"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Carregando configurações..."})]})}):n.jsxs("div",{className:"mb-6 p-4 bg-muted/30 rounded-lg border border-border",children:[n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Informações sobre Taxas"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"O sistema de taxas do Vale Cashback funciona com os seguintes componentes:"}),n.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 pl-2",children:[n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Taxa da Plataforma (5%):"})," Taxa fixa cobrada pela plataforma em cada transação"]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Comissão do Lojista:"})," Valor cobrado dos lojistas por venda processada"]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Cashback do Cliente:"})," Percentual retornado aos clientes em cada compra"]}),n.jsxs("li",{children:[n.jsx("span",{className:"font-medium",children:"Comissão de Indicação:"})," Percentual pago a quem indicou novos usuários"]})]})]}),n.jsx($a,{...u,children:n.jsx("form",{id:"rates-form",onSubmit:u.handleSubmit(N),className:"space-y-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Taxas de Cashback"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure as taxas de cashback padrão do sistema"})]}),n.jsx(Ie,{control:u.control,name:"cashbackRate",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Taxa de Cashback Global (%)"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"number",min:"0",max:"100",step:"0.5",placeholder:"2.0",...he}),n.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:n.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(Pt,{children:"Taxa padrão de cashback aplicada a todas as compras"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"referralRate",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Taxa de Comissão de Indicação (%)"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"number",min:"0",max:"100",step:"0.5",placeholder:"1.0",...he}),n.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:n.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(Pt,{children:"Comissão paga por indicações bem sucedidas"}),n.jsx(tt,{})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Taxas e Limites"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure as taxas de serviço e valores mínimos"})]}),n.jsx(Ie,{control:u.control,name:"merchantCommission",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Taxa de Comissão para Lojistas (%)"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"number",min:"0",max:"100",step:"0.5",placeholder:"2.0",...he}),n.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:n.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(Pt,{children:"Comissão cobrada dos lojistas sobre vendas"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"minWithdrawal",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Valor Mínimo para Saque (R$)"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"number",min:"0",step:"5",placeholder:"50",...he}),n.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(Pt,{children:"Valor mínimo que usuários podem sacar"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"maxCashbackBonus",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Limite Máximo de Bônus de Cashback (%)"}),n.jsx(ke,{children:n.jsxs("div",{className:"relative",children:[n.jsx(ge,{type:"number",min:"0",max:"100",step:"0.5",placeholder:"10",...he}),n.jsx("div",{className:"absolute inset-y-0 right-3 flex items-center",children:n.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})})]})}),n.jsx(Pt,{children:"Limite máximo de bônus de cashback que lojistas podem oferecer"}),n.jsx(tt,{})]})})]})]})})})]}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"rates-form",className:"ml-auto",disabled:y.isPending,children:y.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})})]})}),n.jsx(Ze,{value:"security",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações de Segurança"}),n.jsx(Re,{children:"Configure as políticas de segurança e autenticação do sistema"})]}),n.jsx(ae,{children:n.jsx($a,{...f,children:n.jsx("form",{id:"security-form",onSubmit:f.handleSubmit(S),className:"space-y-6",children:n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Políticas de Acesso"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure as regras de autenticação e acesso"})]}),n.jsx(Ie,{control:f.control,name:"requireEmailVerification",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Verificação de Email"}),n.jsx(Pt,{children:"Exigir verificação de email para novos cadastros"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:f.control,name:"requireStrongPasswords",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Senhas Fortes"}),n.jsx(Pt,{children:"Exigir senhas fortes com números, maiúsculas e símbolos"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:f.control,name:"twoFactorAuth",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Autenticação em Dois Fatores"}),n.jsx(Pt,{children:"Habilitar 2FA para contas administrativas"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Limites de Segurança"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure timeouts e limites de segurança"})]}),n.jsx(Ie,{control:f.control,name:"maxLoginAttempts",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Tentativas Máximas de Login"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"1",max:"10",placeholder:"5",...he})}),n.jsx(Pt,{children:"Número máximo de tentativas de login antes do bloqueio"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:f.control,name:"passwordExpiryDays",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Validade da Senha (dias)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"0",max:"365",placeholder:"90",...he})}),n.jsx(Pt,{children:"Dias até expiração da senha (0 para nunca expirar)"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:f.control,name:"sessionTimeoutMinutes",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Timeout de Sessão (minutos)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"5",max:"1440",placeholder:"120",...he})}),n.jsx(Pt,{children:"Tempo de inatividade até o logout automático"}),n.jsx(tt,{})]})})]})]})})})}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"security-form",className:"ml-auto",disabled:j.isPending,children:j.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})})]})}),n.jsx(Ze,{value:"notifications",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações de Notificações"}),n.jsx(Re,{children:"Configure as notificações e relatórios do sistema"})]}),n.jsx(ae,{children:n.jsx($a,{...p,children:n.jsxs("form",{id:"notifications-form",onSubmit:p.handleSubmit(_),className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Canais de Notificação"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ative ou desative os canais de comunicação"})]}),n.jsx(Ie,{control:p.control,name:"emailNotifications",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(vk,{className:"h-4 w-4 mr-2 text-blue-500"}),"Notificações por Email"]}),n.jsx(Pt,{children:"Enviar notificações por email"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:p.control,name:"smsNotifications",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(bo,{className:"h-4 w-4 mr-2 text-green-500"}),"Notificações por SMS"]}),n.jsx(Pt,{children:"Enviar notificações importantes por SMS"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:p.control,name:"pushNotifications",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Oi,{className:"h-4 w-4 mr-2 text-purple-500"}),"Notificações Push"]}),n.jsx(Pt,{children:"Enviar notificações push para navegadores"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Eventos de Notificação"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure os eventos que geram notificações"})]}),n.jsx(Ie,{control:p.control,name:"notifyOnLogin",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Logins"}),n.jsx(Pt,{children:"Notificar quando usuários fazem login em novos dispositivos"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:p.control,name:"notifyOnTransactions",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Transações"}),n.jsx(Pt,{children:"Notificar sobre novas transações e cashbacks"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:p.control,name:"notifyOnWithdrawals",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Saques"}),n.jsx(Pt,{children:"Notificar sobre solicitações e conclusões de saques"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})})]})]}),n.jsx(Sa,{}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium mb-4",children:"Relatórios Automáticos"}),n.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[n.jsx(Ie,{control:p.control,name:"dailyReports",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Relatórios Diários"}),n.jsx(Pt,{children:"Enviar resumo diário"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:p.control,name:"weeklyReports",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Relatórios Semanais"}),n.jsx(Pt,{children:"Enviar resumo semanal"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:p.control,name:"monthlyReports",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Relatórios Mensais"}),n.jsx(Pt,{children:"Enviar resumo mensal"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})})]})]})]})})}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"notifications-form",className:"ml-auto",disabled:w.isPending,children:w.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})})]})}),n.jsx(Ze,{value:"system",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações do Sistema"}),n.jsx(Re,{children:"Configure parâmetros globais e funcionalidades do sistema"})]}),n.jsx(ae,{children:n.jsx($a,{...x,children:n.jsxs("form",{id:"system-form",onSubmit:x.handleSubmit(I),className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Modos de Operação"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Configure os modos de operação do sistema"})]}),n.jsx(Ie,{control:x.control,name:"maintenanceMode",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3 border-yellow-200 bg-yellow-50",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsxs(Oe,{className:"flex items-center",children:[n.jsx(Xu,{className:"h-4 w-4 mr-2 text-yellow-600"}),"Modo de Manutenção"]}),n.jsx(Pt,{className:"text-yellow-700",children:"Ativa o modo de manutenção, bloqueando o acesso para usuários comuns"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:x.control,name:"debugMode",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Modo de Debug"}),n.jsx(Pt,{children:"Ativa logs detalhados para depuração"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:x.control,name:"apiThrottleLimit",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Limite de Requisições API (por minuto)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"10",max:"1000",placeholder:"100",...he})}),n.jsx(Pt,{children:"Limite de requisições API por minuto por usuário"}),n.jsx(tt,{})]})})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Recursos do Sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Ative ou desative recursos específicos"})]}),n.jsx(Ie,{control:x.control,name:"enableReferrals",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Sistema de Indicações"}),n.jsx(Pt,{children:"Permitir que usuários indiquem outros e recebam comissões"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:x.control,name:"enableCashback",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Sistema de Cashback"}),n.jsx(Pt,{children:"Permitir geração e uso de cashback"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:x.control,name:"enableQrCodes",render:({field:he})=>n.jsxs(Pe,{className:"flex flex-row items-center justify-between rounded-lg border p-3",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Oe,{children:"Pagamentos por QR Code"}),n.jsx(Pt,{children:"Permitir pagamentos via QR Code"})]}),n.jsx(ke,{children:n.jsx(Tt,{checked:he.value,onCheckedChange:he.onChange})})]})}),n.jsx(Ie,{control:x.control,name:"backupFrequencyHours",render:({field:he})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Frequência de Backup (horas)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",min:"1",max:"168",placeholder:"24",...he})}),n.jsx(Pt,{children:"Intervalo em horas entre backups automáticos do banco de dados"}),n.jsx(tt,{})]})})]})]}),n.jsx(Sa,{}),n.jsx("div",{className:"rounded-lg border border-blue-200 bg-blue-50 p-4",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx(am,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-blue-800",children:"Informações do Sistema"}),n.jsxs("div",{className:"mt-2 space-y-1 text-sm text-blue-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Versão:"})," 1.0.0"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Último backup:"})," 21/07/2023 03:00"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Último deploy:"})," 18/07/2023 14:35"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Tempo online:"})," 3 dias, 7 horas, 22 minutos"]})]})]})]})})]})})}),n.jsx(jr,{children:n.jsx(J,{type:"submit",form:"system-form",className:"ml-auto",disabled:C.isPending,children:C.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Salvando..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ad,{className:"h-4 w-4 mr-2"}),"Salvar Configurações"]})})})]})})]})})}function X9e(){const[e,t]=E.useState(""),[r,a]=E.useState({from:null,to:null}),[s,i]=E.useState("all"),[o,l]=E.useState("all"),[d,u]=E.useState("logs"),[f,p]=E.useState(1),[x,y]=E.useState(20),{toast:j}=rr(),{data:w,isLoading:C}=Nt({queryKey:["/api/admin/logs",{page:f,pageSize:x,action:s,entityType:o,dateFrom:r.from?Ot(r.from,"yyyy-MM-dd"):void 0,dateTo:r.to?Ot(r.to,"yyyy-MM-dd"):void 0,search:e}],enabled:d==="logs"}),{data:N,isLoading:S}=Nt({queryKey:["/api/admin/audit",{page:f,pageSize:x,action:s,resource:o,dateFrom:r.from?Ot(r.from,"yyyy-MM-dd"):void 0,dateTo:r.to?Ot(r.to,"yyyy-MM-dd"):void 0,search:e}],enabled:d==="audit",placeholderData:{audits:[{id:501,action:"create",user:"admin@example.com",timestamp:"21/07/2023 15:45:22",ip:"192.168.1.1",details:"Criou nova configuração de sistema",resource:"settings",resourceId:"sys-001"},{id:502,action:"update",user:"admin@example.com",timestamp:"21/07/2023 15:40:12",ip:"192.168.1.1",details:"Atualizou taxa de cashback para 2.5%",resource:"settings",resourceId:"rates-001"},{id:503,action:"delete",user:"admin@example.com",timestamp:"21/07/2023 15:30:05",ip:"192.168.1.1",details:"Removeu usuário inativo",resource:"user",resourceId:"usr-123"},{id:504,action:"create",user:"admin@example.com",timestamp:"21/07/2023 15:20:47",ip:"192.168.1.1",details:"Criou nova loja parceira",resource:"merchant",resourceId:"merch-456"},{id:505,action:"update",user:"admin@example.com",timestamp:"21/07/2023 15:10:33",ip:"192.168.1.1",details:"Atualizou status de transação",resource:"transaction",resourceId:"tx-789"},{id:506,action:"view",user:"admin@example.com",timestamp:"21/07/2023 15:00:18",ip:"192.168.1.1",details:"Visualizou dados sensíveis de cliente",resource:"user",resourceId:"usr-456"},{id:507,action:"export",user:"admin@example.com",timestamp:"21/07/2023 14:50:09",ip:"192.168.1.1",details:"Exportou relatório de transações",resource:"report",resourceId:"rep-001"},{id:508,action:"update",user:"admin@example.com",timestamp:"21/07/2023 14:40:55",ip:"192.168.1.1",details:"Alterou permissões de usuário",resource:"user",resourceId:"usr-789"},{id:509,action:"create",user:"admin@example.com",timestamp:"21/07/2023 14:30:41",ip:"192.168.1.1",details:"Criou novo produto promocional",resource:"product",resourceId:"prod-123"},{id:510,action:"approve",user:"admin@example.com",timestamp:"21/07/2023 14:20:27",ip:"192.168.1.1",details:"Aprovou solicitação de saque",resource:"withdrawal",resourceId:"with-456"}],actionCounts:[{action:"create",count:3},{action:"update",count:3},{action:"delete",count:1},{action:"view",count:1},{action:"export",count:1},{action:"approve",count:1}],resourceCounts:[{resource:"user",count:3},{resource:"settings",count:2},{resource:"merchant",count:1},{resource:"transaction",count:1},{resource:"report",count:1},{resource:"product",count:1},{resource:"withdrawal",count:1}],pageCount:5}}),_=()=>{j({title:"Exportação iniciada",description:"Os logs estão sendo exportados para CSV."}),setTimeout(()=>{j({title:"Exportação concluída",description:"Arquivo CSV exportado com sucesso."})},1500)},I=z=>{try{j({title:`Log #${z.id}`,description:`${z.actionDescription} - ${z.entityType} #${z.entityId}`})}catch(B){console.error("Erro ao exibir detalhes do log:",B),j({title:"Erro",description:"Não foi possível exibir os detalhes do log",variant:"destructive"})}},T=z=>{j({title:`Auditoria #${z.id}`,description:`${z.action.toUpperCase()} - ${z.details}`})},M=[{header:"ID",accessorKey:"id"},{header:"Ação",accessorKey:"action",cell:z=>{const q={store_approved:"bg-green-100 text-green-800",store_rejected:"bg-red-100 text-red-800",user_created:"bg-blue-100 text-blue-800",user_updated:"bg-blue-100 text-blue-800",user_deleted:"bg-red-100 text-red-800",transfer_approved:"bg-green-100 text-green-800",transfer_rejected:"bg-red-100 text-red-800",transfer_processing:"bg-yellow-100 text-yellow-800",transfer_completed:"bg-green-100 text-green-800",transaction_created:"bg-blue-100 text-blue-800",transaction_updated:"bg-blue-100 text-blue-800",settings_updated:"bg-purple-100 text-purple-800",login_success:"bg-green-100 text-green-800",login_failed:"bg-red-100 text-red-800",password_reset:"bg-yellow-100 text-yellow-800"}[z.action]||"bg-gray-100 text-gray-800",L={store_approved:n.jsx(cs,{className:"h-4 w-4"}),store_rejected:n.jsx(Yr,{className:"h-4 w-4"}),user_created:n.jsx(ir,{className:"h-4 w-4"}),user_updated:n.jsx(ir,{className:"h-4 w-4"}),user_deleted:n.jsx(Ru,{className:"h-4 w-4"}),transfer_approved:n.jsx(cs,{className:"h-4 w-4"}),transfer_rejected:n.jsx(Yr,{className:"h-4 w-4"}),transfer_processing:n.jsx(Vn,{className:"h-4 w-4"}),transfer_completed:n.jsx(cs,{className:"h-4 w-4"}),transaction_created:n.jsx(Pi,{className:"h-4 w-4"}),transaction_updated:n.jsx(Pi,{className:"h-4 w-4"}),settings_updated:n.jsx(_l,{className:"h-4 w-4"}),login_success:n.jsx(ir,{className:"h-4 w-4"}),login_failed:n.jsx(Yr,{className:"h-4 w-4"}),password_reset:n.jsx(Sx,{className:"h-4 w-4"})}[z.action]||n.jsx(am,{className:"h-4 w-4"});return n.jsxs("div",{className:`rounded-full px-2 py-1 text-xs font-medium inline-flex items-center ${q}`,children:[L,n.jsx("span",{className:"ml-1",children:z.actionDescription})]})}},{header:"Entidade",accessorKey:"entityType",cell:z=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(_l,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{className:"capitalize",children:z.entityType}),n.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["#",z.entityId]})]})},{header:"Usuário",accessorKey:"user",cell:z=>{var B,q;return n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:((B=z.user)==null?void 0:B.name)||"Sistema"}),((q=z.user)==null?void 0:q.email)&&n.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["(",z.user.email,")"]})]})}},{header:"Data/Hora",accessorKey:"createdAt",cell:z=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(Vn,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:new Date(z.createdAt).toLocaleString("pt-BR")})]})},{header:"Detalhes",accessorKey:"details",cell:z=>{let B="Sem detalhes";try{if(typeof z.details=="string")try{const q=JSON.parse(z.details);B=Object.entries(q).map(([$,L])=>`${$}: ${L}`).join(", ")}catch{B=z.details}else z.details&&typeof z.details=="object"&&(B=Object.entries(z.details).map(([q,$])=>`${q}: ${$}`).join(", "))}catch(q){console.error("Erro ao processar detalhes:",q)}return n.jsx("div",{className:"max-w-md truncate",children:B})}}],O=[{header:"ID",accessorKey:"id"},{header:"Ação",accessorKey:"action",cell:z=>{const B={create:"Criação",update:"Edição",delete:"Exclusão",view:"Visualização",export:"Exportação",approve:"Aprovação"},q={create:"bg-green-100 text-green-800",update:"bg-blue-100 text-blue-800",delete:"bg-red-100 text-red-800",view:"bg-purple-100 text-purple-800",export:"bg-yellow-100 text-yellow-800",approve:"bg-indigo-100 text-indigo-800"},$={create:n.jsx(cs,{className:"h-4 w-4"}),update:n.jsx(UF,{className:"h-4 w-4"}),delete:n.jsx(Ru,{className:"h-4 w-4"}),view:n.jsx(ea,{className:"h-4 w-4"}),export:n.jsx(Pa,{className:"h-4 w-4"}),approve:n.jsx(cs,{className:"h-4 w-4"})};return n.jsxs("div",{className:`rounded-full px-2 py-1 text-xs font-medium inline-flex items-center ${q[z.action]}`,children:[$[z.action],n.jsx("span",{className:"ml-1",children:B[z.action]})]})}},{header:"Detalhes",accessorKey:"details",cell:z=>n.jsx("div",{className:"max-w-md truncate",children:z.details})},{header:"Usuário",accessorKey:"user",cell:z=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(ir,{className:"h-4 w-4 text-muted-foreground mr-2"}),n.jsx("span",{children:z.user})]})},{header:"Data/Hora",accessorKey:"timestamp"},{header:"Recurso",accessorKey:"resource",cell:z=>n.jsxs("div",{className:"flex items-center",children:[n.jsx(_l,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"capitalize",children:z.resource}),n.jsxs("span",{className:"ml-1 text-xs text-muted-foreground",children:["#",z.resourceId]})]})}],D=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:z=>I(z)},{label:"Exportar",icon:n.jsx(Bi,{className:"h-4 w-4"}),onClick:z=>{j({title:"Log exportado",description:`Log #${z.id} exportado com sucesso.`})}}],R=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:z=>T(z)}],V=()=>{var z;if(d==="logs"){const B={},q={};(z=w==null?void 0:w.logs)==null||z.forEach(H=>{B[H.action]=(B[H.action]||0)+1,q[H.entityType]=(q[H.entityType]||0)+1});const $=Object.entries(B).map(([H,G])=>({action:H,count:G})).sort((H,G)=>G.count-H.count).slice(0,5),L=Object.entries(q).map(([H,G])=>({entity:H,count:G})).sort((H,G)=>G.count-H.count).slice(0,5);return n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Ação"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:$.length>0?$.map(H=>{const G={store_approved:n.jsx(cs,{className:"h-3.5 w-3.5 text-green-500"}),store_rejected:n.jsx(Yr,{className:"h-3.5 w-3.5 text-red-500"}),user_created:n.jsx(ir,{className:"h-3.5 w-3.5 text-blue-500"}),user_updated:n.jsx(ir,{className:"h-3.5 w-3.5 text-blue-500"}),user_deleted:n.jsx(Ru,{className:"h-3.5 w-3.5 text-red-500"}),transfer_approved:n.jsx(cs,{className:"h-3.5 w-3.5 text-green-500"}),transfer_rejected:n.jsx(Yr,{className:"h-3.5 w-3.5 text-red-500"}),transfer_processing:n.jsx(Vn,{className:"h-3.5 w-3.5 text-yellow-500"}),transfer_completed:n.jsx(cs,{className:"h-3.5 w-3.5 text-green-500"}),transaction_created:n.jsx(Pi,{className:"h-3.5 w-3.5 text-blue-500"}),transaction_updated:n.jsx(Pi,{className:"h-3.5 w-3.5 text-blue-500"}),settings_updated:n.jsx(_l,{className:"h-3.5 w-3.5 text-purple-500"}),login_success:n.jsx(ir,{className:"h-3.5 w-3.5 text-green-500"}),login_failed:n.jsx(Yr,{className:"h-3.5 w-3.5 text-red-500"}),password_reset:n.jsx(Sx,{className:"h-3.5 w-3.5 text-yellow-500"})};return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[G[H.action]||n.jsx(am,{className:"h-3.5 w-3.5 text-gray-500"}),n.jsx("span",{className:"ml-1 capitalize",children:H.action.replace(/_/g," ")})]}),n.jsx("span",{className:"text-sm font-medium",children:H.count})]},H.action)}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma ação registrada"})})})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Entidade"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:L.length>0?L.map(H=>{const G={user:n.jsx(ir,{className:"h-3.5 w-3.5 text-blue-500"}),merchant:n.jsx(_l,{className:"h-3.5 w-3.5 text-purple-500"}),transaction:n.jsx(Pi,{className:"h-3.5 w-3.5 text-green-500"}),transfer:n.jsx(Pi,{className:"h-3.5 w-3.5 text-yellow-500"}),setting:n.jsx(_l,{className:"h-3.5 w-3.5 text-gray-500"}),commission_setting:n.jsx(_l,{className:"h-3.5 w-3.5 text-orange-500"})};return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[G[H.entity]||n.jsx(_l,{className:"h-3.5 w-3.5 text-muted-foreground"}),n.jsx("span",{className:"ml-1 capitalize",children:H.entity.replace(/_/g," ")})]}),n.jsx("span",{className:"text-sm font-medium",children:H.count})]},H.entity)}):n.jsx("div",{className:"text-sm text-muted-foreground",children:"Nenhuma entidade registrada"})})})]})]})}else if(d==="audit")return n.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Ação"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:N==null?void 0:N.actionCounts.map(B=>{const q={create:"Criação",update:"Edição",delete:"Exclusão",view:"Visualização",export:"Exportação",approve:"Aprovação"};return n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Pi,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),n.jsx("span",{children:q[B.action]||B.action})]}),n.jsx("span",{className:"text-sm font-medium",children:B.count})]},B.action)})})})]}),n.jsxs(ne,{children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Por Recurso"})}),n.jsx(ae,{className:"pt-0",children:n.jsx("div",{className:"space-y-1.5",children:N==null?void 0:N.resourceCounts.map(B=>n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(_l,{className:"h-3.5 w-3.5 mr-1.5 text-muted-foreground"}),n.jsx("span",{className:"capitalize",children:B.resource})]}),n.jsx("span",{className:"text-sm font-medium",children:B.count})]},B.resource))})})]})]});return null};return n.jsx(_t,{title:"Logs e Auditoria",type:"admin",children:n.jsxs(Dr,{defaultValue:"logs",value:d,onValueChange:u,children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4 gap-4",children:[n.jsxs(Pr,{children:[n.jsxs($e,{value:"logs",children:[n.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Logs do Sistema"]}),n.jsxs($e,{value:"audit",children:[n.jsx(Sx,{className:"h-4 w-4 mr-2"}),"Auditoria"]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsxs(ep,{children:[n.jsx(tp,{asChild:!0,children:n.jsxs(J,{variant:"outline",className:"w-[240px] justify-start text-left font-normal",children:[n.jsx(xl,{className:"mr-2 h-4 w-4"}),r.from?r.to?n.jsxs(n.Fragment,{children:[Ot(r.from,"dd/MM/yyyy")," -"," ",Ot(r.to,"dd/MM/yyyy")]}):Ot(r.from,"dd/MM/yyyy"):n.jsx("span",{children:"Selecione um período"})]})}),n.jsx(yh,{className:"w-auto p-0",children:n.jsx(vp,{initialFocus:!0,mode:"range",defaultMonth:new Date,selected:{from:r.from??void 0,to:r.to??void 0},onSelect:z=>{z!=null&&z.from&&a({from:z.from,to:z.to})},locale:X0})})]}),n.jsxs(J,{variant:"outline",onClick:_,children:[n.jsx(Pa,{className:"h-4 w-4 mr-2"}),"Exportar"]})]})]}),V(),n.jsx(Ze,{value:"logs",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Logs do Sistema"}),n.jsx(Re,{children:"Registros de atividades, erros e alertas do sistema"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative w-full md:w-[300px]",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar logs...",className:"pl-8",value:e,onChange:z=>t(z.target.value)})]}),n.jsxs("div",{className:"flex flex-1 gap-4",children:[n.jsxs(ur,{value:s,onValueChange:z=>i(z),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Tipo"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os tipos"}),n.jsx(ve,{value:"info",children:"Informação"}),n.jsx(ve,{value:"warning",children:"Alerta"}),n.jsx(ve,{value:"error",children:"Erro"}),n.jsx(ve,{value:"security",children:"Segurança"})]})]}),n.jsxs(ur,{value:o,onValueChange:z=>l(z),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Módulo"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os módulos"}),n.jsx(ve,{value:"auth",children:"Autenticação"}),n.jsx(ve,{value:"payment",children:"Pagamento"}),n.jsx(ve,{value:"user",children:"Usuário"}),n.jsx(ve,{value:"cashback",children:"Cashback"}),n.jsx(ve,{value:"qrcode",children:"QR Code"}),n.jsx(ve,{value:"access",children:"Acesso"})]})]})]})]}),n.jsx(Va,{data:(w==null?void 0:w.logs)||[],columns:M,actions:D,searchable:!1,pagination:{pageIndex:f-1,pageSize:x,pageCount:(w==null?void 0:w.pageCount)||1,onPageChange:z=>p(z+1)}})]})]})}),n.jsx(Ze,{value:"audit",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Auditoria"}),n.jsx(Re,{children:"Registros detalhados de ações realizadas por usuários"})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[n.jsxs("div",{className:"relative w-full md:w-[300px]",children:[n.jsx(ts,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Buscar auditoria...",className:"pl-8",value:e,onChange:z=>t(z.target.value)})]}),n.jsxs("div",{className:"flex flex-1 gap-4",children:[n.jsxs(ur,{value:s,onValueChange:z=>i(z),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Ação"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todas as ações"}),n.jsx(ve,{value:"create",children:"Criação"}),n.jsx(ve,{value:"update",children:"Edição"}),n.jsx(ve,{value:"delete",children:"Exclusão"}),n.jsx(ve,{value:"view",children:"Visualização"}),n.jsx(ve,{value:"export",children:"Exportação"}),n.jsx(ve,{value:"approve",children:"Aprovação"})]})]}),n.jsxs(ur,{value:o,onValueChange:z=>l(z),children:[n.jsx(cr,{className:"w-full md:w-[180px]",children:n.jsx(fr,{placeholder:"Recurso"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"all",children:"Todos os recursos"}),n.jsx(ve,{value:"user",children:"Usuário"}),n.jsx(ve,{value:"settings",children:"Configurações"}),n.jsx(ve,{value:"merchant",children:"Loja"}),n.jsx(ve,{value:"transaction",children:"Transação"}),n.jsx(ve,{value:"report",children:"Relatório"}),n.jsx(ve,{value:"product",children:"Produto"}),n.jsx(ve,{value:"withdrawal",children:"Saque"})]})]})]})]}),n.jsx(Va,{data:(N==null?void 0:N.audits)||[],columns:O,actions:R,searchable:!1,pagination:{pageIndex:f-1,pageSize:x,pageCount:(N==null?void 0:N.pageCount)||1,onPageChange:z=>p(z+1)}})]})]})})]})})}function Q9e(){const[e,t]=E.useState("all"),[r,a]=E.useState(""),[s,i]=E.useState(null),[o,l]=E.useState(""),{toast:d}=rr(),{data:u,isLoading:f}=Nt({queryKey:["/api/admin/support",{status:e!=="all"?e:void 0,search:r}],placeholderData:{tickets:[{id:1,subject:"Problema com pagamento",status:"open",priority:"high",createdAt:"2025-05-16T10:30:00Z",user:{id:2,name:"Cliente Teste",email:"cliente@valecashback.com",type:"client"},messages:[{id:1,content:"Estou tendo problemas para finalizar o pagamento na loja X. Quando tento pagar com o app, aparece um erro de conexão.",sender:"Cliente Teste",createdAt:"2025-05-16T10:30:00Z"}]},{id:2,subject:"Dúvida sobre cashback",status:"pending",priority:"medium",createdAt:"2025-05-15T14:45:00Z",user:{id:3,name:"João Silva",email:"joao@example.com",type:"client"},messages:[{id:2,content:"Não entendi como funciona o cálculo do cashback quando faço compras em lojas parceiras.",sender:"João Silva",createdAt:"2025-05-15T14:45:00Z"},{id:3,content:"O cashback é calculado com base no valor total da compra, aplicando a porcentagem definida para cada loja. Você pode ver essa porcentagem na página da loja.",sender:"Suporte Vale Cashback",createdAt:"2025-05-15T15:30:00Z"},{id:4,content:"Entendi, mas ainda não consegui ver onde aparece o cashback acumulado no meu perfil.",sender:"João Silva",createdAt:"2025-05-15T16:15:00Z"}]},{id:3,subject:"Dificuldade para cadastrar loja",status:"resolved",priority:"medium",createdAt:"2025-05-14T09:20:00Z",user:{id:4,name:"Maria Lojista",email:"maria@loja.com",type:"merchant"},messages:[{id:5,content:"Estou tentando cadastrar minha loja no sistema, mas após preencher o formulário recebo um erro.",sender:"Maria Lojista",createdAt:"2025-05-14T09:20:00Z"},{id:6,content:"Qual é a mensagem de erro que você está recebendo? Pode enviar um print da tela?",sender:"Suporte Vale Cashback",createdAt:"2025-05-14T10:05:00Z"},{id:7,content:"Aparece 'Erro ao validar CNPJ'. Mas tenho certeza que o CNPJ está correto.",sender:"Maria Lojista",createdAt:"2025-05-14T10:30:00Z"},{id:8,content:"Identificamos um problema temporário na validação de CNPJ. Já foi corrigido. Por favor, tente novamente.",sender:"Suporte Vale Cashback",createdAt:"2025-05-14T11:45:00Z"},{id:9,content:"Funcionou! Consegui cadastrar a loja. Muito obrigada pela ajuda.",sender:"Maria Lojista",createdAt:"2025-05-14T12:15:00Z"}]},{id:4,subject:"Problema com código QR",status:"closed",priority:"low",createdAt:"2025-05-12T16:30:00Z",user:{id:5,name:"Pedro Cliente",email:"pedro@example.com",type:"client"},messages:[{id:10,content:"Não consigo escanear o código QR em algumas lojas.",sender:"Pedro Cliente",createdAt:"2025-05-12T16:30:00Z"},{id:11,content:"Em quais lojas você está tendo esse problema? O código QR aparece borrado ou há outra dificuldade?",sender:"Suporte Vale Cashback",createdAt:"2025-05-12T17:10:00Z"},{id:12,content:"Na verdade acho que era um problema com a câmera do meu celular. Limpei a lente e agora está funcionando.",sender:"Pedro Cliente",createdAt:"2025-05-13T09:25:00Z"}]}],stats:{open:1,pending:1,resolved:1,closed:1,total:4}}}),p=(u==null?void 0:u.tickets.filter(N=>{if(e!=="all"&&N.status!==e)return!1;if(r.trim()!==""){const S=r.toLowerCase();return N.subject.toLowerCase().includes(S)||N.user.name.toLowerCase().includes(S)||N.user.email.toLowerCase().includes(S)}return!0}))||[],x=()=>{if(!s||o.trim()==="")return;d({title:"Resposta enviada",description:"Sua resposta foi enviada com sucesso."});const N={...s,messages:[...s.messages,{id:Math.max(...s.messages.map(S=>S.id))+1,content:o,sender:"Suporte Vale Cashback",createdAt:new Date().toISOString()}]};i(N),l("")},y=N=>{s&&(d({title:"Status atualizado",description:`O ticket foi marcado como ${N}.`}),i({...s,status:N}))},j=N=>{switch(N){case"open":return n.jsx(xt,{variant:"outline",className:"bg-blue-100 text-blue-800",children:"Aberto"});case"pending":return n.jsx(xt,{variant:"outline",className:"bg-yellow-100 text-yellow-800",children:"Pendente"});case"resolved":return n.jsx(xt,{variant:"outline",className:"bg-green-100 text-green-800",children:"Resolvido"});case"closed":return n.jsx(xt,{variant:"outline",className:"bg-gray-100 text-gray-800",children:"Fechado"});default:return n.jsx(xt,{variant:"outline",children:"Desconhecido"})}},w=N=>{switch(N){case"high":return n.jsx(xt,{className:"bg-red-100 text-red-800",children:"Alta"});case"medium":return n.jsx(xt,{className:"bg-orange-100 text-orange-800",children:"Média"});case"low":return n.jsx(xt,{className:"bg-green-100 text-green-800",children:"Baixa"});default:return n.jsx(xt,{children:"Desconhecida"})}},C=N=>{try{return Ot(new Date(N),"dd/MM/yyyy HH:mm")}catch{return N}};return n.jsx(_t,{title:"Suporte",type:"admin",children:n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Central de Suporte"}),n.jsxs("div",{className:"relative w-full md:w-64",children:[n.jsx(ts,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),n.jsx(ge,{placeholder:"Pesquisar tickets...",className:"pl-8",value:r,onChange:N=>a(N.target.value)})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[n.jsxs(ne,{className:"bg-blue-50",children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Tickets Abertos"})}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.stats.open)||0})})]}),n.jsxs(ne,{className:"bg-yellow-50",children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Tickets Pendentes"})}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.stats.pending)||0})})]}),n.jsxs(ne,{className:"bg-green-50",children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Tickets Resolvidos"})}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.stats.resolved)||0})})]}),n.jsxs(ne,{className:"bg-gray-50",children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-base",children:"Total de Tickets"})}),n.jsx(ae,{children:n.jsx("div",{className:"text-2xl font-bold",children:(u==null?void 0:u.stats.total)||0})})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Tickets de Suporte"}),n.jsx(Dr,{defaultValue:"all",value:e,onValueChange:t,className:"w-full",children:n.jsxs(Pr,{className:"grid grid-cols-4 mb-4",children:[n.jsx($e,{value:"all",children:"Todos"}),n.jsx($e,{value:"open",children:"Abertos"}),n.jsx($e,{value:"pending",children:"Pendentes"}),n.jsx($e,{value:"resolved",children:"Resolvidos"})]})})]}),n.jsx(ae,{children:f?n.jsx("div",{className:"p-4 text-center",children:"Carregando tickets..."}):p.length===0?n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Nenhum ticket encontrado."}):n.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto pr-2",children:p.map(N=>n.jsx(J,{variant:"outline",className:`w-full justify-start text-left p-3 h-auto ${(s==null?void 0:s.id)===N.id?"border-primary border-2":""}`,onClick:()=>i(N),children:n.jsxs("div",{className:"flex flex-col gap-1 w-full",children:[n.jsxs("div",{className:"flex justify-between w-full",children:[n.jsx("span",{className:"font-medium truncate",style:{maxWidth:"70%"},children:N.subject}),j(N.status)]}),n.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground w-full mt-1",children:[n.jsx("span",{children:N.user.name}),n.jsx("span",{children:C(N.createdAt).split(" ")[0]})]}),n.jsxs("div",{className:"flex justify-between text-xs w-full mt-1",children:[n.jsxs("span",{className:"text-muted-foreground",children:[N.messages.length," mensagens"]}),w(N.priority)]})]})},N.id))})})]})}),n.jsx("div",{className:"lg:col-span-2",children:s?n.jsxs(ne,{children:[n.jsx(de,{className:"border-b",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsxs("div",{children:[n.jsx(ue,{children:s.subject}),n.jsxs(Re,{className:"mt-1",children:["De ",s.user.name," (",s.user.email,") - ",C(s.createdAt)]})]}),n.jsxs("div",{className:"flex flex-col items-end gap-1",children:[j(s.status),w(s.priority)]})]})}),n.jsx(ae,{className:"p-0",children:n.jsx("div",{className:"p-4 max-h-[400px] overflow-y-auto space-y-4",children:s.messages.map(N=>n.jsxs("div",{className:`p-3 rounded-lg ${N.sender==="Suporte Vale Cashback"?"bg-primary/10 ml-4":"bg-muted mr-4"}`,children:[n.jsxs("div",{className:"flex justify-between mb-1",children:[n.jsx("span",{className:"font-medium",children:N.sender}),n.jsx("span",{className:"text-xs text-muted-foreground",children:C(N.createdAt)})]}),n.jsx("p",{className:"text-sm whitespace-pre-line",children:N.content})]},N.id))})}),n.jsxs(jr,{className:"flex flex-col space-y-4 pt-4 border-t",children:[n.jsxs("div",{className:"w-full flex justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsxs(ur,{value:s.status,onValueChange:y,children:[n.jsx(cr,{className:"w-[180px]",children:n.jsx(fr,{placeholder:"Alterar status"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"open",children:"Aberto"}),n.jsx(ve,{value:"pending",children:"Pendente"}),n.jsx(ve,{value:"resolved",children:"Resolvido"}),n.jsx(ve,{value:"closed",children:"Fechado"})]})]}),n.jsxs(ur,{value:s.priority,onValueChange:N=>{s&&(d({title:"Prioridade atualizada",description:`Prioridade do ticket alterada para ${N==="low"?"baixa":N==="medium"?"média":"alta"}.`}),i({...s,priority:N}))},children:[n.jsx(cr,{className:"w-[180px]",children:n.jsx(fr,{placeholder:"Alterar prioridade"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"low",children:"Baixa"}),n.jsx(ve,{value:"medium",children:"Média"}),n.jsx(ve,{value:"high",children:"Alta"})]})]})]}),n.jsx(J,{variant:"outline",onClick:()=>{d({title:"Ticket atribuído",description:"Ticket atribuído a você com sucesso."})},children:"Atribuir a mim"})]}),n.jsxs("div",{className:"w-full",children:[n.jsx(Bs,{placeholder:"Digite sua resposta...",className:"min-h-[100px]",value:o,onChange:N=>l(N.target.value)}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsxs(J,{onClick:x,disabled:o.trim()==="",children:[n.jsx(bS,{className:"mr-2 h-4 w-4"}),"Enviar Resposta"]})})]})]})]}):n.jsxs(ne,{className:"h-full flex flex-col justify-center items-center p-8",children:[n.jsx(nx,{className:"h-12 w-12 text-muted-foreground mb-4"}),n.jsx("h3",{className:"text-lg font-medium mb-2",children:"Nenhum ticket selecionado"}),n.jsx("p",{className:"text-center text-muted-foreground",children:"Selecione um ticket da lista para visualizar os detalhes e responder."})]})})]})]})})}function Z9e(){const[e,t]=E.useState(!1),[r,a]=E.useState(!1),[s,i]=E.useState(null),o=E.useRef(null),{toast:l}=rr(),{user:d}=Oa(),{data:u,isLoading:f,refetch:p}=Nt({queryKey:["/api/admin/profile"],retry:2,refetchOnWindowFocus:!1,onError:_=>{console.error("Erro ao carregar perfil:",_),i((_==null?void 0:_.message)||"Não foi possível carregar seus dados de perfil.")}}),x=u?{...u,notifications:u.notifications||{email:!0,push:!0,security:!0},security:u.security||{twoFactor:!1,sessionTimeout:30,ipRestriction:!1}}:{id:(d==null?void 0:d.id)||0,name:(d==null?void 0:d.name)||"Administrador",email:(d==null?void 0:d.email)||"",photo:(d==null?void 0:d.photo)||"",phone:"",role:"Administrador",permissions:[],notifications:{email:!0,push:!0,security:!0},security:{twoFactor:!1,sessionTimeout:30,ipRestriction:!1}},y=Zt({mutationFn:async _=>{const I=URL.createObjectURL(_);return Ut.setQueryData(["/api/admin/profile"],T=>({...T,photo:I})),new Promise((T,M)=>{const O=new FileReader;O.readAsDataURL(_),O.onload=()=>{const D=O.result;T(D)},O.onerror=()=>{M(new Error("Falha ao processar a imagem"))}}).then(async T=>{const M=await St("POST","/api/admin/profile/photo",{photo:T});if(!M.ok){const O=await M.json();throw new Error(O.message||"Falha ao atualizar foto")}return M.json()})},onSuccess:()=>{l({title:"Foto atualizada",description:"Sua foto de perfil foi atualizada com sucesso."}),Ut.invalidateQueries({queryKey:["/api/admin/profile"]})},onError:_=>{Ut.invalidateQueries({queryKey:["/api/admin/profile"]}),l({title:"Erro",description:_ instanceof Error?_.message:"Ocorreu um erro ao atualizar a foto. Tente novamente.",variant:"destructive"})}}),j=_=>{if(_.target.files&&_.target.files.length>0){const I=_.target.files[0];if(I.size>5*1024*1024){l({title:"Arquivo muito grande",description:"A imagem deve ter no máximo 5MB.",variant:"destructive"});return}y.mutate(I)}},w=()=>{o.current&&o.current.click()},C=async _=>{_.preventDefault(),t(!0);const I=_.target,T=new FormData(I),M={name:T.get("name"),email:T.get("email"),phone:T.get("phone"),role:T.get("role")};try{const O=await St("PATCH","/api/admin/profile",M);if(O.ok)l({title:"Perfil atualizado",description:"Suas informações foram atualizadas com sucesso."}),Ut.invalidateQueries({queryKey:["/api/admin/profile"]});else{const D=await O.json();throw new Error(D.message||"Falha ao atualizar perfil")}}catch(O){console.error("Error updating profile:",O),l({title:"Erro",description:O instanceof Error?O.message:"Ocorreu um erro ao atualizar o perfil. Tente novamente.",variant:"destructive"})}finally{t(!1)}},N=async _=>{_.preventDefault(),a(!0);const I=_.target,T=new FormData(I),M=T.get("current-password"),O=T.get("new-password"),D=T.get("confirm-password");if(O!==D){l({title:"Senhas não coincidem",description:"A nova senha e a confirmação devem ser iguais.",variant:"destructive"}),a(!1);return}try{const R=await St("POST","/api/admin/profile/password",{currentPassword:M,newPassword:O});if(R.ok)l({title:"Senha alterada",description:"Sua senha foi alterada com sucesso."}),I.reset();else{const V=await R.json();throw new Error(V.message||"Falha ao alterar senha")}}catch(R){l({title:"Erro",description:R instanceof Error?R.message:"Ocorreu um erro ao alterar a senha. Tente novamente.",variant:"destructive"})}finally{a(!1)}},S=(_="")=>_.split(" ").map(I=>I[0]).slice(0,2).join("").toUpperCase();return n.jsx(_t,{title:"Perfil do Administrador",type:"admin",children:f?n.jsx("div",{className:"flex justify-center items-center h-64",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):n.jsxs(Dr,{defaultValue:"personal",className:"space-y-6",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3 lg:w-[400px]",children:[n.jsxs($e,{value:"personal",className:"flex items-center",children:[n.jsx(ir,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Pessoal"})]}),n.jsxs($e,{value:"security",className:"flex items-center",children:[n.jsx(ZT,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Segurança"})]}),n.jsxs($e,{value:"preferences",className:"flex items-center",children:[n.jsx(ki,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Preferências"})]})]}),n.jsx(Ze,{value:"personal",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Informações Pessoais"}),n.jsx(Re,{children:"Atualize suas informações pessoais"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:C,children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center space-y-3",children:[n.jsxs("div",{className:"relative group cursor-pointer hover:shadow-lg transition-all duration-300 rounded-full overflow-hidden ring-2 ring-offset-2 ring-primary/50",onClick:w,children:[n.jsxs(ra,{className:"h-28 w-28 border-4 border-white shadow",children:[n.jsx(ga,{src:x.photo,alt:x.name}),n.jsx(na,{className:"text-2xl bg-primary text-white",children:S(x.name)})]}),n.jsxs("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent flex flex-col items-center justify-end p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[n.jsx(oc,{className:"w-6 h-6 text-white mb-1"}),n.jsx("span",{className:"text-white text-xs font-medium",children:"Alterar foto"})]})]}),n.jsx("input",{type:"file",ref:o,onChange:j,accept:"image/jpeg, image/png, image/gif, image/webp",className:"hidden"})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"name",children:"Nome completo"}),n.jsx(ge,{id:"name",name:"name",defaultValue:x.name})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"email",children:"E-mail"}),n.jsx(ge,{id:"email",name:"email",type:"email",defaultValue:x.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"phone",children:"Telefone"}),n.jsx(ge,{id:"phone",name:"phone",defaultValue:x.phone||""})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"role",children:"Cargo/Função"}),n.jsx(ge,{id:"role",name:"role",defaultValue:x.role||"Administrador"})]})]})]}),n.jsx("div",{className:"mt-6 flex justify-end",children:n.jsx(J,{type:"submit",disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvando..."]}):"Salvar alterações"})})]})})]})}),n.jsxs(Ze,{value:"security",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Alterar Senha"}),n.jsx(Re,{children:"Atualize sua senha para manter sua conta segura"})]}),n.jsx(ae,{children:n.jsxs("form",{onSubmit:N,className:"space-y-4",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"current-password",children:"Senha atual"}),n.jsx(ge,{id:"current-password",name:"current-password",type:"password",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"new-password",children:"Nova senha"}),n.jsx(ge,{id:"new-password",name:"new-password",type:"password",required:!0})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(Le,{htmlFor:"confirm-password",children:"Confirmar nova senha"}),n.jsx(ge,{id:"confirm-password",name:"confirm-password",type:"password",required:!0})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(J,{type:"submit",disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Alterando..."]}):"Alterar senha"})})]})})]}),n.jsxs(ne,{className:"mt-6",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Segurança da Conta"}),n.jsx(Re,{children:"Configurações adicionais de segurança para administradores"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Autenticação de dois fatores"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Adicione uma camada extra de segurança à sua conta"})]}),n.jsx(Tt,{checked:x.security.twoFactor})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Restrição de IP"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Limite o acesso à conta apenas a endereços IP específicos"})]}),n.jsx(Tt,{checked:x.security.ipRestriction})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Tempo limite da sessão (minutos)"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Defina o tempo até que a sessão expire por inatividade"})]}),n.jsx(ge,{className:"w-20 text-right",type:"number",min:"5",max:"60",defaultValue:x.security.sessionTimeout.toString()})]})]})]})]}),n.jsxs(Ze,{value:"preferences",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Notificações"}),n.jsx(Re,{children:"Configure como você deseja receber as notificações administrativas"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"E-mail"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações por e-mail"})]}),n.jsx(Tt,{checked:x.notifications.email})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Push"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba notificações push no seu dispositivo"})]}),n.jsx(Tt,{checked:x.notifications.push})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Alertas de segurança"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Receba alertas sobre eventos críticos de segurança"})]}),n.jsx(Tt,{checked:x.notifications.security})]})]})]}),n.jsxs(ne,{className:"mt-6",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Interface administrativa"}),n.jsx(Re,{children:"Personalize sua experiência no painel administrativo"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Modo escuro"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Alterne entre o tema claro e escuro"})]}),n.jsx(Tt,{})]}),n.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[n.jsxs("div",{className:"space-y-0.5",children:[n.jsx(Le,{children:"Mensagens do sistema"}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Mostrar mensagens e alertas do sistema"})]}),n.jsx(Tt,{defaultChecked:!0})]})]})]})]})]})})}function J9e(){E.useState(!1);const[e,t]=E.useState(""),[r,a]=E.useState(!1),[s,i]=E.useState(null),{data:o=[],isLoading:l,error:d}=Nt({queryKey:["/api/admin/users"],queryFn:async()=>{const T=await fetch("/api/admin/users?type=client&pageSize=100");if(!T.ok)throw new Error("Erro ao buscar clientes");const M=await T.json();return console.log("📊 Clientes carregados:",M),M.users||[]},retry:1}),{data:u,isLoading:f}=Nt({queryKey:["/api/admin/commission-report"],retry:1}),p=(T,M)=>{if(!T||!Array.isArray(T))return[];const O=(M==null?void 0:M.clients)||[];return T.filter(D=>D.type==="client").map(D=>{const R=O.find(V=>V.id===D.id)||{};return{id:D.id,name:D.name,email:D.email,status:D.status,lastLogin:D.last_login?Ot(new Date(D.last_login),"dd/MM/yyyy HH:mm"):"Nunca",created:D.created_at?Ot(new Date(D.created_at),"dd/MM/yyyy"):"-",photo:D.photo,phone:D.phone,country:D.country,referralCode:D.invitation_code,transaction_count:R.transactionCount||0,total_cashback:R.totalCashback||0,total_spent:R.totalSpent||0,avg_transaction:R.avgTransaction||0,percent_cashback:R.percentCashback||0,...D}})},x=async(T,M=!1)=>{try{const O=new Date().getTime(),R=await fetch(`/api/admin/users/${T}?force=${M?"true":"false"}&t=${O}`);if(R.ok){const V=await R.json();return console.log("DADOS RECEBIDOS DO SERVIDOR:",V),V.total_cashback=V.total_cashback!==void 0?Number(V.total_cashback):0,V.transaction_total=V.transaction_total!==void 0?Number(V.transaction_total):0,V.sales_total=V.sales_total!==void 0?Number(V.sales_total):0,console.log("VALORES FORMATADOS:"),console.log("- Cashback:",V.total_cashback),console.log("- Transações:",V.transaction_total),console.log("- Vendas:",V.sales_total),V}else return console.error("Erro ao carregar detalhes do usuário"),null}catch(O){return console.error("Erro ao buscar detalhes do usuário:",O),null}},y=async T=>{try{i(T),a(!0),console.log("Buscando dados atualizados do usuário:",T.id);const M=await x(T.id,!0);M&&(console.log("Dados completos recebidos, atualizando interface"),i(M))}catch(M){console.error("Erro ao processar detalhes do usuário:",M)}},j=T=>{console.log("Bloquear usuário:",T.id)},w=[{header:"Cliente",accessorKey:"name",cell:({row:T})=>{const M=T.original;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ra,{children:[n.jsx(ga,{src:M.photo,alt:M.name}),n.jsx(na,{className:"bg-primary text-white",children:M.name.charAt(0)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:M.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:M.email})]})]})}},{header:"Status",accessorKey:"status",cell:({row:T})=>{const M=T.original.status;return n.jsx(xt,{variant:"outline",className:M==="active"?"bg-green-100 text-green-800 border-green-200":M==="inactive"?"bg-gray-100 text-gray-800 border-gray-200":"bg-yellow-100 text-yellow-800 border-yellow-200",children:M==="active"?"Ativo":M==="inactive"?"Inativo":"Pendente"})}},{header:"Cadastro",accessorKey:"created"},{header:"Último Login",accessorKey:"lastLogin"},{header:"Código de Indicação",accessorKey:"referralCode"},{header:"Total Cashback",accessorKey:"total_cashback",cell:({row:T})=>{const M=parseFloat(T.original.total_cashback||0);return n.jsxs("span",{children:["$",M.toFixed(2)]})}},{header:"Total Gasto",accessorKey:"total_spent",cell:({row:T})=>{const M=parseFloat(T.original.total_spent||0);return n.jsxs("span",{children:["$",M.toFixed(2)]})}}],C=(T="")=>T.split(" ").map(M=>M[0]).slice(0,2).join("").toUpperCase(),N=p(o,u),S=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:y},{label:"Bloquear/Desbloquear",icon:n.jsx(c1,{className:"h-4 w-4"}),onClick:j}],I=[{name:"Status",options:[{label:"Todos",value:"all"},{label:"Ativos",value:"active"},{label:"Inativos",value:"inactive"},{label:"Pendentes",value:"pending"}],onChange:T=>console.log("Status filter:",T)}];return n.jsxs(_t,{title:"Gerenciamento de Clientes",type:"admin",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Clientes Cadastrados"}),n.jsx(Re,{children:"Gerencie todos os clientes da plataforma"})]}),n.jsx(ae,{children:n.jsx(Va,{data:N,columns:w,actions:S,filters:I,searchable:!0,onSearch:T=>t(T),pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(N.length/10),onPageChange:T=>console.log("Page:",T)},exportable:!0,onExport:()=>console.log("Exporting customers")})})]}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{className:"max-w-4xl",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes do Cliente"}),n.jsx(jn,{children:"Informações detalhadas sobre o cliente"})]}),s&&n.jsxs(Dr,{defaultValue:"info",className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3",children:[n.jsxs($e,{value:"info",children:[n.jsx(ir,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Informações"})]}),n.jsxs($e,{value:"transactions",children:[n.jsx(So,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Transações"})]}),n.jsxs($e,{value:"analytics",children:[n.jsx(wy,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Análise"})]})]}),n.jsx(Ze,{value:"info",className:"mt-4",children:n.jsxs("div",{className:"flex flex-col gap-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-6 rounded-xl bg-white shadow-sm border border-gray-100",children:[s.photo?n.jsxs(ra,{className:"w-24 h-24 mb-4 shadow-md",children:[n.jsx(ga,{src:s.photo}),n.jsx(na,{className:"bg-primary text-white",children:C(s.name)})]}):n.jsx("div",{className:"w-24 h-24 rounded-full bg-primary flex items-center justify-center mb-4 shadow-md",children:n.jsx("span",{className:"text-4xl font-bold text-white",children:C(s.name)})}),n.jsx("h3",{className:"text-xl font-semibold text-center mt-2",children:s.name}),n.jsx("p",{className:"text-sm text-muted-foreground mb-3 text-center",children:s.email}),n.jsx("div",{className:"mb-3",children:n.jsx(xt,{variant:"outline",className:s.status==="active"?"bg-green-100 text-green-800 border-green-200":s.status==="inactive"?"bg-red-100 text-red-800 border-red-200":"bg-yellow-100 text-yellow-800 border-yellow-200",children:s.status==="active"?"Ativo":s.status==="inactive"?"Inativo":"Pendente"})}),n.jsxs("div",{className:"w-full space-y-2 mt-2",children:[s.phone&&n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Bd,{className:"h-4 w-4 mr-2 text-primary"}),n.jsx("span",{children:s.phone})]}),s.country&&n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(Oi,{className:"h-4 w-4 mr-2 text-primary"}),n.jsxs("span",{children:[s.country,s.country_code&&` (${s.country_code})`]})]}),s.created_at&&n.jsxs("div",{className:"flex items-center text-sm",children:[n.jsx(xl,{className:"h-4 w-4 mr-2 text-primary"}),n.jsxs("span",{children:["Desde ",Ot(new Date(s.created_at),"dd/MM/yyyy")]})]})]})]}),n.jsxs("div",{className:`col-span-2 rounded-xl shadow-sm p-6 ${s.type==="merchant"?"bg-gradient-to-br from-orange-50 to-white border-orange-100":"bg-gradient-to-br from-green-50 to-white border-green-100"} border`,children:[n.jsx("h3",{className:`text-lg font-semibold mb-4 ${s.type==="merchant"?"text-orange-700":"text-green-700"}`,children:s.type==="merchant"?"Resumo Financeiro do Lojista":"Resumo Financeiro do Cliente"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-gray-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Xl,{className:"h-5 w-5 mr-2 text-primary"}),n.jsx("h4",{className:"text-sm font-medium",children:"Transações"})]}),n.jsx("div",{className:"text-2xl font-bold text-primary",children:s.transaction_count||0}),n.jsxs("span",{className:"text-xs text-muted-foreground",children:["Valor total: $",typeof s.transaction_total=="number"?s.transaction_total.toFixed(2):parseFloat(String(s.transaction_total||"0")).toFixed(2)]})]}),s.type==="merchant"?n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-orange-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Hr,{className:"h-5 w-5 mr-2 text-orange-500"}),n.jsx("h4",{className:"text-sm font-medium text-orange-700",children:"Vendas Totais"})]}),n.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:["$",typeof s.sales_total=="number"?s.sales_total.toFixed(2):parseFloat(String(s.sales_total||"0")).toFixed(2)]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Total de vendas processadas"})]}):n.jsxs("div",{className:"p-4 bg-white rounded-lg shadow-sm border border-green-100",children:[n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(ta,{className:"h-5 w-5 mr-2 text-green-500"}),n.jsx("h4",{className:"text-sm font-medium text-green-700",children:"Cashback Acumulado"})]}),n.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",typeof s.total_cashback=="number"?s.total_cashback.toFixed(2):parseFloat(String(s.total_cashback||"0")).toFixed(2)]}),n.jsx("span",{className:"text-xs text-muted-foreground",children:"Disponível para uso"})]})]}),n.jsx("div",{className:"w-full h-24 bg-white rounded-lg shadow-sm border border-gray-100 flex items-center justify-center mb-4",children:n.jsx(lc,{className:"h-10 w-10 text-muted-foreground opacity-30"})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-3",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Média por Transação"}),n.jsxs("div",{className:"font-semibold",children:["$",parseFloat(s.avg_transaction||0).toFixed(2)]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-3",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:s.type==="merchant"?"Comissão":"Cashback Médio"}),n.jsxs("div",{className:"font-semibold",children:[parseFloat(s.percent_cashback||0).toFixed(2),"%"]})]}),n.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-3",children:[n.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Último Acesso"}),n.jsx("div",{className:"font-semibold",children:s.last_login?Ot(new Date(s.last_login),"dd/MM/yyyy"):"Nunca"})]})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("h4",{className:"font-medium mb-4 flex items-center",children:[n.jsx(ir,{className:"h-5 w-5 mr-2 text-primary"}),"Detalhes da Conta"]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between border-b pb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID de Usuário:"}),n.jsx("span",{className:"font-medium",children:s.id})]}),n.jsxs("div",{className:"flex justify-between border-b pb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="active"?"bg-green-100 text-green-800":s.status==="inactive"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="active"?"Ativo":s.status==="inactive"?"Inativo":"Pendente"})]}),n.jsxs("div",{className:"flex justify-between border-b pb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Código de Indicação:"}),n.jsx("span",{className:"font-medium bg-gray-100 px-2 py-0.5 rounded",children:s.invitation_code||"Não definido"})]}),n.jsxs("div",{className:"flex justify-between pb-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Criado em:"}),n.jsx("span",{className:"font-medium",children:Ot(new Date(s.created_at),"dd/MM/yyyy")})]})]})]}),n.jsxs("div",{className:"p-6 bg-white rounded-xl shadow-sm border border-gray-100",children:[n.jsxs("h4",{className:"font-medium mb-4 flex items-center",children:[n.jsx(Pi,{className:"h-5 w-5 mr-2 text-primary"}),"Ações Rápidas"]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx(J,{variant:s.status==="active"?"destructive":"default",className:"w-full justify-center",onClick:()=>{console.log("Toggle user status:",s.id)},children:s.status==="active"?n.jsxs(n.Fragment,{children:[n.jsx(c1,{className:"mr-2 h-4 w-4"})," Desativar Conta"]}):n.jsxs(n.Fragment,{children:[n.jsx(e4,{className:"mr-2 h-4 w-4"})," Ativar Conta"]})}),n.jsxs(J,{variant:"outline",className:"w-full justify-center",onClick:()=>{window.location.href=`/admin/users/${s.id}/transactions`},children:[n.jsx(Xl,{className:"mr-2 h-4 w-4"})," Ver Transações"]}),n.jsxs(J,{variant:"secondary",className:"w-full justify-center",onClick:()=>{console.log("Atualizar dados do usuário",s.id),x(s.id,!0).then(T=>{T&&i(T)})},children:[n.jsx(Br,{className:"mr-2 h-4 w-4"})," Atualizar Dados"]})]})]})]})]})}),n.jsx(Ze,{value:"transactions",className:"mt-4",children:n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Histórico de transações do cliente será exibido aqui."})}),n.jsx(Ze,{value:"analytics",className:"mt-4",children:n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Análise e estatísticas de uso do cliente serão exibidas aqui."})})]})]})})]})}const eBe=uW({name:Ei().min(1,"Nome é obrigatório"),email:Ei().email("Email inválido"),password:Ei().min(6,"Senha deve ter no mínimo 6 caracteres"),phone:Ei().optional(),storeName:Ei().min(1,"Nome da loja é obrigatório"),category:Ei().min(1,"Categoria é obrigatória"),address:Ei().optional(),city:Ei().optional(),state:Ei().optional(),commission_rate:Ei().optional()});function tBe(){var D;E.useState(!1);const[e,t]=E.useState(""),[r,a]=E.useState(!1),[s,i]=E.useState(!1),[o,l]=E.useState(null),{toast:d}=rr(),u=Ea({resolver:Ta(eBe),defaultValues:{name:"",email:"",password:"",phone:"",storeName:"",category:"Geral",address:"",city:"",state:"",commission_rate:"2.0"}}),f=Zt({mutationFn:async R=>{const V=await St("POST","/api/admin/merchants",R);if(!V.ok){const z=await V.json();throw new Error(z.message||"Erro ao criar lojista")}return await V.json()},onSuccess:()=>{i(!1),d({title:"Lojista adicionado",description:"O lojista foi criado com sucesso"}),Ut.invalidateQueries({queryKey:["/api/admin/users","merchant"]}),u.reset()},onError:R=>{d({title:"Erro",description:R.message||"Ocorreu um erro ao criar o lojista",variant:"destructive"})}});function p(R){f.mutate(R)}const{data:x,isLoading:y,error:j}=Nt({queryKey:["/api/admin/users","merchant"],queryFn:async()=>{console.log("🏪 Buscando lojistas...");const R=await fetch("/api/admin/users?userType=merchant&page=1&pageSize=100");if(!R.ok)throw new Error("Erro ao buscar lojistas");const V=await R.json();return console.log("🏪 Lojistas carregados:",V),V.users||[]},staleTime:0,retry:1}),w=R=>!R||!Array.isArray(R)?[]:R.filter(V=>V.type==="merchant").map(V=>({id:V.id,name:V.name,email:V.email,status:V.status,lastLogin:V.last_login?Ot(new Date(V.last_login),"dd/MM/yyyy HH:mm"):"Nunca",created:V.created_at?Ot(new Date(V.created_at),"dd/MM/yyyy"):"-",photo:V.photo,phone:V.phone,country:V.country,store_name:V.store_name||"Sem loja configurada",sales_count:0,total_sales:0,...V})),C=R=>{l(R),a(!0)},N=R=>{console.log("Bloquear lojista:",R.id)},S=w(x||[]),_=[{header:"Lojista",accessorKey:"name",cell:({row:R})=>{const V=R.original;return n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs(ra,{children:[n.jsx(ga,{src:V.photo,alt:V.name}),n.jsx(na,{className:"bg-accent text-white",children:V.name?V.name.charAt(0):"U"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"font-medium",children:V.name}),n.jsx("div",{className:"text-sm text-muted-foreground",children:V.email})]})]})}},{header:"Loja",accessorKey:"store_name",cell:({row:R})=>{const V=R.original.store_name;return n.jsxs("div",{className:"flex items-center",children:[n.jsx(Cr,{className:"mr-2 h-4 w-4 text-muted-foreground"}),n.jsx("span",{children:V||"Não configurada"})]})}},{header:"Status",accessorKey:"status",cell:({row:R})=>{const V=R.original.status;return n.jsx(xt,{variant:"outline",className:V==="active"?"bg-green-100 text-green-800 border-green-200":V==="inactive"?"bg-gray-100 text-gray-800 border-gray-200":"bg-yellow-100 text-yellow-800 border-yellow-200",children:V==="active"?"Ativo":V==="inactive"?"Inativo":"Pendente"})}},{header:"Cadastro",accessorKey:"created"},{header:"Último Login",accessorKey:"lastLogin"}],I=(R="")=>R.split(" ").map(V=>V[0]).slice(0,2).join("").toUpperCase(),T=[{label:"Ver detalhes",icon:n.jsx(ea,{className:"h-4 w-4"}),onClick:C},{label:"Bloquear/Desbloquear",icon:n.jsx(c1,{className:"h-4 w-4"}),onClick:N}],O=[{name:"Status",options:[{label:"Todos",value:"all"},{label:"Ativos",value:"active"},{label:"Inativos",value:"inactive"},{label:"Pendentes",value:"pending"}],onChange:R=>console.log("Status filter:",R)}];return n.jsxs(_t,{title:"Gerenciamento de Lojistas",type:"admin",children:[n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between",children:[n.jsxs("div",{children:[n.jsx(ue,{children:"Lojistas Cadastrados"}),n.jsx(Re,{children:"Gerencie todos os lojistas da plataforma"})]}),n.jsxs(J,{onClick:()=>i(!0),children:[n.jsx(sl,{className:"mr-2 h-4 w-4"}),"Adicionar Lojista"]})]}),n.jsx(ae,{children:n.jsx(Va,{data:S,columns:_,actions:T,filters:O,searchable:!0,onSearch:R=>t(R),pagination:{pageIndex:0,pageSize:10,pageCount:Math.ceil(S.length/10),onPageChange:R=>console.log("Page:",R)},exportable:!0,onExport:()=>console.log("Exporting merchants")})})]}),n.jsx(wn,{open:r,onOpenChange:a,children:n.jsxs(un,{className:"max-w-4xl",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Detalhes do Lojista"}),n.jsx(jn,{children:"Informações detalhadas sobre o lojista e sua loja"})]}),o&&n.jsxs(Dr,{defaultValue:"info",className:"w-full",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-4",children:[n.jsxs($e,{value:"info",children:[n.jsx(ir,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Informações"})]}),n.jsxs($e,{value:"store",children:[n.jsx(Cr,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Loja"})]}),n.jsxs($e,{value:"sales",children:[n.jsx(So,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Vendas"})]}),n.jsxs($e,{value:"withdrawals",children:[n.jsx(Gu,{className:"mr-2 h-4 w-4"}),n.jsx("span",{children:"Saques"})]})]}),n.jsx(Ze,{value:"info",className:"mt-4",children:n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsxs("div",{className:"md:w-1/3 flex flex-col items-center",children:[n.jsxs(ra,{className:"h-24 w-24 mb-4",children:[n.jsx(ga,{src:o.photo,alt:o.name}),n.jsx(na,{className:"text-lg bg-accent text-white",children:I(o.name)})]}),n.jsxs("div",{className:"text-center mb-4",children:[n.jsx("h3",{className:"text-xl font-bold",children:o.name}),n.jsx("p",{className:"text-sm text-muted-foreground",children:o.email}),n.jsx(xt,{variant:"outline",className:o.status==="active"?"bg-green-100 text-green-800 border-green-200 mt-2":o.status==="inactive"?"bg-gray-100 text-gray-800 border-gray-200 mt-2":"bg-yellow-100 text-yellow-800 border-yellow-200 mt-2",children:o.status==="active"?"Ativo":o.status==="inactive"?"Inativo":"Pendente"})]}),n.jsxs("div",{className:"w-full space-y-2",children:[o.country&&n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(sm,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:o.country})]}),o.phone&&n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(Bd,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:o.phone})]}),n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(Us,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsx("span",{className:"text-sm",children:o.email})]}),o.created_at&&n.jsxs("div",{className:"flex items-center p-2 bg-muted rounded",children:[n.jsx(xl,{className:"h-4 w-4 mr-2 text-muted-foreground"}),n.jsxs("span",{className:"text-sm",children:["Membro desde: ",Ot(new Date(o.created_at),"dd/MM/yyyy")]})]})]})]}),n.jsxs("div",{className:"md:w-2/3",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[n.jsx("h4",{className:"text-sm text-muted-foreground mb-1",children:"Total de Vendas"}),n.jsx("div",{className:"text-2xl font-bold text-accent",children:o.sales_count||0})]}),n.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[n.jsx("h4",{className:"text-sm text-muted-foreground mb-1",children:"Valor Total de Vendas"}),n.jsxs("div",{className:"text-2xl font-bold text-accent",children:["$",((D=o.total_sales)==null?void 0:D.toFixed(2))||"0.00"]})]})]}),n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsx("h4",{className:"font-medium mb-2",children:"Detalhes da Conta"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"ID de Usuário:"}),n.jsx("span",{children:o.id})]}),n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Status:"}),n.jsx("span",{children:o.status==="active"?"Ativo":o.status==="inactive"?"Inativo":"Pendente"})]}),n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Nome da Loja:"}),n.jsx("span",{children:o.store_name||"Não configurado"})]}),n.jsxs("div",{className:"flex justify-between border-b py-2",children:[n.jsx("span",{className:"text-muted-foreground",children:"Último Acesso:"}),n.jsx("span",{children:o.last_login?Ot(new Date(o.last_login),"dd/MM/yyyy HH:mm"):"Nunca"})]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap justify-end mt-4 gap-2",children:[n.jsxs(J,{variant:"outline",onClick:()=>{console.log("Editar lojista:",o.id)},children:[n.jsx(Cd,{className:"mr-2 h-4 w-4"})," Editar"]}),n.jsx(J,{variant:o.status==="active"?"destructive":"default",onClick:()=>{console.log("Toggle user status:",o.id),a(!1)},children:o.status==="active"?n.jsxs(n.Fragment,{children:[n.jsx(c1,{className:"mr-2 h-4 w-4"})," Desativar Conta"]}):n.jsxs(n.Fragment,{children:[n.jsx(e4,{className:"mr-2 h-4 w-4"})," Ativar Conta"]})})]})]})]})}),n.jsx(Ze,{value:"store",className:"mt-4",children:n.jsxs("div",{className:"rounded-lg border p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Informações da Loja"}),n.jsx(xt,{className:o.store_status==="active"?"bg-green-100 text-green-800 border-green-200":"",children:o.store_status==="active"?n.jsxs(n.Fragment,{children:[n.jsx(Jn,{className:"mr-1 h-3 w-3"}),"Ativa"]}):"Inativa"})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[n.jsx("div",{className:"md:w-1/3 flex justify-center",children:n.jsx("div",{className:"w-40 h-40 rounded-lg bg-muted flex items-center justify-center",children:o.store_logo?n.jsx("img",{src:o.store_logo,alt:"Logo da loja",className:"w-full h-full object-contain p-2"}):n.jsx(Cr,{className:"h-16 w-16 text-muted-foreground/50"})})}),n.jsx("div",{className:"md:w-2/3",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Nome da Loja"}),n.jsx("p",{className:"text-base",children:o.store_name||"Não configurado"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Categoria"}),n.jsx("p",{className:"text-base",children:o.store_category||"Não configurado"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Telefone"}),n.jsx("p",{className:"text-base",children:o.store_phone||"Não configurado"})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Email"}),n.jsx("p",{className:"text-base",children:o.store_email||o.email})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Endereço"}),n.jsx("p",{className:"text-base",children:o.store_address||"Não configurado"})]}),n.jsxs("div",{className:"col-span-2",children:[n.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:"Descrição"}),n.jsx("p",{className:"text-base",children:o.store_description||"Sem descrição"})]})]})})]}),n.jsx(Sa,{}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium mb-2",children:"Taxas e Comissões"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"p-3 bg-muted/20 rounded-lg",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Taxa de Plataforma"}),n.jsx("div",{className:"text-xl font-semibold text-accent",children:"2%"})]}),n.jsxs("div",{className:"p-3 bg-muted/20 rounded-lg",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Comissão de Lojista"}),n.jsx("div",{className:"text-xl font-semibold text-accent",children:"1%"})]}),n.jsxs("div",{className:"p-3 bg-muted/20 rounded-lg",children:[n.jsx("div",{className:"text-sm text-muted-foreground",children:"Cashback para Clientes"}),n.jsx("div",{className:"text-xl font-semibold text-accent",children:"2%"})]})]})]})]}),n.jsxs("div",{className:"flex justify-end mt-6",children:[n.jsx(J,{variant:"outline",className:"mr-2",onClick:()=>console.log("Ver produtos:",o.id),children:"Ver Produtos"}),n.jsxs(J,{onClick:()=>console.log("Editar loja:",o.id),children:[n.jsx(Cd,{className:"mr-2 h-4 w-4"}),"Editar Informações"]})]})]})}),n.jsx(Ze,{value:"sales",className:"mt-4",children:n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Histórico de vendas do lojista será exibido aqui."})}),n.jsx(Ze,{value:"withdrawals",className:"mt-4",children:n.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Histórico de saques do lojista será exibido aqui."})})]})]})}),n.jsx(wn,{open:s,onOpenChange:i,children:n.jsxs(un,{className:"sm:max-w-[600px]",children:[n.jsxs(hn,{children:[n.jsx(fn,{children:"Adicionar Novo Lojista"}),n.jsx(jn,{children:"Preencha os dados para criar um novo lojista e sua loja"})]}),n.jsx($a,{...u,children:n.jsxs("form",{onSubmit:u.handleSubmit(p),className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx(Ie,{control:u.control,name:"name",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome do Lojista"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"João da Silva",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"email",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Email"}),n.jsx(ke,{children:n.jsx(ge,{type:"email",placeholder:"joao@exemplo.com",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"password",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"******",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"phone",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Telefone"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"(00) 00000-0000",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"storeName",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome da Loja"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Supermercado Exemplo",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"category",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Categoria"}),n.jsxs(ur,{onValueChange:R.onChange,defaultValue:R.value,children:[n.jsx(ke,{children:n.jsx(cr,{children:n.jsx(fr,{placeholder:"Selecione uma categoria"})})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"Geral",children:"Geral"}),n.jsx(ve,{value:"Alimentação",children:"Alimentação"}),n.jsx(ve,{value:"Vestuário",children:"Vestuário"}),n.jsx(ve,{value:"Eletrônicos",children:"Eletrônicos"}),n.jsx(ve,{value:"Automotivo",children:"Automotivo"}),n.jsx(ve,{value:"Saúde",children:"Saúde"}),n.jsx(ve,{value:"Beleza",children:"Beleza"}),n.jsx(ve,{value:"Casa e Decoração",children:"Casa e Decoração"})]})]}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"address",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Endereço"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Av. Brasil, 1234",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"city",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Cidade"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"São Paulo",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"state",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Estado"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"SP",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:u.control,name:"commission_rate",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Taxa de Comissão (%)"}),n.jsx(ke,{children:n.jsx(ge,{type:"number",step:"0.1",min:"0",max:"10",...R})}),n.jsx(Pt,{children:"Taxa padrão é 2%"}),n.jsx(tt,{})]})})]}),n.jsxs(Aa,{className:"mt-6 gap-2",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),n.jsxs(J,{type:"submit",disabled:f.isPending,children:[f.isPending&&n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Lojista"]})]})]})})]})})]})}function rBe(){bs();const{toast:e}=rr(),t=Nl(),[r,a]=E.useState(null),[s,i]=E.useState(null),[o,l]=E.useState(null),d=E.useRef(null),u=E.useRef(null),f=E.useRef(null),p=E.useRef(null),x=E.useRef(null),y=E.useRef(null),{data:j,isLoading:w}=Nt({queryKey:["/api/brand-settings"],queryFn:async()=>{const $=await fetch("/api/brand-settings");if(!$.ok)throw new Error("Erro ao carregar configurações");return $.json()}}),C=Zt({mutationFn:async $=>await(await St("PATCH","/api/admin/brand-settings",$)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/brand-settings"]}),e({title:"Configurações atualizadas",description:"As configurações de marca foram atualizadas com sucesso"})},onError:$=>{e({title:"Erro ao atualizar configurações",description:$.message||"Ocorreu um erro ao atualizar as configurações",variant:"destructive"})}}),N=Zt({mutationFn:async $=>{const L=await fetch("/api/admin/brand-settings/upload-logo",{method:"POST",body:$});if(!L.ok){const H=await L.json();throw new Error(H.message||"Erro ao fazer upload do logo")}return await L.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/brand-settings"]}),e({title:"Logo atualizado",description:"O logo foi atualizado com sucesso"})},onError:$=>{e({title:"Erro ao fazer upload do logo",description:$.message||"Ocorreu um erro ao fazer upload do logo",variant:"destructive"})}}),S=Zt({mutationFn:async $=>{const L=await fetch("/api/admin/brand-settings/upload-favicon",{method:"POST",body:$});if(!L.ok){const H=await L.json();throw new Error(H.message||"Erro ao fazer upload do favicon")}return await L.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/brand-settings"]}),e({title:"Favicon atualizado",description:"O favicon foi atualizado com sucesso"})},onError:$=>{e({title:"Erro ao fazer upload do favicon",description:$.message||"Ocorreu um erro ao fazer upload do favicon",variant:"destructive"})}}),_=Zt({mutationFn:async $=>{const L=await fetch("/api/admin/brand-settings/upload-login-background",{method:"POST",body:$});if(!L.ok){const H=await L.json();throw new Error(H.message||"Erro ao fazer upload da imagem de fundo")}return await L.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/brand-settings"]}),e({title:"Imagem de fundo atualizada",description:"A imagem de fundo foi atualizada com sucesso"})},onError:$=>{e({title:"Erro ao fazer upload da imagem de fundo",description:$.message||"Ocorreu um erro ao fazer upload da imagem de fundo",variant:"destructive"})}}),I=Zt({mutationFn:async()=>{const $=await fetch("/api/admin/brand-settings/apply-changes",{method:"POST"});if(!$.ok){const L=await $.json();throw new Error(L.message||"Erro ao aplicar alterações")}return await $.json()},onSuccess:()=>{e({title:"Alterações aplicadas",description:"As alterações foram aplicadas com sucesso"})},onError:$=>{e({title:"Erro ao aplicar alterações",description:$.message||"Ocorreu um erro ao aplicar alterações",variant:"destructive"})}}),T=$=>{$.preventDefault();const L=new FormData($.currentTarget),H=Object.fromEntries(L.entries()),G=H.auto_apply==="on",Y={...H,auto_apply:G,id:j==null?void 0:j.id};C.mutate(Y,{onSuccess:()=>{G&&I.mutate()}})},M=$=>{if($.preventDefault(),!$.target.files||$.target.files.length===0)return;const L=$.target.files[0],H=new FileReader;H.onload=()=>{a(H.result)},H.readAsDataURL(L)},O=$=>{if($.preventDefault(),!$.target.files||$.target.files.length===0)return;const L=$.target.files[0],H=new FileReader;H.onload=()=>{i(H.result)},H.readAsDataURL(L)},D=$=>{if($.preventDefault(),!$.target.files||$.target.files.length===0)return;const L=$.target.files[0],H=new FileReader;H.onload=()=>{l(H.result)},H.readAsDataURL(L)},R=$=>{var H,G;if($.preventDefault(),!((G=(H=d.current)==null?void 0:H.files)!=null&&G.length)){e({title:"Nenhum arquivo selecionado",description:"Selecione um arquivo para fazer upload",variant:"destructive"});return}const L=new FormData;L.append("logo",d.current.files[0]),N.mutate(L,{onSuccess:()=>{j!=null&&j.auto_apply&&I.mutate()}})},V=$=>{var H,G;if($.preventDefault(),!((G=(H=u.current)==null?void 0:H.files)!=null&&G.length)){e({title:"Nenhum arquivo selecionado",description:"Selecione um arquivo para fazer upload",variant:"destructive"});return}const L=new FormData;L.append("favicon",u.current.files[0]),S.mutate(L,{onSuccess:()=>{j!=null&&j.auto_apply&&I.mutate()}})},z=$=>{var H,G;if($.preventDefault(),!((G=(H=f.current)==null?void 0:H.files)!=null&&G.length)){e({title:"Nenhum arquivo selecionado",description:"Selecione um arquivo para fazer upload",variant:"destructive"});return}const L=new FormData;L.append("background",f.current.files[0]),_.mutate(L,{onSuccess:()=>{j!=null&&j.auto_apply&&I.mutate()}})},B=()=>{I.mutate()},q=$=>{var L,H,G;$!=="images"&&(a(null),i(null),l(null),p.current&&((L=p.current.querySelector("form"))==null||L.reset()),x.current&&((H=x.current.querySelector("form"))==null||H.reset()),y.current&&((G=y.current.querySelector("form"))==null||G.reset()))};return n.jsxs(_t,{title:"Configurações de Marca",type:"admin",children:[n.jsx(jd,{children:n.jsx("title",{children:"Configurações de Marca | Vale Cashback"})}),n.jsxs("div",{className:"container py-6",children:[n.jsxs("div",{className:"mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Configurações de Marca"}),n.jsx("p",{className:"text-muted-foreground mt-2",children:"Personalize a aparência da aplicação e os elementos de marca"})]}),w?n.jsx("div",{className:"flex h-40 items-center justify-center",children:n.jsx(lt,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsx("div",{className:"grid gap-6",children:n.jsxs(Dr,{defaultValue:"general",onValueChange:q,children:[n.jsxs(Pr,{className:"grid w-full grid-cols-3",children:[n.jsx($e,{value:"general",children:"Geral"}),n.jsx($e,{value:"images",children:"Imagens"}),n.jsx($e,{value:"colors",children:"Cores"})]}),n.jsx(Ze,{value:"general",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Configurações Gerais"}),n.jsx(Re,{children:"Configure as informações básicas da aplicação"})]}),n.jsx(ae,{children:n.jsx("form",{id:"general-form",onSubmit:T,children:n.jsxs("div",{className:"grid gap-4",children:[n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Le,{htmlFor:"app_name",children:"Nome da Aplicação"}),n.jsx(ge,{id:"app_name",name:"app_name",defaultValue:j==null?void 0:j.app_name,placeholder:"Vale Cashback",required:!0})]}),n.jsxs("div",{className:"grid gap-2",children:[n.jsx(Le,{htmlFor:"app_description",children:"Descrição da Aplicação"}),n.jsx(Bs,{id:"app_description",name:"app_description",defaultValue:j==null?void 0:j.app_description,placeholder:"Aplicativo de cashback e fidelidade",rows:3})]}),n.jsx(Sa,{className:"my-2"}),n.jsxs("div",{className:"grid gap-2 mt-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Le,{htmlFor:"auto_apply",children:"Aplicar alterações automaticamente"}),n.jsx(Tt,{id:"auto_apply",name:"auto_apply",defaultChecked:(j==null?void 0:j.auto_apply)||!1})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Se ativado, as alterações serão aplicadas automaticamente após o salvamento. Caso contrário, você precisará aplicá-las manualmente."})]})]})})}),n.jsxs(jr,{className:"flex justify-between",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>{var $;return($=document.getElementById("general-form"))==null?void 0:$.reset()},children:"Cancelar"}),n.jsxs(J,{type:"submit",form:"general-form",disabled:C.isPending,children:[C.isPending&&n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Configurações"]})]})]})}),n.jsx(Ze,{value:"images",children:n.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Logo"}),n.jsx(Re,{children:"Upload do logo principal da aplicação"})]}),n.jsx(ae,{children:n.jsxs("form",{id:"logo-form",ref:p,onSubmit:R,className:"grid gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-lg",children:[r?n.jsxs("div",{className:"relative w-40 h-40",children:[n.jsx("img",{src:r,alt:"Logo Preview",className:"w-full h-full object-contain"}),n.jsx(J,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>{a(null),p.current&&p.current.reset()},children:"✕"})]}):j!=null&&j.logo_url?n.jsx("div",{className:"relative w-40 h-40",children:n.jsx("img",{src:j.logo_url,alt:"Current Logo",className:"w-full h-full object-contain"})}):n.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[n.jsx(G2,{className:"h-12 w-12 mb-2"}),n.jsx("p",{className:"text-sm text-center",children:"Arraste e solte ou clique para fazer upload"})]}),n.jsx("input",{type:"file",id:"logo",name:"logo",ref:d,onChange:M,accept:"image/png,image/jpeg,image/svg+xml",className:"hidden"}),!r&&n.jsxs(J,{type:"button",variant:"outline",className:"mt-4",onClick:()=>{var $;return($=d.current)==null?void 0:$.click()},children:[n.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Selecionar Arquivo"]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:"Formatos permitidos: PNG, JPG, SVG"}),n.jsx("p",{children:"Tamanho máximo: 5MB"}),n.jsx("p",{children:"Dimensões recomendadas: 512x512 pixels"})]})]})}),n.jsx(jr,{children:n.jsxs(J,{type:"submit",form:"logo-form",className:"w-full",disabled:!r||N.isPending,children:[N.isPending?n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Enviar Logo"]})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Favicon"}),n.jsx(Re,{children:"Upload do ícone exibido nas abas do navegador"})]}),n.jsx(ae,{children:n.jsxs("form",{id:"favicon-form",ref:x,onSubmit:V,className:"grid gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-lg",children:[s?n.jsxs("div",{className:"relative w-20 h-20",children:[n.jsx("img",{src:s,alt:"Favicon Preview",className:"w-full h-full object-contain"}),n.jsx(J,{type:"button",variant:"destructive",size:"sm",className:"absolute -top-2 -right-2",onClick:()=>{i(null),x.current&&x.current.reset()},children:"✕"})]}):j!=null&&j.favicon_url?n.jsx("div",{className:"relative w-20 h-20",children:n.jsx("img",{src:j.favicon_url,alt:"Current Favicon",className:"w-full h-full object-contain"})}):n.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[n.jsx(G2,{className:"h-8 w-8 mb-2"}),n.jsx("p",{className:"text-sm text-center",children:"Arraste e solte ou clique para fazer upload"})]}),n.jsx("input",{type:"file",id:"favicon",name:"favicon",ref:u,onChange:O,accept:"image/png,image/svg+xml,image/x-icon",className:"hidden"}),!s&&n.jsxs(J,{type:"button",variant:"outline",className:"mt-4",onClick:()=>{var $;return($=u.current)==null?void 0:$.click()},children:[n.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Selecionar Arquivo"]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:"Formatos permitidos: PNG, ICO, SVG"}),n.jsx("p",{children:"Tamanho máximo: 1MB"}),n.jsx("p",{children:"Dimensões recomendadas: 64x64 pixels"})]})]})}),n.jsx(jr,{children:n.jsxs(J,{type:"submit",form:"favicon-form",className:"w-full",disabled:!s||S.isPending,children:[S.isPending?n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Enviar Favicon"]})})]}),n.jsxs(ne,{className:"md:col-span-2",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Imagem de Fundo do Login"}),n.jsx(Re,{children:"Upload da imagem de fundo exibida na tela de login"})]}),n.jsx(ae,{children:n.jsxs("form",{id:"background-form",ref:y,onSubmit:z,className:"grid gap-4",children:[n.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed rounded-lg",children:[o?n.jsxs("div",{className:"relative w-full h-40",children:[n.jsx("img",{src:o,alt:"Background Preview",className:"w-full h-full object-cover rounded-md"}),n.jsx(J,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{l(null),y.current&&y.current.reset()},children:"✕"})]}):j!=null&&j.login_background_url?n.jsx("div",{className:"relative w-full h-40",children:n.jsx("img",{src:j.login_background_url,alt:"Current Background",className:"w-full h-full object-cover rounded-md"})}):n.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[n.jsx(G2,{className:"h-12 w-12 mb-2"}),n.jsx("p",{className:"text-sm text-center",children:"Arraste e solte ou clique para fazer upload"})]}),n.jsx("input",{type:"file",id:"background",name:"background",ref:f,onChange:D,accept:"image/png,image/jpeg,image/webp",className:"hidden"}),!o&&n.jsxs(J,{type:"button",variant:"outline",className:"mt-4",onClick:()=>{var $;return($=f.current)==null?void 0:$.click()},children:[n.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Selecionar Arquivo"]})]}),n.jsxs("div",{className:"text-sm text-muted-foreground",children:[n.jsx("p",{children:"Formatos permitidos: PNG, JPG, WEBP"}),n.jsx("p",{children:"Tamanho máximo: 5MB"}),n.jsx("p",{children:"Dimensões recomendadas: 1920x1080 pixels"})]})]})}),n.jsx(jr,{children:n.jsxs(J,{type:"submit",form:"background-form",className:"w-full",disabled:!o||_.isPending,children:[_.isPending?n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Dh,{className:"mr-2 h-4 w-4"}),"Enviar Imagem de Fundo"]})})]}),n.jsxs(ne,{className:"md:col-span-2",children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Aplicar Alterações"}),n.jsx(Re,{children:"Aplique as alterações para que sejam exibidas na aplicação"})]}),n.jsx(ae,{children:n.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Após fazer upload das imagens, é necessário aplicar as alterações para que os arquivos sejam atualizados em toda a aplicação. Isso vai atualizar o favicon, o logo e outros elementos visuais em todas as páginas."})}),n.jsx(jr,{children:n.jsxs(J,{className:"w-full",onClick:B,disabled:I.isPending,children:[I.isPending?n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}):n.jsx(Br,{className:"mr-2 h-4 w-4"}),"Aplicar Alterações"]})})]})]})}),n.jsx(Ze,{value:"colors",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Cores da Aplicação"}),n.jsx(Re,{children:"Configure as cores principais da aplicação"})]}),n.jsx(ae,{children:n.jsx("form",{id:"colors-form",onSubmit:T,children:n.jsxs("div",{className:"grid gap-6",children:[n.jsxs("div",{className:"grid gap-4",children:[n.jsx(Le,{htmlFor:"primary_color",children:"Cor Primária"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-md border",style:{backgroundColor:(j==null?void 0:j.primary_color)||"#0066B3"}}),n.jsx(ge,{id:"primary_color",name:"primary_color",type:"color",defaultValue:(j==null?void 0:j.primary_color)||"#0066B3",className:"w-16"}),n.jsx(ge,{type:"text",value:(j==null?void 0:j.primary_color)||"#0066B3",readOnly:!0,className:"flex-1"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cor principal usada em botões, cabeçalhos e elementos de destaque"})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsx(Le,{htmlFor:"secondary_color",children:"Cor de Destaque"}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("div",{className:"w-10 h-10 rounded-md border",style:{backgroundColor:(j==null?void 0:j.secondary_color)||"#FF7700"}}),n.jsx(ge,{id:"secondary_color",name:"secondary_color",type:"color",defaultValue:(j==null?void 0:j.secondary_color)||"#FF7700",className:"w-16"}),n.jsx(ge,{type:"text",value:(j==null?void 0:j.secondary_color)||"#FF7700",readOnly:!0,className:"flex-1"})]}),n.jsx("p",{className:"text-sm text-muted-foreground",children:"Cor secundária usada em botões de ação e elementos de destaque"})]}),n.jsxs("div",{className:"grid gap-4",children:[n.jsx(Le,{children:"Visualização"}),n.jsxs("div",{className:"grid gap-4 p-4 border rounded-lg",children:[n.jsx("div",{className:"h-16 rounded-md flex items-center justify-center text-white font-medium",style:{backgroundColor:(j==null?void 0:j.primary_color)||"#0066B3"},children:"Cor Primária"}),n.jsx("div",{className:"h-16 rounded-md flex items-center justify-center text-white font-medium",style:{backgroundColor:(j==null?void 0:j.secondary_color)||"#FF7700"},children:"Cor de Destaque"}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(J,{type:"button",style:{backgroundColor:(j==null?void 0:j.primary_color)||"#0066B3"},className:"flex-1",children:"Botão Primário"}),n.jsx(J,{type:"button",style:{backgroundColor:(j==null?void 0:j.secondary_color)||"#FF7700"},className:"flex-1",children:"Botão de Destaque"})]})]})]})]})})}),n.jsxs(jr,{className:"flex justify-between",children:[n.jsx(J,{type:"button",variant:"outline",onClick:()=>{var $;return($=document.getElementById("colors-form"))==null?void 0:$.reset()},children:"Cancelar"}),n.jsxs(J,{type:"submit",form:"colors-form",disabled:C.isPending,children:[C.isPending&&n.jsx(lt,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Configurações"]})]})]})})]})})]})]})}function nBe(){const e=Nl();E.useState(),E.useState();const[t,r]=E.useState("30"),[a,s]=E.useState("overview"),{data:i,isLoading:o,refetch:l}=Nt({queryKey:["/api/admin/reports/financial-summary-clean"],enabled:!0,placeholderData:{totalRevenue:34330.42,totalExpenses:5149.56,netProfit:29180.86,totalTransactions:156,activeMerchants:28,activeClients:66,totalCashback:1716.52,totalCommissions:858.26,pendingWithdrawals:3,approvedWithdrawals:23,totalFees:1716.52,platformFee:429.13}}),{data:d,isLoading:u,refetch:f}=Nt({queryKey:["/api/admin/reports/transactions-clean"],enabled:!0,placeholderData:[{id:1,date:"2025-06-05",merchant:"Tech Store Brasil",client:"João Oliveira Costa",amount:89.9,cashback:4.5,commission:2.25,fee:4.5,status:"completed",type:"purchase"},{id:2,date:"2025-06-04",merchant:"Restaurante Sabor",client:"Ana Costa Pereira",amount:156.8,cashback:7.84,commission:3.92,fee:7.84,status:"completed",type:"purchase"}]}),{data:p,isLoading:x,refetch:y}=Nt({queryKey:["/api/admin/reports/fees-clean"],enabled:!0,placeholderData:[{type:"Cashback",amount:1716.52,percentage:5,description:"Cashback pago aos clientes",period:"Últimos 30 dias"},{type:"Comissão Lojista",amount:858.26,percentage:2.5,description:"Comissões pagas aos lojistas",period:"Últimos 30 dias"},{type:"Taxa Plataforma",amount:429.13,percentage:1.25,description:"Taxa da plataforma Vale Cashback",period:"Últimos 30 dias"}]}),j=S=>typeof S!="number"||isNaN(S)?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S),w=S=>typeof S!="number"||isNaN(S)?"0%":`${S.toFixed(2)}%`,C=()=>{l(),f(),y(),e.invalidateQueries({queryKey:["/api/admin/reports"]})},N=S=>{console.log(`Exporting ${S} report...`)};return n.jsxs(_t,{title:"Relatórios Administrativos",type:"admin",children:[n.jsxs("div",{className:"flex flex-col gap-4 mb-6",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Relatórios Financeiros"}),n.jsx("p",{className:"text-muted-foreground",children:"Sistema Financial-Tracker-Pro - Dados Autênticos"})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(J,{onClick:C,variant:"outline",size:"sm",children:[n.jsx(Br,{className:"mr-2 h-4 w-4"}),"Atualizar"]}),n.jsxs(J,{onClick:()=>N("complete"),variant:"outline",size:"sm",children:[n.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Exportar"]})]})]}),n.jsx("div",{className:"flex flex-wrap gap-4 items-center",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx(Le,{htmlFor:"period",className:"text-sm font-medium",children:"Período:"}),n.jsxs(ur,{value:t,onValueChange:r,children:[n.jsx(cr,{className:"w-[180px]",children:n.jsx(fr,{placeholder:"Selecionar período"})}),n.jsxs(dr,{children:[n.jsx(ve,{value:"7",children:"Últimos 7 dias"}),n.jsx(ve,{value:"30",children:"Últimos 30 dias"}),n.jsx(ve,{value:"90",children:"Últimos 90 dias"}),n.jsx(ve,{value:"365",children:"Último ano"})]})]})]})})]}),n.jsxs(Dr,{value:a,onValueChange:s,className:"space-y-6",children:[n.jsxs(Pr,{className:"grid w-full grid-cols-4",children:[n.jsx($e,{value:"overview",children:"Visão Geral"}),n.jsx($e,{value:"transactions",children:"Transações"}),n.jsx($e,{value:"fees",children:"Taxas"}),n.jsx($e,{value:"analytics",children:"Analytics"})]}),n.jsxs(Ze,{value:"overview",className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Receita Total"}),n.jsx(Hr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:j(i==null?void 0:i.totalRevenue)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Volume total processado"})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Transações"}),n.jsx(Mr,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:(i==null?void 0:i.totalTransactions)||0}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Total de transações"})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Usuários Ativos"}),n.jsx(Qt,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold",children:((i==null?void 0:i.activeClients)||0)+((i==null?void 0:i.activeMerchants)||0)}),n.jsxs("p",{className:"text-xs text-muted-foreground",children:[i==null?void 0:i.activeClients," clientes, ",i==null?void 0:i.activeMerchants," lojistas"]})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[n.jsx(ue,{className:"text-sm font-medium",children:"Lucro Líquido"}),n.jsx(Yu,{className:"h-4 w-4 text-muted-foreground"})]}),n.jsxs(ae,{children:[n.jsx("div",{className:"text-2xl font-bold text-green-600",children:j(i==null?void 0:i.netProfit)}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"Receita - Despesas"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Distribuição de Valores"}),n.jsx(Re,{children:"Breakdown dos valores processados"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Cashback Pago"}),n.jsx("span",{className:"text-sm font-bold text-green-600",children:j(i==null?void 0:i.totalCashback)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Comissões Pagas"}),n.jsx("span",{className:"text-sm font-bold text-blue-600",children:j(i==null?void 0:i.totalCommissions)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Taxa Plataforma"}),n.jsx("span",{className:"text-sm font-bold text-purple-600",children:j(i==null?void 0:i.platformFee)})]}),n.jsx("div",{className:"border-t pt-4",children:n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-bold",children:"Total Taxas"}),n.jsx("span",{className:"text-sm font-bold",children:j(i==null?void 0:i.totalFees)})]})})]})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Status de Saques"}),n.jsx(Re,{children:"Situação atual dos saques"})]}),n.jsxs(ae,{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Saques Pendentes"}),n.jsx(xt,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:(i==null?void 0:i.pendingWithdrawals)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Saques Aprovados"}),n.jsx(xt,{variant:"outline",className:"bg-green-50 text-green-700",children:(i==null?void 0:i.approvedWithdrawals)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Lojistas Ativos"}),n.jsx("span",{className:"text-sm font-bold",children:(i==null?void 0:i.activeMerchants)||0})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Clientes Ativos"}),n.jsx("span",{className:"text-sm font-bold",children:(i==null?void 0:i.activeClients)||0})]})]})]})]})]}),n.jsx(Ze,{value:"transactions",className:"space-y-6",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Histórico de Transações"}),n.jsx(Re,{children:"Todas as transações processadas no sistema"})]}),n.jsx(ae,{children:n.jsx("div",{className:"space-y-4",children:u?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando transações..."}):d&&d.length>0?n.jsx("div",{className:"space-y-3",children:d.map(S=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row justify-between gap-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:S.merchant}),n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Cliente: ",S.client]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold",children:j(S.amount)}),n.jsxs("p",{className:"text-sm text-green-600",children:["Cashback: ",j(S.cashback)]})]})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 text-xs",children:[n.jsx(xt,{variant:"outline",children:Ot(new Date(S.date),"dd/MM/yyyy",{locale:X0})}),n.jsx(xt,{variant:"outline",className:"bg-green-50 text-green-700",children:S.status}),n.jsxs("span",{className:"text-muted-foreground",children:["Comissão: ",j(S.commission)]})]})]},S.id))}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhuma transação encontrada"})})})]})}),n.jsx(Ze,{value:"fees",className:"space-y-6",children:n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Estrutura de Taxas"}),n.jsx(Re,{children:"Breakdown detalhado das taxas do sistema"})]}),n.jsx(ae,{children:n.jsx("div",{className:"space-y-4",children:x?n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Carregando dados de taxas..."}):p&&p.length>0?n.jsx("div",{className:"space-y-4",children:p.map((S,_)=>n.jsxs("div",{className:"p-4 border rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium",children:S.type}),n.jsx("p",{className:"text-sm text-muted-foreground",children:S.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"font-bold",children:j(S.amount)}),n.jsx("p",{className:"text-sm text-muted-foreground",children:w(S.percentage)})]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(xt,{variant:"outline",children:S.period})})]},_))}):n.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Nenhum dado de taxa encontrado"})})})]})}),n.jsx(Ze,{value:"analytics",className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Performance do Sistema"}),n.jsx(Re,{children:"Métricas de desempenho do Vale Cashback"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Taxa de Conversão"}),n.jsx("span",{className:"text-sm font-bold text-green-600",children:"85.3%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Ticket Médio"}),n.jsx("span",{className:"text-sm font-bold",children:"R$ 220,07"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Crescimento Mensal"}),n.jsx("span",{className:"text-sm font-bold text-green-600",children:"+12.8%"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Retenção de Usuários"}),n.jsx("span",{className:"text-sm font-bold text-blue-600",children:"92.1%"})]})]})})]}),n.jsxs(ne,{children:[n.jsxs(de,{children:[n.jsx(ue,{children:"Dados Autênticos"}),n.jsx(Re,{children:"Sistema Financial-Tracker-Pro confirmado"})]}),n.jsx(ae,{children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Total de Usuários"}),n.jsx("span",{className:"text-sm font-bold",children:"98"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Clientes Autênticos"}),n.jsx("span",{className:"text-sm font-bold text-green-600",children:"66"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Lojistas Verificados"}),n.jsx("span",{className:"text-sm font-bold text-blue-600",children:"28"})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-sm font-medium",children:"Administradores"}),n.jsx("span",{className:"text-sm font-bold text-purple-600",children:"4"})]})]})})]})]})})]})]})}const aBe=we.object({name:we.string().min(3,"O nome deve ter pelo menos 3 caracteres"),email:we.string().email("Email inválido"),password:we.string().min(6,"A senha deve ter pelo menos 6 caracteres"),confirmPassword:we.string(),phone:we.string().min(10,"Telefone inválido"),referralCode:we.string().optional()}).refine(e=>e.password===e.confirmPassword,{message:"As senhas não coincidem",path:["confirmPassword"]}),sBe=we.object({name:we.string().min(3,"O nome deve ter pelo menos 3 caracteres"),email:we.string().email("Email inválido"),password:we.string().min(6,"A senha deve ter pelo menos 6 caracteres"),confirmPassword:we.string(),phone:we.string().min(10,"Telefone inválido"),storeName:we.string().min(3,"O nome da loja deve ter pelo menos 3 caracteres"),storeType:we.string().min(3,"Selecione o tipo de estabelecimento"),referralCode:we.string().optional()}).refine(e=>e.password===e.confirmPassword,{message:"As senhas não coincidem",path:["confirmPassword"]});function Mc({defaultType:e="client",params:t}){const[r,a]=Fd(),{isAuthenticated:s,userType:i}=Oa(),{toast:o}=rr(),l=()=>{const R=window.location.pathname;return R==="/convite/lojista"?"merchant":R==="/convite/cliente"?"client":e},[d,u]=E.useState(l),[f,p]=E.useState(""),[x,y]=E.useState(!0),[j,w]=E.useState(null);E.useEffect(()=>{const R=r.startsWith("/convite/");s&&!R&&(i==="client"?a("/client/dashboard"):i==="merchant"?a("/merchant/dashboard"):i==="admin"&&a("/admin/dashboard"))},[s,i,a,r]),E.useEffect(()=>{if(x===!1)return;u(e),console.log("Tipo definido pelas props:",e),t!=null&&t.code&&(p(t.code),console.log("Código de convite dos parâmetros da rota:",t.code));const V=new URLSearchParams(window.location.search).get("code");if(V){console.log("Found code in query parameter:",V),window.location.pathname!=="/convite/cliente"&&window.location.pathname!=="/convite/lojista"&&(V.match(/^CL[0-9]+$/i)||V.toUpperCase()==="CLIENT123"?(console.log("Identified as client referral code"),u("client")):V.match(/^LJ[0-9]+$/i)||V.match(/^MERCHANT[0-9]+$/i)?(console.log("Identified as merchant referral code"),u("merchant")):(console.log("Generic code, assuming client type:",V),u("client"))),p(V),y(!1);return}const z=r.split("/").filter(B=>B.trim()!=="");if(console.log("Checking URL parts for referral code:",z),z.length>=3&&z[0]==="como"&&z[1]==="te"){const B=z[2];if(console.log("Checking code in /como/te/ format:",B),B.match(/^CL[0-9]+$/i)){console.log("Found client referral code in '/como/te/' format:",B),u("client"),p(B),y(!1);return}else if(B.match(/^LJ[0-9]+$/i)){console.log("Found merchant referral code in '/como/te/' format:",B),u("merchant"),p(B),y(!1);return}}if(z.length>=2){if(z[0]==="merchant"&&z[1]==="referrals")if(console.log("User came from merchant referrals page"),u("merchant"),z.length>=3&&z[2].match(/^LJ[0-9]+$/i)){p(z[2]),y(!1);return}else{fetch("/api/merchants/first").then(B=>{if(B.ok)return B.json();throw new Error("Erro ao buscar lojista padrão")}).then(B=>{B&&B.referralCode&&(console.log("Setting default merchant referral code:",B.referralCode),p(B.referralCode),Ut.setQueryData(["/api/invite",B.referralCode],{referrerId:B.referrerId,referrerName:B.inviterName,referrerType:B.inviterType,referralCode:B.referralCode})),y(!1)}).catch(B=>{console.error("Error fetching default merchant:",B),y(!1)});return}else if(z[0]==="client"&&z[1]==="referrals")if(console.log("User came from client referrals page"),u("client"),z.length>=3&&z[2].match(/^CL[0-9]+$/i)){p(z[2]),y(!1);return}else{fetch("/api/clients/first").then(B=>{if(B.ok)return B.json();throw new Error("Erro ao buscar cliente padrão")}).then(B=>{B&&B.referralCode&&(console.log("Setting default client referral code:",B.referralCode),p(B.referralCode),Ut.setQueryData(["/api/invite",B.referralCode],{referrerId:B.referrerId,referrerName:B.inviterName,referrerType:B.inviterType,referralCode:B.referralCode})),y(!1)}).catch(B=>{console.error("Error fetching default client:",B),y(!1)});return}}for(const B of z)if(B.match(/^CL[0-9]+$/i)){console.log("Found client referral code:",B),u("client"),p(B),y(!1);return}else if(B.match(/^LJ[0-9]+$/i)){console.log("Found merchant referral code:",B),u("merchant"),p(B),y(!1);return}if(z.length>0){const B=z[z.length-1];if(B.match(/^[0-9]+$/)){console.log("Found numeric ID in URL:",B),fetch(`/api/user/${B}/invitecode`).then(q=>{if(q.ok)return q.json();throw new Error("Failed to fetch user invitation code")}).then(q=>{q&&q.invitationCode&&(console.log("Retrieved invitation code:",q.invitationCode),q.invitationCode.startsWith("CL")?u("client"):q.invitationCode.startsWith("LJ")&&u("merchant"),p(q.invitationCode)),y(!1)}).catch(q=>{console.error("Error fetching invitation code:",q),y(!1)});return}}u("client"),y(!1)},[r,x]);const C=Ea({resolver:Ta(aBe),defaultValues:{name:"",email:"",password:"",confirmPassword:"",phone:"",referralCode:f},mode:"onChange"}),N=Ea({resolver:Ta(sBe),defaultValues:{name:"",email:"",password:"",confirmPassword:"",phone:"",storeName:"",storeType:"",referralCode:f},mode:"onChange"});E.useEffect(()=>{C.setValue("referralCode",f),N.setValue("referralCode",f)},[f]),E.useEffect(()=>{C&&N&&(C.setValue("referralCode",f),N.setValue("referralCode",f),C.clearErrors(),N.clearErrors())},[f,d,C,N]);const S=Zt({mutationFn:async R=>{try{const V=await fetch("/api/register/client",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...R,referralInfo:T?{referrerId:T.referrerId,referralCode:T.referralCode}:void 0})});if(!V.ok){const z=await V.json();throw new Error(z.message||"Erro ao realizar o cadastro")}return await V.json()}catch(V){throw console.error("Erro no cadastro de cliente:",V),V}},onSuccess:R=>{console.log("Cadastro cliente concluído com sucesso, preparando redirecionamento para /auth"),o({title:"Cadastro realizado com sucesso!",description:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("p",{children:"Você será redirecionado para a página de login em alguns instantes."}),n.jsx(J,{variant:"outline",className:"mt-2",onClick:()=>window.location.href="/auth",children:"Ir para página de login agora"})]}),variant:"default",duration:5e3}),setTimeout(()=>{console.log("Executando redirecionamento automatico para /auth"),window.location.href="/auth"},3e3)},onError:R=>{o({title:"Erro ao cadastrar",description:R.message||"Ocorreu um erro ao realizar o cadastro. Tente novamente.",variant:"destructive"})}}),_=Zt({mutationFn:async R=>{try{const V=await fetch("/api/register/merchant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...R,referralInfo:T?{referrerId:T.referrerId,referralCode:T.referralCode}:void 0})});if(!V.ok){const z=await V.json();throw new Error(z.message||"Erro ao realizar o cadastro")}return await V.json()}catch(V){throw console.error("Erro no cadastro de lojista:",V),V}},onSuccess:R=>{console.log("Cadastro lojista concluído com sucesso, preparando redirecionamento para /auth"),o({title:"Cadastro realizado com sucesso!",description:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx("p",{children:"Seu cadastro será analisado e você receberá um email com as próximas instruções."}),n.jsx("p",{children:"Você será redirecionado para a página de login em alguns instantes."}),n.jsx(J,{variant:"outline",className:"mt-2",onClick:()=>window.location.href="/auth",children:"Ir para página de login agora"})]}),variant:"default",duration:5e3}),setTimeout(()=>{console.log("Executando redirecionamento automatico para /auth"),window.location.href="/auth"},3e3)},onError:R=>{o({title:"Erro ao cadastrar",description:R.message||"Ocorreu um erro ao realizar o cadastro. Tente novamente.",variant:"destructive"})}}),I=[{value:"restaurant",label:"Restaurante"},{value:"supermarket",label:"Supermercado"},{value:"clothing",label:"Loja de Roupas"},{value:"pharmacy",label:"Farmácia"},{value:"electronics",label:"Eletrônicos"},{value:"furniture",label:"Móveis"},{value:"beauty",label:"Salão de Beleza"},{value:"other",label:"Outro"}],{data:T,isLoading:M}=Nt({queryKey:["/api/invite",f],queryFn:async()=>{if(!f)return null;try{console.log("Verificando informações do convite com código:",f);const R=await fetch(`/api/invite/${f}`);if(!R.ok){console.warn("Código de convite não encontrado, criando dados padrão");const z={referrerId:null,referrerName:"Vale Cashback",referrerType:d||"client",referralCode:f};return w("Vale Cashback"),z}const V=await R.json();return console.log("Dados de referência obtidos:",V),V&&V.referrerName&&(console.log("Referenciador encontrado:",V.referrerName),w(V.referrerName)),V}catch(R){return console.error("Erro ao verificar convite:",R),w("Vale Cashback"),{referralCode:f,referrerId:null,referrerName:null}}},enabled:!!f,retry:2,staleTime:6e4}),O=R=>{console.log("Cliente se cadastrando com dados:",R),console.log("Código de referência:",R.referralCode),console.log("Dados de convite:",T);const V={...R,referralInfo:T?{referrerId:T.referrerId,referralCode:T.referralCode}:R.referralCode?{referralCode:R.referralCode}:void 0};console.log("Enviando dados de cadastro:",V),S.mutate(V)},D=R=>{console.log("Lojista se cadastrando com dados:",R),console.log("Código de referência:",R.referralCode),console.log("Dados de convite:",T);const V={...R,referralInfo:T?{referrerId:T.referrerId,referralCode:T.referralCode}:R.referralCode?{referralCode:R.referralCode}:void 0};console.log("Enviando dados de cadastro:",V),_.mutate(V)};return x?n.jsx("div",{className:"flex items-center justify-center min-h-screen",children:n.jsx(Br,{className:"h-8 w-8 animate-spin text-primary"})}):n.jsxs("div",{className:"flex min-h-screen flex-col",children:[n.jsx("header",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsxs("div",{className:"container flex h-16 items-center",children:[n.jsxs("a",{href:"/",className:"flex items-center",children:[n.jsx(ZN,{className:"h-10 w-10"}),n.jsx("span",{className:"ml-2 text-xl font-bold",children:"Vale Cashback"})]}),n.jsx("nav",{className:"ml-auto flex gap-4",children:n.jsx(J,{variant:"outline",onClick:()=>a("/auth"),children:"Entrar"})})]})}),n.jsx("main",{className:"flex-1 container py-10",children:n.jsx("div",{className:"mx-auto max-w-[950px]",children:n.jsxs("div",{className:"grid md:grid-cols-5 gap-8",children:[n.jsx("div",{className:"md:col-span-2",children:n.jsxs("div",{className:"sticky top-24 space-y-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-primary/90 to-primary rounded-xl p-6 text-white shadow-lg",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:d==="client"?"Programa Vale Cashback":"Programa de Parceiros"}),n.jsx("p",{className:"mb-4 opacity-90",children:d==="client"?"Participe do programa Vale Cashback e receba recompensas em suas compras nos estabelecimentos parceiros.":"Aumente suas vendas oferecendo cashback aos seus clientes e atraindo novos consumidores para o seu negócio."}),n.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[n.jsx("div",{className:"p-2 bg-white/20 rounded-full",children:n.jsx(ZN,{className:"h-8 w-8 text-white"})}),n.jsx("span",{className:"font-semibold",children:"Vale Cashback"})]})]}),n.jsxs(ne,{className:"border shadow-md",children:[n.jsx(de,{className:"pb-2",children:n.jsx(ue,{className:"text-lg",children:d==="client"?"Benefícios para Clientes":"Benefícios para Parceiros"})}),n.jsx(ae,{children:n.jsx("ul",{className:"space-y-2",children:d==="client"?n.jsxs(n.Fragment,{children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-primary mt-0.5",children:"✓"}),n.jsx("span",{children:"Receba até 2% de cashback em cada compra"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-primary mt-0.5",children:"✓"}),n.jsx("span",{children:"Bônus de 1% em todas as compras de indicados"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-primary mt-0.5",children:"✓"}),n.jsx("span",{children:"Aumenta seu limite de cashback mensal"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-primary mt-0.5",children:"✓"}),n.jsx("span",{children:"Aproveite as vantagens do programa de fidelidade"})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-blue-600 mt-0.5",children:"✓"}),n.jsx("span",{children:"Aumente suas vendas com cashback"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-blue-600 mt-0.5",children:"✓"}),n.jsx("span",{children:"$25.00 de bônus para começar"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-blue-600 mt-0.5",children:"✓"}),n.jsx("span",{children:"Indique outros lojistas e seja recompensado"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("div",{className:"h-5 w-5 text-blue-600 mt-0.5",children:"✓"}),n.jsx("span",{children:"Acompanhe vendas em tempo real"})]})]})})})]})]})}),n.jsx("div",{className:"md:col-span-3",children:n.jsxs(ne,{className:"border-2 border-primary/10 shadow-lg",children:[n.jsxs(de,{className:"text-center border-b pb-6",children:[n.jsx(ue,{className:"text-2xl font-bold",children:d==="client"?"Cadastre-se usando código de indicação":"Torne-se um parceiro Vale Cashback"}),n.jsx(Re,{className:"text-lg mt-2",children:j?n.jsxs("span",{className:"flex flex-col items-center space-y-2",children:[n.jsxs("strong",{className:"text-primary font-medium",children:["Você foi convidado(a) por ",j]}),n.jsx("span",{className:"text-sm",children:d==="client"?`Código de indicação: ${f}`:`Código de parceiro: ${f}`}),n.jsx("div",{className:"w-full max-w-md h-1 bg-primary/10 rounded-full mt-2",children:n.jsx("div",{className:"h-1 bg-primary rounded-full",style:{width:"100%"}})})]}):n.jsx("span",{children:d==="client"?`Você foi convidado(a) com o código ${f}. Complete seu cadastro abaixo.`:`Você foi convidado(a) a ser parceiro com o código ${f}. Complete seu cadastro abaixo.`})})]}),n.jsxs(ae,{children:[n.jsxs("div",{className:"mb-6 flex flex-col space-y-2",children:[n.jsx("span",{className:"text-sm text-muted-foreground",children:"Selecione um tipo de conta:"}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs(J,{type:"button",variant:d==="client"?"default":"outline",className:d==="client"?"border-2 border-primary":"",onClick:()=>u("client"),children:[n.jsx(sl,{className:"mr-2 h-4 w-4"}),"Cliente"]}),n.jsxs(J,{type:"button",variant:d==="merchant"?"default":"outline",className:d==="merchant"?"border-2 border-primary":"",onClick:()=>u("merchant"),children:[n.jsx(Cr,{className:"mr-2 h-4 w-4"}),"Lojista"]})]})]}),d==="client"?n.jsx($a,{...C,children:n.jsxs("form",{onSubmit:C.handleSubmit(O),className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsx(Ie,{control:C.control,name:"name",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Nome Completo"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"Seu nome completo",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:C.control,name:"email",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Email"}),n.jsx(ke,{children:n.jsx(ge,{type:"email",placeholder:"seu.email@exemplo.com",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:C.control,name:"phone",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Telefone"}),n.jsx(ke,{children:n.jsx(ge,{placeholder:"(11) 98765-4321",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:C.control,name:"referralCode",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Código de Indicação"}),n.jsx(ke,{children:n.jsx(ge,{...R})}),n.jsx(Pt,{children:"Código de quem te convidou"}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:C.control,name:"password",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"******",...R})}),n.jsx(tt,{})]})}),n.jsx(Ie,{control:C.control,name:"confirmPassword",render:({field:R})=>n.jsxs(Pe,{children:[n.jsx(Oe,{children:"Confirmar Senha"}),n.jsx(ke,{children:n.jsx(ge,{type:"password",placeholder:"******",...R})}),n.jsx(tt,{})]})})]}),n.jsxs($s,{className:"bg-primary/5 border-primary/20",children:[n.jsx(sl,{className:"h-5 w-5 text-primary"}),n.jsx(qi,{className:"text-primary font-semibold",children:"Bônus de Indicação"}),n.jsxs(Vs,{className:"text-slate-700",children:["Ganhe ",n.jsx("span",{className:"font-medium text-primary",children:"1%"})," de bônus sobre o valor das compras realizadas por amigos que você indicar. Quanto mais indicações, maiores seus ganhos no programa de fidelidade."]})]}),n.jsx(J,{type:"submit",className:"w-full",disabled:S.isPending,children:S.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Criar Conta"})]})}):n.jsxs("form",{onSubmit:N.handleSubmit(D),className:"space-y-6",children:[n.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-name",className:"text-sm font-medium",children:"Nome do Responsável"}),n.jsx("input",{id:"merchant-name",type:"text",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Nome completo",...N.register("name")}),N.formState.errors.name&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.name.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-email",className:"text-sm font-medium",children:"Email"}),n.jsx("input",{id:"merchant-email",type:"email",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"contato@loja.com",...N.register("email")}),N.formState.errors.email&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.email.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-store-name",className:"text-sm font-medium",children:"Nome da Loja"}),n.jsx("input",{id:"merchant-store-name",type:"text",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Nome do estabelecimento",...N.register("storeName")}),N.formState.errors.storeName&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.storeName.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-store-type",className:"text-sm font-medium",children:"Tipo de Estabelecimento"}),n.jsxs("select",{id:"merchant-store-type",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...N.register("storeType"),children:[n.jsx("option",{value:"",children:"Selecione o tipo"}),I.map(R=>n.jsx("option",{value:R.value,children:R.label},R.value))]}),N.formState.errors.storeType&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.storeType.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-phone",className:"text-sm font-medium",children:"Telefone"}),n.jsx("input",{id:"merchant-phone",type:"text",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"(11) 98765-4321",...N.register("phone")}),N.formState.errors.phone&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.phone.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-password",className:"text-sm font-medium",children:"Senha"}),n.jsx("input",{id:"merchant-password",type:"password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"******",...N.register("password")}),N.formState.errors.password&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.password.message})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"merchant-confirm-password",className:"text-sm font-medium",children:"Confirmar Senha"}),n.jsx("input",{id:"merchant-confirm-password",type:"password",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"******",...N.register("confirmPassword")}),N.formState.errors.confirmPassword&&n.jsx("p",{className:"text-sm font-medium text-destructive",children:N.formState.errors.confirmPassword.message})]}),n.jsx("input",{type:"hidden",...N.register("referralCode")})]}),n.jsxs($s,{className:"bg-blue-50 border-blue-200",children:[n.jsx(Cr,{className:"h-5 w-5 text-blue-600"}),n.jsx(qi,{className:"text-blue-600 font-semibold",children:"Programa de Parceria"}),n.jsxs(Vs,{className:"text-slate-700",children:["Ao se cadastrar como parceiro, você poderá oferecer cashback aos seus clientes e aumentar suas vendas. Receba ",n.jsx("span",{className:"font-medium text-blue-600",children:"$25.00"})," de bônus para utilizar na plataforma e atraia mais clientes para seu negócio."]})]}),n.jsxs($s,{variant:"destructive",className:"bg-red-50 border-red-200",children:[n.jsx(Yr,{className:"h-5 w-5 text-red-600"}),n.jsx(qi,{className:"text-red-600 font-semibold",children:"Aprovação imediata"}),n.jsx(Vs,{className:"text-slate-700",children:"Seu cadastro será aprovado automaticamente. Você receberá um email com instruções de acesso e poderá começar a usar a plataforma imediatamente após o cadastro."})]}),n.jsx(J,{type:"submit",className:"w-full",disabled:_.isPending,children:_.isPending?n.jsxs(n.Fragment,{children:[n.jsx(Br,{className:"h-4 w-4 mr-2 animate-spin"}),"Processando..."]}):"Criar Conta de Parceiro"})]})]}),n.jsx(jr,{className:"flex justify-center border-t pt-6",children:n.jsxs("p",{className:"text-sm text-muted-foreground",children:["Já tem uma conta? ",n.jsx("a",{href:"/auth",className:"text-primary hover:underline",children:"Faça login"})]})})]})})]})})}),n.jsx("footer",{className:"border-t py-8 bg-gray-50",children:n.jsxs("div",{className:"container max-w-7xl mx-auto",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ZN,{className:"h-8 w-8 text-primary"}),n.jsx("span",{className:"font-bold text-xl",children:"Vale Cashback"})]}),n.jsx("p",{className:"text-sm text-muted-foreground max-w-xs",children:"A plataforma de cashback que conecta clientes e lojistas, oferecendo recompensas em todas as compras."})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg mb-3",children:"Programa"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("a",{href:"/auth",className:"text-muted-foreground hover:text-primary text-sm",children:"Entrar"})}),n.jsx("li",{children:n.jsx("a",{href:"/about",className:"text-muted-foreground hover:text-primary text-sm",children:"Sobre nós"})}),n.jsx("li",{children:n.jsx("a",{href:"/partners",className:"text-muted-foreground hover:text-primary text-sm",children:"Parceiros"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg mb-3",children:"Recursos"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsx("li",{children:n.jsx("a",{href:"/faq",className:"text-muted-foreground hover:text-primary text-sm",children:"FAQ"})}),n.jsx("li",{children:n.jsx("a",{href:"/terms",className:"text-muted-foreground hover:text-primary text-sm",children:"Termos de Uso"})}),n.jsx("li",{children:n.jsx("a",{href:"/privacy",className:"text-muted-foreground hover:text-primary text-sm",children:"Política de Privacidade"})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-medium text-lg mb-3",children:"Contato"}),n.jsxs("ul",{className:"space-y-2",children:[n.jsxs("li",{className:"text-muted-foreground text-sm flex items-center gap-2",children:[n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"})}),"+1 (555) 123-4567"]}),n.jsxs("li",{className:"text-muted-foreground text-sm flex items-center gap-2",children:[n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"}),n.jsx("polyline",{points:"22,6 12,13 2,6"})]}),"contato@valecashback.com"]})]})]})]}),n.jsxs("div",{className:"border-t mt-8 pt-6 flex flex-col md:flex-row justify-between items-center",children:[n.jsxs("p",{className:"text-sm text-muted-foreground mb-4 md:mb-0",children:["© ",new Date().getFullYear()," Vale Cashback. Todos os direitos reservados."]}),n.jsxs("div",{className:"flex space-x-4",children:[n.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})}),n.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:n.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[n.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}),n.jsx("path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}),n.jsx("line",{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"})]})}),n.jsx("a",{href:"#",className:"text-muted-foreground hover:text-primary",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:n.jsx("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})})]})]})]})})]})}function iBe(){return n.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:n.jsx(ne,{className:"w-full max-w-md mx-4",children:n.jsxs(ae,{className:"pt-6",children:[n.jsxs("div",{className:"flex mb-4 gap-2",children:[n.jsx(Yr,{className:"h-8 w-8 text-red-500"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),n.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const Um="/assets/vale-cashback-logo-O1FWTkKL.png";function ay(){const[e,t]=Fd(),[r,a]=E.useState(0);bs();const[s,i]=E.useState(0);E.useEffect(()=>{if(r===1){let p=setInterval(()=>{i(x=>x<15?x+1:(clearInterval(p),15))},100);return()=>clearInterval(p)}return()=>i(0)},[r]);const o=[{icon:n.jsx(Ku,{size:80,className:"text-green-500"}),title:"Sistema Completo de Cashback",description:"Uma plataforma integrada que conecta compradores e lojistas com benefícios financeiros para ambos.",visual:n.jsxs("div",{className:"w-full relative mt-6 mb-2",children:[n.jsx(Se.div,{className:"absolute z-10 top-[-10px] right-[-10px] bg-orange-400 rounded-full p-2 shadow-lg",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.4,duration:.5},children:n.jsx(ax,{className:"h-6 w-6 text-white"})}),n.jsxs(Se.div,{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl shadow-md overflow-hidden border border-green-100",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},whileHover:{boxShadow:"0 8px 30px rgba(0, 166, 0, 0.1)",y:-5,transition:{duration:.3}},children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"bg-green-500 rounded-full p-2",children:n.jsx(Mr,{className:"h-5 w-5 text-white"})}),n.jsxs("div",{className:"ml-2",children:[n.jsx("p",{className:"text-sm font-medium",children:"Compra realizada"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Loja: Café Premium"})]})]}),n.jsx(Se.p,{className:"font-bold text-green-700",initial:{scale:.9},animate:{scale:[.9,1.1,1]},transition:{delay:.6,duration:.5},children:"R$100,00"})]}),n.jsx("div",{className:"border-t border-green-100 my-3"}),n.jsxs(Se.div,{className:"flex items-center bg-green-100 rounded-lg p-2 mt-2",initial:{x:-50,opacity:0},animate:{x:0,opacity:1},transition:{delay:.3,duration:.4},children:[n.jsx(Br,{className:"h-5 w-5 text-green-500 mr-2"}),n.jsx(Se.p,{className:"text-sm text-green-700 font-semibold",initial:{opacity:1},animate:{textShadow:["0px 0px 0px rgba(0,0,0,0)","0px 0px 5px rgba(0,166,0,0.5)","0px 0px 0px rgba(0,0,0,0)"]},transition:{delay:1,duration:2,repeat:1/0,repeatDelay:2},children:"Cashback recebido: R$8,00"})]}),n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx(Se.div,{initial:{y:-20,x:30,opacity:0},animate:{y:100,opacity:[0,1,1,0],rotate:[0,30,60,90]},transition:{duration:2,delay:1,times:[0,.3,.8,1]},className:"absolute text-orange-400",children:n.jsx(q2,{size:16})}),n.jsx(Se.div,{initial:{y:-20,x:50,opacity:0},animate:{y:120,opacity:[0,1,1,0],rotate:[0,-20,-40,-60]},transition:{duration:2.2,delay:1.2,times:[0,.3,.8,1]},className:"absolute text-orange-400",children:n.jsx(q2,{size:12})})]})]})]})},{icon:n.jsx(ta,{size:80,className:"text-orange-500"}),title:"Crescimento através de Indicações",description:"Amplie sua rede e aumente sua receita convidando novos usuários para a plataforma.",visual:n.jsx("div",{className:"w-full relative mt-4 mb-2",children:n.jsxs(Se.div,{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 p-6 bg-gradient-to-br from-blue-50 via-sky-50 to-blue-50 rounded-2xl shadow-lg overflow-hidden border border-blue-100",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},whileHover:{boxShadow:"0 10px 40px rgba(59, 130, 246, 0.15)",y:-5,transition:{duration:.3}},children:[n.jsxs(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"h-full flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm p-4 rounded-2xl shadow-sm",children:[n.jsx("div",{className:"bg-blue-100 p-3 rounded-full mb-2",children:n.jsx(fa,{className:"h-6 w-6 text-blue-600"})}),n.jsxs(Se.span,{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-500 to-sky-600",animate:{scale:[1,1.08,1]},transition:{duration:1,repeat:1/0,repeatDelay:3},children:[s,"%"]}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Taxa de Comissão"})]}),n.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.5},className:"h-full flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm p-4 rounded-2xl shadow-sm",children:[n.jsx(Se.div,{animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0,repeatDelay:1},className:"bg-blue-100 p-3 rounded-full mb-2",children:n.jsx(Qt,{className:"h-6 w-6 text-blue-600"})}),n.jsx(Se.span,{className:"text-lg font-semibold",animate:{color:["#3B82F6","#0EA5E9","#3B82F6"]},transition:{duration:4,repeat:1/0},children:"52"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Novos Indicados"})]}),n.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"h-full flex flex-col items-center justify-center bg-white/80 backdrop-blur-sm p-4 rounded-2xl shadow-sm",children:[n.jsx(Se.div,{animate:{rotate:[0,5,0,-5,0]},transition:{duration:3,repeat:1/0},className:"bg-blue-100 p-3 rounded-full mb-2",children:n.jsx(Ui,{className:"h-6 w-6 text-blue-600"})}),n.jsx(Se.span,{className:"text-lg font-semibold",initial:{opacity:0},animate:{opacity:1,textShadow:["0px 0px 0px rgba(0,0,0,0)","0px 0px 5px rgba(59, 130, 246, 0.5)","0px 0px 0px rgba(0,0,0,0)"]},transition:{opacity:{duration:.6,delay:.7},textShadow:{delay:1.2,duration:2,repeat:1/0}},children:"R$ 267,40"}),n.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Comissão Total"})]}),n.jsx(Se.div,{className:"absolute right-4 bottom-4",animate:{y:[0,-10,0],opacity:[.3,.8,.3]},transition:{duration:3,repeat:1/0},children:n.jsx(al,{size:12,className:"text-amber-300"})})]})})},{icon:n.jsx(JT,{size:80,className:"text-emerald-500"}),title:"Benefícios para Todos",description:"Maximize seus retornos enquanto os clientes economizam e os lojistas aumentam suas vendas.",visual:n.jsx("div",{className:"w-full relative mt-4 mb-2",children:n.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"grid grid-cols-3 gap-2 bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-xl shadow-md border border-green-100",whileHover:{boxShadow:"0 8px 30px rgba(16, 185, 129, 0.1)",y:-5,transition:{duration:.3}},children:[n.jsxs(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.1,duration:.4},className:"flex flex-col items-center bg-white p-3 rounded-lg shadow-sm",whileHover:{y:-3,transition:{duration:.2}},children:[n.jsx(Se.div,{animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0,repeatType:"mirror"},children:n.jsx(Qt,{className:"h-8 w-8 text-orange-500 mb-2"})}),n.jsx("h3",{className:"text-xs font-bold text-gray-700",children:"Clientes"}),n.jsx("p",{className:"text-[10px] text-center text-gray-600 mt-1",children:"Economizam em cada compra"})]}),n.jsxs(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.4},className:"flex flex-col items-center bg-white p-3 rounded-lg shadow-sm",whileHover:{y:-3,transition:{duration:.2}},children:[n.jsx(Se.div,{animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0,repeatType:"mirror",delay:.3},children:n.jsx(Ku,{className:"h-8 w-8 text-green-500 mb-2"})}),n.jsx("h3",{className:"text-xs font-bold text-gray-700",children:"Lojistas"}),n.jsx("p",{className:"text-[10px] text-center text-gray-600 mt-1",children:"Aumentam vendas"})]}),n.jsxs(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.3,duration:.4},className:"flex flex-col items-center bg-white p-3 rounded-lg shadow-sm",whileHover:{y:-3,transition:{duration:.2}},children:[n.jsx(Se.div,{animate:{y:[0,-3,0]},transition:{duration:2,repeat:1/0,repeatType:"mirror",delay:.6},children:n.jsx(Ui,{className:"h-8 w-8 text-amber-500 mb-2"})}),n.jsx("h3",{className:"text-xs font-bold text-gray-700",children:"Indicadores"}),n.jsx("p",{className:"text-[10px] text-center text-gray-600 mt-1",children:"Ganham comissão"})]}),n.jsxs(Se.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},className:"col-span-3 mt-2 bg-gradient-to-r from-green-100 to-emerald-100 p-2 rounded-lg flex items-center justify-center",whileHover:{boxShadow:"0 2px 10px rgba(16, 185, 129, 0.2)",scale:1.02,transition:{duration:.2}},children:[n.jsx(Se.div,{animate:{rotate:[0,10,0,-10,0],scale:[1,1.1,1]},transition:{rotate:{duration:2,repeat:1/0},scale:{duration:3,repeat:1/0}},children:n.jsx(ax,{className:"h-4 w-4 text-emerald-500 mr-1"})}),n.jsx("p",{className:"text-xs font-medium bg-clip-text text-transparent bg-gradient-to-r from-green-600 to-emerald-500",children:"Ecossistema completo de benefícios"})]}),n.jsx(Se.div,{className:"absolute -bottom-2 -right-2 text-orange-400",animate:{rotate:[0,10,0,-10,0],scale:[1,1.1,1]},transition:{duration:5,repeat:1/0},children:n.jsx(al,{size:14})})]})})}],l=()=>{r<o.length-1?a(p=>p+1):(localStorage.setItem("has_seen_welcome","true"),t("/login"))},d=()=>{localStorage.setItem("has_seen_welcome","true"),t("/login")},u=E.useMemo(()=>Array.from({length:20}).map((p,x)=>({id:x,x:Math.random()*100,y:Math.random()*100,size:Math.random()*10+5,duration:Math.random()*10+5,delay:Math.random()*2,type:x%3})),[]),f=dhe();return E.useEffect(()=>{(async()=>{await f.start({scale:[.8,1.1,1],rotate:[0,10,0],transition:{duration:1.5}}),f.start({y:[0,-10,0],filter:["drop-shadow(0 0 0px rgba(59, 130, 246, 0))","drop-shadow(0 0 15px rgba(59, 130, 246, 0.5))","drop-shadow(0 0 0px rgba(59, 130, 246, 0))"],transition:{y:{repeat:1/0,duration:3,repeatType:"reverse"},filter:{repeat:1/0,duration:3,repeatType:"reverse"}}})})()},[f]),n.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center bg-gradient-to-br from-blue-50 via-sky-100 to-blue-200 p-2 sm:p-4 overflow-hidden",style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999},children:[n.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[n.jsx(Se.div,{initial:{opacity:0},animate:{opacity:.3,scale:[1,1.1,1]},transition:{opacity:{duration:1.5},scale:{duration:8,repeat:1/0,repeatType:"reverse"}},className:"absolute top-[-10%] right-[-5%] w-64 h-64 rounded-full bg-gradient-to-br from-blue-300 to-sky-200 blur-3xl"}),n.jsx(Se.div,{initial:{opacity:0},animate:{opacity:.3,scale:[1,1.1,1]},transition:{opacity:{duration:1.5,delay:.3},scale:{duration:10,repeat:1/0,repeatType:"reverse",delay:.5}},className:"absolute bottom-[-10%] left-[-5%] w-72 h-72 rounded-full bg-gradient-to-tr from-cyan-300 to-blue-200 blur-3xl"}),u.map(p=>n.jsx(Se.div,{initial:{x:`${p.x}vw`,y:`${p.y}vh`,opacity:0,scale:.5},animate:{y:[`${p.y}vh`,`${p.y-15}vh`,`${p.y}vh`],x:[`${p.x}vw`,`${p.x+(p.id%2===0?5:-5)}vw`,`${p.x}vw`],opacity:[.1,.7,.1],rotate:[0,180,360],scale:[.5,1,.5]},transition:{duration:p.duration,repeat:1/0,delay:p.delay,ease:"easeInOut"},className:"absolute",children:p.type===0?n.jsx(ax,{className:"text-blue-400",style:{width:p.size,height:p.size}}):p.type===1?n.jsx("div",{className:"rounded-full bg-sky-300",style:{width:p.size/2,height:p.size/2}}):n.jsx(al,{className:"text-sky-400",style:{width:p.size,height:p.size}})},p.id)),n.jsx(Se.div,{initial:{opacity:0},animate:{opacity:.2,scale:[1,1.2,1]},transition:{opacity:{duration:1.5,delay:.6},scale:{duration:12,repeat:1/0,repeatType:"reverse"}},className:"absolute top-[30%] left-[-5%] w-48 h-48 rounded-full bg-gradient-to-br from-blue-200 to-sky-100 blur-3xl"}),n.jsx("svg",{className:"absolute top-10 right-10 opacity-20 hidden sm:block",width:"150",height:"150",viewBox:"0 0 100 100",children:n.jsx(Se.path,{d:"M20,50 C20,20 80,20 80,50 C80,80 20,80 20,50 Z",fill:"none",stroke:"#2563EB",strokeWidth:"0.5",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.7,rotate:[0,360]},transition:{pathLength:{duration:2,ease:"easeInOut"},opacity:{duration:1},rotate:{duration:60,repeat:1/0,ease:"linear"}}})}),n.jsx("svg",{className:"absolute bottom-10 left-10 opacity-20 hidden sm:block",width:"120",height:"120",viewBox:"0 0 100 100",children:n.jsx(Se.path,{d:"M30,30 L70,30 L70,70 L30,70 Z",fill:"none",stroke:"#0284C7",strokeWidth:"0.5",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:.7,rotate:[0,-360]},transition:{pathLength:{duration:2,ease:"easeInOut"},opacity:{duration:1},rotate:{duration:50,repeat:1/0,ease:"linear"}}})}),n.jsx(Se.div,{initial:{y:-100,opacity:0},animate:{y:[null,0,100,200,300],opacity:[0,.7,.7,.7,0]},transition:{duration:15,repeat:1/0,repeatType:"loop"},className:"absolute left-[10%] top-[10%] w-6 h-6 text-blue-400",children:n.jsx(Hr,{size:20})}),n.jsx(Se.div,{initial:{y:-100,opacity:0},animate:{y:[null,0,100,200,300],opacity:[0,.7,.7,.7,0],x:[null,10,-10,20,-20]},transition:{duration:18,repeat:1/0,repeatType:"loop",delay:2},className:"absolute right-[20%] top-[15%] w-6 h-6 text-orange-400",children:n.jsx(q2,{size:20})}),n.jsx(Se.div,{initial:{y:-100,opacity:0},animate:{y:[null,0,100,200,300],opacity:[0,.7,.7,.7,0],x:[null,-15,15,-25,25]},transition:{duration:20,repeat:1/0,repeatType:"loop",delay:4},className:"absolute left-[30%] top-[5%] w-6 h-6 text-green-500",children:n.jsx(fa,{size:20})})]}),n.jsx(Se.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.7},className:"welcome-container w-[95%] sm:w-full max-w-md mx-auto bg-white/90 backdrop-blur-sm rounded-xl shadow-xl overflow-hidden border border-gray-100",children:n.jsxs("div",{className:"p-4 sm:p-8",children:[n.jsx(Se.div,{className:"flex justify-center mb-4 sm:mb-6",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5},children:n.jsxs(Se.div,{initial:{rotateY:0},animate:{rotateY:360},transition:{duration:1.5,delay:.5,ease:"easeInOut"},className:"flex flex-col items-center",children:[n.jsx(Se.div,{className:"flex items-center justify-center mb-2 mx-auto",whileHover:{scale:1.05,transition:{duration:.2}},initial:{y:-20,opacity:0},animate:{y:0,opacity:1,filter:["drop-shadow(0 0 0px rgba(0,0,0,0))","drop-shadow(0 0 8px rgba(0,166,0,0.5))"]},transition:{duration:.8,filter:{duration:2,repeat:1/0,repeatType:"reverse"}},children:n.jsx("img",{src:Um,alt:"Vale Cashback Logo",className:"h-20 sm:h-28 w-20 sm:w-28 object-contain"})}),n.jsx(Se.div,{className:"text-gray-600 text-sm font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2,duration:.5},children:"Sistema completo de Cashback e Indicações"})]})}),n.jsx(cg,{mode:"wait",children:n.jsxs(Se.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5,type:"spring",stiffness:150},className:"flex flex-col items-center text-center",children:[n.jsx(Se.div,{className:"p-4 sm:p-5 rounded-full bg-blue-100 mb-3 sm:mb-5 shadow-lg",initial:{scale:.5,rotate:-10},animate:{scale:1,rotate:0},transition:{duration:.4,delay:.2},children:n.jsx("div",{className:"text-blue-600",children:o[r].icon})}),n.jsx(Se.h2,{className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3 bg-clip-text text-transparent bg-gradient-to-r from-primary to-blue-700",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:.3},children:o[r].title}),n.jsx(Se.p,{className:"text-sm sm:text-base text-gray-600 mb-3 sm:mb-5",initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.4,delay:.4},children:o[r].description}),o[r].visual]},r)}),n.jsx("div",{className:"flex justify-center space-x-3 my-4 sm:my-6",children:o.map((p,x)=>n.jsx(Se.div,{className:`h-2 sm:h-2.5 rounded-full transition-all duration-300 ease-in-out ${x===r?"bg-blue-500 w-5 sm:w-6":"bg-gray-200 w-2 sm:w-2.5"}`,initial:{opacity:.4},animate:{opacity:1},transition:{delay:x*.1}},x))}),n.jsx(Se.div,{className:"flex flex-col sm:flex-row sm:justify-between gap-3 sm:gap-0",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.4},children:r<o.length-1?n.jsxs(n.Fragment,{children:[n.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"order-2 sm:order-1 w-full sm:w-auto",children:n.jsx(J,{variant:"ghost",onClick:d,className:"w-full sm:w-auto text-blue-500 hover:bg-blue-50/50 hover:text-blue-600 transition-all duration-300",children:"Pular Introdução"})}),n.jsx(Se.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"order-1 sm:order-2 w-full sm:w-auto",children:n.jsxs(J,{onClick:l,className:"w-full sm:w-auto bg-gradient-to-r from-blue-500 to-sky-500 hover:from-blue-600 hover:to-sky-600 shadow-md hover:shadow-lg transition-all duration-300 text-white",children:["Próximo",n.jsx(Se.div,{animate:{x:[0,3,0]},transition:{repeat:1/0,repeatType:"reverse",duration:1,repeatDelay:1},className:"inline-flex",children:n.jsx(_o,{className:"ml-1.5 h-4 w-4"})})]})})]}):n.jsx(Se.div,{whileHover:{scale:1.03},whileTap:{scale:.97},className:"w-full",children:n.jsxs(J,{onClick:()=>{localStorage.setItem("has_seen_welcome","true"),window.location.href="/login"},className:"w-full bg-gradient-to-r from-blue-600 to-sky-500 hover:from-blue-700 hover:to-sky-600 shadow-md hover:shadow-lg transition-all duration-300 text-white h-10 sm:h-auto py-2 px-4",children:[n.jsx("span",{className:"mr-2",children:"Acessar o Sistema"}),n.jsx(Se.div,{animate:{rotate:[0,10,0,-10,0],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},className:"inline-flex",children:n.jsx(ax,{className:"h-4 w-4"})})]})})})]})})]})}function oBe(){const[e,t]=E.useState(0),[r,a]=E.useState(!1),[s,i]=E.useState(!0);E.useEffect(()=>{const u=setTimeout(()=>{a(!0)},500);return()=>clearTimeout(u)},[]),E.useEffect(()=>{const u=setTimeout(()=>{i(!1)},5e3);return()=>clearTimeout(u)},[]),E.useEffect(()=>{localStorage.getItem("has_seen_welcome")==="true"&&(window.location.href="/login")},[]);const o=()=>{e<d.length-1&&t(u=>u+1)},l=()=>{localStorage.setItem("has_seen_welcome","true"),window.location.href="/login"},d=[{icon:n.jsx(Ku,{size:36,className:"text-white"}),title:"Bem-vindo ao Vale Cashback",description:"Sua plataforma completa para lojistas e clientes ganharem com cashback em cada compra."},{icon:n.jsx(ta,{size:36,className:"text-white"}),title:"Cashback para todos",description:"Lojistas aumentam vendas, clientes ganham dinheiro de volta em todas as compras."},{icon:n.jsx(Cte,{size:36,className:"text-white"}),title:"Indique e Ganhe",description:"Convide amigos para o Vale Cashback e receba bônus por cada novo cadastro realizado."},{icon:n.jsx(Hr,{size:36,className:"text-white"}),title:"Fácil e Instantâneo",description:"Sistema intuitivo onde você acumula cashback e pode usar em novas compras imediatamente."},{icon:n.jsx(Oi,{size:36,className:"text-white"}),title:"Comece Agora",description:"Cadastre-se gratuitamente e comece a ganhar ou vender com cashback hoje mesmo!"}];return n.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 animated-gradient-bg"}),n.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxkZWZzPjxwYXR0ZXJuIGlkPSJwYXR0ZXJuIiB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHBhdHRlcm5Vbml0cz0idXNlclNwYWNlT25Vc2UiIHBhdHRlcm5UcmFuc2Zvcm09InJvdGF0ZSgxMzUpIj48cGF0aCBkPSJNMCAwIGwxIDAgbDAgMSBsLTEgMCBsMCAtMSIgc3Ryb2tlPSJyZ2JhKDI1NSwgMjU1LCAyNTUsIDAuMSkiIHN0cm9rZS13aWR0aD0iMC41IiBmaWxsPSJub25lIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm4pIi8+PC9zdmc+')] opacity-20"}),n.jsx("div",{className:"absolute top-0 left-0 w-64 h-64 rounded-full bg-blue-300 filter blur-3xl opacity-20"}),n.jsx("div",{className:"absolute bottom-0 right-0 w-80 h-80 rounded-full bg-purple-300 filter blur-3xl opacity-20"}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 rounded-full bg-sky-300 filter blur-3xl opacity-10"}),Array.from({length:8}).map((u,f)=>n.jsx(Se.div,{className:"absolute z-0 rounded-full bg-white",style:{width:Math.random()*8+2+"px",height:Math.random()*8+2+"px",left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},animate:{y:[0,Math.random()*200-100],x:[0,Math.random()*200-100],opacity:[.2,.8,.2],scale:[1,Math.random()*1.5+.5,1]},transition:{duration:Math.random()*10+10,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}},`particle-${f}`)),n.jsx(Se.div,{className:"absolute left-[15%] top-[20%] text-white/30 hidden sm:block",initial:{scale:0,opacity:0},animate:{scale:[.7,1,.7],opacity:[.2,.4,.2],rotate:[0,10,-10,0]},transition:{duration:8,repeat:1/0,repeatType:"reverse"},children:n.jsx(Mr,{size:40})}),n.jsx(Se.div,{className:"absolute right-[20%] top-[70%] text-white/30 hidden sm:block",initial:{scale:0,opacity:0},animate:{scale:[.7,1,.7],opacity:[.2,.4,.2],rotate:[0,-10,10,0]},transition:{duration:10,repeat:1/0,repeatType:"reverse",delay:1},children:n.jsx(Hr,{size:40})}),n.jsx("div",{className:"wave-bg absolute bottom-0 left-0 w-full"}),n.jsx("div",{className:"wave-bg wave-2 absolute bottom-0 left-0 w-full"}),n.jsx(cg,{children:s&&n.jsx(Se.div,{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 text-white/70",initial:{opacity:0,y:-10},animate:{opacity:1,y:[0,10,0]},exit:{opacity:0},transition:{duration:2,repeat:1/0,repeatType:"loop"},children:n.jsx(VF,{size:28})})}),n.jsx("div",{className:"relative min-h-screen flex items-center justify-center px-4 py-8 overflow-hidden",children:n.jsxs(Se.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},className:"w-full max-w-md mx-auto",children:[n.jsx(Se.div,{className:"flex justify-center mb-8 sm:mb-10",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,type:"spring",stiffness:100},children:n.jsxs("div",{className:"relative glow-effect rounded-full",children:[n.jsx(Se.img,{src:Um,alt:"Vale Cashback",className:"h-24 sm:h-28 object-contain relative z-10 drop-shadow-xl hidden sm:block",animate:{rotate:[0,-2,2,-2,0],scale:[1,1.02,.98,1.02,1]},transition:{duration:5,repeat:1/0,repeatType:"loop",ease:"easeInOut"}}),n.jsx(Se.img,{src:Um,alt:"Vale Cashback",className:"h-20 object-contain relative z-10 drop-shadow-xl sm:hidden",animate:{rotate:[0,-2,2,-2,0],scale:[1,1.02,.98,1.02,1]},transition:{duration:5,repeat:1/0,repeatType:"loop",ease:"easeInOut"}})]})}),n.jsx(Se.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"bg-white/10 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/20 overflow-hidden",children:n.jsx("div",{className:"p-6 sm:p-8",children:n.jsxs("div",{className:"relative min-h-[280px] sm:min-h-[250px] flex flex-col justify-between",children:[n.jsx(cg,{mode:"wait",children:n.jsxs(Se.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.4},className:"text-center mb-6",children:[n.jsx(Se.div,{className:"inline-flex items-center justify-center w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-blue-500/80 mb-4 sm:mb-5 shadow-lg backdrop-blur card-glow",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4,delay:.1},children:n.jsx(Se.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:d[e].icon})}),n.jsx(Se.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"text-xl sm:text-2xl font-bold mb-2 sm:mb-3 text-white",children:d[e].title}),n.jsx(Se.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-sm sm:text-base text-white/80 max-w-xs mx-auto",children:d[e].description})]},e)}),n.jsx("div",{className:"flex justify-center space-x-2 sm:space-x-3 mb-6",children:d.map((u,f)=>n.jsx(Se.div,{className:`h-1.5 sm:h-2 rounded-full transition-all duration-300 ${f===e?"bg-white w-6 sm:w-8":"bg-white/30 w-2 sm:w-3"}`,initial:{opacity:.4,scale:.8},animate:{opacity:f===e?1:.4,scale:f===e?1:.8},transition:{delay:f*.1}},f))}),n.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-3 sm:gap-0",children:e<d.length-1?n.jsxs(n.Fragment,{children:[n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"order-2 sm:order-1 w-full sm:w-auto",children:n.jsx(J,{variant:"ghost",onClick:l,className:"w-full sm:w-auto text-white/80 hover:text-white hover:bg-white/10",children:"Pular Introdução"})}),n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"order-1 sm:order-2 w-full sm:w-auto",whileHover:{scale:1.03},whileTap:{scale:.97},children:n.jsxs(J,{onClick:o,className:"w-full sm:w-auto bg-white text-blue-600 hover:bg-white/90 group",children:["Próximo",n.jsx(Se.div,{animate:{x:[0,4,0]},transition:{duration:1.5,repeat:1/0,repeatType:"loop",ease:"easeInOut"},className:"ml-1",children:n.jsx(_o,{size:18,className:"group-hover:translate-x-1 transition-transform"})})]})})]}):n.jsx(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"w-full",whileHover:{scale:1.03},whileTap:{scale:.97},children:n.jsxs(J,{onClick:()=>{localStorage.setItem("has_seen_welcome","true"),window.location.href="/login"},className:"w-full bg-white text-blue-600 hover:bg-white/90 relative button-highlight overflow-hidden h-11",children:[n.jsx("span",{className:"mr-2 relative z-10",children:"Acessar o Sistema"}),n.jsx(Se.div,{className:"relative z-10",animate:{rotate:[0,10,-10,0],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:n.jsx(ax,{size:18})})]})})})]})})}),n.jsxs(Se.div,{initial:{opacity:0},animate:{opacity:.7},transition:{delay:1.5},className:"text-center mt-6 text-white/60 text-xs",children:["© ",new Date().getFullYear()," Vale Cashback. Todos os direitos reservados."]})]})})]})}function u6(){const e=()=>{window.location.href="/auth/register"},t=()=>{window.location.href="/auth/login"};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#f8fffe] to-[#e8f5e8] flex flex-col items-center justify-center p-4",children:[n.jsx(Se.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"mb-8",children:n.jsx("img",{src:Um,alt:"Vale Cashback Logo",className:"h-24 w-24 object-contain"})}),n.jsx(Se.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-4xl md:text-5xl font-bold text-center mb-4 text-gray-800",children:"Bem-vindo ao Vale Cashback"}),n.jsx(Se.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.8,delay:.4},className:"bg-gradient-to-r from-[#3db54e] to-[#f58220] p-8 rounded-3xl shadow-2xl mb-8 text-center max-w-md w-full",children:n.jsxs("div",{className:"bg-white rounded-2xl p-6",children:[n.jsx(Ui,{className:"w-16 h-16 text-[#f58220] mx-auto mb-4"}),n.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"🎁 GANHE $10 GRÁTIS! 🎁"}),n.jsxs("p",{className:"text-lg text-gray-600 mb-4",children:["Cadastre-se agora e receba ",n.jsx("strong",{className:"text-[#3db54e]",children:"$10 automaticamente"})," no seu saldo para usar em compras!"]}),n.jsxs("div",{className:"flex items-center justify-center bg-gradient-to-r from-[#3db54e] to-[#f58220] text-white px-6 py-3 rounded-full text-2xl font-bold",children:[n.jsx(Hr,{className:"w-6 h-6 mr-2"}),"10,00"]})]})}),n.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8 max-w-4xl w-full",children:[n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg text-center",children:[n.jsx(al,{className:"w-12 h-12 text-[#f58220] mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Cashback de 2%"}),n.jsx("p",{className:"text-gray-600",children:"Ganhe 2% de volta em todas as suas compras"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg text-center",children:[n.jsx(Qt,{className:"w-12 h-12 text-[#3db54e] mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Bônus de Indicação"}),n.jsx("p",{className:"text-gray-600",children:"Ganhe 1% extra quando indicar amigos"})]}),n.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg text-center",children:[n.jsx(Hr,{className:"w-12 h-12 text-[#f58220] mx-auto mb-4"}),n.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Saque Rápido para Lojistas"}),n.jsx("p",{className:"text-gray-600",children:"Lojistas podem transferir suas vendas quando quiserem"})]})]}),n.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"flex flex-col sm:flex-row gap-4 w-full max-w-md",children:[n.jsxs(J,{onClick:e,className:"flex-1 bg-gradient-to-r from-[#3db54e] to-[#f58220] hover:opacity-90 text-white font-bold py-4 px-8 rounded-2xl text-lg transition-all duration-300 transform hover:scale-105",children:["Cadastrar e Ganhar $10",n.jsx(fte,{className:"w-5 h-5 ml-2"})]}),n.jsx(J,{onClick:t,variant:"outline",className:"flex-1 border-2 border-[#3db54e] text-[#3db54e] hover:bg-[#3db54e] hover:text-white font-bold py-4 px-8 rounded-2xl text-lg transition-all duration-300",children:"Já tenho conta"})]}),n.jsx(Se.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1},className:"text-center text-gray-600 mt-8 max-w-2xl",children:"Junte-se a milhares de pessoas que já estão economizando e ganhando dinheiro com o Vale Cashback!"}),n.jsx(Se.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:1.2},className:"text-center mt-8 text-sm text-gray-500",children:n.jsxs("p",{children:["Desenvolvido por"," ",n.jsx("a",{href:"https://alexdesenvolvedor.com.br",target:"_blank",rel:"noopener noreferrer",className:"text-[#3db54e] hover:text-[#f58220] font-semibold transition-colors duration-300",children:"Alex Developer"})]})})]})}const lBe=`
@keyframes float {
  0% { transform: translateY(0px); }
  50% { transform: translateY(-10px); }
  100% { transform: translateY(0px); }
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.05); }
  100% { transform: scale(1); }
}

@keyframes shine {
  0% { background-position: -100% 0; }
  100% { background-position: 200% 0; }
}

.floating {
  animation: float 6s ease-in-out infinite;
}

.pulse {
  animation: pulse 3s ease-in-out infinite;
}

.card-hover {
  transition: all 0.3s ease;
}

.card-hover:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

.icon-container {
  position: relative;
  overflow: hidden;
}

.icon-container::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: rotate(30deg);
  animation: shine 3s infinite linear;
  pointer-events: none;
}

.gradient-text {
  background: linear-gradient(90deg, #3db54e, #f58220);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  display: inline-block;
}

.primary-button {
  background: linear-gradient(90deg, #3db54e, #3db54e);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.primary-button:hover {
  background: linear-gradient(90deg, #3db54e, #33a043);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(61, 181, 78, 0.4);
}

.secondary-button {
  background: linear-gradient(90deg, #f58220, #f58220);
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.secondary-button:hover {
  background: linear-gradient(90deg, #f58220, #e67300);
  transform: translateY(-2px);
  box-shadow: 0 5px 15px rgba(245, 130, 32, 0.4);
}

.pagination-dot {
  transition: all 0.3s ease;
}

.pagination-dot.active {
  background: linear-gradient(90deg, #3db54e, #f58220);
  width: 30px;
}

/* Adiciona sombra suave nos cards */
.feature-card {
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  transition: all 0.3s ease;
}

.feature-card:hover {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
}

/* Estilo do indicador de progresso */
.progress-bar {
  height: 4px;
  background: #e0e0e0;
  border-radius: 4px;
  overflow: hidden;
  margin: 20px 0;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #3db54e, #f58220);
  transition: width 0.5s ease;
}
`;function fx(){const[e,t]=E.useState(0),[r,a]=E.useState(!1);E.useEffect(()=>{localStorage.getItem("has_seen_welcome")?window.location.href="/auth/login":a(!0)},[]);const s=()=>{localStorage.setItem("has_seen_welcome","true"),window.location.href="/auth/login"},i=[{title:"Bem-vindo ao Vale Cashback",subtitle:"🎁 GANHE $10 GRÁTIS AO SE CADASTRAR! 🎁",description:"Cadastre-se agora e receba $10 automaticamente no seu saldo! Mais cashback de 2% em todas as compras.",mainIcon:n.jsx(ta,{className:"w-24 h-24 text-[#3db54e]"}),features:[{icon:n.jsx(Ui,{className:"w-8 h-8 text-[#f58220]"}),title:"💰 BÔNUS DE $10 GRÁTIS!",description:"Receba $10 automaticamente no seu saldo assim que finalizar seu cadastro!"},{icon:n.jsx(Ui,{className:"w-6 h-6 text-[#f58220]"}),title:"Programa de Referência",description:"Indique amigos e ganhe bônus em cada compra que eles fizerem."},{icon:n.jsx(Mr,{className:"w-6 h-6 text-[#3db54e]"}),title:"Pagamentos Simplificados",description:"Realize pagamentos rápidos e seguros através de QR Code."}]},{title:"Benefícios para Clientes",subtitle:"Economize e ganhe em cada transação",description:"Transforme suas compras do dia a dia em economia real e oportunidades de crescimento.",mainIcon:n.jsx(gS,{className:"w-24 h-24 text-[#f58220]"}),features:[{icon:n.jsx(Ui,{className:"w-6 h-6 text-[#f58220]"}),title:"🎁 Bônus de $10 Grátis",description:"Ganhe $10 automaticamente ao se cadastrar para usar em suas primeiras compras!"},{icon:n.jsx(al,{className:"w-6 h-6 text-[#f58220]"}),title:"Cashback Garantido",description:"Ganhe dinheiro de volta em todas as suas compras nas lojas parceiras."},{icon:n.jsx(Qt,{className:"w-6 h-6 text-[#3db54e]"}),title:"Bônus por Indicação",description:"Ganhe 1% adicional nas compras dos amigos que você indicar."},{icon:n.jsx(Yu,{className:"w-6 h-6 text-[#f58220]"}),title:"Transferências Rápidas",description:"Transfira seu cashback para sua conta bancária quando quiser."}]},{title:"Vantagens para Lojistas",subtitle:"Aumente suas vendas e fidelize clientes",description:"Atraia mais clientes, aumente seu faturamento e construa relacionamentos duradouros.",mainIcon:n.jsx(pd,{className:"w-24 h-24 text-[#3db54e]"}),features:[{icon:n.jsx(fa,{className:"w-6 h-6 text-[#3db54e]"}),title:"Comissões Competitivas",description:"Taxas justas e transparentes para cada transação realizada."},{icon:n.jsx(bo,{className:"w-6 h-6 text-[#f58220]"}),title:"App Responsivo",description:"Gerencie seu negócio de qualquer lugar através do seu celular."},{icon:n.jsx(cc,{className:"w-6 h-6 text-[#3db54e]"}),title:"Relatórios Detalhados",description:"Acompanhe vendas, clientes e tendências com análises avançadas."}]},{title:"Comece Agora",subtitle:"Tudo pronto para você aproveitar",description:"Junte-se aos milhares de usuários que já estão economizando e crescendo com o Vale Cashback.",mainIcon:n.jsx(mk,{className:"w-24 h-24 text-[#f58220]"}),features:[{icon:n.jsx(cc,{className:"w-6 h-6 text-[#3db54e]"}),title:"Cadastro Rápido",description:"Crie sua conta em menos de 2 minutos e comece a usar."},{icon:n.jsx(ki,{className:"w-6 h-6 text-[#f58220]"}),title:"Notificações Automáticas",description:"Receba alertas sobre cashback e novas oportunidades."},{icon:n.jsx(Qt,{className:"w-6 h-6 text-[#3db54e]"}),title:"Suporte Personalizado",description:"Nossa equipe está sempre disponível para ajudar você."}]}],o=()=>{e<i.length-1?t(e+1):s()},l=()=>{e>0&&t(e-1)},d=(e+1)/i.length*100,u={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.2}}},f={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};return r?n.jsxs("div",{className:"min-h-screen flex flex-col bg-white text-gray-800",children:[n.jsx("style",{children:lBe}),n.jsxs("div",{className:"flex-1 flex flex-col p-6 max-w-6xl mx-auto w-full",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx(Se.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.6},className:"floating",children:n.jsx("img",{src:Um,alt:"Vale Cashback Logo",className:"h-20 md:h-24 w-20 md:w-24 object-contain"})})}),n.jsx("div",{className:"progress-bar",children:n.jsx(Se.div,{className:"progress-fill",initial:{width:"0%"},animate:{width:`${d}%`},transition:{duration:.5}})}),n.jsx("div",{className:"flex-1 flex flex-col items-center justify-center py-6",children:n.jsx(cg,{mode:"wait",children:n.jsxs(Se.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"w-full max-w-4xl mx-auto",children:[n.jsx(Se.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.5},className:"flex justify-center mb-6",children:n.jsx("div",{className:"p-6 rounded-full bg-gray-50 shadow-md icon-container",children:i[e].mainIcon})}),n.jsxs(Se.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.5},className:"text-center mb-8",children:[n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-3 gradient-text",children:i[e].title}),n.jsx("h2",{className:"text-xl text-gray-600",children:i[e].subtitle}),n.jsx("p",{className:"mt-4 text-gray-600 max-w-2xl mx-auto",children:i[e].description})]}),n.jsx(Se.div,{variants:u,initial:"hidden",animate:"show",className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-10",children:i[e].features.map((p,x)=>n.jsxs(Se.div,{variants:f,className:"feature-card card-hover bg-white rounded-xl p-6 flex flex-col items-center text-center",style:{border:x%2===0?"1px solid rgba(61, 181, 78, 0.2)":"1px solid rgba(245, 130, 32, 0.2)"},children:[n.jsx("div",{className:"mb-4 p-3 rounded-full",style:{background:x%2===0?"rgba(61, 181, 78, 0.1)":"rgba(245, 130, 32, 0.1)"},children:p.icon}),n.jsx("h3",{className:"font-bold text-lg mb-2",children:p.title}),n.jsx("p",{className:"text-gray-600 text-sm",children:p.description})]},x))}),n.jsx("div",{className:"flex justify-center gap-2 mb-8",children:i.map((p,x)=>n.jsx("button",{onClick:()=>t(x),className:`pagination-dot h-2 rounded-full ${x===e?"active":"bg-gray-300 w-10"}`,"aria-label":`Ir para slide ${x+1}`},x))})]},e)})}),n.jsx("div",{className:"flex flex-col gap-4 max-w-md mx-auto w-full",children:e<i.length-1?n.jsxs(n.Fragment,{children:[n.jsxs(J,{onClick:o,className:"primary-button py-6 rounded-xl text-white text-lg font-medium",children:["Próximo ",n.jsx(_o,{className:"ml-2 w-5 h-5"})]}),n.jsx(J,{variant:"outline",onClick:s,className:"py-4 rounded-xl border-gray-300 font-medium",children:"Pular Introdução"})]}):n.jsxs(n.Fragment,{children:[n.jsxs(J,{onClick:s,className:"secondary-button py-6 rounded-xl text-white text-lg font-medium",children:["Começar Agora ",n.jsx(mk,{className:"ml-2 w-5 h-5"})]}),n.jsxs(J,{variant:"outline",onClick:l,className:"py-4 rounded-xl border-gray-300 font-medium",children:[n.jsx(XT,{className:"mr-2 w-5 h-5"})," Voltar"]})]})})]})]}):n.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:n.jsx("div",{className:"pulse",children:n.jsx("img",{src:Um,alt:"Vale Cashback Logo",className:"h-24 w-24 object-contain"})})})}function cBe(){const e=window.location.pathname;return console.log("Rota atual detectada:",e),e==="/welcome-simple"?(console.log("Renderizando página simple"),n.jsx(u6,{})):e==="/welcome-new"?(console.log("Renderizando página new"),n.jsx(oBe,{})):e==="/welcome-static"||e==="/welcome"?(console.log("Renderizando página static"),n.jsx(ay,{})):e==="/"?(console.log("Renderizando página de boas-vindas aprimorada na raiz"),n.jsx(fx,{})):e==="/welcome-force"?(localStorage.removeItem("has_seen_welcome"),console.log("Forçando visualização da nova página de boas-vindas"),n.jsx(fx,{})):n.jsxs(LJ,{children:[n.jsx(Ur,{path:"/welcome-simple",component:u6}),n.jsx(Ur,{path:"/welcome-enhanced",component:fx}),n.jsx(Ur,{path:"/",component:fx}),n.jsx(Ur,{path:"/auth/login",component:NN}),n.jsx(Ur,{path:"/auth/register",component:IM}),n.jsx(Ur,{path:"/auth",component:NN}),n.jsx(Ur,{path:"/login",component:NN}),n.jsx(Ur,{path:"/register",component:IM}),n.jsx(Ur,{path:"/welcome",component:ay}),n.jsx(Ur,{path:"/welcome-static",component:ay}),n.jsx(Ur,{path:"/welcome-force",component:ay}),n.jsx(Ur,{path:"/auth/forgot-password",component:MM}),n.jsx(Ur,{path:"/forgot-password",component:MM}),n.jsx(Ur,{path:"/downloads",component:Hpe}),n.jsx(sae,{path:"/",component:()=>n.jsx("div",{children:"Redirecionando..."})}),n.jsx(Ur,{path:"/convite/:code",component:t=>n.jsx(Mc,{...t})}),n.jsx(Ur,{path:"/parceiro/:code",component:t=>n.jsx(Mc,{...t})}),n.jsx(Ur,{path:"/como/te/:code",component:t=>n.jsx(Mc,{...t})}),n.jsx(Ur,{path:"/invite",component:t=>n.jsx(Mc,{...t})}),n.jsx(Ur,{path:"/convite",component:t=>n.jsx(Mc,{...t})}),n.jsx(Ur,{path:"/convite/cliente",component:t=>n.jsx(Mc,{...t,defaultType:"client"})}),n.jsx(Ur,{path:"/convite/lojista",component:t=>n.jsx(Mc,{...t,defaultType:"merchant"})}),n.jsx(Ur,{path:"/:anypath/:anysubpath/:code",component:t=>n.jsx(Mc,{...t})}),n.jsx(Bt,{path:"/client",component:LD,userType:"client",title:"Dashboard"}),n.jsx(Bt,{path:"/client/dashboard",component:LD,userType:"client",title:"Dashboard"}),n.jsx(Bt,{path:"/client/transactions",component:K6e,userType:"client",title:"Transações"}),n.jsx(Bt,{path:"/client/transfers",component:Y6e,userType:"client",title:"Transferências"}),n.jsx(Bt,{path:"/client/qr-code",component:RLe,userType:"client",title:"QR Code"}),n.jsx(Bt,{path:"/client/scanner",component:HLe,userType:"client",title:"Pagar com QR Code"}),n.jsx(Bt,{path:"/client/referrals",component:DLe,userType:"client",title:"Indicações"}),n.jsx(Bt,{path:"/client/profile",component:zLe,userType:"client",title:"Meu Perfil"}),n.jsx(Bt,{path:"/client/stores",component:ULe,userType:"client",title:"Lojas"}),n.jsx(Bt,{path:"/client/cashbacks",component:jfe,userType:"client",title:"Cashback"}),n.jsx(Bt,{path:"/client/financial-dashboard",component:Cfe,userType:"client",title:"Dashboard Financeiro"}),n.jsx(Bt,{path:"/merchant",component:JD,userType:"merchant",title:"Dashboard"}),n.jsx(Bt,{path:"/merchant/dashboard",component:JD,userType:"merchant",title:"Dashboard"}),n.jsx(Bt,{path:"/merchant/sales",component:QLe,userType:"merchant",title:"Vendas"}),n.jsx(Bt,{path:"/merchant/products",component:ZLe,userType:"merchant",title:"Produtos"}),n.jsx(Bt,{path:"/merchant/scanner",component:a7e,userType:"merchant",title:"Scanner"}),n.jsx(Bt,{path:"/merchant/payment-qr",component:S9e,userType:"merchant",title:"Gerar QR Code"}),n.jsx(Bt,{path:"/merchant/payment/:id",component:Q.lazy(()=>VO(()=>import("./payment-D8ybZFm3.js"),[])),userType:"merchant",title:"Detalhes do Pagamento"}),n.jsx(Bt,{path:"/merchant/payment",component:Q.lazy(()=>VO(()=>import("./payment-D8ybZFm3.js"),[])),userType:"merchant",title:"Detalhes do Pagamento"}),n.jsx(Bt,{path:"/merchant/customers",component:s7e,userType:"merchant",title:"Clientes"}),n.jsx(Bt,{path:"/merchant/profile",component:c7e,userType:"merchant",title:"Meu Perfil"}),n.jsx(Bt,{path:"/merchant/transactions",component:UFe,userType:"merchant",title:"Transações"}),n.jsx(Bt,{path:"/merchant/transaction-management",component:HFe,userType:"merchant",title:"Gestão de Transações"}),n.jsx(Bt,{path:"/merchant/reports",component:GFe,userType:"merchant",title:"Relatórios"}),n.jsx(Bt,{path:"/merchant/settings",component:ZFe,userType:"merchant",title:"Configurações"}),n.jsx(Bt,{path:"/merchant/support",component:j9e,userType:"merchant",title:"Suporte"}),n.jsx(Bt,{path:"/merchant/referrals",component:C9e,userType:"merchant",title:"Indicações"}),n.jsx(Bt,{path:"/merchant/stores",component:A9e,userType:"merchant",title:"Minhas Lojas"}),n.jsx(Bt,{path:"/merchant/withdrawals-new",component:c6,userType:"merchant",title:"Solicitar Saque"}),n.jsx(Bt,{path:"/merchant/withdrawals",component:c6,userType:"merchant",title:"Solicitar Saque"}),n.jsx(Bt,{path:"/merchant/salaries",component:O9e,userType:"merchant",title:"Comissões e Taxas"}),n.jsx(Bt,{path:"/merchant/qr-payment-system",component:Rfe,userType:"merchant",title:"Sistema de Pagamento QR"}),n.jsx(Bt,{path:"/admin",component:d6,userType:"admin",title:"Dashboard"}),n.jsx(Bt,{path:"/admin/dashboard",component:d6,userType:"admin",title:"Dashboard"}),n.jsx(Bt,{path:"/admin/users",component:L9e,userType:"admin",title:"Usuários"}),n.jsx(Bt,{path:"/admin/users-complex",component:D9e,userType:"admin",title:"Usuários Completo"}),n.jsx(Bt,{path:"/admin/customers",component:J9e,userType:"admin",title:"Clientes"}),n.jsx(Bt,{path:"/admin/merchants",component:tBe,userType:"admin",title:"Lojistas"}),n.jsx(Bt,{path:"/admin/stores",component:F9e,userType:"admin",title:"Lojas"}),n.jsx(Bt,{path:"/admin/transactions",component:B9e,userType:"admin",title:"Transações"}),n.jsx(Bt,{path:"/admin/transfers",component:z9e,userType:"admin",title:"Transferências"}),n.jsx(Bt,{path:"/admin/withdrawals",component:W9e,userType:"admin",title:"Solicitações de Saque"}),n.jsx(Bt,{path:"/admin/reports",component:nBe,userType:"admin",title:"Relatórios"}),n.jsx(Bt,{path:"/admin/settings",component:Y9e,userType:"admin",title:"Configurações"}),n.jsx(Bt,{path:"/admin/brand-settings",component:rBe,userType:"admin",title:"Configurações de Marca"}),n.jsx(Bt,{path:"/admin/logs",component:X9e,userType:"admin",title:"Logs e Auditoria"}),n.jsx(Bt,{path:"/admin/support",component:Q9e,userType:"admin",title:"Suporte"}),n.jsx(Bt,{path:"/admin/profile",component:Z9e,userType:"admin",title:"Meu Perfil"}),n.jsx(Bt,{path:"/admin/complete-panel",component:Dfe,userType:"admin",title:"Painel Completo"}),n.jsx(Ur,{component:iBe})]})}function dBe(){const[e,t]=E.useState(!0),[r,a]=E.useState(!0);E.useEffect(()=>{try{console.log("Carregando dados do usuário..."),console.log("Exibindo splash screen");const d=window.location.pathname;if(d.startsWith("/invite")||d.startsWith("/convite")||d.startsWith("/parceiro")||d.startsWith("/como/te")||d==="/convite/cliente"||d==="/convite/lojista"||d==="/welcome"||d==="/welcome-static"){console.log("Página pública detectada, ignorando redirecionamento de autenticação"),a(!1);return}fetch("/api/auth/me").then(f=>{console.log("Resposta da API:",f.status),f.status===401&&console.log("Não autenticado, redirecionando para login"),a(!1)}).catch(f=>{console.error("Erro ao carregar dados:",f),a(!1)})}catch(d){console.error("Erro crítico na API:",d),a(!1)}},[]);const s=()=>{t(!1)};E.useEffect(()=>{},[]);const i=window.location.pathname,o=localStorage.getItem("has_seen_welcome"),l=i==="/"&&!o||i==="/welcome"||i==="/welcome-static"||i==="/welcome-enhanced";return n.jsx(nee,{client:Ut,children:n.jsx(qne,{attribute:"class",defaultTheme:"light",children:n.jsx(aae,{children:n.jsx(Une,{children:n.jsx(Jie,{children:n.jsxs($ne,{children:[n.jsx(pre,{}),e?n.jsx(roe,{onFinish:s,duration:3e3}):n.jsx("div",{className:"min-h-screen",children:l?n.jsx(fx,{}):n.jsxs(n.Fragment,{children:[n.jsx(cBe,{}),n.jsx(Jfe,{}),r&&n.jsx("div",{className:"fixed bottom-4 right-4 bg-red-600 text-white p-3 rounded-md z-50 shadow-lg animate-pulse max-w-xs",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Xu,{className:"h-5 w-5 mr-2"}),n.jsx("p",{children:"Verificando conexão com o servidor..."})]})})]})})]})})})})})})}typeof window<"u"&&(window.server=window.server||{},window.server.hmr=window.server.hmr||{},window.server.hmr.overlay=!1);const uBe=async()=>{if("caches"in window)try{const e=await window.caches.keys();await Promise.all(e.map(t=>window.caches.delete(t))),console.log("Cache do navegador limpo com sucesso")}catch(e){console.error("Erro ao limpar cache:",e)}};uBe().then(()=>{Ffe()});D7(document.getElementById("root")).render(n.jsxs(n.Fragment,{children:[n.jsxs(jd,{children:[n.jsx("title",{children:"Vale Cashback - Sistema de Cashback"}),n.jsx("meta",{name:"description",content:"Sistema completo para gerenciar cashback e fidelizar clientes."}),n.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"}),n.jsx("meta",{name:"theme-color",content:"#0066B3"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),n.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:""}),n.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap",rel:"stylesheet"}),n.jsx("link",{rel:"apple-touch-icon",href:"/icons/icon-192x192.png"}),n.jsx("link",{rel:"manifest",href:"/manifest.json"})]}),n.jsx(dBe,{})]}));export{hte as A,J as B,ne as C,_t as D,lt as L,Pn as Q,Br as R,Sa as S,rr as a,Fd as b,MJ as c,Nt as d,$s as e,Yr as f,qi as g,Vs as h,Jn as i,n as j,Vn as k,Ls as l,de as m,ue as n,Re as o,ae as p,Be as q,E as r,pBe as s,Xl as t,Oa as u,xt as v};
